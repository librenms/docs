{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Installing Ubuntu 18.04 + Nginx CentOS 7 + Nginx Migrating from Observium More... Setup Auto Discovery Oxidized RRDCached More... Alerting Rules Templates Transports More... API Using the API API Endpoints Support FAQ Install validation Performance tweaks More... Developing Code Guidelines Validating Code Using Git More...","title":"Home"},{"location":"API/","text":"Versioning Versioning an API is a minefield which saw us looking at numerous options on how to do this. Paul wrote an excellent blog post which touches on this: https://blog.librenms.org/2014/09/restful-apis/ We have currently settled on using versioning within the API end point itself /api/v0 . As the API itself is new and still in active development we also decided that v0 would be the best starting point to indicate it's in development. Tokens To access any of the token end points you will be required to authenticate using a token. Tokens can be created directly from within the LibreNMS web interface by going to /api-access/ . Click on 'Create API access token'. Select the user you would like to generate the token for. Enter an optional description. Click Create API Token. Endpoints Whilst this documentation will describe and show examples of the end points, we've designed the API so you should be able to traverse through it without knowing any of the available API routes. You can do this by first calling /api/v0 : curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0 Output: { list_bgp : https://librenms.org/api/v0/bgp , ... edit_rule : https://librenms.org/api/v0/rules } Input Input to the API is done in three different ways, sometimes a combination two or three of these. Passing parameters via the api route. For example when obtaining a devices details you will pass the hostname of the device in the route: /api/v0/devices/:hostname . Passing parameters via the query string. For example you can list all devices on your install but limit the output to devices that are currently down: /api/v0/devices?type=down Passing data in via JSON, this will mainly be used when adding or updating information via the API, for instance adding a new device: curl -X POST -d '{ hostname : localhost.localdomain , version : v1 , community : public }'-H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices Output Output from the API currently is via two output types: JSON Most API responses will output json. As show in the example for calling the API endpoint. PNG This is for when the request is for an image such as a graph for a switch port. Endpoint Categories Devices DeviceGroups Ports PortGroups Alerts Routing Switching Inventory Bills ARP Services Logs System","title":"Using the API"},{"location":"API/#versioning","text":"Versioning an API is a minefield which saw us looking at numerous options on how to do this. Paul wrote an excellent blog post which touches on this: https://blog.librenms.org/2014/09/restful-apis/ We have currently settled on using versioning within the API end point itself /api/v0 . As the API itself is new and still in active development we also decided that v0 would be the best starting point to indicate it's in development.","title":"Versioning"},{"location":"API/#tokens","text":"To access any of the token end points you will be required to authenticate using a token. Tokens can be created directly from within the LibreNMS web interface by going to /api-access/ . Click on 'Create API access token'. Select the user you would like to generate the token for. Enter an optional description. Click Create API Token.","title":"Tokens"},{"location":"API/#endpoints","text":"Whilst this documentation will describe and show examples of the end points, we've designed the API so you should be able to traverse through it without knowing any of the available API routes. You can do this by first calling /api/v0 : curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0 Output: { list_bgp : https://librenms.org/api/v0/bgp , ... edit_rule : https://librenms.org/api/v0/rules }","title":"Endpoints"},{"location":"API/#input","text":"Input to the API is done in three different ways, sometimes a combination two or three of these. Passing parameters via the api route. For example when obtaining a devices details you will pass the hostname of the device in the route: /api/v0/devices/:hostname . Passing parameters via the query string. For example you can list all devices on your install but limit the output to devices that are currently down: /api/v0/devices?type=down Passing data in via JSON, this will mainly be used when adding or updating information via the API, for instance adding a new device: curl -X POST -d '{ hostname : localhost.localdomain , version : v1 , community : public }'-H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices","title":"Input"},{"location":"API/#output","text":"Output from the API currently is via two output types: JSON Most API responses will output json. As show in the example for calling the API endpoint. PNG This is for when the request is for an image such as a graph for a switch port.","title":"Output"},{"location":"API/#endpoint-categories","text":"Devices DeviceGroups Ports PortGroups Alerts Routing Switching Inventory Bills ARP Services Logs System","title":"Endpoint Categories"},{"location":"API/API-Docs/","text":"","title":"API Docs"},{"location":"API/ARP/","text":"list_arp Retrieve a specific ARP entry or all ARP enties for a device Route: /api/v0/resources/ip/arp/:ip ip is the specific IP you would like to query, if this is all then you need to pass ?device= hostname (or device id) This may also be a cidr network, for example 192.168.1.0/24 Input: device if you specify all for the IP then you need to populate this with the hostname or id of the device. Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/ip/arp/1.1.1.1 curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/ip/arp/192.168.1.0/24 curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/ip/arp/all?device=localhost Output: { status : ok , message : , count : 1, arp : [ { port_id : 229 , mac_address : da160e5c2002 , ipv4_address : 1.1.1.1 , context_name : } ] }","title":"ARP"},{"location":"API/ARP/#list_arp","text":"Retrieve a specific ARP entry or all ARP enties for a device Route: /api/v0/resources/ip/arp/:ip ip is the specific IP you would like to query, if this is all then you need to pass ?device= hostname (or device id) This may also be a cidr network, for example 192.168.1.0/24 Input: device if you specify all for the IP then you need to populate this with the hostname or id of the device. Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/ip/arp/1.1.1.1 curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/ip/arp/192.168.1.0/24 curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/ip/arp/all?device=localhost Output: { status : ok , message : , count : 1, arp : [ { port_id : 229 , mac_address : da160e5c2002 , ipv4_address : 1.1.1.1 , context_name : } ] }","title":"list_arp"},{"location":"API/Alerts/","text":"get_alert Get details of an alert Route: /api/v0/alerts/:id id is the alert id, you can obtain a list of alert ids from list_alerts . Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/alerts/1 Output: { status : ok , message : , count : 7, alerts : [ { hostname : localhost , id : 1 , device_id : 1 , rule_id : 1 , state : 1 , alerted : 1 , open : 1 , timestamp : 2014-12-11 14:40:02 }, } ack_alert Acknowledge an alert Route: /api/v0/alerts/:id id is the alert id, you can obtain a list of alert ids from list_alerts . note is the note to add to the alert until_clear is a boolean and if set to false, the alert will re-alert if it worsens/betters. Input: - Example: curl -X PUT -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/alerts/1 Output: { status : ok , message : , message : Alert has been acknowledged } unmute_alert Unmute an alert Route: /api/v0/alerts/unmute/:id id is the alert id, you can obtain a list of alert ids from list_alerts . Input: - Example: curl -X PUT -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/alerts/unmute/1 Output: { status : ok , message : Alert has been unmuted } list_alerts List all alerts Route: /api/v0/alerts Input: state: Filter the alerts by state, 0 = ok, 1 = alert, 2 = ack severity: Filter the alerts by severity. Valid values are ok , warning , critical . order: How to order the output, default is by timestamp (descending). Can be appended by DESC or ASC to change the order. Examples: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/alerts?state=1 curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/alerts?severity=critical curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/alerts?order=timestamp%20ASC Output: { status : ok , message : , count : 1, alerts : [ { id : 1 , device_id : 1 , rule_id : 1 , state : 1 , alerted : 1 , open : 1 , timestamp : 2014-12-11 14:40:02 } } Rules get_alert_rule Get the alert rule details. Route: /api/v0/rules/:id id is the rule id. Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/rules/1 Output: { status : ok , message : , count : 1, rules : [ { id : 1 , device_id : 1 , rule : %devices.os != \\ Juniper\\ , severity : warning , extra : {\\ mute\\ :true,\\ count\\ :\\ 15\\ ,\\ delay\\ :null,\\ invert\\ :false} , disabled : 0 , name : A test rule } ] } delete_rule Delete an alert rule by id Route: /api/v0/rules/:id id is the rule id. Input: - Example: curl -X DELETE -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/rules/1 Output: { status : ok , message : , message : Alert rule has been removed } list_alert_rules List the alert rules. Route: /api/v0/rules - Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/rules Output: { status : ok , message : , count : 1, rules : [ { id : 1 , device_id : -1 , rule : %devices.os != \\ Juniper\\ , severity : critical , extra : {\\ mute\\ :false,\\ count\\ :\\ 15\\ ,\\ delay\\ :\\ 300\\ ,\\ invert\\ :false} , disabled : 0 , name : A test rule }, } add_rule Add a new alert rule. Route: /api/v0/rules - Input (JSON): devices: This is either an array of device ids or -1 for a global rule builder: The rule which should be in the format entity.condition value (i.e devices.status != 0 for devices marked as down). It must be json encoded in the format rules are currently stored. severity: The severity level the alert will be raised against, Ok, Warning, Critical. disabled: Whether the rule will be disabled or not, 0 = enabled, 1 = disabled count: This is how many polling runs before an alert will trigger and the frequency. delay: Delay is when to start alerting and how frequently. The value is stored in seconds but you can specify minutes, hours or days by doing 5 m, 5 h, 5 d for each one. mute: If mute is enabled then an alert will never be sent but will show up in the Web UI (true or false). invert: This would invert the rules check. name: This is the name of the rule and is mandatory. Example: curl -X POST -d '{ device_id :[1,2,3], name : testrule , builder : {\\ condition\\ :\\ AND\\ ,\\ rules\\ :[{\\ id\\ :\\ devices.hostname\\ ,\\ field\\ :\\ devices.hostname\\ ,\\ type\\ :\\ string\\ ,\\ input\\ :\\ text\\ ,\\ operator\\ :\\ equal\\ ,\\ value\\ :\\ localhost\\ }],\\ valid\\ :true} , severity : critical , count :15, delay : 5 m , mute :false}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/rules Output: rules { status : ok , message : } edit_rule Edit an existing alert rule Route: /api/v0/rules - Input (JSON): rule_id: You must specify the rule_id to edit an existing rule, if this is absent then a new rule will be created. devices: This is either an array of device ids or -1 for a global rule builder: The rule which should be in the format entity.condition value (i.e devices.status != 0 for devices marked as down). It must be json encoded in the format rules are currently stored. severity: The severity level the alert will be raised against, Ok, Warning, Critical. disabled: Whether the rule will be disabled or not, 0 = enabled, 1 = disabled count: This is how many polling runs before an alert will trigger and the frequency. delay: Delay is when to start alerting and how frequently. The value is stored in seconds but you can specify minutes, hours or days by doing 5 m, 5 h, 5 d for each one. mute: If mute is enabled then an alert will never be sent but will show up in the Web UI (true or false). invert: This would invert the rules check. name: This is the name of the rule and is mandatory. Example: curl -X PUT -d '{ rule_id :1, device_id : -1 , name : testrule , builder : {\\ condition\\ :\\ AND\\ ,\\ rules\\ :[{\\ id\\ :\\ devices.hostname\\ ,\\ field\\ :\\ devices.hostname\\ ,\\ type\\ :\\ string\\ ,\\ input\\ :\\ text\\ ,\\ operator\\ :\\ equal\\ ,\\ value\\ :\\ localhost\\ }],\\ valid\\ :true} , severity : critical , count :15, delay : 5 m , mute :false}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/rules Output: rules { status : ok , message : }","title":"Alerts"},{"location":"API/Alerts/#get_alert","text":"Get details of an alert Route: /api/v0/alerts/:id id is the alert id, you can obtain a list of alert ids from list_alerts . Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/alerts/1 Output: { status : ok , message : , count : 7, alerts : [ { hostname : localhost , id : 1 , device_id : 1 , rule_id : 1 , state : 1 , alerted : 1 , open : 1 , timestamp : 2014-12-11 14:40:02 }, }","title":"get_alert"},{"location":"API/Alerts/#ack_alert","text":"Acknowledge an alert Route: /api/v0/alerts/:id id is the alert id, you can obtain a list of alert ids from list_alerts . note is the note to add to the alert until_clear is a boolean and if set to false, the alert will re-alert if it worsens/betters. Input: - Example: curl -X PUT -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/alerts/1 Output: { status : ok , message : , message : Alert has been acknowledged }","title":"ack_alert"},{"location":"API/Alerts/#unmute_alert","text":"Unmute an alert Route: /api/v0/alerts/unmute/:id id is the alert id, you can obtain a list of alert ids from list_alerts . Input: - Example: curl -X PUT -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/alerts/unmute/1 Output: { status : ok , message : Alert has been unmuted }","title":"unmute_alert"},{"location":"API/Alerts/#list_alerts","text":"List all alerts Route: /api/v0/alerts Input: state: Filter the alerts by state, 0 = ok, 1 = alert, 2 = ack severity: Filter the alerts by severity. Valid values are ok , warning , critical . order: How to order the output, default is by timestamp (descending). Can be appended by DESC or ASC to change the order. Examples: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/alerts?state=1 curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/alerts?severity=critical curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/alerts?order=timestamp%20ASC Output: { status : ok , message : , count : 1, alerts : [ { id : 1 , device_id : 1 , rule_id : 1 , state : 1 , alerted : 1 , open : 1 , timestamp : 2014-12-11 14:40:02 } }","title":"list_alerts"},{"location":"API/Alerts/#rules","text":"","title":"Rules"},{"location":"API/Alerts/#get_alert_rule","text":"Get the alert rule details. Route: /api/v0/rules/:id id is the rule id. Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/rules/1 Output: { status : ok , message : , count : 1, rules : [ { id : 1 , device_id : 1 , rule : %devices.os != \\ Juniper\\ , severity : warning , extra : {\\ mute\\ :true,\\ count\\ :\\ 15\\ ,\\ delay\\ :null,\\ invert\\ :false} , disabled : 0 , name : A test rule } ] }","title":"get_alert_rule"},{"location":"API/Alerts/#delete_rule","text":"Delete an alert rule by id Route: /api/v0/rules/:id id is the rule id. Input: - Example: curl -X DELETE -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/rules/1 Output: { status : ok , message : , message : Alert rule has been removed }","title":"delete_rule"},{"location":"API/Alerts/#list_alert_rules","text":"List the alert rules. Route: /api/v0/rules - Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/rules Output: { status : ok , message : , count : 1, rules : [ { id : 1 , device_id : -1 , rule : %devices.os != \\ Juniper\\ , severity : critical , extra : {\\ mute\\ :false,\\ count\\ :\\ 15\\ ,\\ delay\\ :\\ 300\\ ,\\ invert\\ :false} , disabled : 0 , name : A test rule }, }","title":"list_alert_rules"},{"location":"API/Alerts/#add_rule","text":"Add a new alert rule. Route: /api/v0/rules - Input (JSON): devices: This is either an array of device ids or -1 for a global rule builder: The rule which should be in the format entity.condition value (i.e devices.status != 0 for devices marked as down). It must be json encoded in the format rules are currently stored. severity: The severity level the alert will be raised against, Ok, Warning, Critical. disabled: Whether the rule will be disabled or not, 0 = enabled, 1 = disabled count: This is how many polling runs before an alert will trigger and the frequency. delay: Delay is when to start alerting and how frequently. The value is stored in seconds but you can specify minutes, hours or days by doing 5 m, 5 h, 5 d for each one. mute: If mute is enabled then an alert will never be sent but will show up in the Web UI (true or false). invert: This would invert the rules check. name: This is the name of the rule and is mandatory. Example: curl -X POST -d '{ device_id :[1,2,3], name : testrule , builder : {\\ condition\\ :\\ AND\\ ,\\ rules\\ :[{\\ id\\ :\\ devices.hostname\\ ,\\ field\\ :\\ devices.hostname\\ ,\\ type\\ :\\ string\\ ,\\ input\\ :\\ text\\ ,\\ operator\\ :\\ equal\\ ,\\ value\\ :\\ localhost\\ }],\\ valid\\ :true} , severity : critical , count :15, delay : 5 m , mute :false}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/rules Output: rules { status : ok , message : }","title":"add_rule"},{"location":"API/Alerts/#edit_rule","text":"Edit an existing alert rule Route: /api/v0/rules - Input (JSON): rule_id: You must specify the rule_id to edit an existing rule, if this is absent then a new rule will be created. devices: This is either an array of device ids or -1 for a global rule builder: The rule which should be in the format entity.condition value (i.e devices.status != 0 for devices marked as down). It must be json encoded in the format rules are currently stored. severity: The severity level the alert will be raised against, Ok, Warning, Critical. disabled: Whether the rule will be disabled or not, 0 = enabled, 1 = disabled count: This is how many polling runs before an alert will trigger and the frequency. delay: Delay is when to start alerting and how frequently. The value is stored in seconds but you can specify minutes, hours or days by doing 5 m, 5 h, 5 d for each one. mute: If mute is enabled then an alert will never be sent but will show up in the Web UI (true or false). invert: This would invert the rules check. name: This is the name of the rule and is mandatory. Example: curl -X PUT -d '{ rule_id :1, device_id : -1 , name : testrule , builder : {\\ condition\\ :\\ AND\\ ,\\ rules\\ :[{\\ id\\ :\\ devices.hostname\\ ,\\ field\\ :\\ devices.hostname\\ ,\\ type\\ :\\ string\\ ,\\ input\\ :\\ text\\ ,\\ operator\\ :\\ equal\\ ,\\ value\\ :\\ localhost\\ }],\\ valid\\ :true} , severity : critical , count :15, delay : 5 m , mute :false}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/rules Output: rules { status : ok , message : }","title":"edit_rule"},{"location":"API/Bills/","text":"list_bills Retrieve the list of bills currently in the system. Route: /api/v0/bills /api/v0/bills?period=previous Input: Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills?period=previous Output: { status : ok , message : , count : 1, bills : [ { bill_id : 1 , bill_name : Router bills , bill_type : cdr , bill_cdr : 10000000 , bill_day : 1 , bill_quota : 0 , rate_95th_in : 0 , rate_95th_out : 0 , rate_95th : 0 , dir_95th : in , total_data : 0 , total_data_in : 0 , total_data_out : 0 , rate_average_in : 0 , rate_average_out : 0 , rate_average : 0 , bill_last_calc : 2015-07-02 17:01:26 , bill_custid : Router , bill_ref : Router , bill_notes : Bill me , bill_autoadded : 0 , ports_total : 0 , allowed : 10Mbps , used : 0bps , percent : 0, overuse : - , ports : [ { device_id : 168 , port_id : 35146 , ifName : eth0 } ] } ] } get_bill Retrieve a specific bill Route: /api/v0/bills/:id /api/v0/bills/:id?period=previous /api/v0/bills?ref=:ref /api/v0/bills?ref=:ref period=previous /api/v0/bills?custid=:custid /api/v0/bills?custid=:custid period=previous id is the specific bill id ref is the billing reference custid is the customer reference period=previous indicates you would like the data for the last complete period rather than the current period Input: Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1 curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills?ref=:customerref curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills?custid=:custid Output: { status : ok , message : , count : 1, bills : [ { bill_id : 1 , bill_name : Router bills , bill_type : cdr , bill_cdr : 10000000 , bill_day : 1 , bill_quota : 0 , rate_95th_in : 0 , rate_95th_out : 0 , rate_95th : 0 , dir_95th : in , total_data : 0 , total_data_in : 0 , total_data_out : 0 , rate_average_in : 0 , rate_average_out : 0 , rate_average : 0 , bill_last_calc : 2015-07-02 17:01:26 , bill_custid : Router , bill_ref : Router , bill_notes : Bill me , bill_autoadded : 0 , ports_total : 0 , allowed : 10Mbps , used : 0bps , percent : 0, overuse : - , ports : [ { device_id : 168 , port_id : 35146 , ifName : eth0 } ] } ] } get_bill_graph Retrieve a graph image associated with a bill. NB: The graphs returned from this will always be png as they do not come from rrdtool, even if you have SVG set. Route: `/api/v0/bills/:id/graphs/:graph_type Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/graphs/bits curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/graphs/bits?from=1517443200 curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/graphs/bits?from=1517443200 to=1517788800 curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/graphs/monthly Output: Graph Image get_bill_graphdata Retrieve the data used to draw a graph so it can be rendered in an external system Route: /api/v0/bills/:id/graphdata/:graph_type Input: The reducefactor parameter is used to reduce the number of data points. Billing data has 5 minute granularity, so requesting a graph for a long time period will result in many data points. If not supplied, it will be automatically calculated. A reducefactor of 1 means return all items, 2 means half of the items etc. Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/graphdata/bits curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/graphdata/bits?from=1517443200 curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/graphdata/bits?from=1517443200 to=1517788800 curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/graphdata/bits?from=1517443200 to=1517788800 reducefactor=5 Output: { \"status\": \"ok\", \"graph_data\": { \"from\": \"1517443200\", \"to\": 1518196161, \"last\": \"1518195901\", \"in_data\": [ 103190525.20999999, 104949255.81 ], \"out_data\": [ 1102059.1299999999, 1079216.46 ], \"tot_data\": [ 104292584.33999999, 106028472.27 ], \"ticks\": [ \"1517750401\", \"1517756101\" ], \"rate_95th\": \"251880417\", \"rate_average\": \"146575554\", \"bill_type\": \"cdr\", \"max_in\": 9888289942, \"max_out\": 75848756, \"ave_in\": 18029660.242105871, \"ave_out\": 196447.38060137472, \"last_in\": 3790227.9500000002, \"last_out\": 122731.63333333333 } } get_bill_history Retrieve the history of specific bill Route: /api/v0/bills/:id/history Input: Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/history Output: { status : ok , bill_history : [ { bill_hist_id : 1 , bill_id : 1 , updated : 2018-02-06 17:01:01 , bill_datefrom : 2018-02-01 00:00:00 , bill_dateto : 2018-02-28 23:59:59 , bill_type : CDR , bill_allowed : 100000000 , bill_used : 229963765 , bill_overuse : 129963765 , bill_percent : 229.96 , rate_95th_in : 229963765 , rate_95th_out : 1891344 , rate_95th : 229963765 , dir_95th : in , rate_average : 136527101 , rate_average_in : 135123359 , rate_average_out : 1403743 , traf_in : 3235123452544 , traf_out : 33608406566 , traf_total : 3268731859110 , pdf : null } ], count : 1, } get_bill_history_graph Retrieve a graph of a previous period of a bill NB: The graphs returned from this will always be png as they do not come from rrdtool, even if you have SVG set. Route: /api/v0/bills/:id/history/:bill_hist_id/graphs/:graph_type Input: Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/history/1/graphs/bits curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/history/1/graphs/hour curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/history/1/graphs/day Output: (image) get_bill_history_graphdata Retrieve the data for a graph of a previous period of a bill, to be rendered in an external system Route: /api/v0/bills/:id/history/:bill_hist_id/graphdata/:graph_type Input: Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/history/1/graphdata/bits curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/history/1/graphdata/hour curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/history/1/graphdata/day Output: delete_bill Delete a specific bill and all dependent data Route: /api/v0/bills/:id id is the specific bill id Input: Example: curl -X DELETE -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1 Output: { status : ok , message : Bill has been removed } create_edit_bill Creates a new bill or updates an existing one Route: /api/v0/bills Method: POST If you send an existing bill_id the call replaces all values it receives. For example if you send 2 ports it will delete the existing ports and add the the 2 new ports. So to add ports you have to get the current ports first and add them to your update call. Input: Example (create): curl -X POST -d '{ ports :[ 1021 ], bill_name : NEWBILL , bill_day : 1 , bill_type : quota , bill_quota : 2000000000000 , bill_custid : 1337 , bill_ref : reference1 , bill_notes : mynote }' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills Example (set): curl -X POST -d '{ bill_id : 32 , ports :[ 1021 ], bill_name : NEWNAME , bill_quota : 1000000000000 }' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills Output: { status : ok , bill_id : 32 }","title":"Bills"},{"location":"API/Bills/#list_bills","text":"Retrieve the list of bills currently in the system. Route: /api/v0/bills /api/v0/bills?period=previous Input: Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills?period=previous Output: { status : ok , message : , count : 1, bills : [ { bill_id : 1 , bill_name : Router bills , bill_type : cdr , bill_cdr : 10000000 , bill_day : 1 , bill_quota : 0 , rate_95th_in : 0 , rate_95th_out : 0 , rate_95th : 0 , dir_95th : in , total_data : 0 , total_data_in : 0 , total_data_out : 0 , rate_average_in : 0 , rate_average_out : 0 , rate_average : 0 , bill_last_calc : 2015-07-02 17:01:26 , bill_custid : Router , bill_ref : Router , bill_notes : Bill me , bill_autoadded : 0 , ports_total : 0 , allowed : 10Mbps , used : 0bps , percent : 0, overuse : - , ports : [ { device_id : 168 , port_id : 35146 , ifName : eth0 } ] } ] }","title":"list_bills"},{"location":"API/Bills/#get_bill","text":"Retrieve a specific bill Route: /api/v0/bills/:id /api/v0/bills/:id?period=previous /api/v0/bills?ref=:ref /api/v0/bills?ref=:ref period=previous /api/v0/bills?custid=:custid /api/v0/bills?custid=:custid period=previous id is the specific bill id ref is the billing reference custid is the customer reference period=previous indicates you would like the data for the last complete period rather than the current period Input: Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1 curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills?ref=:customerref curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills?custid=:custid Output: { status : ok , message : , count : 1, bills : [ { bill_id : 1 , bill_name : Router bills , bill_type : cdr , bill_cdr : 10000000 , bill_day : 1 , bill_quota : 0 , rate_95th_in : 0 , rate_95th_out : 0 , rate_95th : 0 , dir_95th : in , total_data : 0 , total_data_in : 0 , total_data_out : 0 , rate_average_in : 0 , rate_average_out : 0 , rate_average : 0 , bill_last_calc : 2015-07-02 17:01:26 , bill_custid : Router , bill_ref : Router , bill_notes : Bill me , bill_autoadded : 0 , ports_total : 0 , allowed : 10Mbps , used : 0bps , percent : 0, overuse : - , ports : [ { device_id : 168 , port_id : 35146 , ifName : eth0 } ] } ] }","title":"get_bill"},{"location":"API/Bills/#get_bill_graph","text":"Retrieve a graph image associated with a bill. NB: The graphs returned from this will always be png as they do not come from rrdtool, even if you have SVG set. Route: `/api/v0/bills/:id/graphs/:graph_type Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/graphs/bits curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/graphs/bits?from=1517443200 curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/graphs/bits?from=1517443200 to=1517788800 curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/graphs/monthly Output: Graph Image","title":"get_bill_graph"},{"location":"API/Bills/#get_bill_graphdata","text":"Retrieve the data used to draw a graph so it can be rendered in an external system Route: /api/v0/bills/:id/graphdata/:graph_type Input: The reducefactor parameter is used to reduce the number of data points. Billing data has 5 minute granularity, so requesting a graph for a long time period will result in many data points. If not supplied, it will be automatically calculated. A reducefactor of 1 means return all items, 2 means half of the items etc. Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/graphdata/bits curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/graphdata/bits?from=1517443200 curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/graphdata/bits?from=1517443200 to=1517788800 curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/graphdata/bits?from=1517443200 to=1517788800 reducefactor=5 Output: { \"status\": \"ok\", \"graph_data\": { \"from\": \"1517443200\", \"to\": 1518196161, \"last\": \"1518195901\", \"in_data\": [ 103190525.20999999, 104949255.81 ], \"out_data\": [ 1102059.1299999999, 1079216.46 ], \"tot_data\": [ 104292584.33999999, 106028472.27 ], \"ticks\": [ \"1517750401\", \"1517756101\" ], \"rate_95th\": \"251880417\", \"rate_average\": \"146575554\", \"bill_type\": \"cdr\", \"max_in\": 9888289942, \"max_out\": 75848756, \"ave_in\": 18029660.242105871, \"ave_out\": 196447.38060137472, \"last_in\": 3790227.9500000002, \"last_out\": 122731.63333333333 } }","title":"get_bill_graphdata"},{"location":"API/Bills/#get_bill_history","text":"Retrieve the history of specific bill Route: /api/v0/bills/:id/history Input: Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/history Output: { status : ok , bill_history : [ { bill_hist_id : 1 , bill_id : 1 , updated : 2018-02-06 17:01:01 , bill_datefrom : 2018-02-01 00:00:00 , bill_dateto : 2018-02-28 23:59:59 , bill_type : CDR , bill_allowed : 100000000 , bill_used : 229963765 , bill_overuse : 129963765 , bill_percent : 229.96 , rate_95th_in : 229963765 , rate_95th_out : 1891344 , rate_95th : 229963765 , dir_95th : in , rate_average : 136527101 , rate_average_in : 135123359 , rate_average_out : 1403743 , traf_in : 3235123452544 , traf_out : 33608406566 , traf_total : 3268731859110 , pdf : null } ], count : 1, }","title":"get_bill_history"},{"location":"API/Bills/#get_bill_history_graph","text":"Retrieve a graph of a previous period of a bill NB: The graphs returned from this will always be png as they do not come from rrdtool, even if you have SVG set. Route: /api/v0/bills/:id/history/:bill_hist_id/graphs/:graph_type Input: Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/history/1/graphs/bits curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/history/1/graphs/hour curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/history/1/graphs/day Output: (image)","title":"get_bill_history_graph"},{"location":"API/Bills/#get_bill_history_graphdata","text":"Retrieve the data for a graph of a previous period of a bill, to be rendered in an external system Route: /api/v0/bills/:id/history/:bill_hist_id/graphdata/:graph_type Input: Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/history/1/graphdata/bits curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/history/1/graphdata/hour curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1/history/1/graphdata/day Output:","title":"get_bill_history_graphdata"},{"location":"API/Bills/#delete_bill","text":"Delete a specific bill and all dependent data Route: /api/v0/bills/:id id is the specific bill id Input: Example: curl -X DELETE -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills/1 Output: { status : ok , message : Bill has been removed }","title":"delete_bill"},{"location":"API/Bills/#create_edit_bill","text":"Creates a new bill or updates an existing one Route: /api/v0/bills Method: POST If you send an existing bill_id the call replaces all values it receives. For example if you send 2 ports it will delete the existing ports and add the the 2 new ports. So to add ports you have to get the current ports first and add them to your update call. Input: Example (create): curl -X POST -d '{ ports :[ 1021 ], bill_name : NEWBILL , bill_day : 1 , bill_type : quota , bill_quota : 2000000000000 , bill_custid : 1337 , bill_ref : reference1 , bill_notes : mynote }' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills Example (set): curl -X POST -d '{ bill_id : 32 , ports :[ 1021 ], bill_name : NEWNAME , bill_quota : 1000000000000 }' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bills Output: { status : ok , bill_id : 32 }","title":"create_edit_bill"},{"location":"API/DeviceGroups/","text":"get_devicegroups List all device groups. Route: /api/v0/devicegroups Input (JSON): - Examples: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devicegroups Output: [ { status : ok , message : Found 1 device groups , count : 1, groups : [ { id : 1 , name : Testing , desc : Testing , pattern : %devices.status = \\ 1\\ } ] } ] get_devices_by_group List all devices matching the group provided. Route: /api/v0/devicegroups/:name name Is the name of the device group which can be obtained using get_devicegroups . Please ensure that the name is urlencoded if it needs to be (i.e Linux Servers would need to be urlencoded. Input (JSON): full: set to any value to return all data for the devices in a given group Examples: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devicegroups/LinuxServers Output: [ { status : ok , message : Found 3 in group LinuxServers , count : 3, devices : [ { device_id : 15 }, { device_id : 18 }, { device_id : 20 } ] } ]","title":"DeviceGroups"},{"location":"API/DeviceGroups/#get_devicegroups","text":"List all device groups. Route: /api/v0/devicegroups Input (JSON): - Examples: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devicegroups Output: [ { status : ok , message : Found 1 device groups , count : 1, groups : [ { id : 1 , name : Testing , desc : Testing , pattern : %devices.status = \\ 1\\ } ] } ]","title":"get_devicegroups"},{"location":"API/DeviceGroups/#get_devices_by_group","text":"List all devices matching the group provided. Route: /api/v0/devicegroups/:name name Is the name of the device group which can be obtained using get_devicegroups . Please ensure that the name is urlencoded if it needs to be (i.e Linux Servers would need to be urlencoded. Input (JSON): full: set to any value to return all data for the devices in a given group Examples: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devicegroups/LinuxServers Output: [ { status : ok , message : Found 3 in group LinuxServers , count : 3, devices : [ { device_id : 15 }, { device_id : 18 }, { device_id : 20 } ] } ]","title":"get_devices_by_group"},{"location":"API/Devices/","text":"del_device Delete a given device. Route: /api/v0/devices/:hostname hostname can be either the device hostname or id Input: - Example: curl -X DELETE -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost Output: { status : ok , message : Removed device localhost , devices : [ { device_id : 1 , hostname : localhost , ... serial : null, icon : null } ] } get_device Get details of a given device. Route: /api/v0/devices/:hostname hostname can be either the device hostname or id Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost Output: { status : ok , devices : [ { device_id : 1 , hostname : localhost , ... serial : null, icon : null } ] } get_graphs Get a list of available graphs for a device, this does not include ports. Route: /api/v0/devices/:hostname/graphs hostname can be either the device hostname or id Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/graphs Output: { status : ok , message : , count : 3, graphs : [ { desc : Poller Time , name : device_poller_perf }, { desc : Ping Response , name : device_ping_perf }, { desc : System Uptime , name : uptime } ] } list_available_health_graphs This function allows to do three things: Get a list of overall health graphs available. Get a list of health graphs based on provided class. Get the health sensors information based on ID. Route: /api/v0/devices/:hostname/health(/:type)(/:sensor_id) hostname can be either the device hostname or id type (optional) is health type / sensor class sensor_id (optional) is the sensor id to retrieve specific information. Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/health Output: { status : ok , message : , count : 2, graphs : [ { desc : Airflow , name : device_airflow }, { desc : Voltage , name : device_voltage } ] } Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/health/device_voltage Output: { status : ok , message : , count : 2, graphs : [ { sensor_id : 1 , desc : Input Feed A }, { sensor_id : 2 , desc : Output Feed } ] } Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/health/device_voltage/1 Output: { status : ok , message : , count : 1, graphs : [ { sensor_id : 1 , sensor_deleted : 0 , sensor_class : voltage , device_id : 1 , poller_type : snmp , sensor_oid : .1.3.6.1.4.1.318.1.1.27.1.1.0 , sensor_index : 1 , sensor_type : apc , sensor_descr : Input , sensor_divisor : 1 , sensor_multiplier : 1 , sensor_current : 1 , sensor_limit : 1.15 , sensor_limit_warn : null, sensor_limit_low : 0.85 , sensor_limit_low_warn : null, sensor_alert : 1 , sensor_custom : No , entPhysicalIndex : null, entPhysicalIndex_measured : null, lastupdate : 2017-01-13 13:50:26 , sensor_prev : 1 } ] } list_available_wireless_graphs This function allows to do three things: Get a list of overall wireless graphs available. Get a list of wireless graphs based on provided class. Get the wireless sensors information based on ID. Route: /api/v0/devices/:hostname/wireless(/:type)(/:sensor_id) hostname can be either the device hostname or id type (optional) is wireless type / wireless class sensor_id (optional) is the sensor id to retrieve specific information. Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/wireless Output: { status : ok , graphs : [ { desc : Ccq , name : device_wireless_ccq }, { desc : Clients , name : device_wireless_clients } ], count : 2 } Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/wireless/device_wireless_ccq Output: { status : ok , graphs : [ { sensor_id : 791 , desc : SSID: bast (ng) }, { sensor_id : 792 , desc : SSID: bast (na) } ], count : 2 } Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/health/device_wireless_ccq/1 Output: { status : ok , graphs : [ { sensor_id : 791 , sensor_deleted : 0 , sensor_class : ccq , device_id : 381 , sensor_index : 0 , sensor_type : unifi , sensor_descr : SSID: bast (ng) , sensor_divisor : 10 , sensor_multiplier : 1 , sensor_aggregator : sum , sensor_current : 100 , sensor_prev : 100 , sensor_limit : null, sensor_limit_warn : null, sensor_limit_low : null, sensor_limit_low_warn : null, sensor_alert : 1 , sensor_custom : No , entPhysicalIndex : null, entPhysicalIndex_measured : null, lastupdate : 2017-12-06 21:26:29 , sensor_oids : [\\ .1.3.6.1.4.1.41112.1.6.1.2.1.3.0\\ ] , access_point_id : null } ], count : 1 } get_health_graph Get a particular health class graph for a device, if you provide a sensor_id as well then a single sensor graph will be provided. If no sensor_id value is provided then you will be sent a stacked sensor graph. Route: /api/v0/devices/:hostname/graphs/health/:type(/:sensor_id) hostname can be either the device hostname or id type is the name of the health graph as returned by list_available_health_graphs sensor_id (optional) restricts the graph to return a particular health sensor graph. Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/graphs/health/device_voltage Output: Output is a stacked graph for the health type provided. Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/graphs/health/device_voltage/1 Output: Output is the graph of the particular health type sensor provided. get_wireless_graph Get a particular wireless class graph for a device, if you provide a sensor_id as well then a single sensor graph will be provided. If no sensor_id value is provided then you will be sent a stacked wireless graph. Route: /api/v0/devices/:hostname/graphs/wireless/:type(/:sensor_id) hostname can be either the device hostname or id type is the name of the wireless graph as returned by list_available_wireless_graphs sensor_id (optional) restricts the graph to return a particular wireless sensor graph. Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/graphs/wireless/device_wireless_ccq Output: Output is a stacked graph for the wireless type provided. Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/graphs/wireless/device_wireless_ccq/1 Output: Output is the graph of the particular wireless type sensor provided. get_graph_generic_by_hostname Get a specific graph for a device, this does not include ports. Route: /api/v0/devices/:hostname/:type hostname can be either the device hostname or id type is the type of graph you want, use [ get_graphs ](#function-get_graphs to see the graphs available. Defaults to device_uptime. Input: from: This is the date you would like the graph to start - See http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html for more information. to: This is the date you would like the graph to end - See http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html for more information. width: The graph width, defaults to 1075. height: The graph height, defaults to 300. output: Set how the graph should be outputted (base64, display), defaults to display. Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/device_poller_perf Output: Output is an image. get_port_graphs Get a list of ports for a particular device. Route: /api/v0/devices/:hostname/ports hostname can be either the device hostname or id Input: columns: Comma separated list of columns you want returned. Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/ports Output: { status : ok , message : , count : 3, ports : [ { ifName : lo }, { ifName : eth0 }, { ifName : eth1 } ] } get_device_ip_addresses Get a list of IP addresses (v4 and v6) associated with a device. Route: /api/v0/devices/:hostname/ip hostname can be either the device hostname or id Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/ip Output: { status : ok , message : , addresses : [ { ipv4_address_id : 290 , ipv4_address : 192.168.99.292 , ipv4_prefixlen : 30 , ipv4_network_id : 247 , port_id : 323 , context_name : } ] } get_port_stack Get a list of port mappings for a device. This is useful for showing physical ports that are in a virtual port-channel. Route: /api/v0/devices/:hostname/port_stack hostname can be either the device hostname or id Input: valid_mappings: Filter the result by only showing valid mappings (\"0\" values not shown). Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/port_stack?valid_mappings Output: { status : ok , message : , count : 2, mappings : [ { device_id : 3742 , port_id_high : 1001000 , port_id_low : 51001 , ifStackStatus : active }, { device_id : 3742 , port_id_high : 1001000 , port_id_low : 52001 , ifStackStatus : active } ] } get_components Get a list of components for a particular device. Route: /api/v0/devices/:hostname/components hostname can be either the device hostname or id Input: type: Filter the result by type (Equals). id: Filter the result by id (Equals). label: Filter the result by label (Contains). status: Filter the result by status (Equals). disabled: Filter the result by disabled (Equals). ignore: Filter the result by ignore (Equals). Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/components Output: { status : ok , message : , count : 3, components : { 2 : { TestAttribute-1 : Value1 , TestAttribute-2 : Value2 , TestAttribute-3 : Value3 , type : TestComponent-1 , label : This is a really cool blue component , status : 1 , ignore : 0 , disabled : 0 }, 20 : { TestAttribute-1 : Value4 , TestAttribute-2 : Value5 , TestAttribute-3 : Value6 , type : TestComponent-1 , label : This is a really cool red component , status : 1 , ignore : 0 , disabled : 0 }, 27 : { TestAttribute-1 : Value7 , TestAttribute-2 : Value8 , TestAttribute-3 : Value9 , type : TestComponent-2 , label : This is a really cool yellow widget , status : 1 , ignore : 0 , disabled : 0 } } } add_components Create a new component of a type on a particular device. Route: /api/v0/devices/:hostname/components/:type hostname can be either the device hostname or id type is the type of component to add Example: curl -X POST -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/components/APITEST Output: { status : ok , message : , count : 1, components : { 4459 : { type : APITEST , label : , status : 1, ignore : 0, disabled : 0, error : } } } edit_components Edit an existing component on a particular device. Route: /api/v0/devices/:hostname/components hostname can be either the device hostname or id In this example we set the label and add a new field: TestField: curl -X PUT -d '{ 4459 : { type : APITEST , label : This is a test label , status : 1, ignore : 0, disabled : 0, error : , TestField : TestData }}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/components Output: { status : ok , message : , count : 1 } Just take the JSON array from add_components or edit_components, edit as you wish and submit it back to edit_components. delete_components Delete an existing component on a particular device. Route: /api/v0/devices/:hostname/components/:component hostname can be either the device hostname or id component is the component ID to be deleted. Example: curl -X DELETE -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/components/4459 Output: { status : ok , message : } get_port_stats_by_port_hostname Get information about a particular port for a device. Route: /api/v0/devices/:hostname/ports/:ifname hostname can be either the device hostname or id ifname can be any of the interface names for the device which can be obtained using get_port_graphs . Please ensure that the ifname is urlencoded if it needs to be (i.e Gi0/1/0 would need to be urlencoded. Input: columns: Comma separated list of columns you want returned. Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/ports/eth0 Output: { status : ok , port : { port_id : 2 , device_id : 1 , ... poll_prev : 1418412902 , poll_period : 300 } } get_graph_by_port_hostname Get a graph of a port for a particular device. Route: /api/v0/devices/:hostname/ports/:ifname/:type hostname can be either the device hostname or id ifname can be any of the interface names for the device which can be obtained using get_port_graphs . Please ensure that the ifname is urlencoded if it needs to be (i.e Gi0/1/0 would need to be urlencoded. type is the port type you want the graph for, you can request a list of ports for a device with get_port_graphs . Input: from: This is the date you would like the graph to start - See http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html for more information. to: This is the date you would like the graph to end - See http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html for more information. width: The graph width, defaults to 1075. height: The graph height, defaults to 300. ifDescr: If this is set to true then we will use ifDescr to lookup the port instead of ifName. Pass the ifDescr value you want to search as you would ifName. Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/ports/eth0/port_bits Output: Output is an image. list_locations Return a list of locations. Route: /api/v0/resources/locations Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/locations Output: { status : ok , locations : [ { id : 1 , location : Example location, Example city, Example Country , lat : -18.911436 , lng : 47.517446 , timestamp : 2017-04-01 02:40:05 }, ... ], count : 100 } list_devices Return a list of devices. Route: /api/v0/devices Input: order: How to order the output, default is by hostname. Can be prepended by DESC or ASC to change the order. type: can be one of the following to filter or search by: all: All devices active: Only not ignored and not disabled devices ignored: Only ignored devices up: Only devices that are up down: Only devices that are down disabled: Disabled devices os: search by os type mac: search by mac address ipv4: search by IPv4 address ipv6: search by IPv6 address (compressed or uncompressed) location: search by location query: If searching by, then this will be used as the input. Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices?order=hostname%20DESC type=down Output: { status : ok , count : 1, devices : [ { device_id : 1 , hostname : localhost , ... serial : null, icon : null } ] } Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices?type=mac query=00000c9ff013 Output: { status : ok , count : 1, devices : [ { device_id : 1 , hostname : localhost , ... serial : null, icon : null } ] } add_device Add a new device. Route: /api/v0/devices Input (JSON): hostname: device hostname port: SNMP port (defaults to port defined in config). transport: SNMP protocol (defaults to transport defined in config). version: SNMP version to use, v1, v2c or v3. Defaults to v2c. poller_group: This is the poller_group id used for distributed poller setup. Defaults to 0. force_add: Force the device to be added regardless of it being able to respond to snmp or icmp. For SNMP v1 or v2c community: Required for SNMP v1 or v2c. For SNMP v3 authlevel: SNMP authlevel (noAuthNoPriv, authNoPriv, authPriv). authname: SNMP Auth username authpass: SNMP Auth password authalgo: SNMP Auth algorithm (MD5, SHA) cryptopass: SNMP Crypto Password cryptoalgo: SNMP Crypto algorithm (AES, DES) For ICMP only snmp_disable: Boolean, set to true for ICMP only. os: OS short name for the device (defaults to ping). hardware: Device hardware. Example: curl -X POST -d '{ hostname : localhost.localdomain , version : v1 , community : public }' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices Output: { status : ok , message : Device localhost.localdomain (57) has been added successfully } list_oxidized List devices for use with Oxidized. If you have group support enabled then a group will also be returned based on your config. LibreNMS will automatically map the OS to the Oxidized model name if they don't match. Route: /api/v0/oxidized(/:hostname) Input (JSON): - Examples: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/oxidized Output: [ { hostname : localhost , os : linux }, { hostname : otherserver , os : linux } ] update_device_field Update devices field in the database. Route: /api/v0/devices/:hostname hostname can be either the device hostname or id Input (JSON): field: The column name within the database (can be an array of fields) data: The data to update the column with (can be an array of data)) Examples: curl -X PATCH -d '{ field : notes , data : This server should be kept online }' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost Output: [ { status : ok , message : Device notes has been updated } ] curl -X PATCH -d '{ field : [ notes , purpose ], data : [ This server should be kept online , For serving web traffic ]}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost Output: [ { status : ok , message : Device fields have been updated } ] rename_device Rename device. Route: /api/v0/devices/:hostname/rename/:new_hostname hostname can be either the device hostname or id Input: - Examples: curl -X PATCH -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/rename/localhost2 Output: [ { status : ok , message : Device has been renamed } ] get_device_groups List the device groups that a device is matched on. Route: /api/v0/devices/:hostname/groups hostname can be either the device hostname or id Input (JSON): - Examples: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/groups Output: [ { status : ok , message : Found 1 device groups , count : 1, groups : [ { id : 1 , name : Testing , desc : Testing , pattern : %devices.status = \\ 1\\ } ] } ]","title":"Devices"},{"location":"API/Devices/#del_device","text":"Delete a given device. Route: /api/v0/devices/:hostname hostname can be either the device hostname or id Input: - Example: curl -X DELETE -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost Output: { status : ok , message : Removed device localhost , devices : [ { device_id : 1 , hostname : localhost , ... serial : null, icon : null } ] }","title":"del_device"},{"location":"API/Devices/#get_device","text":"Get details of a given device. Route: /api/v0/devices/:hostname hostname can be either the device hostname or id Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost Output: { status : ok , devices : [ { device_id : 1 , hostname : localhost , ... serial : null, icon : null } ] }","title":"get_device"},{"location":"API/Devices/#get_graphs","text":"Get a list of available graphs for a device, this does not include ports. Route: /api/v0/devices/:hostname/graphs hostname can be either the device hostname or id Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/graphs Output: { status : ok , message : , count : 3, graphs : [ { desc : Poller Time , name : device_poller_perf }, { desc : Ping Response , name : device_ping_perf }, { desc : System Uptime , name : uptime } ] }","title":"get_graphs"},{"location":"API/Devices/#list_available_health_graphs","text":"This function allows to do three things: Get a list of overall health graphs available. Get a list of health graphs based on provided class. Get the health sensors information based on ID. Route: /api/v0/devices/:hostname/health(/:type)(/:sensor_id) hostname can be either the device hostname or id type (optional) is health type / sensor class sensor_id (optional) is the sensor id to retrieve specific information. Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/health Output: { status : ok , message : , count : 2, graphs : [ { desc : Airflow , name : device_airflow }, { desc : Voltage , name : device_voltage } ] } Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/health/device_voltage Output: { status : ok , message : , count : 2, graphs : [ { sensor_id : 1 , desc : Input Feed A }, { sensor_id : 2 , desc : Output Feed } ] } Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/health/device_voltage/1 Output: { status : ok , message : , count : 1, graphs : [ { sensor_id : 1 , sensor_deleted : 0 , sensor_class : voltage , device_id : 1 , poller_type : snmp , sensor_oid : .1.3.6.1.4.1.318.1.1.27.1.1.0 , sensor_index : 1 , sensor_type : apc , sensor_descr : Input , sensor_divisor : 1 , sensor_multiplier : 1 , sensor_current : 1 , sensor_limit : 1.15 , sensor_limit_warn : null, sensor_limit_low : 0.85 , sensor_limit_low_warn : null, sensor_alert : 1 , sensor_custom : No , entPhysicalIndex : null, entPhysicalIndex_measured : null, lastupdate : 2017-01-13 13:50:26 , sensor_prev : 1 } ] }","title":"list_available_health_graphs"},{"location":"API/Devices/#list_available_wireless_graphs","text":"This function allows to do three things: Get a list of overall wireless graphs available. Get a list of wireless graphs based on provided class. Get the wireless sensors information based on ID. Route: /api/v0/devices/:hostname/wireless(/:type)(/:sensor_id) hostname can be either the device hostname or id type (optional) is wireless type / wireless class sensor_id (optional) is the sensor id to retrieve specific information. Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/wireless Output: { status : ok , graphs : [ { desc : Ccq , name : device_wireless_ccq }, { desc : Clients , name : device_wireless_clients } ], count : 2 } Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/wireless/device_wireless_ccq Output: { status : ok , graphs : [ { sensor_id : 791 , desc : SSID: bast (ng) }, { sensor_id : 792 , desc : SSID: bast (na) } ], count : 2 } Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/health/device_wireless_ccq/1 Output: { status : ok , graphs : [ { sensor_id : 791 , sensor_deleted : 0 , sensor_class : ccq , device_id : 381 , sensor_index : 0 , sensor_type : unifi , sensor_descr : SSID: bast (ng) , sensor_divisor : 10 , sensor_multiplier : 1 , sensor_aggregator : sum , sensor_current : 100 , sensor_prev : 100 , sensor_limit : null, sensor_limit_warn : null, sensor_limit_low : null, sensor_limit_low_warn : null, sensor_alert : 1 , sensor_custom : No , entPhysicalIndex : null, entPhysicalIndex_measured : null, lastupdate : 2017-12-06 21:26:29 , sensor_oids : [\\ .1.3.6.1.4.1.41112.1.6.1.2.1.3.0\\ ] , access_point_id : null } ], count : 1 }","title":"list_available_wireless_graphs"},{"location":"API/Devices/#get_health_graph","text":"Get a particular health class graph for a device, if you provide a sensor_id as well then a single sensor graph will be provided. If no sensor_id value is provided then you will be sent a stacked sensor graph. Route: /api/v0/devices/:hostname/graphs/health/:type(/:sensor_id) hostname can be either the device hostname or id type is the name of the health graph as returned by list_available_health_graphs sensor_id (optional) restricts the graph to return a particular health sensor graph. Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/graphs/health/device_voltage Output: Output is a stacked graph for the health type provided. Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/graphs/health/device_voltage/1 Output: Output is the graph of the particular health type sensor provided.","title":"get_health_graph"},{"location":"API/Devices/#get_wireless_graph","text":"Get a particular wireless class graph for a device, if you provide a sensor_id as well then a single sensor graph will be provided. If no sensor_id value is provided then you will be sent a stacked wireless graph. Route: /api/v0/devices/:hostname/graphs/wireless/:type(/:sensor_id) hostname can be either the device hostname or id type is the name of the wireless graph as returned by list_available_wireless_graphs sensor_id (optional) restricts the graph to return a particular wireless sensor graph. Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/graphs/wireless/device_wireless_ccq Output: Output is a stacked graph for the wireless type provided. Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/graphs/wireless/device_wireless_ccq/1 Output: Output is the graph of the particular wireless type sensor provided.","title":"get_wireless_graph"},{"location":"API/Devices/#get_graph_generic_by_hostname","text":"Get a specific graph for a device, this does not include ports. Route: /api/v0/devices/:hostname/:type hostname can be either the device hostname or id type is the type of graph you want, use [ get_graphs ](#function-get_graphs to see the graphs available. Defaults to device_uptime. Input: from: This is the date you would like the graph to start - See http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html for more information. to: This is the date you would like the graph to end - See http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html for more information. width: The graph width, defaults to 1075. height: The graph height, defaults to 300. output: Set how the graph should be outputted (base64, display), defaults to display. Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/device_poller_perf Output: Output is an image.","title":"get_graph_generic_by_hostname"},{"location":"API/Devices/#get_port_graphs","text":"Get a list of ports for a particular device. Route: /api/v0/devices/:hostname/ports hostname can be either the device hostname or id Input: columns: Comma separated list of columns you want returned. Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/ports Output: { status : ok , message : , count : 3, ports : [ { ifName : lo }, { ifName : eth0 }, { ifName : eth1 } ] }","title":"get_port_graphs"},{"location":"API/Devices/#get_device_ip_addresses","text":"Get a list of IP addresses (v4 and v6) associated with a device. Route: /api/v0/devices/:hostname/ip hostname can be either the device hostname or id Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/ip Output: { status : ok , message : , addresses : [ { ipv4_address_id : 290 , ipv4_address : 192.168.99.292 , ipv4_prefixlen : 30 , ipv4_network_id : 247 , port_id : 323 , context_name : } ] }","title":"get_device_ip_addresses"},{"location":"API/Devices/#get_port_stack","text":"Get a list of port mappings for a device. This is useful for showing physical ports that are in a virtual port-channel. Route: /api/v0/devices/:hostname/port_stack hostname can be either the device hostname or id Input: valid_mappings: Filter the result by only showing valid mappings (\"0\" values not shown). Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/port_stack?valid_mappings Output: { status : ok , message : , count : 2, mappings : [ { device_id : 3742 , port_id_high : 1001000 , port_id_low : 51001 , ifStackStatus : active }, { device_id : 3742 , port_id_high : 1001000 , port_id_low : 52001 , ifStackStatus : active } ] }","title":"get_port_stack"},{"location":"API/Devices/#get_components","text":"Get a list of components for a particular device. Route: /api/v0/devices/:hostname/components hostname can be either the device hostname or id Input: type: Filter the result by type (Equals). id: Filter the result by id (Equals). label: Filter the result by label (Contains). status: Filter the result by status (Equals). disabled: Filter the result by disabled (Equals). ignore: Filter the result by ignore (Equals). Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/components Output: { status : ok , message : , count : 3, components : { 2 : { TestAttribute-1 : Value1 , TestAttribute-2 : Value2 , TestAttribute-3 : Value3 , type : TestComponent-1 , label : This is a really cool blue component , status : 1 , ignore : 0 , disabled : 0 }, 20 : { TestAttribute-1 : Value4 , TestAttribute-2 : Value5 , TestAttribute-3 : Value6 , type : TestComponent-1 , label : This is a really cool red component , status : 1 , ignore : 0 , disabled : 0 }, 27 : { TestAttribute-1 : Value7 , TestAttribute-2 : Value8 , TestAttribute-3 : Value9 , type : TestComponent-2 , label : This is a really cool yellow widget , status : 1 , ignore : 0 , disabled : 0 } } }","title":"get_components"},{"location":"API/Devices/#add_components","text":"Create a new component of a type on a particular device. Route: /api/v0/devices/:hostname/components/:type hostname can be either the device hostname or id type is the type of component to add Example: curl -X POST -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/components/APITEST Output: { status : ok , message : , count : 1, components : { 4459 : { type : APITEST , label : , status : 1, ignore : 0, disabled : 0, error : } } }","title":"add_components"},{"location":"API/Devices/#edit_components","text":"Edit an existing component on a particular device. Route: /api/v0/devices/:hostname/components hostname can be either the device hostname or id In this example we set the label and add a new field: TestField: curl -X PUT -d '{ 4459 : { type : APITEST , label : This is a test label , status : 1, ignore : 0, disabled : 0, error : , TestField : TestData }}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/components Output: { status : ok , message : , count : 1 } Just take the JSON array from add_components or edit_components, edit as you wish and submit it back to edit_components.","title":"edit_components"},{"location":"API/Devices/#delete_components","text":"Delete an existing component on a particular device. Route: /api/v0/devices/:hostname/components/:component hostname can be either the device hostname or id component is the component ID to be deleted. Example: curl -X DELETE -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/components/4459 Output: { status : ok , message : }","title":"delete_components"},{"location":"API/Devices/#get_port_stats_by_port_hostname","text":"Get information about a particular port for a device. Route: /api/v0/devices/:hostname/ports/:ifname hostname can be either the device hostname or id ifname can be any of the interface names for the device which can be obtained using get_port_graphs . Please ensure that the ifname is urlencoded if it needs to be (i.e Gi0/1/0 would need to be urlencoded. Input: columns: Comma separated list of columns you want returned. Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/ports/eth0 Output: { status : ok , port : { port_id : 2 , device_id : 1 , ... poll_prev : 1418412902 , poll_period : 300 } }","title":"get_port_stats_by_port_hostname"},{"location":"API/Devices/#get_graph_by_port_hostname","text":"Get a graph of a port for a particular device. Route: /api/v0/devices/:hostname/ports/:ifname/:type hostname can be either the device hostname or id ifname can be any of the interface names for the device which can be obtained using get_port_graphs . Please ensure that the ifname is urlencoded if it needs to be (i.e Gi0/1/0 would need to be urlencoded. type is the port type you want the graph for, you can request a list of ports for a device with get_port_graphs . Input: from: This is the date you would like the graph to start - See http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html for more information. to: This is the date you would like the graph to end - See http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html for more information. width: The graph width, defaults to 1075. height: The graph height, defaults to 300. ifDescr: If this is set to true then we will use ifDescr to lookup the port instead of ifName. Pass the ifDescr value you want to search as you would ifName. Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/ports/eth0/port_bits Output: Output is an image.","title":"get_graph_by_port_hostname"},{"location":"API/Devices/#list_locations","text":"Return a list of locations. Route: /api/v0/resources/locations Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/locations Output: { status : ok , locations : [ { id : 1 , location : Example location, Example city, Example Country , lat : -18.911436 , lng : 47.517446 , timestamp : 2017-04-01 02:40:05 }, ... ], count : 100 }","title":"list_locations"},{"location":"API/Devices/#list_devices","text":"Return a list of devices. Route: /api/v0/devices Input: order: How to order the output, default is by hostname. Can be prepended by DESC or ASC to change the order. type: can be one of the following to filter or search by: all: All devices active: Only not ignored and not disabled devices ignored: Only ignored devices up: Only devices that are up down: Only devices that are down disabled: Disabled devices os: search by os type mac: search by mac address ipv4: search by IPv4 address ipv6: search by IPv6 address (compressed or uncompressed) location: search by location query: If searching by, then this will be used as the input. Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices?order=hostname%20DESC type=down Output: { status : ok , count : 1, devices : [ { device_id : 1 , hostname : localhost , ... serial : null, icon : null } ] } Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices?type=mac query=00000c9ff013 Output: { status : ok , count : 1, devices : [ { device_id : 1 , hostname : localhost , ... serial : null, icon : null } ] }","title":"list_devices"},{"location":"API/Devices/#add_device","text":"Add a new device. Route: /api/v0/devices Input (JSON): hostname: device hostname port: SNMP port (defaults to port defined in config). transport: SNMP protocol (defaults to transport defined in config). version: SNMP version to use, v1, v2c or v3. Defaults to v2c. poller_group: This is the poller_group id used for distributed poller setup. Defaults to 0. force_add: Force the device to be added regardless of it being able to respond to snmp or icmp. For SNMP v1 or v2c community: Required for SNMP v1 or v2c. For SNMP v3 authlevel: SNMP authlevel (noAuthNoPriv, authNoPriv, authPriv). authname: SNMP Auth username authpass: SNMP Auth password authalgo: SNMP Auth algorithm (MD5, SHA) cryptopass: SNMP Crypto Password cryptoalgo: SNMP Crypto algorithm (AES, DES) For ICMP only snmp_disable: Boolean, set to true for ICMP only. os: OS short name for the device (defaults to ping). hardware: Device hardware. Example: curl -X POST -d '{ hostname : localhost.localdomain , version : v1 , community : public }' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices Output: { status : ok , message : Device localhost.localdomain (57) has been added successfully }","title":"add_device"},{"location":"API/Devices/#list_oxidized","text":"List devices for use with Oxidized. If you have group support enabled then a group will also be returned based on your config. LibreNMS will automatically map the OS to the Oxidized model name if they don't match. Route: /api/v0/oxidized(/:hostname) Input (JSON): - Examples: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/oxidized Output: [ { hostname : localhost , os : linux }, { hostname : otherserver , os : linux } ]","title":"list_oxidized"},{"location":"API/Devices/#update_device_field","text":"Update devices field in the database. Route: /api/v0/devices/:hostname hostname can be either the device hostname or id Input (JSON): field: The column name within the database (can be an array of fields) data: The data to update the column with (can be an array of data)) Examples: curl -X PATCH -d '{ field : notes , data : This server should be kept online }' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost Output: [ { status : ok , message : Device notes has been updated } ] curl -X PATCH -d '{ field : [ notes , purpose ], data : [ This server should be kept online , For serving web traffic ]}' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost Output: [ { status : ok , message : Device fields have been updated } ]","title":"update_device_field"},{"location":"API/Devices/#rename_device","text":"Rename device. Route: /api/v0/devices/:hostname/rename/:new_hostname hostname can be either the device hostname or id Input: - Examples: curl -X PATCH -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/rename/localhost2 Output: [ { status : ok , message : Device has been renamed } ]","title":"rename_device"},{"location":"API/Devices/#get_device_groups","text":"List the device groups that a device is matched on. Route: /api/v0/devices/:hostname/groups hostname can be either the device hostname or id Input (JSON): - Examples: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/groups Output: [ { status : ok , message : Found 1 device groups , count : 1, groups : [ { id : 1 , name : Testing , desc : Testing , pattern : %devices.status = \\ 1\\ } ] } ]","title":"get_device_groups"},{"location":"API/Inventory/","text":"get_inventory Retrieve the inventory for a device. If you call this without any parameters then you will only get part of the inventory. This is because a lot of devices nest each component, for instance you may initially have the chassis, within this the ports - 1 being an sfp cage, then the sfp itself. The way this API call is designed is to enable a recursive lookup. The first call will retrieve the root entry, included within this response will be entPhysicalIndex, you can then call for entPhysicalContainedIn which will then return the next layer of results. Route: /api/v0/inventory/:hostname hostname can be either the device hostname or the device id Input: entPhysicalClass: This is used to restrict the class of the inventory, for example you can specify chassis to only return items in the inventory that are labelled as chassis. entPhysicalContainedIn: This is used to retrieve items within the inventory assigned to a previous component, for example specifying the chassis (entPhysicalIndex) will retrieve all items where the chassis is the parent. Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/inventory/localhost?entPhysicalContainedIn=65536 Output: { status : ok , message : , count : 1, inventory : [ { entPhysical_id : 2 , device_id : 32 , entPhysicalIndex : 262145 , entPhysicalDescr : Linux 3.3.5 ehci_hcd RB400 EHCI , entPhysicalClass : unknown , entPhysicalName : 1:1 , entPhysicalHardwareRev : , entPhysicalFirmwareRev : , entPhysicalSoftwareRev : , entPhysicalAlias : , entPhysicalAssetID : , entPhysicalIsFRU : false , entPhysicalModelName : 0x0002 , entPhysicalVendorType : zeroDotZero , entPhysicalSerialNum : rb400_usb , entPhysicalContainedIn : 65536 , entPhysicalParentRelPos : -1 , entPhysicalMfgName : 0x1d6b , ifIndex : 0 } ] }","title":"Inventory"},{"location":"API/Inventory/#get_inventory","text":"Retrieve the inventory for a device. If you call this without any parameters then you will only get part of the inventory. This is because a lot of devices nest each component, for instance you may initially have the chassis, within this the ports - 1 being an sfp cage, then the sfp itself. The way this API call is designed is to enable a recursive lookup. The first call will retrieve the root entry, included within this response will be entPhysicalIndex, you can then call for entPhysicalContainedIn which will then return the next layer of results. Route: /api/v0/inventory/:hostname hostname can be either the device hostname or the device id Input: entPhysicalClass: This is used to restrict the class of the inventory, for example you can specify chassis to only return items in the inventory that are labelled as chassis. entPhysicalContainedIn: This is used to retrieve items within the inventory assigned to a previous component, for example specifying the chassis (entPhysicalIndex) will retrieve all items where the chassis is the parent. Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/inventory/localhost?entPhysicalContainedIn=65536 Output: { status : ok , message : , count : 1, inventory : [ { entPhysical_id : 2 , device_id : 32 , entPhysicalIndex : 262145 , entPhysicalDescr : Linux 3.3.5 ehci_hcd RB400 EHCI , entPhysicalClass : unknown , entPhysicalName : 1:1 , entPhysicalHardwareRev : , entPhysicalFirmwareRev : , entPhysicalSoftwareRev : , entPhysicalAlias : , entPhysicalAssetID : , entPhysicalIsFRU : false , entPhysicalModelName : 0x0002 , entPhysicalVendorType : zeroDotZero , entPhysicalSerialNum : rb400_usb , entPhysicalContainedIn : 65536 , entPhysicalParentRelPos : -1 , entPhysicalMfgName : 0x1d6b , ifIndex : 0 } ] }","title":"get_inventory"},{"location":"API/Logs/","text":"All the list_*logs calls are aliased to list_logs . Retrieve all logs or logs for a specific device. id or hostname is the specific device Input: start: The page number to request. limit: The limit of results to be returned. from: The date and time to search from. to: The data and time to search to. list_eventlog Route: /api/v0/logs/eventlog/:hostname list_syslog Route: /api/v0/logs/syslog/:hostname list_alertlog Route: /api/v0/logs/alertlog/:hostname list_authlog Route: /api/v0/logs/authlog/:hostname Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/logs/eventlog/:hostname curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/logs/syslog/:hostname?limit=20 curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/logs/eventlog/:hostname?limit=20 start=5 from=2017-07-22%2023:00:00 Output: { status : ok , message : , count : 5, total : 15 , logs : [ { hostname : localhost , sysName : web01.1.novalocal , event_id : 10050349 , host : 279 , device_id : 279 , datetime : 2017-07-22 19:57:47 , message : ifAlias: - pptp-something-something-tunnel-something , type : interface , reference : NULL , username : , severity : 3 }, .... { hostname : localhost , sysName : web01.1.novalocal , event_id : 10050353 , host : 279 , device_id : 279 , datetime : 2017-07-22 19:57:47 , message : ifHighSpeed: - 0 , type : interface , reference : NULL , username : , severity : 3 } ] }","title":"Logs"},{"location":"API/Logs/#list_eventlog","text":"Route: /api/v0/logs/eventlog/:hostname","title":"list_eventlog"},{"location":"API/Logs/#list_syslog","text":"Route: /api/v0/logs/syslog/:hostname","title":"list_syslog"},{"location":"API/Logs/#list_alertlog","text":"Route: /api/v0/logs/alertlog/:hostname","title":"list_alertlog"},{"location":"API/Logs/#list_authlog","text":"Route: /api/v0/logs/authlog/:hostname Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/logs/eventlog/:hostname curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/logs/syslog/:hostname?limit=20 curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/logs/eventlog/:hostname?limit=20 start=5 from=2017-07-22%2023:00:00 Output: { status : ok , message : , count : 5, total : 15 , logs : [ { hostname : localhost , sysName : web01.1.novalocal , event_id : 10050349 , host : 279 , device_id : 279 , datetime : 2017-07-22 19:57:47 , message : ifAlias: - pptp-something-something-tunnel-something , type : interface , reference : NULL , username : , severity : 3 }, .... { hostname : localhost , sysName : web01.1.novalocal , event_id : 10050353 , host : 279 , device_id : 279 , datetime : 2017-07-22 19:57:47 , message : ifHighSpeed: - 0 , type : interface , reference : NULL , username : , severity : 3 } ] }","title":"list_authlog"},{"location":"API/PortGroups/","text":"get_graph_by_portgroup Get the graph based on the group type. Route: /api/v0/devices/portgroups/:group group is the type of port group graph you want, I.e Transit, Peering, etc. You can specify multiple types comma separated. Input: from: This is the date you would like the graph to start - See http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html for more information. to: This is the date you would like the graph to end - See http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html for more information. width: The graph width, defaults to 1075. height: The graph height, defaults to 300. Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/portgroups/transit,peering Output: Output is an image. get_graph_by_portgroup_multiport_bits Get the graph based on the multiple port id separated by commas , . Route: /api/v0/devices/portgroups/multiport/bits/:id id is a comma separated list of port ids you want, I.e 1,2,3,4, etc. You can specify multiple IDs comma separated. Input: from: This is the date you would like the graph to start - See http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html for more information. to: This is the date you would like the graph to end - See http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html for more information. width: The graph width, defaults to 1075. height: The graph height, defaults to 300. Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/portgroups/multiport/bits/1,2,3 Output: Output is an image.","title":"PortGroups"},{"location":"API/PortGroups/#get_graph_by_portgroup","text":"Get the graph based on the group type. Route: /api/v0/devices/portgroups/:group group is the type of port group graph you want, I.e Transit, Peering, etc. You can specify multiple types comma separated. Input: from: This is the date you would like the graph to start - See http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html for more information. to: This is the date you would like the graph to end - See http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html for more information. width: The graph width, defaults to 1075. height: The graph height, defaults to 300. Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/portgroups/transit,peering Output: Output is an image.","title":"get_graph_by_portgroup"},{"location":"API/PortGroups/#get_graph_by_portgroup_multiport_bits","text":"Get the graph based on the multiple port id separated by commas , . Route: /api/v0/devices/portgroups/multiport/bits/:id id is a comma separated list of port ids you want, I.e 1,2,3,4, etc. You can specify multiple IDs comma separated. Input: from: This is the date you would like the graph to start - See http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html for more information. to: This is the date you would like the graph to end - See http://oss.oetiker.ch/rrdtool/doc/rrdgraph.en.html for more information. width: The graph width, defaults to 1075. height: The graph height, defaults to 300. Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/portgroups/multiport/bits/1,2,3 Output: Output is an image.","title":"get_graph_by_portgroup_multiport_bits"},{"location":"API/Ports/","text":"get_all_ports Get info for all ports on all devices. Strongly recommend that you use the columns parameter to avoid pulling too much data. Route: /api/v0/ports - Input: columns: Comma separated list of columns you want returned. Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/ports?columns=ifName%2Cport_id Output: { status : ok , message : , ports : [ { ifName : Gi0/0/0 , port_id : 1 }, { ifName : Gi0/0/1 , port_id : 2 }, ... { ifName : Vlan 3615 , port_id : 5488 } ] } get_port_info Get all info for a particular port. Route: /api/v0/ports/:portid portid must be an integer Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/ports/323 Output: { status : ok , message : , port : [ { port_id : 323 , device_id : 55 , port_descr_type : null, port_descr_descr : null, port_descr_circuit : null, port_descr_speed : null, port_descr_notes : null, ifDescr : GigabitEthernet0/0/0 , ifName : Gi0/0/0 , portName : null, ifIndex : 1 , ifSpeed : 1000000000 , ifConnectorPresent : true , ifPromiscuousMode : false , ifHighSpeed : 1000 , ifOperStatus : up , ifOperStatus_prev : null, ifAdminStatus : up , ifAdminStatus_prev : null, ifDuplex : fullDuplex , ifMtu : 1560 , ifType : ethernetCsmacd , ifAlias : ASR Interconnect Trunk , ifPhysAddress : 84bf20853e00 , ifHardType : null, ifLastChange : 42407358 , ifVlan : , ifTrunk : , ifVrf : 0 , counter_in : null, counter_out : null, ignore : 0 , disabled : 0 , detailed : 0 , deleted : 0 , pagpOperationMode : null, pagpPortState : null, pagpPartnerDeviceId : null, pagpPartnerLearnMethod : null, pagpPartnerIfIndex : null, pagpPartnerGroupIfIndex : null, pagpPartnerDeviceName : null, pagpEthcOperationMode : null, pagpDeviceId : null, pagpGroupIfIndex : null, ifInUcastPkts : 128518576 , ifInUcastPkts_prev : 128517284 , ifInUcastPkts_delta : 1292 , ifInUcastPkts_rate : 4 , ifOutUcastPkts : 128510560 , ifOutUcastPkts_prev : 128509268 , ifOutUcastPkts_delta : 1292 , ifOutUcastPkts_rate : 4 , ifInErrors : 0 , ifInErrors_prev : 0 , ifInErrors_delta : 0 , ifInErrors_rate : 0 , ifOutErrors : 0 , ifOutErrors_prev : 0 , ifOutErrors_delta : 0 , ifOutErrors_rate : 0 , ifInOctets : 12827393730 , ifInOctets_prev : 12827276736 , ifInOctets_delta : 116994 , ifInOctets_rate : 387 , ifOutOctets : 14957481766 , ifOutOctets_prev : 14957301765 , ifOutOctets_delta : 180001 , ifOutOctets_rate : 596 , poll_time : 1483779150 , poll_prev : 1483778848 , poll_period : 302 } ] } get_port_ip_info Get all IP info (v4 and v6) for a given port id. Route: /api/v0/ports/:portid/ip portid must be an integer Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/ports/323/ip Output: { status : ok , message : , addresses : [ { ipv4_address_id : 290 , ipv4_address : 192.168.99.292 , ipv4_prefixlen : 30 , ipv4_network_id : 247 , port_id : 323 , context_name : } ] }","title":"Ports"},{"location":"API/Ports/#get_all_ports","text":"Get info for all ports on all devices. Strongly recommend that you use the columns parameter to avoid pulling too much data. Route: /api/v0/ports - Input: columns: Comma separated list of columns you want returned. Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/ports?columns=ifName%2Cport_id Output: { status : ok , message : , ports : [ { ifName : Gi0/0/0 , port_id : 1 }, { ifName : Gi0/0/1 , port_id : 2 }, ... { ifName : Vlan 3615 , port_id : 5488 } ] }","title":"get_all_ports"},{"location":"API/Ports/#get_port_info","text":"Get all info for a particular port. Route: /api/v0/ports/:portid portid must be an integer Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/ports/323 Output: { status : ok , message : , port : [ { port_id : 323 , device_id : 55 , port_descr_type : null, port_descr_descr : null, port_descr_circuit : null, port_descr_speed : null, port_descr_notes : null, ifDescr : GigabitEthernet0/0/0 , ifName : Gi0/0/0 , portName : null, ifIndex : 1 , ifSpeed : 1000000000 , ifConnectorPresent : true , ifPromiscuousMode : false , ifHighSpeed : 1000 , ifOperStatus : up , ifOperStatus_prev : null, ifAdminStatus : up , ifAdminStatus_prev : null, ifDuplex : fullDuplex , ifMtu : 1560 , ifType : ethernetCsmacd , ifAlias : ASR Interconnect Trunk , ifPhysAddress : 84bf20853e00 , ifHardType : null, ifLastChange : 42407358 , ifVlan : , ifTrunk : , ifVrf : 0 , counter_in : null, counter_out : null, ignore : 0 , disabled : 0 , detailed : 0 , deleted : 0 , pagpOperationMode : null, pagpPortState : null, pagpPartnerDeviceId : null, pagpPartnerLearnMethod : null, pagpPartnerIfIndex : null, pagpPartnerGroupIfIndex : null, pagpPartnerDeviceName : null, pagpEthcOperationMode : null, pagpDeviceId : null, pagpGroupIfIndex : null, ifInUcastPkts : 128518576 , ifInUcastPkts_prev : 128517284 , ifInUcastPkts_delta : 1292 , ifInUcastPkts_rate : 4 , ifOutUcastPkts : 128510560 , ifOutUcastPkts_prev : 128509268 , ifOutUcastPkts_delta : 1292 , ifOutUcastPkts_rate : 4 , ifInErrors : 0 , ifInErrors_prev : 0 , ifInErrors_delta : 0 , ifInErrors_rate : 0 , ifOutErrors : 0 , ifOutErrors_prev : 0 , ifOutErrors_delta : 0 , ifOutErrors_rate : 0 , ifInOctets : 12827393730 , ifInOctets_prev : 12827276736 , ifInOctets_delta : 116994 , ifInOctets_rate : 387 , ifOutOctets : 14957481766 , ifOutOctets_prev : 14957301765 , ifOutOctets_delta : 180001 , ifOutOctets_rate : 596 , poll_time : 1483779150 , poll_prev : 1483778848 , poll_period : 302 } ] }","title":"get_port_info"},{"location":"API/Ports/#get_port_ip_info","text":"Get all IP info (v4 and v6) for a given port id. Route: /api/v0/ports/:portid/ip portid must be an integer Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/ports/323/ip Output: { status : ok , message : , addresses : [ { ipv4_address_id : 290 , ipv4_address : 192.168.99.292 , ipv4_prefixlen : 30 , ipv4_network_id : 247 , port_id : 323 , context_name : } ] }","title":"get_port_ip_info"},{"location":"API/Routing/","text":"list_bgp List the current BGP sessions. Route: /api/v0/bgp Input: hostname = Either the devices hostname or id. OR asn = The ASN you would like to filter by Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bgp curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bgp?hostname=host.example.com curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bgp?asn=1234 Output: { status : ok , message : , bgp_sessions : [ { bgpPeer_id : 4 , device_id : 2 , astext : , bgpPeerIdentifier : 1234:1b80:1:12::2 , bgpPeerRemoteAs : 54321 , bgpPeerState : established , bgpPeerAdminStatus : running , bgpLocalAddr : 1234:1b80:1:12::1 , bgpPeerRemoteAddr : 0.0.0.0 , bgpPeerInUpdates : 3 , bgpPeerOutUpdates : 1 , bgpPeerInTotalMessages : 0 , bgpPeerOutTotalMessages : 0 , bgpPeerFsmEstablishedTime : 0 , bgpPeerInUpdateElapsedTime : 0 , context_name : }, ... ], count : 100 } get_bgp Retrieves a BGP session by ID Route: /api/v0/bgp/:id Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bgp/4 Output: { status : ok , bgp_session : [ { bgpPeer_id : 4 , device_id : 2 , astext : , bgpPeerIdentifier : 1234:1b80:1:12::2 , bgpPeerRemoteAs : 54321 , bgpPeerState : established , bgpPeerAdminStatus : running , bgpLocalAddr : 1234:1b80:1:12::1 , bgpPeerRemoteAddr : 0.0.0.0 , bgpPeerInUpdates : 3 , bgpPeerOutUpdates : 1 , bgpPeerInTotalMessages : 0 , bgpPeerOutTotalMessages : 0 , bgpPeerFsmEstablishedTime : 0 , bgpPeerInUpdateElapsedTime : 0 , context_name : } ], count : 1 } list_cbgp List the current BGP sessions counters. Route: /api/v0/routing/bgp/cbgp Input: hostname = Either the devices hostname or id Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/routing/bgp/cbgp curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/routing/bgp/cbgp?hostname=host.example.com Output: { status : ok , bgp_counters : [ { device_id : 9 , bgpPeerIdentifier : 192.168.99.31 , afi : ipv4 , safi : multicast , AcceptedPrefixes : 2 , DeniedPrefixes : 0 , PrefixAdminLimit : 0 , PrefixThreshold : 0 , PrefixClearThreshold : 0 , AdvertisedPrefixes : 11487 , SuppressedPrefixes : 0 , WithdrawnPrefixes : 10918 , AcceptedPrefixes_delta : -2 , AcceptedPrefixes_prev : 2 , DeniedPrefixes_delta : 0 , DeniedPrefixes_prev : 0 , AdvertisedPrefixes_delta : -11487 , AdvertisedPrefixes_prev : 11487 , SuppressedPrefixes_delta : 0 , SuppressedPrefixes_prev : 0 , WithdrawnPrefixes_delta : -10918 , WithdrawnPrefixes_prev : 10918 , context_name : }, ... ], count : 100 } list_ip_addresses List all IPv4 and IPv6 addresses. Route: /api/v0/resources/ip/addresses Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/ip/addresses Output: { status : ok , ip_addresses : [ { ipv4_address_id : 69 , ipv4_address : 127.0.0.1 , ipv4_prefixlen : 8 , ipv4_network_id : 55 , port_id : 135 , context_name : }, ... ], count : 55 } get_network_ip_addresses Get all IPv4 and IPv6 addresses for particular network. Route: /api/v0/resources/ip/networks/:id/ip id must be integer Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/ip/networks/55/ip Output: { status : ok , addresses : [ { ipv4_address_id : 69 , ipv4_address : 127.0.0.1 , ipv4_prefixlen : 8 , ipv4_network_id : 55 , port_id : 135 , context_name : } ], count : 1 } list_ip_networks List all IPv4 and IPv6 networks. Route: /api/v0/resources/ip/networks Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/ip/networks Output: { status : ok , ip_networks : [ { ipv4_network_id : 1 , ipv4_network : 127.0.0.0/8 , context_name : }, ... ], count : 100 } list_ipsec List the current IPSec tunnels which are active. Route: /api/v0/routing/ipsec/data/:hostname hostname can be either the device hostname or id Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/routing/ipsec/data/localhost Output: { status : ok , message : , count : 0, ipsec : [ tunnel_id : 1 , device_id : 1 , peer_port : 0 , peer_addr : 127.0.0.1 , local_addr : 127.0.0.2 , local_port : 0 , tunnel_name : , tunnel_status : active ] } Please note, this will only show active VPN sessions not all configured. list_ospf List the current OSPF neighbours. Route: /api/v0/ospf Input: hostname = Either the devices hostname or id. Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/ospf curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/ospf?hostname=host.example.com Output: { status : ok , ospf_neighbours : [ { device_id : 1 , port_id : 0 , ospf_nbr_id : 172.16.1.145.0 , ospfNbrIpAddr : 172.16.1.145 , ospfNbrAddressLessIndex : 0 , ospfNbrRtrId : 172.16.0.140 , ospfNbrOptions : 82 , ospfNbrPriority : 1 , ospfNbrState : full , ospfNbrEvents : 5 , ospfNbrLsRetransQLen : 0 , ospfNbmaNbrStatus : active , ospfNbmaNbrPermanence : dynamic , ospfNbrHelloSuppressed : false , context_name : } ], count : 1 } list_vrf List the current VRFs. Route: /api/v0/routing/vrf Input: hostname = Either the devices hostname or id OR vrfname = The VRF name you would like to filter by Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/routing/vrf curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/routing/vrf?hostname=host.example.com curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/routing/vrf?vrfname=Mgmt-vrf Output: { status : ok , vrfs : [ { vrf_id : 2 , vrf_oid : 8.77.103.109.116.45.118.114.102 , vrf_name : Mgmt-vrf , mplsVpnVrfRouteDistinguisher : , mplsVpnVrfDescription : , device_id : 8 }, ... ], count : 100 } get_vrf Retrieves VRF by ID Route: /api/v0/routing/vrf/:id Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/routing/vrf/2 Output: { status : ok , vrf : [ { vrf_id : 2 , vrf_oid : 8.77.103.109.116.45.118.114.102 , vrf_name : Mgmt-vrf , mplsVpnVrfRouteDistinguisher : , mplsVpnVrfDescription : , device_id : 8 } ], count : 1 }","title":"Routing"},{"location":"API/Routing/#list_bgp","text":"List the current BGP sessions. Route: /api/v0/bgp Input: hostname = Either the devices hostname or id. OR asn = The ASN you would like to filter by Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bgp curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bgp?hostname=host.example.com curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bgp?asn=1234 Output: { status : ok , message : , bgp_sessions : [ { bgpPeer_id : 4 , device_id : 2 , astext : , bgpPeerIdentifier : 1234:1b80:1:12::2 , bgpPeerRemoteAs : 54321 , bgpPeerState : established , bgpPeerAdminStatus : running , bgpLocalAddr : 1234:1b80:1:12::1 , bgpPeerRemoteAddr : 0.0.0.0 , bgpPeerInUpdates : 3 , bgpPeerOutUpdates : 1 , bgpPeerInTotalMessages : 0 , bgpPeerOutTotalMessages : 0 , bgpPeerFsmEstablishedTime : 0 , bgpPeerInUpdateElapsedTime : 0 , context_name : }, ... ], count : 100 }","title":"list_bgp"},{"location":"API/Routing/#get_bgp","text":"Retrieves a BGP session by ID Route: /api/v0/bgp/:id Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/bgp/4 Output: { status : ok , bgp_session : [ { bgpPeer_id : 4 , device_id : 2 , astext : , bgpPeerIdentifier : 1234:1b80:1:12::2 , bgpPeerRemoteAs : 54321 , bgpPeerState : established , bgpPeerAdminStatus : running , bgpLocalAddr : 1234:1b80:1:12::1 , bgpPeerRemoteAddr : 0.0.0.0 , bgpPeerInUpdates : 3 , bgpPeerOutUpdates : 1 , bgpPeerInTotalMessages : 0 , bgpPeerOutTotalMessages : 0 , bgpPeerFsmEstablishedTime : 0 , bgpPeerInUpdateElapsedTime : 0 , context_name : } ], count : 1 }","title":"get_bgp"},{"location":"API/Routing/#list_cbgp","text":"List the current BGP sessions counters. Route: /api/v0/routing/bgp/cbgp Input: hostname = Either the devices hostname or id Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/routing/bgp/cbgp curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/routing/bgp/cbgp?hostname=host.example.com Output: { status : ok , bgp_counters : [ { device_id : 9 , bgpPeerIdentifier : 192.168.99.31 , afi : ipv4 , safi : multicast , AcceptedPrefixes : 2 , DeniedPrefixes : 0 , PrefixAdminLimit : 0 , PrefixThreshold : 0 , PrefixClearThreshold : 0 , AdvertisedPrefixes : 11487 , SuppressedPrefixes : 0 , WithdrawnPrefixes : 10918 , AcceptedPrefixes_delta : -2 , AcceptedPrefixes_prev : 2 , DeniedPrefixes_delta : 0 , DeniedPrefixes_prev : 0 , AdvertisedPrefixes_delta : -11487 , AdvertisedPrefixes_prev : 11487 , SuppressedPrefixes_delta : 0 , SuppressedPrefixes_prev : 0 , WithdrawnPrefixes_delta : -10918 , WithdrawnPrefixes_prev : 10918 , context_name : }, ... ], count : 100 }","title":"list_cbgp"},{"location":"API/Routing/#list_ip_addresses","text":"List all IPv4 and IPv6 addresses. Route: /api/v0/resources/ip/addresses Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/ip/addresses Output: { status : ok , ip_addresses : [ { ipv4_address_id : 69 , ipv4_address : 127.0.0.1 , ipv4_prefixlen : 8 , ipv4_network_id : 55 , port_id : 135 , context_name : }, ... ], count : 55 }","title":"list_ip_addresses"},{"location":"API/Routing/#get_network_ip_addresses","text":"Get all IPv4 and IPv6 addresses for particular network. Route: /api/v0/resources/ip/networks/:id/ip id must be integer Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/ip/networks/55/ip Output: { status : ok , addresses : [ { ipv4_address_id : 69 , ipv4_address : 127.0.0.1 , ipv4_prefixlen : 8 , ipv4_network_id : 55 , port_id : 135 , context_name : } ], count : 1 }","title":"get_network_ip_addresses"},{"location":"API/Routing/#list_ip_networks","text":"List all IPv4 and IPv6 networks. Route: /api/v0/resources/ip/networks Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/ip/networks Output: { status : ok , ip_networks : [ { ipv4_network_id : 1 , ipv4_network : 127.0.0.0/8 , context_name : }, ... ], count : 100 }","title":"list_ip_networks"},{"location":"API/Routing/#list_ipsec","text":"List the current IPSec tunnels which are active. Route: /api/v0/routing/ipsec/data/:hostname hostname can be either the device hostname or id Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/routing/ipsec/data/localhost Output: { status : ok , message : , count : 0, ipsec : [ tunnel_id : 1 , device_id : 1 , peer_port : 0 , peer_addr : 127.0.0.1 , local_addr : 127.0.0.2 , local_port : 0 , tunnel_name : , tunnel_status : active ] } Please note, this will only show active VPN sessions not all configured.","title":"list_ipsec"},{"location":"API/Routing/#list_ospf","text":"List the current OSPF neighbours. Route: /api/v0/ospf Input: hostname = Either the devices hostname or id. Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/ospf curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/ospf?hostname=host.example.com Output: { status : ok , ospf_neighbours : [ { device_id : 1 , port_id : 0 , ospf_nbr_id : 172.16.1.145.0 , ospfNbrIpAddr : 172.16.1.145 , ospfNbrAddressLessIndex : 0 , ospfNbrRtrId : 172.16.0.140 , ospfNbrOptions : 82 , ospfNbrPriority : 1 , ospfNbrState : full , ospfNbrEvents : 5 , ospfNbrLsRetransQLen : 0 , ospfNbmaNbrStatus : active , ospfNbmaNbrPermanence : dynamic , ospfNbrHelloSuppressed : false , context_name : } ], count : 1 }","title":"list_ospf"},{"location":"API/Routing/#list_vrf","text":"List the current VRFs. Route: /api/v0/routing/vrf Input: hostname = Either the devices hostname or id OR vrfname = The VRF name you would like to filter by Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/routing/vrf curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/routing/vrf?hostname=host.example.com curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/routing/vrf?vrfname=Mgmt-vrf Output: { status : ok , vrfs : [ { vrf_id : 2 , vrf_oid : 8.77.103.109.116.45.118.114.102 , vrf_name : Mgmt-vrf , mplsVpnVrfRouteDistinguisher : , mplsVpnVrfDescription : , device_id : 8 }, ... ], count : 100 }","title":"list_vrf"},{"location":"API/Routing/#get_vrf","text":"Retrieves VRF by ID Route: /api/v0/routing/vrf/:id Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/routing/vrf/2 Output: { status : ok , vrf : [ { vrf_id : 2 , vrf_oid : 8.77.103.109.116.45.118.114.102 , vrf_name : Mgmt-vrf , mplsVpnVrfRouteDistinguisher : , mplsVpnVrfDescription : , device_id : 8 } ], count : 1 }","title":"get_vrf"},{"location":"API/Services/","text":"list_services Retrieve all services Route: /api/v0/services Input: state: only which have a certain state (valid options are 0=Ok, 1=Warning, 2=Critical). type: service type, used sql LIKE to find services, so for tcp, use type=tcp for http use type=http Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/services curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/services?state=2 curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/services?state=0 type=tcp Output: { status : ok , message : , count : 1, services : [ [ { service_id : 13 , device_id : 1 , service_ip : demo1.yourdomian.net , service_type : ntp_peer , service_desc : NTP , service_param : -H 192.168.1.10 , service_ignore : 0 , service_status : 0 , service_changed : 1470962470 , service_message : NTP OK: Offset -0.000717 secs , service_disabled : 0 , service_ds : {\\ offset\\ :\\ s\\ } } ], [ { service_id : 2 , device_id : 2 , service_ip : demo2.yourdomian.net , service_type : esxi_hardware.py , service_desc : vmware hardware , service_param : -H 192.168.1.11 -U USER -P PASS -p , service_ignore : 0 , service_status : 0 , service_changed : 1471702206 , service_message : OK - Server: Supermicro X9SCL/X9SCM s/n: 0123456789 System BIOS: 2.2 2015-02-20 , service_disabled : 0 , service_ds : {\\ P2Vol_0_Processor_1_Vcore\\ :\\ \\ ,\\ P2Vol_1_System_Board_1_-12V\\ :\\ \\ ,\\ P2Vol_2_System_Board_1_12V\\ :\\ \\ ,\\ P2Vol_3_System_Board_1_3.3VCC\\ :\\ \\ ,\\ P2Vol_4_System_Board_1_5VCC\\ :\\ \\ ,\\ P2Vol_5_System_Board_1_AVCC\\ :\\ \\ ,\\ P2Vol_6_System_Board_1_VBAT\\ :\\ \\ ,\\ P2Vol_7_System_Board_1_ } ] ] } get_service_for_host Retrieve services for device Route: /api/v0/services/:hostname id or hostname is the specific device Input: state: only which have a certain state (valid options are 0=Ok, 1=Warning, 2=Critical). type: service type, used sql LIKE to find services, so for tcp, use type=tcp for http use type=http Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/services/:hostname curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/services/:hostname?state=2 curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/services/:hostname?state=0 type=tcp Output: { status : ok , message : , count : 1, services : [ [ { service_id : 2 , device_id : 2 , service_ip : demo2.yourdomian.net , service_type : esxi_hardware.py , service_desc : vmware hardware , service_param : -H 192.168.1.11 -U USER -P PASS -p , service_ignore : 0 , service_status : 0 , service_changed : 1471702206 , service_message : OK - Server: Supermicro X9SCL/X9SCM s/n: 0123456789 System BIOS: 2.2 2015-02-20 , service_disabled : 0 , service_ds : {\\ P2Vol_0_Processor_1_Vcore\\ :\\ \\ ,\\ P2Vol_1_System_Board_1_-12V\\ :\\ \\ ,\\ P2Vol_2_System_Board_1_12V\\ :\\ \\ ,\\ P2Vol_3_System_Board_1_3.3VCC\\ :\\ \\ ,\\ P2Vol_4_System_Board_1_5VCC\\ :\\ \\ ,\\ P2Vol_5_System_Board_1_AVCC\\ :\\ \\ ,\\ P2Vol_6_System_Board_1_VBAT\\ :\\ \\ ,\\ P2Vol_7_System_Board_1_ } ] ] } add_service_for_host Add a service for device Route: /api/v0/services/:hostname id or hostname is the specific device Input: type: service type ip: ip of the service desc: description for the service param: parameters for the service ignore: ignore the service for checks Example: curl -X POST -d '{ type : ping , ip : 192.168.1.10 , desc : test ping , param : -t 10 -c 5 }' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/services/192.168.1.10 Output: { status : ok , message : Service ping has been added to device 192.168.1.10 (#10) }","title":"Services"},{"location":"API/Services/#list_services","text":"Retrieve all services Route: /api/v0/services Input: state: only which have a certain state (valid options are 0=Ok, 1=Warning, 2=Critical). type: service type, used sql LIKE to find services, so for tcp, use type=tcp for http use type=http Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/services curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/services?state=2 curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/services?state=0 type=tcp Output: { status : ok , message : , count : 1, services : [ [ { service_id : 13 , device_id : 1 , service_ip : demo1.yourdomian.net , service_type : ntp_peer , service_desc : NTP , service_param : -H 192.168.1.10 , service_ignore : 0 , service_status : 0 , service_changed : 1470962470 , service_message : NTP OK: Offset -0.000717 secs , service_disabled : 0 , service_ds : {\\ offset\\ :\\ s\\ } } ], [ { service_id : 2 , device_id : 2 , service_ip : demo2.yourdomian.net , service_type : esxi_hardware.py , service_desc : vmware hardware , service_param : -H 192.168.1.11 -U USER -P PASS -p , service_ignore : 0 , service_status : 0 , service_changed : 1471702206 , service_message : OK - Server: Supermicro X9SCL/X9SCM s/n: 0123456789 System BIOS: 2.2 2015-02-20 , service_disabled : 0 , service_ds : {\\ P2Vol_0_Processor_1_Vcore\\ :\\ \\ ,\\ P2Vol_1_System_Board_1_-12V\\ :\\ \\ ,\\ P2Vol_2_System_Board_1_12V\\ :\\ \\ ,\\ P2Vol_3_System_Board_1_3.3VCC\\ :\\ \\ ,\\ P2Vol_4_System_Board_1_5VCC\\ :\\ \\ ,\\ P2Vol_5_System_Board_1_AVCC\\ :\\ \\ ,\\ P2Vol_6_System_Board_1_VBAT\\ :\\ \\ ,\\ P2Vol_7_System_Board_1_ } ] ] }","title":"list_services"},{"location":"API/Services/#get_service_for_host","text":"Retrieve services for device Route: /api/v0/services/:hostname id or hostname is the specific device Input: state: only which have a certain state (valid options are 0=Ok, 1=Warning, 2=Critical). type: service type, used sql LIKE to find services, so for tcp, use type=tcp for http use type=http Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/services/:hostname curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/services/:hostname?state=2 curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/services/:hostname?state=0 type=tcp Output: { status : ok , message : , count : 1, services : [ [ { service_id : 2 , device_id : 2 , service_ip : demo2.yourdomian.net , service_type : esxi_hardware.py , service_desc : vmware hardware , service_param : -H 192.168.1.11 -U USER -P PASS -p , service_ignore : 0 , service_status : 0 , service_changed : 1471702206 , service_message : OK - Server: Supermicro X9SCL/X9SCM s/n: 0123456789 System BIOS: 2.2 2015-02-20 , service_disabled : 0 , service_ds : {\\ P2Vol_0_Processor_1_Vcore\\ :\\ \\ ,\\ P2Vol_1_System_Board_1_-12V\\ :\\ \\ ,\\ P2Vol_2_System_Board_1_12V\\ :\\ \\ ,\\ P2Vol_3_System_Board_1_3.3VCC\\ :\\ \\ ,\\ P2Vol_4_System_Board_1_5VCC\\ :\\ \\ ,\\ P2Vol_5_System_Board_1_AVCC\\ :\\ \\ ,\\ P2Vol_6_System_Board_1_VBAT\\ :\\ \\ ,\\ P2Vol_7_System_Board_1_ } ] ] }","title":"get_service_for_host"},{"location":"API/Services/#add_service_for_host","text":"Add a service for device Route: /api/v0/services/:hostname id or hostname is the specific device Input: type: service type ip: ip of the service desc: description for the service param: parameters for the service ignore: ignore the service for checks Example: curl -X POST -d '{ type : ping , ip : 192.168.1.10 , desc : test ping , param : -t 10 -c 5 }' -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/services/192.168.1.10 Output: { status : ok , message : Service ping has been added to device 192.168.1.10 (#10) }","title":"add_service_for_host"},{"location":"API/Switching/","text":"list_vlans Get a list of all VLANs. Route: /api/v0/resources/vlans Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/vlans Output: { status : ok , vlans : [ { vlan_id : 31 , device_id : 10 , vlan_vlan : 1 , vlan_domain : 1 , vlan_name : default , vlan_type : ethernet , vlan_mtu : null }, ... ], count : 100 } get_vlans Get a list of all VLANs for a given device. Route: /api/v0/devices/:hostname/vlans hostname can be either the device hostname or id Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/vlans Output: { status : ok , count : 0, vlans : [ { vlan_vlan : 1 , vlan_domain : 1 , vlan_name : default , vlan_type : ethernet , vlan_mtu : null } ] }","title":"Switching"},{"location":"API/Switching/#list_vlans","text":"Get a list of all VLANs. Route: /api/v0/resources/vlans Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/resources/vlans Output: { status : ok , vlans : [ { vlan_id : 31 , device_id : 10 , vlan_vlan : 1 , vlan_domain : 1 , vlan_name : default , vlan_type : ethernet , vlan_mtu : null }, ... ], count : 100 }","title":"list_vlans"},{"location":"API/Switching/#get_vlans","text":"Get a list of all VLANs for a given device. Route: /api/v0/devices/:hostname/vlans hostname can be either the device hostname or id Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/devices/localhost/vlans Output: { status : ok , count : 0, vlans : [ { vlan_vlan : 1 , vlan_domain : 1 , vlan_name : default , vlan_type : ethernet , vlan_mtu : null } ] }","title":"get_vlans"},{"location":"API/System/","text":"system Display Librenms instance information. Route: /api/v0/system Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/system Output: { status : ok , system : [ { local_ver : 1.37-234-g19103ee , local_sha : 19103ee36f68f009272c15be22e5a7e10a8b0b85 , local_date : 1526480966 , local_branch : master , db_schema : 249, php_ver : 7.2.2 , mysql_ver : 5.5.56-MariaDB , rrdtool_ver : 1.4.8 , netsnmp_ver : NET-SNMP 5.7.2 } ], count : 1 }","title":"System"},{"location":"API/System/#system","text":"Display Librenms instance information. Route: /api/v0/system Input: - Example: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/system Output: { status : ok , system : [ { local_ver : 1.37-234-g19103ee , local_sha : 19103ee36f68f009272c15be22e5a7e10a8b0b85 , local_date : 1526480966 , local_branch : master , db_schema : 249, php_ver : 7.2.2 , mysql_ver : 5.5.56-MariaDB , rrdtool_ver : 1.4.8 , netsnmp_ver : NET-SNMP 5.7.2 } ], count : 1 }","title":"system"},{"location":"Alerting/","text":"About LibreNMS includes a highly customizable alerting system. The system requires a set of user-defined rules to evaluate the situation of each device, port, service or any other entity. You can configure all options for alerting and transports via the WebUI, config options in this document are crossed out but left for reference. Table of Content: Introduction Rules Syntax Options Examples Procedure Templates Syntax Testing Examples Included Transports E-Mail API Nagios-Compatible IRC Slack Rocket.chat HipChat PagerDuty Pushover Boxcar Telegram Pushbullet Clickatell PlaySMS VictorOps Canopsis osTicket Microsoft Teams Cisco Spark SMSEagle Syslog Elasticsearch Jira Entities Devices BGP Peers IPSec Tunnels Memory Pools Ports Processors Storage Sensors Macros Device Port Time Sensors Misc Device Dependencies","title":"Intro"},{"location":"Alerting/#about","text":"LibreNMS includes a highly customizable alerting system. The system requires a set of user-defined rules to evaluate the situation of each device, port, service or any other entity. You can configure all options for alerting and transports via the WebUI, config options in this document are crossed out but left for reference. Table of Content: Introduction Rules Syntax Options Examples Procedure Templates Syntax Testing Examples Included Transports E-Mail API Nagios-Compatible IRC Slack Rocket.chat HipChat PagerDuty Pushover Boxcar Telegram Pushbullet Clickatell PlaySMS VictorOps Canopsis osTicket Microsoft Teams Cisco Spark SMSEagle Syslog Elasticsearch Jira Entities Devices BGP Peers IPSec Tunnels Memory Pools Ports Processors Storage Sensors Macros Device Port Time Sensors Misc Device Dependencies","title":"About"},{"location":"Alerting/Creating-Transport/","text":"Creating a new Transport. File location All transports are located in LibreNMS\\Alert\\Transport and the files are named after the Transport name. I.e Discord.php for Discord. Transport structure. The following functions are required for a new transport to pass the unit tests: deliverAlert() - This is function called within alerts to invoke the transport. Here you should do any post processing of the transport config to get it ready for use. contact$Transport() - This is named after the transport so for Discord it would be contactDiscord() . This is what actually interacts with the 3rd party API, invokes the mail command or whatever you want your alert to do. configTemplate() - This is used to define the form that will accept the transport config in the webui and then what data should be validated and how. Validation is done using Laravel validation The following function is not required for new Transports and is for legacy reasons only. deliverAlertOld() . WebUI At present you will also need to add the new transport to the select part of the form in html/includes/modal/edit_alert_transport.inc.php . I.e: option value=\"discord-form\" Discord /option Please ensure you add the new entry in the correct location sorted alphabetically. Documentation Please don't forget to update the Transport file to include details of your new transport. A table should be provided to indicate the form values that we ask for and examples. I.e: **Example:** Config | Example ------ | ------- Discord URL | https://discordapp.com/api/webhooks/4515489001665127664/82-sf4385ysuhfn34u2fhfsdePGLrg8K7cP9wl553Fg6OlZuuxJGaa1d54fe Options | username=myname","title":"Creating a new Transport."},{"location":"Alerting/Creating-Transport/#creating-a-new-transport","text":"","title":"Creating a new Transport."},{"location":"Alerting/Creating-Transport/#file-location","text":"All transports are located in LibreNMS\\Alert\\Transport and the files are named after the Transport name. I.e Discord.php for Discord.","title":"File location"},{"location":"Alerting/Creating-Transport/#transport-structure","text":"The following functions are required for a new transport to pass the unit tests: deliverAlert() - This is function called within alerts to invoke the transport. Here you should do any post processing of the transport config to get it ready for use. contact$Transport() - This is named after the transport so for Discord it would be contactDiscord() . This is what actually interacts with the 3rd party API, invokes the mail command or whatever you want your alert to do. configTemplate() - This is used to define the form that will accept the transport config in the webui and then what data should be validated and how. Validation is done using Laravel validation The following function is not required for new Transports and is for legacy reasons only. deliverAlertOld() .","title":"Transport structure."},{"location":"Alerting/Creating-Transport/#webui","text":"At present you will also need to add the new transport to the select part of the form in html/includes/modal/edit_alert_transport.inc.php . I.e: option value=\"discord-form\" Discord /option Please ensure you add the new entry in the correct location sorted alphabetically.","title":"WebUI"},{"location":"Alerting/Creating-Transport/#documentation","text":"Please don't forget to update the Transport file to include details of your new transport. A table should be provided to indicate the form values that we ask for and examples. I.e: **Example:** Config | Example ------ | ------- Discord URL | https://discordapp.com/api/webhooks/4515489001665127664/82-sf4385ysuhfn34u2fhfsdePGLrg8K7cP9wl553Fg6OlZuuxJGaa1d54fe Options | username=myname","title":"Documentation"},{"location":"Alerting/Device-Dependencies/","text":"Device Dependencies It is possible to set one or more parents for a device. The aim for that is, if all parent devices are down, alert contacts will not receive redundant alerts for dependent devices. This is very useful when you have an outage, say in a branch office, where normally you'd receive hundreds of alerts, but when this is properly configured, you'd only receive an alert for the parent hosts. There are three ways to configure this feature. First one is from general settings of a device. The other two can be done in the 'Device Dependencies' item under 'Devices' menu. In this page, you can see all devices and with its parents. Clicking on the 'bin' icon will clear the dependency setting. Clicking on the 'pen' icon will let you edit or change the current setting for chosen device. There's also a 'Manage Device Dependencies' button on the top. This will let you set parents for multiple devices at once. For an intro on getting started with Device Dependencies, take a look at our Youtube video","title":"Device Dependencies"},{"location":"Alerting/Device-Dependencies/#device-dependencies","text":"It is possible to set one or more parents for a device. The aim for that is, if all parent devices are down, alert contacts will not receive redundant alerts for dependent devices. This is very useful when you have an outage, say in a branch office, where normally you'd receive hundreds of alerts, but when this is properly configured, you'd only receive an alert for the parent hosts. There are three ways to configure this feature. First one is from general settings of a device. The other two can be done in the 'Device Dependencies' item under 'Devices' menu. In this page, you can see all devices and with its parents. Clicking on the 'bin' icon will clear the dependency setting. Clicking on the 'pen' icon will let you edit or change the current setting for chosen device. There's also a 'Manage Device Dependencies' button on the top. This will let you set parents for multiple devices at once. For an intro on getting started with Device Dependencies, take a look at our Youtube video","title":"Device Dependencies"},{"location":"Alerting/Entities/","text":"Entities Entities as described earlier are based on the table and column names within the database, if you are unsure of what the entity is you want then have a browse around inside MySQL using show tables and desc tablename . Below are some common entities that you can use within the alerting system. This list is not exhaustive and you should look at the MySQL database schema for the full list. Devices Entity Description devices.hostname The device hostname devices.sysName The device sysName devices.sysDescr The device sysDescr devices.hardware The device hardware devices.version The device os version devices.location The device location devices.status The status of the device, 1 devices.status_reason The reason the device was detected as down (icmp or snmp) devices.ignore If the device is ignored this will be set to 1 devices.disabled If the device is disabled this will be set to 1 devices.last_polled The the last polled datetime (yyyy-mm-dd hh:mm:ss) devices.type The device type such as network, server, firewall, etc. BGP Peers Entity Description bgpPeers.astext This is the description of the BGP Peer bgpPeers.bgpPeerIdentifier The IP address of the BGP Peer bgpPeers.bgpPeerRemoteAs The AS number of the BGP Peer bgpPeers.bgpPeerState The operational state of the BGP session bgpPeers.bgpPeerAdminStatus The administrative state of the BGP session bgpPeers.bgpLocalAddr The local address of the BGP session. IPSec Tunnels Entity Description ipsec_tunnels.peer_addr The remote VPN peer address ipsec_tunnels.local_addr The local VPN address ipsec_tunnels.tunnel_status The VPN tunnels operational status. Memory pools Entity Description mempools.mempool_type The memory pool type such as hrstorage, cmp and cemp mempools.mempool_descr The description of the pool such as Physical memory, Virtual memory and System memory mempools.mempool_perc The used percentage of the memory pool. Ports Entity Description ports.ifDescr The interface description ports.ifName The interface name ports.ifSpeed The port speed in bps ports.ifHighSpeed The port speed in mbps ports.ifOperStatus The operational status of the port (up or down) ports.ifAdminStatus The administrative status of the port (up or down) ports.ifDuplex Duplex setting of the port ports.ifMtu The MTU setting of the port.` Processors Entity Description processors.processor_usage The usage of the processor as a percentage processors.processor_descr The description of the processor. Storage Entity Description storage.storage_descr The description of the storage storage.storage_perc The usage of the storage as a percentage. Health / Sensors Entity Description sensors.sensor_desc The sensors description. sensors.sensor_current The current sensors value. sensors.sensor_prev The previous sensor value. sensors.lastupdate The sensors last updated datetime stamp.","title":"Entities"},{"location":"Alerting/Entities/#entities","text":"Entities as described earlier are based on the table and column names within the database, if you are unsure of what the entity is you want then have a browse around inside MySQL using show tables and desc tablename . Below are some common entities that you can use within the alerting system. This list is not exhaustive and you should look at the MySQL database schema for the full list.","title":"Entities"},{"location":"Alerting/Entities/#devices","text":"Entity Description devices.hostname The device hostname devices.sysName The device sysName devices.sysDescr The device sysDescr devices.hardware The device hardware devices.version The device os version devices.location The device location devices.status The status of the device, 1 devices.status_reason The reason the device was detected as down (icmp or snmp) devices.ignore If the device is ignored this will be set to 1 devices.disabled If the device is disabled this will be set to 1 devices.last_polled The the last polled datetime (yyyy-mm-dd hh:mm:ss) devices.type The device type such as network, server, firewall, etc.","title":"Devices"},{"location":"Alerting/Entities/#bgp-peers","text":"Entity Description bgpPeers.astext This is the description of the BGP Peer bgpPeers.bgpPeerIdentifier The IP address of the BGP Peer bgpPeers.bgpPeerRemoteAs The AS number of the BGP Peer bgpPeers.bgpPeerState The operational state of the BGP session bgpPeers.bgpPeerAdminStatus The administrative state of the BGP session bgpPeers.bgpLocalAddr The local address of the BGP session.","title":"BGP Peers"},{"location":"Alerting/Entities/#ipsec-tunnels","text":"Entity Description ipsec_tunnels.peer_addr The remote VPN peer address ipsec_tunnels.local_addr The local VPN address ipsec_tunnels.tunnel_status The VPN tunnels operational status.","title":"IPSec Tunnels"},{"location":"Alerting/Entities/#memory-pools","text":"Entity Description mempools.mempool_type The memory pool type such as hrstorage, cmp and cemp mempools.mempool_descr The description of the pool such as Physical memory, Virtual memory and System memory mempools.mempool_perc The used percentage of the memory pool.","title":"Memory pools"},{"location":"Alerting/Entities/#ports","text":"Entity Description ports.ifDescr The interface description ports.ifName The interface name ports.ifSpeed The port speed in bps ports.ifHighSpeed The port speed in mbps ports.ifOperStatus The operational status of the port (up or down) ports.ifAdminStatus The administrative status of the port (up or down) ports.ifDuplex Duplex setting of the port ports.ifMtu The MTU setting of the port.`","title":"Ports"},{"location":"Alerting/Entities/#processors","text":"Entity Description processors.processor_usage The usage of the processor as a percentage processors.processor_descr The description of the processor.","title":"Processors"},{"location":"Alerting/Entities/#storage","text":"Entity Description storage.storage_descr The description of the storage storage.storage_perc The usage of the storage as a percentage.","title":"Storage"},{"location":"Alerting/Entities/#health-sensors","text":"Entity Description sensors.sensor_desc The sensors description. sensors.sensor_current The current sensors value. sensors.sensor_prev The previous sensor value. sensors.lastupdate The sensors last updated datetime stamp.","title":"Health / Sensors"},{"location":"Alerting/Introduction/","text":"Introduction To get started, you first need some alert rules which will react to changes with your devices before raising an alert. Creating alert rules After that you also need to tell LibreNMS how to notify you when an alert is raised, this is done using Alert Transports . Configuring alert transports The next step is not strictly required but most people find it useful. Creating custom alert templates will help you get the benefit out of the alert system in general. Whilst we include a default template, it is limited in the data that you will receive in the alerts. Configuring alert templates Managing alerts When an alert has triggered you will see these in the Alerts - Notifications page within the Web UI. This list has a couple of options available to it and we'll explain what these are here. ACK This column provides you visibility on the status of the alert: This alert is currently active and sending alerts. Click this icon to acknowledge the alert. This alert is currently acknowledged until the alert clears. Click this icon to un-acknowledge the alert. This alert is currently acknowledged until the alert worsens or gets better, at which stage it will be automatically unacknowledged and alerts will resume. Click this icon to un-acknowledge the alert. Notes This column will allow you access to the acknowledge/unacknowledge notes for this alert.","title":"Introduction"},{"location":"Alerting/Introduction/#introduction","text":"To get started, you first need some alert rules which will react to changes with your devices before raising an alert. Creating alert rules After that you also need to tell LibreNMS how to notify you when an alert is raised, this is done using Alert Transports . Configuring alert transports The next step is not strictly required but most people find it useful. Creating custom alert templates will help you get the benefit out of the alert system in general. Whilst we include a default template, it is limited in the data that you will receive in the alerts. Configuring alert templates","title":"Introduction"},{"location":"Alerting/Introduction/#managing-alerts","text":"When an alert has triggered you will see these in the Alerts - Notifications page within the Web UI. This list has a couple of options available to it and we'll explain what these are here.","title":"Managing alerts"},{"location":"Alerting/Introduction/#ack","text":"This column provides you visibility on the status of the alert: This alert is currently active and sending alerts. Click this icon to acknowledge the alert. This alert is currently acknowledged until the alert clears. Click this icon to un-acknowledge the alert. This alert is currently acknowledged until the alert worsens or gets better, at which stage it will be automatically unacknowledged and alerts will resume. Click this icon to un-acknowledge the alert.","title":"ACK"},{"location":"Alerting/Introduction/#notes","text":"This column will allow you access to the acknowledge/unacknowledge notes for this alert.","title":"Notes"},{"location":"Alerting/Macros/","text":"Macros Macros are shorthands to either portion of rules or pure SQL enhanced with placeholders. You can define your own macros in your config.php . Example macro-implementation of Debian-Devices $config['alert']['macros']['rule']['is_debian'] = 'devices.features ~ @debian@ '; And in the Rule: ... macros.is_debian = 1 ... This Example-macro is a Boolean-macro, it applies a form of filter to the set of results defined by the rule. All macros that are not unary should return Boolean. Device (Boolean) Entity: macros.device Description: Only select devices that aren't deleted, ignored or disabled. Source: (devices.disabled = 0 AND devices.ignore = 0) Device is up (Boolean) Entity: macros.device_up Description: Only select devices that are up. Implies: macros.device Source: (devices.status = 1 AND macros.device) Device is down (Boolean) Entity: macros.device_down Description: Only select devices that are down. Implies: macros.device Source: (devices.status = 0 AND macros.device) Port (Boolean) Entity: macros.port Description: Only select ports that aren't deleted, ignored or disabled. Source: (ports.deleted = 0 AND ports.ignore = 0 AND ports.disabled = 0) Port is up (Boolean) Entity: macros.port_up Description: Only select ports that are up and also should be up. Implies: macros.port Source: (ports.ifOperStatus = up AND ports.ifAdminStatus = up AND macros.port) Port is down (Boolean) Entity: macros.port_down Description: Only select ports that are down. Implies: macros.port Source: (ports.ifOperStatus = \"down\" AND ports.ifAdminStatus != \"down\" AND macros.port) Port-Usage in Percent (Decimal) Entity: macros.port_usage_perc Description: Return port-usage in percent. Source: ((ports.ifInOctets_rate*8) / ports.ifSpeed)*100 Time Now (Datetime) Entity: macros.now Description: Alias of MySQL's NOW() Source: NOW() Past N Minutes (Datetime) Entity: macros.past_$m Description: Returns a MySQL Timestamp dated $ Minutes in the past. $ can only be a supported Resolution. Example: macros.past_5m is Last 5 Minutes. Resolution: 5,10,15,30,60 Source: DATE_SUB(NOW(),INTERVAL $ MINUTE) Sensors (Boolean) Entity: macros.sensor Description: Only select sensors that aren't ignored. Source: (sensors.sensor_alert = 1) Entity: macros.sensor_port_link = 1 Description: Only selects sensors that have a port linked to them, the port is up and the device is up. Source: (sensors.entity_link_type = \"port\" AND sensors.entity_link_index = ports.ifIndex AND macros.port_up AND macros.device_up)) State Sensors (Boolean) Entity: macros.state_sensor_ok , macros.state_sensor_warning , macros.state_sensor_critical , macros.state_sensor_unknown Description: Select state sensors by their generic status ok (0), warning (1), critical (2), unknown (3) Source: (sensors.sensor_current = state_translations.state_value AND state_translations.state_generic_value = 2) Misc (Boolean) Packet Loss Entity: (macros.packet_loss_5m) Description: Packet loss % value for the device within the last 5 minutes. Example: macros.packet_loss_5m 50 Entity: (macros.packet_loss_15m) Description: Packet loss % value for the device within the last 15 minutes. Example: macros.packet_loss_15m 50 Ports in usage perc (Int) Entity: ((ports.ifInOctets_rate*8)/ports.ifSpeed)*100 Description: Port in used more than 50% Example: `macros.port_in_usage_perc 50 Ports out usage perc (Int) Entity: ((ports.ifOutOctets_rate*8)/ports.ifSpeed)*100 Description: Port out used more than 50% Example: `macros.port_out_usage_perc 50 Ports now down (Boolean) Entity: ports.ifOperStatus != ports.ifOperStatus_prev AND ports.ifOperStatus_prev = \"up\" AND ports.ifAdminStatus = \"up\" Description: Ports that were previously up and have now gone down. Example: macros.port_now_down = 1 Device component down [JunOS] Entity: sensors.sensor_class = \"state\" AND sensors.sensor_current != \"6\" AND sensors.sensor_type = \"jnxFruState\" AND sensors.sensor_current != \"2\" Description: Device component is down such as Fan, PSU, etc for JunOS devices. Example: macros.device_component_down_junos = 1 Device component down [Cisco] Entity: sensors.sensor_current != 1 AND sensors.sensor_current != 5 AND sensors.sensor_type ~ \"^cisco.*State$\" Description: Device component is down such as Fan, PSU, etc for Cisco devices. Example: macros.device_component_down_cisco = 1 PDU over amperage [APC] Entity: sensors.sensor_class = \"current\" AND sensors.sensor_descr = \"Bank Total\" AND sensors.sensor_current sensors.sensor_limit AND devices.os = \"apc\" Description: APC PDU over amperage Example: macros.pdu_over_amperage_apc = 1","title":"Macros"},{"location":"Alerting/Macros/#macros","text":"Macros are shorthands to either portion of rules or pure SQL enhanced with placeholders. You can define your own macros in your config.php . Example macro-implementation of Debian-Devices $config['alert']['macros']['rule']['is_debian'] = 'devices.features ~ @debian@ '; And in the Rule: ... macros.is_debian = 1 ... This Example-macro is a Boolean-macro, it applies a form of filter to the set of results defined by the rule. All macros that are not unary should return Boolean.","title":"Macros"},{"location":"Alerting/Macros/#device-boolean","text":"Entity: macros.device Description: Only select devices that aren't deleted, ignored or disabled. Source: (devices.disabled = 0 AND devices.ignore = 0)","title":"Device (Boolean)"},{"location":"Alerting/Macros/#device-is-up-boolean","text":"Entity: macros.device_up Description: Only select devices that are up. Implies: macros.device Source: (devices.status = 1 AND macros.device)","title":"Device is up (Boolean)"},{"location":"Alerting/Macros/#device-is-down-boolean","text":"Entity: macros.device_down Description: Only select devices that are down. Implies: macros.device Source: (devices.status = 0 AND macros.device)","title":"Device is down (Boolean)"},{"location":"Alerting/Macros/#port-boolean","text":"Entity: macros.port Description: Only select ports that aren't deleted, ignored or disabled. Source: (ports.deleted = 0 AND ports.ignore = 0 AND ports.disabled = 0)","title":"Port (Boolean)"},{"location":"Alerting/Macros/#port-is-up-boolean","text":"Entity: macros.port_up Description: Only select ports that are up and also should be up. Implies: macros.port Source: (ports.ifOperStatus = up AND ports.ifAdminStatus = up AND macros.port)","title":"Port is up (Boolean)"},{"location":"Alerting/Macros/#port-is-down-boolean","text":"Entity: macros.port_down Description: Only select ports that are down. Implies: macros.port Source: (ports.ifOperStatus = \"down\" AND ports.ifAdminStatus != \"down\" AND macros.port)","title":"Port is down (Boolean)"},{"location":"Alerting/Macros/#port-usage-in-percent-decimal","text":"Entity: macros.port_usage_perc Description: Return port-usage in percent. Source: ((ports.ifInOctets_rate*8) / ports.ifSpeed)*100","title":"Port-Usage in Percent (Decimal)"},{"location":"Alerting/Macros/#time","text":"","title":"Time"},{"location":"Alerting/Macros/#now-datetime","text":"Entity: macros.now Description: Alias of MySQL's NOW() Source: NOW()","title":"Now (Datetime)"},{"location":"Alerting/Macros/#past-n-minutes-datetime","text":"Entity: macros.past_$m Description: Returns a MySQL Timestamp dated $ Minutes in the past. $ can only be a supported Resolution. Example: macros.past_5m is Last 5 Minutes. Resolution: 5,10,15,30,60 Source: DATE_SUB(NOW(),INTERVAL $ MINUTE)","title":"Past N Minutes (Datetime)"},{"location":"Alerting/Macros/#sensors-boolean","text":"Entity: macros.sensor Description: Only select sensors that aren't ignored. Source: (sensors.sensor_alert = 1) Entity: macros.sensor_port_link = 1 Description: Only selects sensors that have a port linked to them, the port is up and the device is up. Source: (sensors.entity_link_type = \"port\" AND sensors.entity_link_index = ports.ifIndex AND macros.port_up AND macros.device_up))","title":"Sensors (Boolean)"},{"location":"Alerting/Macros/#state-sensors-boolean","text":"Entity: macros.state_sensor_ok , macros.state_sensor_warning , macros.state_sensor_critical , macros.state_sensor_unknown Description: Select state sensors by their generic status ok (0), warning (1), critical (2), unknown (3) Source: (sensors.sensor_current = state_translations.state_value AND state_translations.state_generic_value = 2)","title":"State Sensors (Boolean)"},{"location":"Alerting/Macros/#misc-boolean","text":"","title":"Misc (Boolean)"},{"location":"Alerting/Macros/#packet-loss","text":"Entity: (macros.packet_loss_5m) Description: Packet loss % value for the device within the last 5 minutes. Example: macros.packet_loss_5m 50 Entity: (macros.packet_loss_15m) Description: Packet loss % value for the device within the last 15 minutes. Example: macros.packet_loss_15m 50","title":"Packet Loss"},{"location":"Alerting/Macros/#ports-in-usage-perc-int","text":"Entity: ((ports.ifInOctets_rate*8)/ports.ifSpeed)*100 Description: Port in used more than 50% Example: `macros.port_in_usage_perc 50","title":"Ports in usage perc (Int)"},{"location":"Alerting/Macros/#ports-out-usage-perc-int","text":"Entity: ((ports.ifOutOctets_rate*8)/ports.ifSpeed)*100 Description: Port out used more than 50% Example: `macros.port_out_usage_perc 50","title":"Ports out usage perc (Int)"},{"location":"Alerting/Macros/#ports-now-down-boolean","text":"Entity: ports.ifOperStatus != ports.ifOperStatus_prev AND ports.ifOperStatus_prev = \"up\" AND ports.ifAdminStatus = \"up\" Description: Ports that were previously up and have now gone down. Example: macros.port_now_down = 1","title":"Ports now down (Boolean)"},{"location":"Alerting/Macros/#device-component-down-junos","text":"Entity: sensors.sensor_class = \"state\" AND sensors.sensor_current != \"6\" AND sensors.sensor_type = \"jnxFruState\" AND sensors.sensor_current != \"2\" Description: Device component is down such as Fan, PSU, etc for JunOS devices. Example: macros.device_component_down_junos = 1","title":"Device component down [JunOS]"},{"location":"Alerting/Macros/#device-component-down-cisco","text":"Entity: sensors.sensor_current != 1 AND sensors.sensor_current != 5 AND sensors.sensor_type ~ \"^cisco.*State$\" Description: Device component is down such as Fan, PSU, etc for Cisco devices. Example: macros.device_component_down_cisco = 1","title":"Device component down [Cisco]"},{"location":"Alerting/Macros/#pdu-over-amperage-apc","text":"Entity: sensors.sensor_class = \"current\" AND sensors.sensor_descr = \"Bank Total\" AND sensors.sensor_current sensors.sensor_limit AND devices.os = \"apc\" Description: APC PDU over amperage Example: macros.pdu_over_amperage_apc = 1","title":"PDU over amperage [APC]"},{"location":"Alerting/Old_Templates/","text":"Templates Templates can be assigned to a single or a group of rules and can contain any kind of text. There is also a default template which is used for any rule that isn't associated with a template. This template can be found under Alert Templates page and can be edited. It also has an option revert it back to its default content. The template-parser understands if and foreach controls and replaces certain placeholders with information gathered about the alert. Syntax Controls: if-else (Else can be omitted): {if %placeholder == value}Some Text{else}Other Text{/if} foreach-loop: {foreach %faults}Key: %key br/ Value: %value{/foreach} Placeholders: Placeholders are special variables that if used within the template will be replaced with the relevant data, I.e: The device %hostname has been up for %uptime seconds would result in the following The device localhost has been up for 30344 seconds . Device ID: %device_id Hostname of the Device: %hostname sysName of the Device: %sysName sysDescr of the Device: %sysDescr hardware of the Device: %hardware Software version of the Device: %version location of the Device: %location uptime of the Device (in seconds): %uptime short uptime of the Device (28d 22h 30m 7s): %uptime_short long uptime of the Device (28 days, 22h 30m 7s): %uptime_long description (purpose db field) of the Device: %description notes of the Device: %notes notes of the alert: %alert_notes ping timestamp (if icmp enabled): %ping_timestamp ping loss (if icmp enabled): %ping_loss ping min (if icmp enabled): %ping_min ping max (if icmp enabled): %ping_max ping avg (if icmp enabled): %ping_avg Title for the Alert: %title Time Elapsed, Only available on recovery ( %state == 0 ): %elapsed Alert-ID: %id Unique-ID: %uid Faults, Only available on alert ( %state != 0 ), must be iterated in a foreach ( {foreach %faults} ). Holds all available information about the Fault, accessible in the format %value.Column , for example: %value.ifDescr . Special field %value.string has most Identification-information (IDs, Names, Descrs) as single string, this is the equivalent of the default used. State: %state Severity: %severity Rule: %rule Rule-Name: %name Timestamp: %timestamp Transport name: %transport Contacts, must be iterated in a foreach, %key holds email and %value holds name: %contacts Placeholders can be used within the subjects for templates as well although %faults is most likely going to be worthless. NOTE: Placeholder names which are contained within another need to be ordered correctly. As an example: Limit: %value.sensor_limit / %value.sensor_limit_low Should be done as: Limit: %value.sensor_limit_low / %value.sensor_limit The Default Template is a 'one-size-fit-all'. We highly recommend defining your own templates for your rules to include more specific information. Examples Default Template: %title Severity: %severity {if %state == 0}Time elapsed: %elapsed{/if} Timestamp: %timestamp Unique-ID: %uid Rule: {if %name}%name{else}%rule{/if} {if %faults}Faults: {foreach %faults} #%key: %value.string{/foreach}{/if} Alert sent to: {foreach %contacts}%value %key {/foreach} Ports Utilization Template: %title Device Name: %hostname Severity: %severity {if %state == 0}Time elapsed: %elapsed{/if} Timestamp: %timestamp Rule: {if %name}%name{else}%rule{/if} {foreach %faults} Physical Interface: %value.ifDescr Interface Description: %value.ifAlias Interface Speed: {calc (%value.ifSpeed/1000000000)} Gbs Inbound Utilization: {calc ((%value.ifInOctets_rate*8)/%value.ifSpeed)*100}% Outbound Utilization: {calc ((%value.ifOutOctets_rate*8)/%value.ifSpeed)*100}% {/foreach} Storage: %title Device Name: %hostname Severity: %severity Uptime: %uptime_short {if %state == 0}Time elapsed: %elapsed{/if} Timestamp: %timestamp Location: %location Description: %description Features: %features Purpose: %purpose Notes: %notes Server: %sysName {foreach %faults}Mount Point: %value.storage_descr Percent Utilized: %value.storage_perc{/foreach} Temperature Sensors: %title Device Name: %hostname Severity: %severity Timestamp: %timestamp Uptime: %uptime_short {if %state == 0}Time elapsed: %elapsed{/if} Location: %location Description: %description Features: %features Purpose: %purpose Notes: %notes Rule: {if %name}%name{else}%rule{/if} {if %faults}Faults: {foreach %faults} #%key: Temperature: %value.sensor_current\u00b0C ** {calc(%value.sensor_current-%value.sensor_limit)}\u00b0C over limit Previous Measurement: %value.sensor_prev\u00b0C High Temperature Limit: %value.sensor_limit\u00b0C {/foreach} {/if} Value Sensors: %title Device Name: %hostname Severity: %severity Timestamp: %timestamp Uptime: %uptime_short {if %state == 0}Time elapsed: %elapsed{/if} Location: %location Description: %description Features: %features Purpose: %purpose Notes: %notes Rule: {if %name}%name{else}%rule{/if} {if %faults}Faults: {foreach %faults} #%key: Sensor%value.sensor_current ** {calc(%value.sensor_current-%value.sensor_limit)}over limit Previous Measurement: %value.sensor_prev Limit: %value.sensor_limit {/foreach} {/if} Memory Alert: %title Device Name: %hostname Severity: %severity Uptime: %uptime_short {if %state == 0}Time elapsed: %elapsed{/if} Timestamp: %timestamp Location: %location Description: %description Notes: %notes Server: %hostname {foreach %faults} Memory Description: %value.mempool_descr Percent Utilized: %value.mempool_perc{/foreach} Conditional formatting example, will display a link to the host in email or just the hostname in any other transport: {if %transport == mail} a href= https://my.librenms.install/device/device=%hostname/ %hostname /a {else} %hostname {/if} Note the use of double-quotes. Single quotes ( ' ) in templates will be escaped (replaced with \\' ) in the output and should therefore be avoided. Examples HTML Note: To use HTML emails you must set HTML email to Yes in the WebUI under Global Settings Alerting Settings Email transport Use HTML emails Note: To include Graphs you must enable unauthorized graphs in config.php. Allow_unauth_graphs_cidr is optional, but more secure. $config['allow_unauth_graphs_cidr'] = array('127.0.0.1/32'); $config['allow_unauth_graphs'] = true; Service Alert: div style= font-family:Helvetica; h2 {if %state == 1} span style= color:red; %severity{/if} {if %state == 2} span style= color:goldenrod; acknowledged{/if} /span {if %state == 3} span style= color:green; recovering{/if} /span {if %state == 0} span style= color:green; recovered{/if} /span /h2 b Host: /b %hostname br b Duration: /b %elapsed br br {if %faults} {foreach %faults} b %value.service_desc - %value.service_type /b br %value.service_message br br {/foreach} {/if} /div Processor Alert with Graph: %title br Severity: %severity br {if %state == 0}Time elapsed: %elapsed{/if} Timestamp: %timestamp br Alert-ID: %id br Rule: {if %name}%name{else}%rule{/if} br {if %faults}Faults: {foreach %faults} #%key: %value.string br {/foreach} {if %faults} b Faults: /b br {foreach %faults} img src= https://server/graph.php?device=%value.device_id type=device_processor width=459 height=213 lazy_w=552 from=end-72h%22/%3E br https://server/graphs/id=%value.device_id/type=device_processor/ br {/foreach} Template: CPU alert br {/if} {/if} Included We include a few templates for you to use, these are specific to the type of alert rules you are creating. For example if you create a rule that would alert on BGP sessions then you can assign the BGP template to this rule to provide more information. The included templates apart from the default template are: BGP Sessions Ports Temperature","title":"Templates"},{"location":"Alerting/Old_Templates/#templates","text":"Templates can be assigned to a single or a group of rules and can contain any kind of text. There is also a default template which is used for any rule that isn't associated with a template. This template can be found under Alert Templates page and can be edited. It also has an option revert it back to its default content. The template-parser understands if and foreach controls and replaces certain placeholders with information gathered about the alert.","title":"Templates"},{"location":"Alerting/Old_Templates/#syntax","text":"Controls: if-else (Else can be omitted): {if %placeholder == value}Some Text{else}Other Text{/if} foreach-loop: {foreach %faults}Key: %key br/ Value: %value{/foreach} Placeholders: Placeholders are special variables that if used within the template will be replaced with the relevant data, I.e: The device %hostname has been up for %uptime seconds would result in the following The device localhost has been up for 30344 seconds . Device ID: %device_id Hostname of the Device: %hostname sysName of the Device: %sysName sysDescr of the Device: %sysDescr hardware of the Device: %hardware Software version of the Device: %version location of the Device: %location uptime of the Device (in seconds): %uptime short uptime of the Device (28d 22h 30m 7s): %uptime_short long uptime of the Device (28 days, 22h 30m 7s): %uptime_long description (purpose db field) of the Device: %description notes of the Device: %notes notes of the alert: %alert_notes ping timestamp (if icmp enabled): %ping_timestamp ping loss (if icmp enabled): %ping_loss ping min (if icmp enabled): %ping_min ping max (if icmp enabled): %ping_max ping avg (if icmp enabled): %ping_avg Title for the Alert: %title Time Elapsed, Only available on recovery ( %state == 0 ): %elapsed Alert-ID: %id Unique-ID: %uid Faults, Only available on alert ( %state != 0 ), must be iterated in a foreach ( {foreach %faults} ). Holds all available information about the Fault, accessible in the format %value.Column , for example: %value.ifDescr . Special field %value.string has most Identification-information (IDs, Names, Descrs) as single string, this is the equivalent of the default used. State: %state Severity: %severity Rule: %rule Rule-Name: %name Timestamp: %timestamp Transport name: %transport Contacts, must be iterated in a foreach, %key holds email and %value holds name: %contacts Placeholders can be used within the subjects for templates as well although %faults is most likely going to be worthless. NOTE: Placeholder names which are contained within another need to be ordered correctly. As an example: Limit: %value.sensor_limit / %value.sensor_limit_low Should be done as: Limit: %value.sensor_limit_low / %value.sensor_limit The Default Template is a 'one-size-fit-all'. We highly recommend defining your own templates for your rules to include more specific information.","title":"Syntax"},{"location":"Alerting/Old_Templates/#examples","text":"Default Template: %title Severity: %severity {if %state == 0}Time elapsed: %elapsed{/if} Timestamp: %timestamp Unique-ID: %uid Rule: {if %name}%name{else}%rule{/if} {if %faults}Faults: {foreach %faults} #%key: %value.string{/foreach}{/if} Alert sent to: {foreach %contacts}%value %key {/foreach} Ports Utilization Template: %title Device Name: %hostname Severity: %severity {if %state == 0}Time elapsed: %elapsed{/if} Timestamp: %timestamp Rule: {if %name}%name{else}%rule{/if} {foreach %faults} Physical Interface: %value.ifDescr Interface Description: %value.ifAlias Interface Speed: {calc (%value.ifSpeed/1000000000)} Gbs Inbound Utilization: {calc ((%value.ifInOctets_rate*8)/%value.ifSpeed)*100}% Outbound Utilization: {calc ((%value.ifOutOctets_rate*8)/%value.ifSpeed)*100}% {/foreach} Storage: %title Device Name: %hostname Severity: %severity Uptime: %uptime_short {if %state == 0}Time elapsed: %elapsed{/if} Timestamp: %timestamp Location: %location Description: %description Features: %features Purpose: %purpose Notes: %notes Server: %sysName {foreach %faults}Mount Point: %value.storage_descr Percent Utilized: %value.storage_perc{/foreach} Temperature Sensors: %title Device Name: %hostname Severity: %severity Timestamp: %timestamp Uptime: %uptime_short {if %state == 0}Time elapsed: %elapsed{/if} Location: %location Description: %description Features: %features Purpose: %purpose Notes: %notes Rule: {if %name}%name{else}%rule{/if} {if %faults}Faults: {foreach %faults} #%key: Temperature: %value.sensor_current\u00b0C ** {calc(%value.sensor_current-%value.sensor_limit)}\u00b0C over limit Previous Measurement: %value.sensor_prev\u00b0C High Temperature Limit: %value.sensor_limit\u00b0C {/foreach} {/if} Value Sensors: %title Device Name: %hostname Severity: %severity Timestamp: %timestamp Uptime: %uptime_short {if %state == 0}Time elapsed: %elapsed{/if} Location: %location Description: %description Features: %features Purpose: %purpose Notes: %notes Rule: {if %name}%name{else}%rule{/if} {if %faults}Faults: {foreach %faults} #%key: Sensor%value.sensor_current ** {calc(%value.sensor_current-%value.sensor_limit)}over limit Previous Measurement: %value.sensor_prev Limit: %value.sensor_limit {/foreach} {/if} Memory Alert: %title Device Name: %hostname Severity: %severity Uptime: %uptime_short {if %state == 0}Time elapsed: %elapsed{/if} Timestamp: %timestamp Location: %location Description: %description Notes: %notes Server: %hostname {foreach %faults} Memory Description: %value.mempool_descr Percent Utilized: %value.mempool_perc{/foreach} Conditional formatting example, will display a link to the host in email or just the hostname in any other transport: {if %transport == mail} a href= https://my.librenms.install/device/device=%hostname/ %hostname /a {else} %hostname {/if} Note the use of double-quotes. Single quotes ( ' ) in templates will be escaped (replaced with \\' ) in the output and should therefore be avoided.","title":"Examples"},{"location":"Alerting/Old_Templates/#examples-html","text":"Note: To use HTML emails you must set HTML email to Yes in the WebUI under Global Settings Alerting Settings Email transport Use HTML emails Note: To include Graphs you must enable unauthorized graphs in config.php. Allow_unauth_graphs_cidr is optional, but more secure. $config['allow_unauth_graphs_cidr'] = array('127.0.0.1/32'); $config['allow_unauth_graphs'] = true; Service Alert: div style= font-family:Helvetica; h2 {if %state == 1} span style= color:red; %severity{/if} {if %state == 2} span style= color:goldenrod; acknowledged{/if} /span {if %state == 3} span style= color:green; recovering{/if} /span {if %state == 0} span style= color:green; recovered{/if} /span /h2 b Host: /b %hostname br b Duration: /b %elapsed br br {if %faults} {foreach %faults} b %value.service_desc - %value.service_type /b br %value.service_message br br {/foreach} {/if} /div Processor Alert with Graph: %title br Severity: %severity br {if %state == 0}Time elapsed: %elapsed{/if} Timestamp: %timestamp br Alert-ID: %id br Rule: {if %name}%name{else}%rule{/if} br {if %faults}Faults: {foreach %faults} #%key: %value.string br {/foreach} {if %faults} b Faults: /b br {foreach %faults} img src= https://server/graph.php?device=%value.device_id type=device_processor width=459 height=213 lazy_w=552 from=end-72h%22/%3E br https://server/graphs/id=%value.device_id/type=device_processor/ br {/foreach} Template: CPU alert br {/if} {/if}","title":"Examples HTML"},{"location":"Alerting/Old_Templates/#included","text":"We include a few templates for you to use, these are specific to the type of alert rules you are creating. For example if you create a rule that would alert on BGP sessions then you can assign the BGP template to this rule to provide more information. The included templates apart from the default template are: BGP Sessions Ports Temperature","title":"Included"},{"location":"Alerting/Rules/","text":"Rules Rules are defined using a logical language. The GUI provides a simple way of creating rules. Creating more complicated rules which may include maths calculations and MySQL queries can be done using macros Video on how the alert rules work in LibreNMS Alert Rules Video on how to use alert rule with wildcards Alert Rules wildcard Syntax Rules must consist of at least 3 elements: An Entity , a Condition and a Value . Rules can contain braces and Glues . Entities are provided from Table and Field from the database. For Example: ports.ifOperStatus . Conditions can be any of: Equals = Not Equals != In IN Not In NOT IN Begins with LIKE ('%...') Doesn't begin with NOT LIKE ('%...') Contains LIKE ('%...%') Doesn't Contain NOT LIKE ('%...%') Ends with LIKE ('...%') Doesn't end with NOT LIKE ('...%') Between BETWEEN Not Between NOT BETWEEN Is Empty = '' Is Not Empty != ''' Is Null IS NULL Is Not Null IS NOT NULL Greater Greater or Equal = Less Less or Equal = Regex REGEXP Values can be an entity or any data. If using macros as value you must include the macro name into backticks. i.e. `macros.past_60m` Note : Regex supports MySQL Regular expressions. Arithmetics are allowed as well. Options Here are some of the other options available when adding an alerting rule: Rule name: The name associated with the rule. Severity: How \"important\" the rule is. Max alerts: The maximum number of alerts sent for the event. -1 means unlimited. Delay: The amount of time in seconds to wait after a rule is matched before sending an alert out transport. Interval: The interval of time in seconds between alerts for an event until Max alert is reached. Mute alerts: Disables sending alert rule through alert transport. But will still show the alert in the Web UI. Invert match: Invert the matching rule (ie. alert on items that don't match the rule). Recovery alerts: This will disable the recovery notification from being sent if turned off. Advanced On the Advanced tab, you can specify some additional options for the alert rule: Override SQL: Enable this if you using a custom query Query: The query to be used for the alert. An example of this would be an average rule for all CPUs over 10% SELECT *,AVG(processors.processor_usage) as cpu_avg FROM devices,processors WHERE (devices.device_id = ? AND devices.device_id = processors.device_id) AND (devices.status = 1 (devices.disabled = 0 devices.ignore = 0)) = 1 HAVING AVG(processors.processor_usage) 10 The 10 would then contain the average CPU usage value, you can change this value to be whatever you like. You will to need copy and paste this into the Alert Rule under Advanced then paste into Query box and switch the Override SQL. Procedure You can associate a rule to a procedure by giving the URL of the procedure when creating the rule. Only links like \"http://\" are supported, otherwise an error will be returned. Once configured, procedure can be opened from the Alert widget through the \"Open\" button, which can be shown/hidden from the widget configuration box. Examples Alert when: Device goes down: devices.status != 1 Any port changes: ports.ifOperStatus != 'up' Root-directory gets too full: storage.storage_descr = '/' AND storage.storage_perc = '75' Any storage gets fuller than the 'warning': storage.storage_perc = storage_perc_warn If device is a server and the used storage is above the warning level, but ignore /boot partitions: storage.storage_perc storage.storage_perc_warn AND devices.type = \"server\" AND storage.storage_descr != \"/boot\" VMware LAG is not using \"Source ip address hash\" load balancing: devices.os = \"vmware\" AND ports.ifType = \"ieee8023adLag\" AND ports.ifDescr REGEXP \"Link Aggregation .*, load balancing algorithm: Source ip address hash\" Syslog, authentication failure during the last 5m: syslog.timestamp = macros.past_5m AND syslog.msg REGEXP \".*authentication failure.*\" High memory usage: macros.device_up = 1 AND mempools.mempool_perc = 90 AND mempools.mempool_descr REGEXP \"Virtual.*\" High CPU usage(per core usage, not overall): macros.device_up = 1 AND processors.processor_usage = 90 High port usage, where description is not client ifType is not softwareLoopback: macros.port_usage_perc = 80 AND port.port_descr_type != \"client\" AND ports.ifType != \"softwareLoopback\" Alert when mac address is located on your network ipv4_mac.mac_address = \"2c233a756912\" Alert Rules Collection You can also select Alert Rule from the Alerts Collection. These Alert Rules are submitted by users in the community :) If would like to submit your alert rules to the collection, please submit them here Alert Rules Collection","title":"Rules"},{"location":"Alerting/Rules/#rules","text":"Rules are defined using a logical language. The GUI provides a simple way of creating rules. Creating more complicated rules which may include maths calculations and MySQL queries can be done using macros","title":"Rules"},{"location":"Alerting/Rules/#video-on-how-the-alert-rules-work-in-librenms","text":"Alert Rules","title":"Video on how the alert rules work in LibreNMS"},{"location":"Alerting/Rules/#video-on-how-to-use-alert-rule-with-wildcards","text":"Alert Rules wildcard","title":"Video on how to use alert rule with wildcards"},{"location":"Alerting/Rules/#syntax","text":"Rules must consist of at least 3 elements: An Entity , a Condition and a Value . Rules can contain braces and Glues . Entities are provided from Table and Field from the database. For Example: ports.ifOperStatus . Conditions can be any of: Equals = Not Equals != In IN Not In NOT IN Begins with LIKE ('%...') Doesn't begin with NOT LIKE ('%...') Contains LIKE ('%...%') Doesn't Contain NOT LIKE ('%...%') Ends with LIKE ('...%') Doesn't end with NOT LIKE ('...%') Between BETWEEN Not Between NOT BETWEEN Is Empty = '' Is Not Empty != ''' Is Null IS NULL Is Not Null IS NOT NULL Greater Greater or Equal = Less Less or Equal = Regex REGEXP Values can be an entity or any data. If using macros as value you must include the macro name into backticks. i.e. `macros.past_60m` Note : Regex supports MySQL Regular expressions. Arithmetics are allowed as well.","title":"Syntax"},{"location":"Alerting/Rules/#options","text":"Here are some of the other options available when adding an alerting rule: Rule name: The name associated with the rule. Severity: How \"important\" the rule is. Max alerts: The maximum number of alerts sent for the event. -1 means unlimited. Delay: The amount of time in seconds to wait after a rule is matched before sending an alert out transport. Interval: The interval of time in seconds between alerts for an event until Max alert is reached. Mute alerts: Disables sending alert rule through alert transport. But will still show the alert in the Web UI. Invert match: Invert the matching rule (ie. alert on items that don't match the rule). Recovery alerts: This will disable the recovery notification from being sent if turned off.","title":"Options"},{"location":"Alerting/Rules/#advanced","text":"On the Advanced tab, you can specify some additional options for the alert rule: Override SQL: Enable this if you using a custom query Query: The query to be used for the alert. An example of this would be an average rule for all CPUs over 10% SELECT *,AVG(processors.processor_usage) as cpu_avg FROM devices,processors WHERE (devices.device_id = ? AND devices.device_id = processors.device_id) AND (devices.status = 1 (devices.disabled = 0 devices.ignore = 0)) = 1 HAVING AVG(processors.processor_usage) 10 The 10 would then contain the average CPU usage value, you can change this value to be whatever you like. You will to need copy and paste this into the Alert Rule under Advanced then paste into Query box and switch the Override SQL.","title":"Advanced"},{"location":"Alerting/Rules/#procedure","text":"You can associate a rule to a procedure by giving the URL of the procedure when creating the rule. Only links like \"http://\" are supported, otherwise an error will be returned. Once configured, procedure can be opened from the Alert widget through the \"Open\" button, which can be shown/hidden from the widget configuration box.","title":"Procedure"},{"location":"Alerting/Rules/#examples","text":"Alert when: Device goes down: devices.status != 1 Any port changes: ports.ifOperStatus != 'up' Root-directory gets too full: storage.storage_descr = '/' AND storage.storage_perc = '75' Any storage gets fuller than the 'warning': storage.storage_perc = storage_perc_warn If device is a server and the used storage is above the warning level, but ignore /boot partitions: storage.storage_perc storage.storage_perc_warn AND devices.type = \"server\" AND storage.storage_descr != \"/boot\" VMware LAG is not using \"Source ip address hash\" load balancing: devices.os = \"vmware\" AND ports.ifType = \"ieee8023adLag\" AND ports.ifDescr REGEXP \"Link Aggregation .*, load balancing algorithm: Source ip address hash\" Syslog, authentication failure during the last 5m: syslog.timestamp = macros.past_5m AND syslog.msg REGEXP \".*authentication failure.*\" High memory usage: macros.device_up = 1 AND mempools.mempool_perc = 90 AND mempools.mempool_descr REGEXP \"Virtual.*\" High CPU usage(per core usage, not overall): macros.device_up = 1 AND processors.processor_usage = 90 High port usage, where description is not client ifType is not softwareLoopback: macros.port_usage_perc = 80 AND port.port_descr_type != \"client\" AND ports.ifType != \"softwareLoopback\" Alert when mac address is located on your network ipv4_mac.mac_address = \"2c233a756912\"","title":"Examples"},{"location":"Alerting/Rules/#alert-rules-collection","text":"You can also select Alert Rule from the Alerts Collection. These Alert Rules are submitted by users in the community :) If would like to submit your alert rules to the collection, please submit them here Alert Rules Collection","title":"Alert Rules Collection"},{"location":"Alerting/Templates/","text":"Templates This page is for installs running version 1.42 or later. You can find the older docs here Templates can be assigned to a single or a group of rules and can contain any kind of text. There is also a default template which is used for any rule that isn't associated with a template. This template can be found under Alert Templates page and can be edited. It also has an option revert it back to its default content. To attach a template to a rule just open the Alert Templates settings page, choose the template to assign and click the yellow button in the Actions column. In the appearing popupbox select the rule(s) you want the template to be assigned to and click the Attach button. You might hold down the CTRL key to select multiple rules at once. The templating engine in use is Laravel Blade. We will cover some of the basics here, however the official Laravel docs will have more information here Syntax Controls: if-else (Else can be omitted): @if ($alert- placeholder == 'value') Some Text @else Other Text @endif foreach-loop: @foreach ($alert- faults as $key = $value) Key: $key br/ Value: $value @endforeach Placeholders: Placeholders are special variables that if used within the template will be replaced with the relevant data, I.e: The device {{ $alert- hostname }} has been up for {{ $alert- uptime }} seconds would result in the following The device localhost has been up for 30344 seconds . When using placeholders to echo data, you need to wrap the placeholder in {{ }} . I.e {{ $alert- hostname }} . Device ID: $alert- device_id Hostname of the Device: $alert- hostname sysName of the Device: $alert- sysName sysDescr of the Device: $alert- sysDescr sysContact of the Device: $alert- sysContact OS of the Device: $alert- os Type of Device: $alert- type IP of the Device: $alert- ip hardware of the Device: $alert- hardware Software version of the Device: $alert- version location of the Device: $alert- location uptime of the Device (in seconds): $alert- uptime short uptime of the Device (28d 22h 30m 7s): $alert- uptime_short long uptime of the Device (28 days, 22h 30m 7s): $alert- uptime_long description (purpose db field) of the Device: $alert- description notes of the Device: $alert- notes notes of the alert (ack notes): $alert- alert_notes ping timestamp (if icmp enabled): $alert- ping_timestamp ping loss (if icmp enabled): $alert- ping_loss ping min (if icmp enabled): $alert- ping_min ping max (if icmp enabled): $alert- ping_max ping avg (if icmp enabled): $alert- ping_avg Title for the Alert: $alert- title Time Elapsed, Only available on recovery ( $alert- state == 0 ): $alert- elapsed Rule Builder (the actual rule) (use {!! $alert- builder !!} ): $alert- builder Alert-ID: $alert- id Unique-ID: $alert- uid Faults, Only available on alert ( $alert- state != 0 ), must be iterated in a foreach ( @foreach ($alert- faults as $key = $value) @endforeach ). Holds all available information about the Fault, accessible in the format $value['Column'] , for example: $value['ifDescr'] . Special field $value['string'] has most Identification-information (IDs, Names, Descrs) as single string, this is the equivalent of the default used and must be encased in {{ }} State: $alert- state Severity: $alert- severity Rule: $alert- rule Rule-Name: $alert- name Timestamp: $alert- timestamp Transport name: $alert- transport Contacts, must be iterated in a foreach, $key holds email and $value holds name: $alert- contacts Placeholders can be used within the subjects for templates as well although $faults is most likely going to be worthless. The Default Template is a 'one-size-fit-all'. We highly recommend defining your own templates for your rules to include more specific information. Base Templates If you'd like to reuse a common template for your alerts follow below A default file is located in resources/views/alerts/templates/default.blade.php Displays the following: html head title LibreNMS Alert /title /head body div class= container @yield('content') /div /body /html The important part being the @yield('content') You can use plain text or html as per Alert templates and this will form the basis of your common template, feel free to make as many templates in the directory as needed. In your alert template just use @extends('alerts.templates.default'); @section('content') {{ $alert- title }} Severity: {{ $alert- severity }} ... @endsection More info: https://laravel.com/docs/5.4/blade#extending-a-layout Examples Default Template: {{ $alert- title }} Severity: {{ $alert- severity }} @if ($alert- state == 0) Time elapsed: {{ $alert- elapsed }} @endif Timestamp: {{ $alert- timestamp }} Unique-ID: {{ $alert- uid }} Rule: @if ($alert- name) {{ $alert- name }} @else {{ $alert- rule }} @endif @if ($alert- faults) Faults: @foreach ($alert- faults as $key = $value) {{ $key }}: {{ $value['string'] }} @endforeach @endif Alert sent to: @foreach ($alert- contacts as $key = $value) {{ $value }} {{ $key }} @endforeach Ports Utilization Template: {{ $alert- title }} Device Name: {{ $alert- hostname }} Severity: {{ $alert- severity }} @if ($alert- state == 0) Time elapsed: {{ $alert- elapsed }} @endif Timestamp: {{ $alert- timestamp }} Rule: @if ($alert- name) {{ $alert- name }} @else {{ $alert- rule }} @endif @foreach ($alert- faults as $key = $value) Physical Interface: {{ $value['ifDescr'] }} Interface Description: {{ $value['ifAlias'] }} Interface Speed: {{ ($value['ifSpeed']/1000000000) }} Gbs Inbound Utilization: {{ (($value['ifInOctets_rate']*8)/$value['ifSpeed'])*100 }} Outbound Utilization: {{ (($value['ifOutOctets_rate']*8)/$value['ifSpeed'])*100 }} @endforeach Storage: {{ $alert- title }} Device Name: {{ $alert- hostname }} Severity: {{ $alert- severity }} Uptime: {{ $alert- uptime_short }} @if ($alert- state == 0) Time elapsed: {{ $alert- elapsed }} @endif Timestamp: {{ $alert- timestamp }} Location: {{ $alert- location }} Description: {{ $alert- description }} Features: {{ $alert- features }} Purpose: {{ $alert- purpose }} Notes: {{ $alert- notes }} Server: {{ $alert- sysName }} @foreach ($alert- faults as $key = $value) Mount Point: {{ $value['storage_descr'] }} Percent Utilized: {{ $value['storage_perc'] }} @endforeach Temperature Sensors: {{ $alert- title }} Device Name: {{ $alert- hostname }} Severity: {{ $alert- severity }} Timestamp: {{ $alert- timestamp }} Uptime: {{ $alert- uptime_short }} @if ($alert- state == 0) Time elapsed: {{ $alert- elapsed }} @endif Location: {{ $alert- location }} Description: {{ $alert- description }} Features: {{ $alert- features }} Purpose: {{ $alert- purpose }} Notes: {{ $alert- notes }} Rule: @if ($alert- name) {{ $alert- name }} @else {{ $alert- rule }} @endif @if ($alert- faults) Faults: @foreach ($faults as $key = $value) #{{ $key }}: Temperature: {{ $value['sensor_current'] }} \u00b0C ** @php echo ($value['sensor_current']-$value['sensor_limit']); @endphp\u00b0C over limit Previous Measurement: {{ $value['sensor_prev'] }} \u00b0C High Temperature Limit: {{ $value['sensor_limit'] }} \u00b0C @endforeach @endif Value Sensors: {{ $alert- title }} Device Name: {{ $alert- hostname }} Severity: {{ $alert- severity }} Timestamp: {{ $alert- timestamp }} Uptime: {{ $alert- uptime_short }} @if ($alert- state == 0) Time elapsed: {{ $alert- elapsed }} @endif Location: {{ $alert- location }} Description: {{ $alert- description }} Features: {{ $alert- features }} Purpose: {{ $alert- purpose }} Notes: {{ $alert- notes }} Rule: @if ($alert- name) {{ $alert- name }} @else {{ $alert- rule }} @endif @if ($alert- faults) Faults: @foreach ($alert- faults as $key = $value) #{{ $key }}: Sensor {{ $value['sensor_current'] }} ** @php echo ($value['sensor_current']-$value['sensor_limit']); @endphp over limit Previous Measurement: {{ $value['sensor_prev'] }} Limit: {{ $value['sensor_limit'] }} @endforeach @endif Memory Alert: {{ $alert- title }} Device Name: {{ $alert- hostname }} Severity: {{ $alert- severity }} Uptime: {{ $alert- uptime_short }} @if ($alert- state == 0) Time elapsed: {{ $alert- elapsed }} @endif Timestamp: {{ $alert- timestamp }} Location: {{ $alert- location }} Description: {{ $alert- description }} Notes: {{ $alert- notes }} Server: {{ $alert- hostname }} @foreach ($alert- faults as $key = $value) Memory Description: {{ $value['mempool_descr'] }} Percent Utilized: {{ $value['mempool_perc'] }} @endforeach Conditional formatting example, will display a link to the host in email or just the hostname in any other transport: @if ($alert- transport == mail) a href= https://my.librenms.install/device/device={{ $alert- hostname }}/ {{ $alert- hostname }} /a @else {{ $alert- hostname }} @endif Examples HTML Note: To use HTML emails you must set HTML email to Yes in the WebUI under Global Settings Alerting Settings Email transport Use HTML emails Note: To include Graphs you must enable unauthorized graphs in config.php. Allow_unauth_graphs_cidr is optional, but more secure. $config['allow_unauth_graphs_cidr'] = array('127.0.0.1/32'); $config['allow_unauth_graphs'] = true; Service Alert: div style= font-family:Helvetica; h2 @if ($alert- state == 1) span style= color:red; {{ $alert- severity }} @endif @if ($alert- state == 2) span style= color:goldenrod; acknowledged @endif /span @if ($alert- state == 3) span style= color:green; recovering @endif /span @if ($alert- state == 0) span style= color:green; recovered @endif /span /h2 b Host: /b {{ $alert- hostname }} br b Duration: /b {{ $alert- elapsed }} br br @if ($alert- faults) @foreach ($alert- faults as $key = $value) b {{ $value['service_desc'] }} - {{ $value['service_type'] }} /b br {{ $value['service_message'] }} br br @endforeach @endif /div Processor Alert with Graph: {{ $alert- title }} br Severity: {{ $alert- severity }} br @if ($alert- state == 0) Time elapsed: {{ $alert- elapsed }} @endif Timestamp: {{ $alert- timestamp }} br Alert-ID: {{ $alert- id }} br Rule: @if ($alert- name) {{ $alert- name }} @else {{ $alert- rule }} @endif br @if ($alert- faults) Faults: @foreach ($alert- faults as $key = $value) {{ $key }}: {{ $value['string'] }} br @endforeach @if ($alert- faults) b Faults: /b br @foreach ($alert- faults as $key = $value) img src= https://server/graph.php?device={{ $value['device_id'] }} type=device_processor width=459 height=213 lazy_w=552 from=end-72h br https://server/graphs/id={{ $value['device_id'] }}/type=device_processor/ br @endforeach Template: CPU alert br @endif @endif Included We include a few templates for you to use, these are specific to the type of alert rules you are creating. For example if you create a rule that would alert on BGP sessions then you can assign the BGP template to this rule to provide more information. The included templates apart from the default template are: BGP Sessions Ports Temperature","title":"Templates"},{"location":"Alerting/Templates/#templates","text":"This page is for installs running version 1.42 or later. You can find the older docs here Templates can be assigned to a single or a group of rules and can contain any kind of text. There is also a default template which is used for any rule that isn't associated with a template. This template can be found under Alert Templates page and can be edited. It also has an option revert it back to its default content. To attach a template to a rule just open the Alert Templates settings page, choose the template to assign and click the yellow button in the Actions column. In the appearing popupbox select the rule(s) you want the template to be assigned to and click the Attach button. You might hold down the CTRL key to select multiple rules at once. The templating engine in use is Laravel Blade. We will cover some of the basics here, however the official Laravel docs will have more information here","title":"Templates"},{"location":"Alerting/Templates/#syntax","text":"Controls: if-else (Else can be omitted): @if ($alert- placeholder == 'value') Some Text @else Other Text @endif foreach-loop: @foreach ($alert- faults as $key = $value) Key: $key br/ Value: $value @endforeach Placeholders: Placeholders are special variables that if used within the template will be replaced with the relevant data, I.e: The device {{ $alert- hostname }} has been up for {{ $alert- uptime }} seconds would result in the following The device localhost has been up for 30344 seconds . When using placeholders to echo data, you need to wrap the placeholder in {{ }} . I.e {{ $alert- hostname }} . Device ID: $alert- device_id Hostname of the Device: $alert- hostname sysName of the Device: $alert- sysName sysDescr of the Device: $alert- sysDescr sysContact of the Device: $alert- sysContact OS of the Device: $alert- os Type of Device: $alert- type IP of the Device: $alert- ip hardware of the Device: $alert- hardware Software version of the Device: $alert- version location of the Device: $alert- location uptime of the Device (in seconds): $alert- uptime short uptime of the Device (28d 22h 30m 7s): $alert- uptime_short long uptime of the Device (28 days, 22h 30m 7s): $alert- uptime_long description (purpose db field) of the Device: $alert- description notes of the Device: $alert- notes notes of the alert (ack notes): $alert- alert_notes ping timestamp (if icmp enabled): $alert- ping_timestamp ping loss (if icmp enabled): $alert- ping_loss ping min (if icmp enabled): $alert- ping_min ping max (if icmp enabled): $alert- ping_max ping avg (if icmp enabled): $alert- ping_avg Title for the Alert: $alert- title Time Elapsed, Only available on recovery ( $alert- state == 0 ): $alert- elapsed Rule Builder (the actual rule) (use {!! $alert- builder !!} ): $alert- builder Alert-ID: $alert- id Unique-ID: $alert- uid Faults, Only available on alert ( $alert- state != 0 ), must be iterated in a foreach ( @foreach ($alert- faults as $key = $value) @endforeach ). Holds all available information about the Fault, accessible in the format $value['Column'] , for example: $value['ifDescr'] . Special field $value['string'] has most Identification-information (IDs, Names, Descrs) as single string, this is the equivalent of the default used and must be encased in {{ }} State: $alert- state Severity: $alert- severity Rule: $alert- rule Rule-Name: $alert- name Timestamp: $alert- timestamp Transport name: $alert- transport Contacts, must be iterated in a foreach, $key holds email and $value holds name: $alert- contacts Placeholders can be used within the subjects for templates as well although $faults is most likely going to be worthless. The Default Template is a 'one-size-fit-all'. We highly recommend defining your own templates for your rules to include more specific information.","title":"Syntax"},{"location":"Alerting/Templates/#base-templates","text":"If you'd like to reuse a common template for your alerts follow below A default file is located in resources/views/alerts/templates/default.blade.php Displays the following: html head title LibreNMS Alert /title /head body div class= container @yield('content') /div /body /html The important part being the @yield('content') You can use plain text or html as per Alert templates and this will form the basis of your common template, feel free to make as many templates in the directory as needed. In your alert template just use @extends('alerts.templates.default'); @section('content') {{ $alert- title }} Severity: {{ $alert- severity }} ... @endsection More info: https://laravel.com/docs/5.4/blade#extending-a-layout","title":"Base Templates"},{"location":"Alerting/Templates/#examples","text":"Default Template: {{ $alert- title }} Severity: {{ $alert- severity }} @if ($alert- state == 0) Time elapsed: {{ $alert- elapsed }} @endif Timestamp: {{ $alert- timestamp }} Unique-ID: {{ $alert- uid }} Rule: @if ($alert- name) {{ $alert- name }} @else {{ $alert- rule }} @endif @if ($alert- faults) Faults: @foreach ($alert- faults as $key = $value) {{ $key }}: {{ $value['string'] }} @endforeach @endif Alert sent to: @foreach ($alert- contacts as $key = $value) {{ $value }} {{ $key }} @endforeach Ports Utilization Template: {{ $alert- title }} Device Name: {{ $alert- hostname }} Severity: {{ $alert- severity }} @if ($alert- state == 0) Time elapsed: {{ $alert- elapsed }} @endif Timestamp: {{ $alert- timestamp }} Rule: @if ($alert- name) {{ $alert- name }} @else {{ $alert- rule }} @endif @foreach ($alert- faults as $key = $value) Physical Interface: {{ $value['ifDescr'] }} Interface Description: {{ $value['ifAlias'] }} Interface Speed: {{ ($value['ifSpeed']/1000000000) }} Gbs Inbound Utilization: {{ (($value['ifInOctets_rate']*8)/$value['ifSpeed'])*100 }} Outbound Utilization: {{ (($value['ifOutOctets_rate']*8)/$value['ifSpeed'])*100 }} @endforeach Storage: {{ $alert- title }} Device Name: {{ $alert- hostname }} Severity: {{ $alert- severity }} Uptime: {{ $alert- uptime_short }} @if ($alert- state == 0) Time elapsed: {{ $alert- elapsed }} @endif Timestamp: {{ $alert- timestamp }} Location: {{ $alert- location }} Description: {{ $alert- description }} Features: {{ $alert- features }} Purpose: {{ $alert- purpose }} Notes: {{ $alert- notes }} Server: {{ $alert- sysName }} @foreach ($alert- faults as $key = $value) Mount Point: {{ $value['storage_descr'] }} Percent Utilized: {{ $value['storage_perc'] }} @endforeach Temperature Sensors: {{ $alert- title }} Device Name: {{ $alert- hostname }} Severity: {{ $alert- severity }} Timestamp: {{ $alert- timestamp }} Uptime: {{ $alert- uptime_short }} @if ($alert- state == 0) Time elapsed: {{ $alert- elapsed }} @endif Location: {{ $alert- location }} Description: {{ $alert- description }} Features: {{ $alert- features }} Purpose: {{ $alert- purpose }} Notes: {{ $alert- notes }} Rule: @if ($alert- name) {{ $alert- name }} @else {{ $alert- rule }} @endif @if ($alert- faults) Faults: @foreach ($faults as $key = $value) #{{ $key }}: Temperature: {{ $value['sensor_current'] }} \u00b0C ** @php echo ($value['sensor_current']-$value['sensor_limit']); @endphp\u00b0C over limit Previous Measurement: {{ $value['sensor_prev'] }} \u00b0C High Temperature Limit: {{ $value['sensor_limit'] }} \u00b0C @endforeach @endif Value Sensors: {{ $alert- title }} Device Name: {{ $alert- hostname }} Severity: {{ $alert- severity }} Timestamp: {{ $alert- timestamp }} Uptime: {{ $alert- uptime_short }} @if ($alert- state == 0) Time elapsed: {{ $alert- elapsed }} @endif Location: {{ $alert- location }} Description: {{ $alert- description }} Features: {{ $alert- features }} Purpose: {{ $alert- purpose }} Notes: {{ $alert- notes }} Rule: @if ($alert- name) {{ $alert- name }} @else {{ $alert- rule }} @endif @if ($alert- faults) Faults: @foreach ($alert- faults as $key = $value) #{{ $key }}: Sensor {{ $value['sensor_current'] }} ** @php echo ($value['sensor_current']-$value['sensor_limit']); @endphp over limit Previous Measurement: {{ $value['sensor_prev'] }} Limit: {{ $value['sensor_limit'] }} @endforeach @endif Memory Alert: {{ $alert- title }} Device Name: {{ $alert- hostname }} Severity: {{ $alert- severity }} Uptime: {{ $alert- uptime_short }} @if ($alert- state == 0) Time elapsed: {{ $alert- elapsed }} @endif Timestamp: {{ $alert- timestamp }} Location: {{ $alert- location }} Description: {{ $alert- description }} Notes: {{ $alert- notes }} Server: {{ $alert- hostname }} @foreach ($alert- faults as $key = $value) Memory Description: {{ $value['mempool_descr'] }} Percent Utilized: {{ $value['mempool_perc'] }} @endforeach Conditional formatting example, will display a link to the host in email or just the hostname in any other transport: @if ($alert- transport == mail) a href= https://my.librenms.install/device/device={{ $alert- hostname }}/ {{ $alert- hostname }} /a @else {{ $alert- hostname }} @endif","title":"Examples"},{"location":"Alerting/Templates/#examples-html","text":"Note: To use HTML emails you must set HTML email to Yes in the WebUI under Global Settings Alerting Settings Email transport Use HTML emails Note: To include Graphs you must enable unauthorized graphs in config.php. Allow_unauth_graphs_cidr is optional, but more secure. $config['allow_unauth_graphs_cidr'] = array('127.0.0.1/32'); $config['allow_unauth_graphs'] = true; Service Alert: div style= font-family:Helvetica; h2 @if ($alert- state == 1) span style= color:red; {{ $alert- severity }} @endif @if ($alert- state == 2) span style= color:goldenrod; acknowledged @endif /span @if ($alert- state == 3) span style= color:green; recovering @endif /span @if ($alert- state == 0) span style= color:green; recovered @endif /span /h2 b Host: /b {{ $alert- hostname }} br b Duration: /b {{ $alert- elapsed }} br br @if ($alert- faults) @foreach ($alert- faults as $key = $value) b {{ $value['service_desc'] }} - {{ $value['service_type'] }} /b br {{ $value['service_message'] }} br br @endforeach @endif /div Processor Alert with Graph: {{ $alert- title }} br Severity: {{ $alert- severity }} br @if ($alert- state == 0) Time elapsed: {{ $alert- elapsed }} @endif Timestamp: {{ $alert- timestamp }} br Alert-ID: {{ $alert- id }} br Rule: @if ($alert- name) {{ $alert- name }} @else {{ $alert- rule }} @endif br @if ($alert- faults) Faults: @foreach ($alert- faults as $key = $value) {{ $key }}: {{ $value['string'] }} br @endforeach @if ($alert- faults) b Faults: /b br @foreach ($alert- faults as $key = $value) img src= https://server/graph.php?device={{ $value['device_id'] }} type=device_processor width=459 height=213 lazy_w=552 from=end-72h br https://server/graphs/id={{ $value['device_id'] }}/type=device_processor/ br @endforeach Template: CPU alert br @endif @endif","title":"Examples HTML"},{"location":"Alerting/Templates/#included","text":"We include a few templates for you to use, these are specific to the type of alert rules you are creating. For example if you create a rule that would alert on BGP sessions then you can assign the BGP template to this rule to provide more information. The included templates apart from the default template are: BGP Sessions Ports Temperature","title":"Included"},{"location":"Alerting/Testing/","text":"Rules The simplest way of testing if an alert rule will match a device is by going to the device, clicking edit (the cog), select Capture. From this new screen choose Alerts and click run. The output will cycle through all alerts applicable to this device and show you the Rule name, rule, MySQL query and if the rule matches. See Device Troubleshooting Transports You can test your transports by forcing an actual active alert to run regardless of the interval or delay values. ./scripts/test-alert.php . This script accepts -r for the rule id, -h for the device id or hostname and -d for debug. Templates It's possible to test your new template before assigning it to a rule. To do so you can run ./scripts/test-template.php . The script will provide the help info when ran without any parameters. As an example, if you wanted to test template ID 10 against localhost running rule ID 2 then you would run: ./scripts/test-template.php -t 10 -d -h localhost -r 2 If the rule is currently alerting for localhost then you will get the full template as expected to see on email, if it's not then you will just see the template without any fault information.","title":"Testing"},{"location":"Alerting/Testing/#rules","text":"The simplest way of testing if an alert rule will match a device is by going to the device, clicking edit (the cog), select Capture. From this new screen choose Alerts and click run. The output will cycle through all alerts applicable to this device and show you the Rule name, rule, MySQL query and if the rule matches. See Device Troubleshooting","title":"Rules"},{"location":"Alerting/Testing/#transports","text":"You can test your transports by forcing an actual active alert to run regardless of the interval or delay values. ./scripts/test-alert.php . This script accepts -r for the rule id, -h for the device id or hostname and -d for debug.","title":"Transports"},{"location":"Alerting/Testing/#templates","text":"It's possible to test your new template before assigning it to a rule. To do so you can run ./scripts/test-template.php . The script will provide the help info when ran without any parameters. As an example, if you wanted to test template ID 10 against localhost running rule ID 2 then you would run: ./scripts/test-template.php -t 10 -d -h localhost -r 2 If the rule is currently alerting for localhost then you will get the full template as expected to see on email, if it's not then you will just see the template without any fault information.","title":"Templates"},{"location":"Alerting/Transports/","text":"Transports Transports are located within LibreNMS/Alert/Transport/ and can be configured within the WebUI under Alerts - Alert Transports. Contacts will be gathered automatically and passed to the configured transports. By default the Contacts will be only gathered when the alert triggers and will ignore future changes in contacts for the incident. If you want contacts to be re-gathered before each dispatch, please set 'Updates to contact email addresses not honored' to Off in the WebUI. The contacts will always include the SysContact defined in the Device's SNMP configuration and also every LibreNMS user that has at least read -permissions on the entity that is to be alerted. At the moment LibreNMS only supports Port or Device permissions. You can exclude the SysContact by toggling 'Issue alerts to sysContact'. To include users that have Global-Read , Administrator or Normal-User permissions it is required to toggle the options: Issue alerts to admins. Issue alerts to read only users Issue alerts to normal users. Using a Proxy? Proxy Configuration API API transports definitions are a bit more complex than the E-Mail configuration. The URL can have the same placeholders as defined in the Template-Syntax . If the Api Method is get , all placeholders will be URL-Encoded. The API transport uses cURL to call the APIs, therefore you might need to install php curl to make it work. Note : it is highly recommended to define your own Templates when you want to use the API transport. The default template might exceed URL-length for GET requests and therefore cause all sorts of errors. Example: Config Example API Method get API URL http://my.example.com/api Boxcar Copy your access token from the Boxcar app or from the Boxcar.io website and setup the transport. Boxcar Docs Example: Config Example Access Token i23f23mr23rwerw Canopsis Canopsis is a hypervision tool. LibreNMS can send alerts to Canopsis which are then converted to canopsis events. Canopsis Docs Example: Config Example Hostname www.xxx.yyy.zzz Port Number 5672 User admin Password my_password Vhost canopsis Cisco Spark Cisco Spark. LibreNMS can send alerts to a Cisco Spark room. To make this possible you need to have a RoomID and a token. For more information about Cisco Spark RoomID and token, take a look here : Getting started Rooms Example: Config Example API Token ASd23r23edewda RoomID 34243243251 Clickatell Clickatell provides a REST-API requiring an Authorization-Token and at least one Cellphone number. Clickatell Docs Here an example using 3 numbers, any amount of numbers is supported: Example: Config Example Token dsaWd3rewdwea Mobile Numbers +1234567890,+1234567891,+1234567892 Discord The Discord transport will POST the alert message to your Discord Incoming WebHook. Simple html tags are stripped from the message. The only required value is for url, without this no call to Discord will be made. The Options field supports the JSON/Form Params listed in the Discord Docs below. Discord Docs Example: Config Example Discord URL https://discordapp.com/api/webhooks/4515489001665127664/82-sf4385ysuhfn34u2fhfsdePGLrg8K7cP9wl553Fg6OlZuuxJGaa1d54fe Options username=myname Elasticsearch You can have LibreNMS send alerts to an elasticsearch database. Each fault will be sent as a separate document. The index pattern uses strftime() formatting. Example: Config Example Host 127.0.0.1 Port 9200 Index Patter librenms-%Y.%m.%d Gitlab LibreNMS will create issues for warning and critical level alerts however only title and description are set. Uses Personal access tokens to authenticate with Gitlab and will store the token in cleartext. Example: Config Example Host http://gitlab.host.tld Project ID 1 Personal Access Token AbCdEf12345 HipChat See the HipChat API Documentation for rooms/message for details on acceptable values. You may notice that the link points at the \"deprecated\" v1 API. This is because the v2 API is still in beta. Example: Config Example API URL https://api.hipchat.com/v1/rooms/message?auth_token=109jawregoaihj Room ID 7654321 From Name LibreNMS Options color = red notify = 1 message_format = text At present the following options are supported: color , notify and message_format . Note: The default message format for HipChat messages is HTML. It is recommended that you specify the text message format to prevent unexpected results, such as HipChat attempting to interpret angled brackets ( and ). IRC The IRC transports only works together with the LibreNMS IRC-Bot. Configuration of the LibreNMS IRC-Bot is described here . Example: Config Example IRC enabled JIRA You can have LibreNMS create issues on a Jira instance for critical and warning alerts. The Jira transport only sets summary and description fields. Therefore your Jira project must not have any other mandatory field for the provided issuetype. The config fields that need to set are Jira URL, Jira username, Jira password, Project key, and issue type. Currently http authentication is used to access Jira and Jira username and password will be stored as cleartext in the LibreNMS database. Jira Issue Types Example: Config Example URL https://myjira.mysite.com Project Key JIRAPROJECTKEY Issue Type Myissuetype Jira Username myjirauser Jira Password myjirapass Mail For all but the default contact, we support setting multiple email addresses separated by a comma. So you can set the devices sysContact, override the sysContact or have your users emails set like: email@domain.com, alerting@domain.com The E-Mail transports uses the same email-configuration like the rest of LibreNMS. As a small reminder, here is it's configuration directives including defaults: Example: Config Example Email me@example.com Microsoft Teams Microsoft Teams. LibreNMS can send alerts to Microsoft Teams Connector API which are then posted to a specific channel. Example: Config Example WebHook URL https://outlook.office365.com/webhook/123456789 Nagios Compatible The nagios transport will feed a FIFO at the defined location with the same format that nagios would. This allows you to use other alerting systems with LibreNMS, for example Flapjack . Example: Config Example Nagios FIFO /path/to/my.fifo OpsGenie Using OpsGenie LibreNMS integration, LibreNMS forwards alerts to OpsGenie with detailed information. OpsGenie acts as a dispatcher for LibreNMS alerts, determines the right people to notify based on on-call schedules and notifies via email, text messages (SMS), phone calls and iOS Android push notifications. Then escalates alerts until the alert is acknowledged or closed. Create a LibreNMS Integration from the integrations page once you signup. Then copy the API key from OpsGenie to LibreNMS. If you want to automatically ack and close alerts, leverage Marid integration. More detail with screenshots is available in OpsGenie LibreNMS Integration page . Example: Config Example WebHook URL https://url/path/to/webhook osTicket LibreNMS can send alerts to osTicket API which are then converted to osTicket tickets. Example: Config Example API URL http://osticket.example.com/api/http.php/tickets.json API Token 123456789 PagerDuty LibreNMS can make use of PagerDuty, this is done by utilizing an API key and Integraton Key. API Keys can be found under 'API Access' in the PagerDuty portal. Integration Keys can be found under 'Integration' for the particular Service you have created in the PagerDuty portal. Example: Config Example API Key randomsample Integration Key somerandomstring Philips Hue Want to spice up your noc life? LibreNMS will flash all lights connected to your philips hue bridge whenever an alert is triggered. To setup, go to the you http:// your-bridge-ip /debug/clip.html Update the \"URL:\" field to /api Paste this in the \"Message Body\" {\"devicetype\":\"librenms\"} Press the round button on your philips Hue Bridge Click on POST In the Command Response You should see output with your username. Copy this without the quotes More Info: Philips Hue Documentation Example: Config Example Host http://your-bridge-ip Hue User username Duration 1 Second PlaySMS PlaySMS is an open source SMS-Gateway that can be used via their HTTP API using a Username and WebService Token. Please consult PlaySMS's documentation regarding number formatting. PlaySMS Docs Here an example using 3 numbers, any amount of numbers is supported: Example: Config Example PlaySMS https://localhost/index.php?app=ws User user1 Token MYFANCYACCESSTOKEN From My Name Mobiles +1234567892,+1234567890,+1234567891 Pushbullet Get your Access Token from your Pushbullet's settings page and set it in your transport: Example: Config Example Access Token MYFANCYACCESSTOKEN Pushover If you want to change the notification sounds then add it in Pushover Options: sound_critical=falling Enabling Pushover support is fairly easy, there are only two required parameters. Firstly you need to create a new Application (called LibreNMS, for example) in your account on the Pushover website (https://pushover.net/apps) Now copy your API Key and obtain your User Key from the newly created Application and setup the transport. Pushover Docs Example: Config Example Api Key APPLICATIONAPIKEYGOESHERE User Key USERKEYGOESHERE Pushover Options sound_critical=falling Rocket.chat The Rocket.chat transport will POST the alert message to your Rocket.chat Incoming WebHook using the attachments option. Simple html tags are stripped from the message. All options are optional, the only required value is for url, without this then no call to Rocket.chat will be made. Rocket.chat Docs Example: Config Example Webhook URL https://rocket.url/api/v1/chat.postMessage Rocket.chat Options channel=#Alerting username=myname icon_url=http://someurl/image.gif icon_emoji=:smirk: Slack The Slack transport will POST the alert message to your Slack Incoming WebHook using the attachments option, you are able to specify multiple webhooks along with the relevant options to go with it. Simple html tags are stripped from the message. All options are optional, the only required value is for url, without this then no call to Slack will be made. We currently support the following attachment options: author_name Slack docs Example: Config Example Webhook URL https://slack.com/url/somehook Slack Options author_name=Me SMSEagle SMSEagle is a hardware SMS Gateway that can be used via their HTTP API using a Username and password. Destination numbers are one per line, with no spaces. They can be in either local or international dialling format. SMSEagle Docs Example: Config Example SMSEagle URL ip.add.re.ss User smseagle_user Password smseagle_user_password Mobiles +3534567890 0834567891 Syslog You can have LibreNMS emit alerts as syslogs complying with RFC 3164. More information on RFC 3164 can be found here: https://tools.ietf.org/html/rfc3164 Example output: 26 Mar 22 00:59:03 librenms.host.net librenms[233]: [Critical] network.device.net: Port Down - port_id = 98939; ifDescr = xe-1/1/0; Each fault will be sent as a separate syslog. Example: Config Example Host 127.0.0.1 Port 514 Facility 3 Telegram Thank you to snis for these instructions. First you must create a telegram account and add BotFather to you list. To do this click on the following url: https://telegram.me/botfather Generate a new bot with the command \"/newbot\" BotFather is then asking for a username and a normal name. After that your bot is created and you get a HTTP token. (for more options for your bot type \"/help\") Add your bot to telegram with the following url: http://telegram.me/ botname to use app or https://web.telegram.org/ botname to use in web, and send some text to the bot. The BotFather should have responded with a token, copy your token code and go to the following page in chrome: https://api.telegram.org/bot tokencode /getUpdates (this could take a while so continue to refresh until you see something similar to below) You see a json code with the message you sent to the bot. Copy the Chat id. In this example that is \u201c-9787468\u201d within this example: \"message\":{\"message_id\":7,\"from\":\"id\":656556,\"first_name\":\"Joo\",\"last_name\":\"Doo\",\"username\":\"JohnDoo\"},\"chat\":{\"id\":-9787468,\"title\":\"Telegram Group\"},\"date\":1435216924,\"text\":\"Hi\"}}]} . Now create a new \"Telegram transport\" in LibreNMS (Global Settings - Alerting Settings - Telegram transport). Click on 'Add Telegram config' and put your chat id and token into the relevant box. If want to use a group to receive alerts, you need to pick the Chat ID of the group chat, and not of the Bot itself. Telegram Docs Example: Config Example Chat ID 34243432 Token 3ed32wwf235234 Twilio SMS Twilio will send your alert via SMS. From your Twilio account you will need your account SID, account token and your Twilio SMS phone number that you would like to send the alerts from. Twilio's APIs are located at: https://www.twilio.com/docs/api?filter-product=sms Example: Config Example SID ACxxxxxxxxxxxxxxxxxxxxxxxxxxxx Token 7xxxx573acxxxbc2xxx308d6xxx652d32 Twilio SMS Number 8888778660 VictorOps VictorOps provide a webHook url to make integration extremely simple. To get the URL required login to your VictorOps account and go to: Settings - Integrations - REST Endpoint - Enable Integration. The URL provided will have $routing_key at the end, you need to change this to something that is unique to the system sending the alerts such as librenms. I.e: https://alert.victorops.com/integrations/generic/20132414/alert/2f974ce1-08fc-4dg8-a4f4-9aee6cf35c98/librenms Example: Config Example Post URL https://alert.victorops.com/integrations/generic/20132414/alert/2f974ce1-08fc-4dg8-a4f4-9aee6cf35c98/librenms Kayako Classic LibreNMS can send alerts to Kayako Classic API which are then converted to tickets. To use this module, you need REST API feature enabled in Kayako Classic and configured email account at LibreNMS. To enable this, do this: AdminCP - REST API - Settings - Enable API (Yes) Also you need to know the department id to provide tickets to appropriate department and a user email to provide, which is used as ticket author. To get department id: navigate to appropriate department name at the departments list page in Admin CP and watch the number at the end of url. Example: http://servicedesk.example.com/admin/Base/Department/Edit/17. Department ID is 17 As a requirement, you have to know API Url, API Key and API Secret to connect to servicedesk [Kayako REST API Docs] (https://classic.kayako.com/article/1502-kayako-rest-api) Example: Config Example Kayako URL http://servicedesk.example.com/api/ Kayako API Key 8cc02f38-7465-4a0c-8730-bb3af122167b Kayako API Secret Y2NhZDIxNDMtNjVkMi0wYzE0LWExYTUtZGUwMjJiZDI0ZWEzMmRhOGNiYWMtNTU2YS0yODk0LTA1MTEtN2VhN2YzYzgzZjk5 Kayako Department 1 SMSFeedback SMSFeedback is a SAAS service, which can be used to deliver Alerts via API, using API url, Username Password. They can be in international dialling format only. SMSFeedback Api Docs Example: Config Example User smsfeedback_user Password smsfeedback_password Mobiles 71234567890 Sender name CIA","title":"Transports"},{"location":"Alerting/Transports/#transports","text":"Transports are located within LibreNMS/Alert/Transport/ and can be configured within the WebUI under Alerts - Alert Transports. Contacts will be gathered automatically and passed to the configured transports. By default the Contacts will be only gathered when the alert triggers and will ignore future changes in contacts for the incident. If you want contacts to be re-gathered before each dispatch, please set 'Updates to contact email addresses not honored' to Off in the WebUI. The contacts will always include the SysContact defined in the Device's SNMP configuration and also every LibreNMS user that has at least read -permissions on the entity that is to be alerted. At the moment LibreNMS only supports Port or Device permissions. You can exclude the SysContact by toggling 'Issue alerts to sysContact'. To include users that have Global-Read , Administrator or Normal-User permissions it is required to toggle the options: Issue alerts to admins. Issue alerts to read only users Issue alerts to normal users.","title":"Transports"},{"location":"Alerting/Transports/#using-a-proxy","text":"Proxy Configuration","title":"Using a Proxy?"},{"location":"Alerting/Transports/#api","text":"API transports definitions are a bit more complex than the E-Mail configuration. The URL can have the same placeholders as defined in the Template-Syntax . If the Api Method is get , all placeholders will be URL-Encoded. The API transport uses cURL to call the APIs, therefore you might need to install php curl to make it work. Note : it is highly recommended to define your own Templates when you want to use the API transport. The default template might exceed URL-length for GET requests and therefore cause all sorts of errors. Example: Config Example API Method get API URL http://my.example.com/api","title":"API"},{"location":"Alerting/Transports/#boxcar","text":"Copy your access token from the Boxcar app or from the Boxcar.io website and setup the transport. Boxcar Docs Example: Config Example Access Token i23f23mr23rwerw","title":"Boxcar"},{"location":"Alerting/Transports/#canopsis","text":"Canopsis is a hypervision tool. LibreNMS can send alerts to Canopsis which are then converted to canopsis events. Canopsis Docs Example: Config Example Hostname www.xxx.yyy.zzz Port Number 5672 User admin Password my_password Vhost canopsis","title":"Canopsis"},{"location":"Alerting/Transports/#cisco-spark","text":"Cisco Spark. LibreNMS can send alerts to a Cisco Spark room. To make this possible you need to have a RoomID and a token. For more information about Cisco Spark RoomID and token, take a look here : Getting started Rooms Example: Config Example API Token ASd23r23edewda RoomID 34243243251","title":"Cisco Spark"},{"location":"Alerting/Transports/#clickatell","text":"Clickatell provides a REST-API requiring an Authorization-Token and at least one Cellphone number. Clickatell Docs Here an example using 3 numbers, any amount of numbers is supported: Example: Config Example Token dsaWd3rewdwea Mobile Numbers +1234567890,+1234567891,+1234567892","title":"Clickatell"},{"location":"Alerting/Transports/#discord","text":"The Discord transport will POST the alert message to your Discord Incoming WebHook. Simple html tags are stripped from the message. The only required value is for url, without this no call to Discord will be made. The Options field supports the JSON/Form Params listed in the Discord Docs below. Discord Docs Example: Config Example Discord URL https://discordapp.com/api/webhooks/4515489001665127664/82-sf4385ysuhfn34u2fhfsdePGLrg8K7cP9wl553Fg6OlZuuxJGaa1d54fe Options username=myname","title":"Discord"},{"location":"Alerting/Transports/#elasticsearch","text":"You can have LibreNMS send alerts to an elasticsearch database. Each fault will be sent as a separate document. The index pattern uses strftime() formatting. Example: Config Example Host 127.0.0.1 Port 9200 Index Patter librenms-%Y.%m.%d","title":"Elasticsearch"},{"location":"Alerting/Transports/#gitlab","text":"LibreNMS will create issues for warning and critical level alerts however only title and description are set. Uses Personal access tokens to authenticate with Gitlab and will store the token in cleartext. Example: Config Example Host http://gitlab.host.tld Project ID 1 Personal Access Token AbCdEf12345","title":"Gitlab"},{"location":"Alerting/Transports/#hipchat","text":"See the HipChat API Documentation for rooms/message for details on acceptable values. You may notice that the link points at the \"deprecated\" v1 API. This is because the v2 API is still in beta. Example: Config Example API URL https://api.hipchat.com/v1/rooms/message?auth_token=109jawregoaihj Room ID 7654321 From Name LibreNMS Options color = red notify = 1 message_format = text At present the following options are supported: color , notify and message_format . Note: The default message format for HipChat messages is HTML. It is recommended that you specify the text message format to prevent unexpected results, such as HipChat attempting to interpret angled brackets ( and ).","title":"HipChat"},{"location":"Alerting/Transports/#irc","text":"The IRC transports only works together with the LibreNMS IRC-Bot. Configuration of the LibreNMS IRC-Bot is described here . Example: Config Example IRC enabled","title":"IRC"},{"location":"Alerting/Transports/#jira","text":"You can have LibreNMS create issues on a Jira instance for critical and warning alerts. The Jira transport only sets summary and description fields. Therefore your Jira project must not have any other mandatory field for the provided issuetype. The config fields that need to set are Jira URL, Jira username, Jira password, Project key, and issue type. Currently http authentication is used to access Jira and Jira username and password will be stored as cleartext in the LibreNMS database. Jira Issue Types Example: Config Example URL https://myjira.mysite.com Project Key JIRAPROJECTKEY Issue Type Myissuetype Jira Username myjirauser Jira Password myjirapass","title":"JIRA"},{"location":"Alerting/Transports/#mail","text":"For all but the default contact, we support setting multiple email addresses separated by a comma. So you can set the devices sysContact, override the sysContact or have your users emails set like: email@domain.com, alerting@domain.com The E-Mail transports uses the same email-configuration like the rest of LibreNMS. As a small reminder, here is it's configuration directives including defaults: Example: Config Example Email me@example.com","title":"Mail"},{"location":"Alerting/Transports/#microsoft-teams","text":"Microsoft Teams. LibreNMS can send alerts to Microsoft Teams Connector API which are then posted to a specific channel. Example: Config Example WebHook URL https://outlook.office365.com/webhook/123456789","title":"Microsoft Teams"},{"location":"Alerting/Transports/#nagios-compatible","text":"The nagios transport will feed a FIFO at the defined location with the same format that nagios would. This allows you to use other alerting systems with LibreNMS, for example Flapjack . Example: Config Example Nagios FIFO /path/to/my.fifo","title":"Nagios Compatible"},{"location":"Alerting/Transports/#opsgenie","text":"Using OpsGenie LibreNMS integration, LibreNMS forwards alerts to OpsGenie with detailed information. OpsGenie acts as a dispatcher for LibreNMS alerts, determines the right people to notify based on on-call schedules and notifies via email, text messages (SMS), phone calls and iOS Android push notifications. Then escalates alerts until the alert is acknowledged or closed. Create a LibreNMS Integration from the integrations page once you signup. Then copy the API key from OpsGenie to LibreNMS. If you want to automatically ack and close alerts, leverage Marid integration. More detail with screenshots is available in OpsGenie LibreNMS Integration page . Example: Config Example WebHook URL https://url/path/to/webhook","title":"OpsGenie"},{"location":"Alerting/Transports/#osticket","text":"LibreNMS can send alerts to osTicket API which are then converted to osTicket tickets. Example: Config Example API URL http://osticket.example.com/api/http.php/tickets.json API Token 123456789","title":"osTicket"},{"location":"Alerting/Transports/#pagerduty","text":"LibreNMS can make use of PagerDuty, this is done by utilizing an API key and Integraton Key. API Keys can be found under 'API Access' in the PagerDuty portal. Integration Keys can be found under 'Integration' for the particular Service you have created in the PagerDuty portal. Example: Config Example API Key randomsample Integration Key somerandomstring","title":"PagerDuty"},{"location":"Alerting/Transports/#philips-hue","text":"Want to spice up your noc life? LibreNMS will flash all lights connected to your philips hue bridge whenever an alert is triggered. To setup, go to the you http:// your-bridge-ip /debug/clip.html Update the \"URL:\" field to /api Paste this in the \"Message Body\" {\"devicetype\":\"librenms\"} Press the round button on your philips Hue Bridge Click on POST In the Command Response You should see output with your username. Copy this without the quotes More Info: Philips Hue Documentation Example: Config Example Host http://your-bridge-ip Hue User username Duration 1 Second","title":"Philips Hue"},{"location":"Alerting/Transports/#playsms","text":"PlaySMS is an open source SMS-Gateway that can be used via their HTTP API using a Username and WebService Token. Please consult PlaySMS's documentation regarding number formatting. PlaySMS Docs Here an example using 3 numbers, any amount of numbers is supported: Example: Config Example PlaySMS https://localhost/index.php?app=ws User user1 Token MYFANCYACCESSTOKEN From My Name Mobiles +1234567892,+1234567890,+1234567891","title":"PlaySMS"},{"location":"Alerting/Transports/#pushbullet","text":"Get your Access Token from your Pushbullet's settings page and set it in your transport: Example: Config Example Access Token MYFANCYACCESSTOKEN","title":"Pushbullet"},{"location":"Alerting/Transports/#pushover","text":"If you want to change the notification sounds then add it in Pushover Options: sound_critical=falling Enabling Pushover support is fairly easy, there are only two required parameters. Firstly you need to create a new Application (called LibreNMS, for example) in your account on the Pushover website (https://pushover.net/apps) Now copy your API Key and obtain your User Key from the newly created Application and setup the transport. Pushover Docs Example: Config Example Api Key APPLICATIONAPIKEYGOESHERE User Key USERKEYGOESHERE Pushover Options sound_critical=falling","title":"Pushover"},{"location":"Alerting/Transports/#rocketchat","text":"The Rocket.chat transport will POST the alert message to your Rocket.chat Incoming WebHook using the attachments option. Simple html tags are stripped from the message. All options are optional, the only required value is for url, without this then no call to Rocket.chat will be made. Rocket.chat Docs Example: Config Example Webhook URL https://rocket.url/api/v1/chat.postMessage Rocket.chat Options channel=#Alerting username=myname icon_url=http://someurl/image.gif icon_emoji=:smirk:","title":"Rocket.chat"},{"location":"Alerting/Transports/#slack","text":"The Slack transport will POST the alert message to your Slack Incoming WebHook using the attachments option, you are able to specify multiple webhooks along with the relevant options to go with it. Simple html tags are stripped from the message. All options are optional, the only required value is for url, without this then no call to Slack will be made. We currently support the following attachment options: author_name Slack docs Example: Config Example Webhook URL https://slack.com/url/somehook Slack Options author_name=Me","title":"Slack"},{"location":"Alerting/Transports/#smseagle","text":"SMSEagle is a hardware SMS Gateway that can be used via their HTTP API using a Username and password. Destination numbers are one per line, with no spaces. They can be in either local or international dialling format. SMSEagle Docs Example: Config Example SMSEagle URL ip.add.re.ss User smseagle_user Password smseagle_user_password Mobiles +3534567890 0834567891","title":"SMSEagle"},{"location":"Alerting/Transports/#syslog","text":"You can have LibreNMS emit alerts as syslogs complying with RFC 3164. More information on RFC 3164 can be found here: https://tools.ietf.org/html/rfc3164 Example output: 26 Mar 22 00:59:03 librenms.host.net librenms[233]: [Critical] network.device.net: Port Down - port_id = 98939; ifDescr = xe-1/1/0; Each fault will be sent as a separate syslog. Example: Config Example Host 127.0.0.1 Port 514 Facility 3","title":"Syslog"},{"location":"Alerting/Transports/#telegram","text":"Thank you to snis for these instructions. First you must create a telegram account and add BotFather to you list. To do this click on the following url: https://telegram.me/botfather Generate a new bot with the command \"/newbot\" BotFather is then asking for a username and a normal name. After that your bot is created and you get a HTTP token. (for more options for your bot type \"/help\") Add your bot to telegram with the following url: http://telegram.me/ botname to use app or https://web.telegram.org/ botname to use in web, and send some text to the bot. The BotFather should have responded with a token, copy your token code and go to the following page in chrome: https://api.telegram.org/bot tokencode /getUpdates (this could take a while so continue to refresh until you see something similar to below) You see a json code with the message you sent to the bot. Copy the Chat id. In this example that is \u201c-9787468\u201d within this example: \"message\":{\"message_id\":7,\"from\":\"id\":656556,\"first_name\":\"Joo\",\"last_name\":\"Doo\",\"username\":\"JohnDoo\"},\"chat\":{\"id\":-9787468,\"title\":\"Telegram Group\"},\"date\":1435216924,\"text\":\"Hi\"}}]} . Now create a new \"Telegram transport\" in LibreNMS (Global Settings - Alerting Settings - Telegram transport). Click on 'Add Telegram config' and put your chat id and token into the relevant box. If want to use a group to receive alerts, you need to pick the Chat ID of the group chat, and not of the Bot itself. Telegram Docs Example: Config Example Chat ID 34243432 Token 3ed32wwf235234","title":"Telegram"},{"location":"Alerting/Transports/#twilio-sms","text":"Twilio will send your alert via SMS. From your Twilio account you will need your account SID, account token and your Twilio SMS phone number that you would like to send the alerts from. Twilio's APIs are located at: https://www.twilio.com/docs/api?filter-product=sms Example: Config Example SID ACxxxxxxxxxxxxxxxxxxxxxxxxxxxx Token 7xxxx573acxxxbc2xxx308d6xxx652d32 Twilio SMS Number 8888778660","title":"Twilio SMS"},{"location":"Alerting/Transports/#victorops","text":"VictorOps provide a webHook url to make integration extremely simple. To get the URL required login to your VictorOps account and go to: Settings - Integrations - REST Endpoint - Enable Integration. The URL provided will have $routing_key at the end, you need to change this to something that is unique to the system sending the alerts such as librenms. I.e: https://alert.victorops.com/integrations/generic/20132414/alert/2f974ce1-08fc-4dg8-a4f4-9aee6cf35c98/librenms Example: Config Example Post URL https://alert.victorops.com/integrations/generic/20132414/alert/2f974ce1-08fc-4dg8-a4f4-9aee6cf35c98/librenms","title":"VictorOps"},{"location":"Alerting/Transports/#kayako-classic","text":"LibreNMS can send alerts to Kayako Classic API which are then converted to tickets. To use this module, you need REST API feature enabled in Kayako Classic and configured email account at LibreNMS. To enable this, do this: AdminCP - REST API - Settings - Enable API (Yes) Also you need to know the department id to provide tickets to appropriate department and a user email to provide, which is used as ticket author. To get department id: navigate to appropriate department name at the departments list page in Admin CP and watch the number at the end of url. Example: http://servicedesk.example.com/admin/Base/Department/Edit/17. Department ID is 17 As a requirement, you have to know API Url, API Key and API Secret to connect to servicedesk [Kayako REST API Docs] (https://classic.kayako.com/article/1502-kayako-rest-api) Example: Config Example Kayako URL http://servicedesk.example.com/api/ Kayako API Key 8cc02f38-7465-4a0c-8730-bb3af122167b Kayako API Secret Y2NhZDIxNDMtNjVkMi0wYzE0LWExYTUtZGUwMjJiZDI0ZWEzMmRhOGNiYWMtNTU2YS0yODk0LTA1MTEtN2VhN2YzYzgzZjk5 Kayako Department 1","title":"Kayako Classic"},{"location":"Alerting/Transports/#smsfeedback","text":"SMSFeedback is a SAAS service, which can be used to deliver Alerts via API, using API url, Username Password. They can be in international dialling format only. SMSFeedback Api Docs Example: Config Example User smsfeedback_user Password smsfeedback_password Mobiles 71234567890 Sender name CIA","title":"SMSFeedback"},{"location":"Developing/","text":"Copyright and Licensing All contributors to LibreNMS retain copyright to their own code and are not required to sign over their rights to any other party. Code should be licensed under the GPLv3 and MUST not contain non-GPL Observium code or GPL incompatible code. To be safe do not view Observium code at all. See Licensing for more details. General Guidelines Test your patches first. Don't break the poller. User interface blemishes are not critical, but losing data from network monitoring systems might be. As a general rule, if you're replacing lines of code with new lines of code, don't comment them out, just delete them. Commented out code makes the patch and the resultant code harder to read, and there's no good reason to it since we can easily get them back from git. If you're fixing a bug or making another minor change, don't reformat the code at the same time. This makes it harder to see what's changed. If you need to reformat it after making the change, do so in a separate commit. Please join us in discord if you're able. Collaborating in real time makes the coordination of contributions easier. Ensure you read the Code Guidelines documentation and understand the code style that should be adhered to. You can validate that your code adheres to these guidelines before submitting. Check Style Guidelines for Web UI guidelines and conventions. How to Contribute? Using Git gives you step-by-step instructions on using git to submit a pull request. Code Structure can help you understand where specific code exists in LibreNMS. Creating Documentation It is very important for the continued improvement of LibreNMS that we have good documentation. If you see anything that that needs improvement please submit a pull request to fix it. Don't be afraid to submit a GitHub Pull Request. We will help you with anything that needs to be change or suggest ways of improving your patch. Because the maintainers are volunteers too sometimes response may be delayed or brief, please be patient or ask for clarification if needed. Thanks! Good places to start to learn PHP or improve your coding PHP: The Right Way A community curated list of best practices and quick help. Laracasts Video coding tutorials that are easy to follow. Many of the beginner videos are free. Suggested Series: The PHP Practitioner Object-Oriented Bootcamp Simple Rules for Simpler Code","title":"Contributing"},{"location":"Developing/#copyright-and-licensing","text":"All contributors to LibreNMS retain copyright to their own code and are not required to sign over their rights to any other party. Code should be licensed under the GPLv3 and MUST not contain non-GPL Observium code or GPL incompatible code. To be safe do not view Observium code at all. See Licensing for more details.","title":"Copyright and Licensing"},{"location":"Developing/#general-guidelines","text":"Test your patches first. Don't break the poller. User interface blemishes are not critical, but losing data from network monitoring systems might be. As a general rule, if you're replacing lines of code with new lines of code, don't comment them out, just delete them. Commented out code makes the patch and the resultant code harder to read, and there's no good reason to it since we can easily get them back from git. If you're fixing a bug or making another minor change, don't reformat the code at the same time. This makes it harder to see what's changed. If you need to reformat it after making the change, do so in a separate commit. Please join us in discord if you're able. Collaborating in real time makes the coordination of contributions easier. Ensure you read the Code Guidelines documentation and understand the code style that should be adhered to. You can validate that your code adheres to these guidelines before submitting. Check Style Guidelines for Web UI guidelines and conventions.","title":"General Guidelines"},{"location":"Developing/#how-to-contribute","text":"Using Git gives you step-by-step instructions on using git to submit a pull request. Code Structure can help you understand where specific code exists in LibreNMS. Creating Documentation It is very important for the continued improvement of LibreNMS that we have good documentation. If you see anything that that needs improvement please submit a pull request to fix it. Don't be afraid to submit a GitHub Pull Request. We will help you with anything that needs to be change or suggest ways of improving your patch. Because the maintainers are volunteers too sometimes response may be delayed or brief, please be patient or ask for clarification if needed. Thanks!","title":"How to Contribute?"},{"location":"Developing/#good-places-to-start-to-learn-php-or-improve-your-coding","text":"PHP: The Right Way A community curated list of best practices and quick help. Laracasts Video coding tutorials that are easy to follow. Many of the beginner videos are free. Suggested Series: The PHP Practitioner Object-Oriented Bootcamp Simple Rules for Simpler Code","title":"Good places to start to learn PHP or improve your coding"},{"location":"Developing/Code-Guidelines/","text":"Coding guidelines This document is here to help code standards for contributions towards LibreNMS. The original code base that we forked from had a lack of standards and as such the code base has a variety of different styles. Whilst we don't want to restrict how people write code, these guidelines should mean we have a good standard going forward that makes reading the code easier. All modern day ide's should be able to assist in these guidelines without breaking your usual workflow. PHP-FIG PSR-2 Coding Style All new code should follow the PHP-FIG PSR-2 standard . Below are a few key items from that specification, please make sure to follow the full spec. Indentation Please use four (4) spaces to indent code rather than a tab. Ensure you increase indentation for nested code blocks. if ($foo == 5) { if ($foo == 5) { if ($foo == 5) { Line length Try to keep the length of a line under 80 characters. If you must exceed 80 characters, please keep it under 120 characters. This makes reading the code easier and also enables compatibility for all screen sizes. Control structures A space must be used both before and after the parenthesis and also surrounding the condition operator. if ($foo == 5) { Do not put blocks of code on a single line, do use parenthesis if ($foo == 5) { echo 'foo is 5'; } else and elseif should start on the same line as ending of the previous code block. if ($foo == 5) { echo 'foo is 5'; } elsif ($foo == 4) { echo 'foo is 4'; } else { echo 'foo is something else'; } Including files Using parenthesis around file includes isn't required, instead just place the file in between '' require_once 'includes/snmp.inc.php'; PHP tags Ensure you use ?php rather than the shorthand version ?. ?php The ? must be excluded from all files that only include PHP (no html). For instance anything in includes/ or html/includes don't need the tag along with config.php.","title":"Coding guidelines"},{"location":"Developing/Code-Guidelines/#coding-guidelines","text":"This document is here to help code standards for contributions towards LibreNMS. The original code base that we forked from had a lack of standards and as such the code base has a variety of different styles. Whilst we don't want to restrict how people write code, these guidelines should mean we have a good standard going forward that makes reading the code easier. All modern day ide's should be able to assist in these guidelines without breaking your usual workflow.","title":"Coding guidelines"},{"location":"Developing/Code-Guidelines/#php-fig-psr-2-coding-style","text":"All new code should follow the PHP-FIG PSR-2 standard . Below are a few key items from that specification, please make sure to follow the full spec.","title":"PHP-FIG PSR-2 Coding Style"},{"location":"Developing/Code-Guidelines/#indentation","text":"Please use four (4) spaces to indent code rather than a tab. Ensure you increase indentation for nested code blocks. if ($foo == 5) { if ($foo == 5) { if ($foo == 5) {","title":"Indentation"},{"location":"Developing/Code-Guidelines/#line-length","text":"Try to keep the length of a line under 80 characters. If you must exceed 80 characters, please keep it under 120 characters. This makes reading the code easier and also enables compatibility for all screen sizes.","title":"Line length"},{"location":"Developing/Code-Guidelines/#control-structures","text":"A space must be used both before and after the parenthesis and also surrounding the condition operator. if ($foo == 5) { Do not put blocks of code on a single line, do use parenthesis if ($foo == 5) { echo 'foo is 5'; } else and elseif should start on the same line as ending of the previous code block. if ($foo == 5) { echo 'foo is 5'; } elsif ($foo == 4) { echo 'foo is 4'; } else { echo 'foo is something else'; }","title":"Control structures"},{"location":"Developing/Code-Guidelines/#including-files","text":"Using parenthesis around file includes isn't required, instead just place the file in between '' require_once 'includes/snmp.inc.php';","title":"Including files"},{"location":"Developing/Code-Guidelines/#php-tags","text":"Ensure you use ?php rather than the shorthand version ?. ?php The ? must be excluded from all files that only include PHP (no html). For instance anything in includes/ or html/includes don't need the tag along with config.php.","title":"PHP tags"},{"location":"Developing/Code-Structure/","text":"Code structure. This document will try and provide a good overview of how the code is structured within LibreNMS. We will go through the main directories and provide information on how and when they are used. doc/ This is the location of all the documentation for LibreNMS, this is in GitHub markdown format and can be viewed online LibreNMS/ Any classes should be under this directory, with a directory structure that matches the namespace. One class per file. See PSR-0 for details. html/ All web accessible files are located here. html/api_v0.php This is the API routing file which directs users to the correct API function based on the API endpoint call. html/index.php This is the main file which all links within LibreNMS are parsed through. It loads the majority of the relevant includes needed for the control panel to function. CSS and JS files are also loaded here. html/css All used css files are located here. Apart from legacy files, anything in here is now a symlink. html/css/custom This is a folder you can put custom css files into that won't interfere with auto updates html/forms This folder contains all of the files that are dynamically included from an ajax call to ajax/form. html/includes This is where the majority of the website core files are located. These tend to be files that contain functions or often used code segments that can be included where needed rather than duplicating code. html/includes/api_functions.inc.php All of the functions and calls for the API are located here. html/includes/authenticate.inc.php, html/includes/authentication/ These files are what provides the authentication layer to the user. In the folder are separate files based on the auth type used, this means new authentication types can be added easily enough. html/includes/functions.inc.php This contains the majority of functions used throughout the standard web ui. html/includes/reports/ In here is a list of of files that generate PDF reports available to the user. These are dynamically called in from html/pdf.pdf based on the report the user requests. html/includes/table/ This folder contains all of the ajax calls when generating the table of data. Most have been converted over so if you are planning to add a new table of data then you will do so here for all of the back end data calls. html/js/ All used JS files are located here. Apart from legacy files, anything in here is now a symlink. html/pages This folder contains the URL structure when browsing the Web UI. So for example /devices/ is actually a call to html/pages/devices.inc.php, /device/tab=ports/ is html/pages/device/ports.inc.php. includes/ This folder is quite big and contains all the files to make the cli and polling / discovery to work. includes/discovery/, includes/polling/ All the discovery and polling code. The format is usually quite similar between discovery and polling. Both are made up of modules and the files within the relevant directories will match that module. So for instance if you want to update the os detection for a device, you would look in includes/discovery/os/ for a file named after the operating system such as linux: includes/discovery/linux.inc.php. Within here you would update or add support for newer OS'. This is the same for polling as well. lib/ This is for all of the libraries used by LibreNMS. If you are including a 3rd party module, you would add the files in here either via git subtree if it's hosted on GitHub or just by copying the folder. Please ensure you maintain any copyright notices. You will then need to either reference the files in this folder directly from where you need them or alternatively as is the case with css and js libraries then symlink the needed files. logs/ Usually contains your web servers logs but can also contain poller logs and other items, mibs/ Here is where all of the mibs are located, traditionally this has meant having all mibs in one directory but for certain vendors this has changed and these are now located in sub folders. rrd/ Simple enough, this is where all of the rrd files are created. They are stored in folders based on the device hostname. sql-schema/ In here are all of the SQL schema files. These are used to setup a new instance of LibreNMS automatically when build-base.php is called or when an update is done and includes/sql-schema/update.php is called.","title":"Code structure."},{"location":"Developing/Code-Structure/#code-structure","text":"This document will try and provide a good overview of how the code is structured within LibreNMS. We will go through the main directories and provide information on how and when they are used.","title":"Code structure."},{"location":"Developing/Code-Structure/#doc","text":"This is the location of all the documentation for LibreNMS, this is in GitHub markdown format and can be viewed online","title":"doc/"},{"location":"Developing/Code-Structure/#librenms","text":"Any classes should be under this directory, with a directory structure that matches the namespace. One class per file. See PSR-0 for details.","title":"LibreNMS/"},{"location":"Developing/Code-Structure/#html","text":"All web accessible files are located here.","title":"html/"},{"location":"Developing/Code-Structure/#htmlapi_v0php","text":"This is the API routing file which directs users to the correct API function based on the API endpoint call.","title":"html/api_v0.php"},{"location":"Developing/Code-Structure/#htmlindexphp","text":"This is the main file which all links within LibreNMS are parsed through. It loads the majority of the relevant includes needed for the control panel to function. CSS and JS files are also loaded here.","title":"html/index.php"},{"location":"Developing/Code-Structure/#htmlcss","text":"All used css files are located here. Apart from legacy files, anything in here is now a symlink.","title":"html/css"},{"location":"Developing/Code-Structure/#htmlcsscustom","text":"This is a folder you can put custom css files into that won't interfere with auto updates","title":"html/css/custom"},{"location":"Developing/Code-Structure/#htmlforms","text":"This folder contains all of the files that are dynamically included from an ajax call to ajax/form.","title":"html/forms"},{"location":"Developing/Code-Structure/#htmlincludes","text":"This is where the majority of the website core files are located. These tend to be files that contain functions or often used code segments that can be included where needed rather than duplicating code.","title":"html/includes"},{"location":"Developing/Code-Structure/#htmlincludesapi_functionsincphp","text":"All of the functions and calls for the API are located here.","title":"html/includes/api_functions.inc.php"},{"location":"Developing/Code-Structure/#htmlincludesauthenticateincphp-htmlincludesauthentication","text":"These files are what provides the authentication layer to the user. In the folder are separate files based on the auth type used, this means new authentication types can be added easily enough.","title":"html/includes/authenticate.inc.php, html/includes/authentication/"},{"location":"Developing/Code-Structure/#htmlincludesfunctionsincphp","text":"This contains the majority of functions used throughout the standard web ui.","title":"html/includes/functions.inc.php"},{"location":"Developing/Code-Structure/#htmlincludesreports","text":"In here is a list of of files that generate PDF reports available to the user. These are dynamically called in from html/pdf.pdf based on the report the user requests.","title":"html/includes/reports/"},{"location":"Developing/Code-Structure/#htmlincludestable","text":"This folder contains all of the ajax calls when generating the table of data. Most have been converted over so if you are planning to add a new table of data then you will do so here for all of the back end data calls.","title":"html/includes/table/"},{"location":"Developing/Code-Structure/#htmljs","text":"All used JS files are located here. Apart from legacy files, anything in here is now a symlink.","title":"html/js/"},{"location":"Developing/Code-Structure/#htmlpages","text":"This folder contains the URL structure when browsing the Web UI. So for example /devices/ is actually a call to html/pages/devices.inc.php, /device/tab=ports/ is html/pages/device/ports.inc.php.","title":"html/pages"},{"location":"Developing/Code-Structure/#includes","text":"This folder is quite big and contains all the files to make the cli and polling / discovery to work.","title":"includes/"},{"location":"Developing/Code-Structure/#includesdiscovery-includespolling","text":"All the discovery and polling code. The format is usually quite similar between discovery and polling. Both are made up of modules and the files within the relevant directories will match that module. So for instance if you want to update the os detection for a device, you would look in includes/discovery/os/ for a file named after the operating system such as linux: includes/discovery/linux.inc.php. Within here you would update or add support for newer OS'. This is the same for polling as well.","title":"includes/discovery/, includes/polling/"},{"location":"Developing/Code-Structure/#lib","text":"This is for all of the libraries used by LibreNMS. If you are including a 3rd party module, you would add the files in here either via git subtree if it's hosted on GitHub or just by copying the folder. Please ensure you maintain any copyright notices. You will then need to either reference the files in this folder directly from where you need them or alternatively as is the case with css and js libraries then symlink the needed files.","title":"lib/"},{"location":"Developing/Code-Structure/#logs","text":"Usually contains your web servers logs but can also contain poller logs and other items,","title":"logs/"},{"location":"Developing/Code-Structure/#mibs","text":"Here is where all of the mibs are located, traditionally this has meant having all mibs in one directory but for certain vendors this has changed and these are now located in sub folders.","title":"mibs/"},{"location":"Developing/Code-Structure/#rrd","text":"Simple enough, this is where all of the rrd files are created. They are stored in folders based on the device hostname.","title":"rrd/"},{"location":"Developing/Code-Structure/#sql-schema","text":"In here are all of the SQL schema files. These are used to setup a new instance of LibreNMS automatically when build-base.php is called or when an update is done and includes/sql-schema/update.php is called.","title":"sql-schema/"},{"location":"Developing/Creating-Documentation/","text":"Creating Documentation One of the goals of the LibreNMS project is to enable users to get all of the help they need from our documentation. Writing docs When you are adding a new feature or extension, we need to have full documentation to go along with it. It's quite simple to do this: Find the relevant directory to store your new document in, General, Support and Extensions are the most likely choices. Think of a descriptive name that's not too long, it should match what they may be looking for or describes the feature. Ensure the first line contains: source: path/to/file.md - don't include the intial doc/ . In the body of the document, be descriptive but keep things simple. Some tips: If the document could cover different distros like CentOS and Ubuntu please try and include the information for them all. If that's not possible then at least put a placeholder in asking for contributions. Ensure you use the correct formating for commands and code blocks by wrapping one liners in backticks or blocks in ```. Put content into sub-headings where possible to organise the content. If you rename a file, please add a redirect in for the old file by using meta http-equiv=\"refresh\" content=\"0; url=/NewLocation/\" / within the old file name. Please ensure you add the document to the relevant section within pages of mkdocs.yml so that it's in the correct menu and is built. Forgetting this step will result in your document never seeing the light of day :) Formatting docs Our docs are based on Markdown using mkdocs which adheres to markdown specs and nothing more, because of that we also import a couple of extra libraries: pymdownx.tasklist pymdownx.tilde This means you can use: ~~strikethrough~~ to perform strikethrough - [X] List items Url's can be made [like this](http://www.librenms.org) like this Code can be placed in `` for single line or ``` for multiline. # Can be used for main headings which translates to a h1 tag, increasing the # 's will increase the hX tags. ### Can be used for sub-headings which will appear in the TOC to the left. Markdown CheatSheet Link","title":"Creating Documentation"},{"location":"Developing/Creating-Documentation/#creating-documentation","text":"One of the goals of the LibreNMS project is to enable users to get all of the help they need from our documentation.","title":"Creating Documentation"},{"location":"Developing/Creating-Documentation/#writing-docs","text":"When you are adding a new feature or extension, we need to have full documentation to go along with it. It's quite simple to do this: Find the relevant directory to store your new document in, General, Support and Extensions are the most likely choices. Think of a descriptive name that's not too long, it should match what they may be looking for or describes the feature. Ensure the first line contains: source: path/to/file.md - don't include the intial doc/ . In the body of the document, be descriptive but keep things simple. Some tips: If the document could cover different distros like CentOS and Ubuntu please try and include the information for them all. If that's not possible then at least put a placeholder in asking for contributions. Ensure you use the correct formating for commands and code blocks by wrapping one liners in backticks or blocks in ```. Put content into sub-headings where possible to organise the content. If you rename a file, please add a redirect in for the old file by using meta http-equiv=\"refresh\" content=\"0; url=/NewLocation/\" / within the old file name. Please ensure you add the document to the relevant section within pages of mkdocs.yml so that it's in the correct menu and is built. Forgetting this step will result in your document never seeing the light of day :)","title":"Writing docs"},{"location":"Developing/Creating-Documentation/#formatting-docs","text":"Our docs are based on Markdown using mkdocs which adheres to markdown specs and nothing more, because of that we also import a couple of extra libraries: pymdownx.tasklist pymdownx.tilde This means you can use: ~~strikethrough~~ to perform strikethrough - [X] List items Url's can be made [like this](http://www.librenms.org) like this Code can be placed in `` for single line or ``` for multiline. # Can be used for main headings which translates to a h1 tag, increasing the # 's will increase the hX tags. ### Can be used for sub-headings which will appear in the TOC to the left. Markdown CheatSheet Link","title":"Formatting docs"},{"location":"Developing/Creating-Release/","text":"Creating a release GitHub You can create a new release on GitHub . Enter the tag version that month, i.e for September 2016 you would enter 201609 . Enter a title, we usually use August 2016 Release Enter a placeholder for the body, we will edit this later. Create changelog For this, we assume you are using the master branch to create the release against. We now generate the changelog using the GitHub API itself so it shouldn't matter what state your local branch is in so long as it has the code to generate the changelog itself. Using the GitHub API means we can use the labels associated with merged pull requests to categorise the changelog. We also then record who made the pull request to thank them in the changelog itself. You will be asked for a GitHub personal access token. You can generate this here . No permissions should be needed so just give it a name and click Generate Token . You can then export the token as an environment variable GH_TOKEN or place it in your .env file. The basic command to run is by using artisan . Here you pass new tag (1.41) and previous tag (1.40). For further help run php artisan release:tag --help . This will generate a changelog up to the latest master branch, if you want it to be done against something else then pass the latest pull request number with --pr $PR_NUMBER . php artisan release:tag 1.41 1.40 Now commit and push the change that has been made to doc/General/Changelog.md . Once the pull request has been merged in for the Changelog, you can create a new release on GitHub . Create two threads on the community site: A changelog thread example An info thread example Tweet it Facebook it Google Plus it LinkedIn it","title":"Creating a release"},{"location":"Developing/Creating-Release/#creating-a-release","text":"","title":"Creating a release"},{"location":"Developing/Creating-Release/#github","text":"You can create a new release on GitHub . Enter the tag version that month, i.e for September 2016 you would enter 201609 . Enter a title, we usually use August 2016 Release Enter a placeholder for the body, we will edit this later.","title":"GitHub"},{"location":"Developing/Creating-Release/#create-changelog","text":"For this, we assume you are using the master branch to create the release against. We now generate the changelog using the GitHub API itself so it shouldn't matter what state your local branch is in so long as it has the code to generate the changelog itself. Using the GitHub API means we can use the labels associated with merged pull requests to categorise the changelog. We also then record who made the pull request to thank them in the changelog itself. You will be asked for a GitHub personal access token. You can generate this here . No permissions should be needed so just give it a name and click Generate Token . You can then export the token as an environment variable GH_TOKEN or place it in your .env file. The basic command to run is by using artisan . Here you pass new tag (1.41) and previous tag (1.40). For further help run php artisan release:tag --help . This will generate a changelog up to the latest master branch, if you want it to be done against something else then pass the latest pull request number with --pr $PR_NUMBER . php artisan release:tag 1.41 1.40 Now commit and push the change that has been made to doc/General/Changelog.md . Once the pull request has been merged in for the Changelog, you can create a new release on GitHub . Create two threads on the community site: A changelog thread example An info thread example Tweet it Facebook it Google Plus it LinkedIn it","title":"Create changelog"},{"location":"Developing/Dynamic-Config/","text":"Adding new config options to WebUI Adding support for users to update a new config option via the WebUI is now a lot easier for general options. This document shows you how to add a new config option and even section to the WebUI. Update DB Firstly you will need to add the config option to the database. Here's an example: insert into config (config_name,config_value,config_default,config_descr,config_group,config_group_order,config_sub_group,config_sub_group_order,config_hidden,config_disabled) values ('alert.tolerance_window','','','Tolerance window in seconds','alerting',0,'general',0,'0','0'); This will determine the default config option for $config['alert']['tolerance_window'] . Update WebUI If the sub-section you want to add the new config option already exists then update the relevant file within html/pages/settings/ otherwise you will need to create the new sub-section page. Here's an example of this: Commit example ?php $no_refresh = true; $config_groups = get_config_by_group('alerting'); $mail_conf = array( array('name' = 'alert.tolerance_window', 'descr' = 'Tolerance window for cron', 'type' = 'text', ), ); echo ' div class= panel-group id= accordion form class= form-horizontal role= form action= method= post '; echo generate_dynamic_config_panel('Email transport',$config_groups,$mail_conf,'mail'); echo ' /form /div '; And that should be it!","title":"Adding new config options to WebUI"},{"location":"Developing/Dynamic-Config/#adding-new-config-options-to-webui","text":"Adding support for users to update a new config option via the WebUI is now a lot easier for general options. This document shows you how to add a new config option and even section to the WebUI.","title":"Adding new config options to WebUI"},{"location":"Developing/Dynamic-Config/#update-db","text":"Firstly you will need to add the config option to the database. Here's an example: insert into config (config_name,config_value,config_default,config_descr,config_group,config_group_order,config_sub_group,config_sub_group_order,config_hidden,config_disabled) values ('alert.tolerance_window','','','Tolerance window in seconds','alerting',0,'general',0,'0','0'); This will determine the default config option for $config['alert']['tolerance_window'] .","title":"Update DB"},{"location":"Developing/Dynamic-Config/#update-webui","text":"If the sub-section you want to add the new config option already exists then update the relevant file within html/pages/settings/ otherwise you will need to create the new sub-section page. Here's an example of this: Commit example ?php $no_refresh = true; $config_groups = get_config_by_group('alerting'); $mail_conf = array( array('name' = 'alert.tolerance_window', 'descr' = 'Tolerance window for cron', 'type' = 'text', ), ); echo ' div class= panel-group id= accordion form class= form-horizontal role= form action= method= post '; echo generate_dynamic_config_panel('Email transport',$config_groups,$mail_conf,'mail'); echo ' /form /div '; And that should be it!","title":"Update WebUI"},{"location":"Developing/Licensing/","text":"Contributor Agreement By contributing code to LibreNMS (whether by a GitHub pull request, or by any other means), you assert that: You have the rights to include the code, either as its original author, or due to it being released to you under a compatible license. You are not aware of any third party claims on the code, including copyright, patent, trademark, or any other legal claim. You have acknowledged in the content of your contribution (usually as a source code comment) any and all sources and influences used in the production of that contribution. You have not viewed code written under the Observium License in the production of contributed code. This includes all Observium code after Subversion revision 3250 and any patches or other code covered by that license after Tue May 29 13:08:01 2012 +0000 (the date of Observium r3250). To agree with these assertions, when you submit your first pull request you will be asked after submitting to sign the CLA, you do this by following the link provided in the PR and agreeing to the CLA using your GitHub account. Local patches Please note that the above contributor agreement means that if you have developed a feature for a non-GPL version of Observium, we can't include it in LibreNMS, even if you have not released it to the public. If there's a feature you use to which this applies, please document its functionality in an issue, and we'll do our best to include equivalent functionality in LibreNMS. Copyright We recommend that if you add a new file containing original code to the code base that you include a copyright notice in it as per the Free Software Foundation's guidelines. You might find something like the following header appropriate (although this is not legal advice ;-). Please also ensure you add the package information to the header. ?php /* * This program is free software: you can redistribute it and/or modify it * under the terms of the GNU General Public License as published by the * Free Software Foundation, either version 3 of the License, or (at your * option) any later version. Please see LICENSE.txt at the top level of * the source code distribution for details. */ * @package LibreNMS * @subpackage webui * @link http://librenms.org * @copyright 2017 Internet Widgitz Pty Ltd info@widgitz.com * @author Me me@infowidgitz.com The GPLv3 itself also contains recommendations about applying the GPL to your code. Please see LICENSE.txt at the top of this source code distribution for details. Integrating other code Giving credit where credit is due is critical to the Free Software philosophy. If you use code from somewhere else, even if it's trivial, be sure to note this as a comment in the code (preferably) or the commit message. Accurate attribution is crucial to our success as a Free Software project. For any dependency Include its name, source URL, copyright notice, and license in doc/General/Credits.md To add a php dependency, please use composer Add the dependency composer require slim/slim Updating php dependencies Update dependencies FORCE=1 php56 ./scripts/composer_wrapper.php update Commit the updated composer.lock file To add a javascript dependency Where possible please include minimized libraries in the html/js/ folder. Don't submit code whose license conflicts with the GPLv3. If you're not sure, consult the Free Software Foundation's license list and see if your code's license is on the compatible or incompatible list. If you prefer a non-copyleft license, Apache 2.0 is the recommended choice as per the FSF guidelines. The current Observium license is incompatible with GPLv3. Don't submit code from current Observium unless you are the copyright holder, and you specifically state in the code that you are releasing it under GPLv3 (or a compatible license). Because contributing to Observium requires that you reassign copyright to Adam Armstrong, if you want to release the same code for both Observium and LibreNMS, you need to release it for LibreNMS first and mark it with your own copyright notice, then release it to Observium and remove your copyright, granting Adam ownership. Please note that the above is necessary even if you don't care about keeping the copyright to your code, because otherwise we could be accused of misappropriating Observium's code. As the code bases develop, we expect them to diverge, which means this will become less of an issue anyway. Because the GPL's provisions about linking don't apply to PHP-based projects, we interpret the linking provisions of the license to refer to the use of PHP library functions called from LibreNMS code. We consider inclusion of files such as MIBs in the LibreNMS repository to be merely aggregation in a distribution medium as per the last paragraph of the GPLv3 section 5 (\"Conveying Modified Source Versions\"), and because they are not combined with LibreNMS to form a larger program, the GPLv3 does not apply to them. This is not a legal ruling - it is simply a statement of our intent and current interpretation.","title":"Licensing"},{"location":"Developing/Licensing/#contributor-agreement","text":"By contributing code to LibreNMS (whether by a GitHub pull request, or by any other means), you assert that: You have the rights to include the code, either as its original author, or due to it being released to you under a compatible license. You are not aware of any third party claims on the code, including copyright, patent, trademark, or any other legal claim. You have acknowledged in the content of your contribution (usually as a source code comment) any and all sources and influences used in the production of that contribution. You have not viewed code written under the Observium License in the production of contributed code. This includes all Observium code after Subversion revision 3250 and any patches or other code covered by that license after Tue May 29 13:08:01 2012 +0000 (the date of Observium r3250). To agree with these assertions, when you submit your first pull request you will be asked after submitting to sign the CLA, you do this by following the link provided in the PR and agreeing to the CLA using your GitHub account.","title":"Contributor Agreement"},{"location":"Developing/Licensing/#local-patches","text":"Please note that the above contributor agreement means that if you have developed a feature for a non-GPL version of Observium, we can't include it in LibreNMS, even if you have not released it to the public. If there's a feature you use to which this applies, please document its functionality in an issue, and we'll do our best to include equivalent functionality in LibreNMS.","title":"Local patches"},{"location":"Developing/Licensing/#copyright","text":"We recommend that if you add a new file containing original code to the code base that you include a copyright notice in it as per the Free Software Foundation's guidelines. You might find something like the following header appropriate (although this is not legal advice ;-). Please also ensure you add the package information to the header. ?php /* * This program is free software: you can redistribute it and/or modify it * under the terms of the GNU General Public License as published by the * Free Software Foundation, either version 3 of the License, or (at your * option) any later version. Please see LICENSE.txt at the top level of * the source code distribution for details. */ * @package LibreNMS * @subpackage webui * @link http://librenms.org * @copyright 2017 Internet Widgitz Pty Ltd info@widgitz.com * @author Me me@infowidgitz.com The GPLv3 itself also contains recommendations about applying the GPL to your code. Please see LICENSE.txt at the top of this source code distribution for details.","title":"Copyright"},{"location":"Developing/Licensing/#integrating-other-code","text":"Giving credit where credit is due is critical to the Free Software philosophy. If you use code from somewhere else, even if it's trivial, be sure to note this as a comment in the code (preferably) or the commit message. Accurate attribution is crucial to our success as a Free Software project. For any dependency Include its name, source URL, copyright notice, and license in doc/General/Credits.md To add a php dependency, please use composer Add the dependency composer require slim/slim Updating php dependencies Update dependencies FORCE=1 php56 ./scripts/composer_wrapper.php update Commit the updated composer.lock file To add a javascript dependency Where possible please include minimized libraries in the html/js/ folder. Don't submit code whose license conflicts with the GPLv3. If you're not sure, consult the Free Software Foundation's license list and see if your code's license is on the compatible or incompatible list. If you prefer a non-copyleft license, Apache 2.0 is the recommended choice as per the FSF guidelines. The current Observium license is incompatible with GPLv3. Don't submit code from current Observium unless you are the copyright holder, and you specifically state in the code that you are releasing it under GPLv3 (or a compatible license). Because contributing to Observium requires that you reassign copyright to Adam Armstrong, if you want to release the same code for both Observium and LibreNMS, you need to release it for LibreNMS first and mark it with your own copyright notice, then release it to Observium and remove your copyright, granting Adam ownership. Please note that the above is necessary even if you don't care about keeping the copyright to your code, because otherwise we could be accused of misappropriating Observium's code. As the code bases develop, we expect them to diverge, which means this will become less of an issue anyway. Because the GPL's provisions about linking don't apply to PHP-based projects, we interpret the linking provisions of the license to refer to the use of PHP library functions called from LibreNMS code. We consider inclusion of files such as MIBs in the LibreNMS repository to be merely aggregation in a distribution medium as per the last paragraph of the GPLv3 section 5 (\"Conveying Modified Source Versions\"), and because they are not combined with LibreNMS to form a larger program, the GPLv3 does not apply to them. This is not a legal ruling - it is simply a statement of our intent and current interpretation.","title":"Integrating other code"},{"location":"Developing/Merging-Pull-Requests/","text":"Merging Pull Requests GitHub We will now build the monthly change log from our GitHub commits. When merging a commit, please ensure you: Click the Merge pull request button Give the merge a descriptive but short title For the commit message prepend it with one of the following tags for the pull request to appear in the changelog: devices: or newdevice: For new device support. feature: or feat: To indicate this is a new or updated feature webui: or web: To indicate this is an update to the WebUI fix: or bugfix: To show this is a bug fix. refactoring: or refactor: When the changes are refactoring a large portion of code You can reference an issue number with #xyz , i.e #1234 Use the Confirm squash and merge button to merge. Example commits Feature feature: Added new availability map #4401 New device newdevice: Added support for Cisco ASA #4402","title":"Merging Pull Requests"},{"location":"Developing/Merging-Pull-Requests/#merging-pull-requests","text":"","title":"Merging Pull Requests"},{"location":"Developing/Merging-Pull-Requests/#github","text":"We will now build the monthly change log from our GitHub commits. When merging a commit, please ensure you: Click the Merge pull request button Give the merge a descriptive but short title For the commit message prepend it with one of the following tags for the pull request to appear in the changelog: devices: or newdevice: For new device support. feature: or feat: To indicate this is a new or updated feature webui: or web: To indicate this is an update to the WebUI fix: or bugfix: To show this is a bug fix. refactoring: or refactor: When the changes are refactoring a large portion of code You can reference an issue number with #xyz , i.e #1234 Use the Confirm squash and merge button to merge.","title":"GitHub"},{"location":"Developing/Merging-Pull-Requests/#example-commits","text":"","title":"Example commits"},{"location":"Developing/Merging-Pull-Requests/#feature","text":"feature: Added new availability map #4401","title":"Feature"},{"location":"Developing/Merging-Pull-Requests/#new-device","text":"newdevice: Added support for Cisco ASA #4402","title":"New device"},{"location":"Developing/SNMP-Traps/","text":"Creating snmp trap handlers Create a new class in LibreNMS\\Snmptrap\\Handlers that implements the LibreNMS\\Interfaces\\SnmptrapHandler interface. Register the mapping in the config/snmptraps.php file. Make sure to use the full trap oid. 'IF-MIB::linkUp' = \\LibreNMS\\Snmptrap\\Handlers\\LinkUp::class The handle function inside your new class will receive a LibreNMS/Snmptrap/Trap object containing the parsed trap. It is common to update the database and create event log entries within the handle function. Getting information from the Trap Source information $trap- getDevice(); // gets Device model for the device associated with this trap $trap- getHostname(); // gets hostname sent with the trap $trap- getIp(); // gets source IP of this trap $trap- getTrapOid(); // returns the string you registered your class with Retrieving data from the Trap $trap- getOidData('IF-MIB::ifDescr.114'); getOidData() requires the full name including any additional index. You can use these functions to search the oid keys. $trap- findOid('ifDescr'); // returns the first oid key that contains the string $trap- findOids('ifDescr'); // returns all oid keys containing the string Advanced If the above isn't adequate, you can get the entire trap text $trap- getRaw();","title":"Creating snmp trap handlers"},{"location":"Developing/SNMP-Traps/#creating-snmp-trap-handlers","text":"Create a new class in LibreNMS\\Snmptrap\\Handlers that implements the LibreNMS\\Interfaces\\SnmptrapHandler interface. Register the mapping in the config/snmptraps.php file. Make sure to use the full trap oid. 'IF-MIB::linkUp' = \\LibreNMS\\Snmptrap\\Handlers\\LinkUp::class The handle function inside your new class will receive a LibreNMS/Snmptrap/Trap object containing the parsed trap. It is common to update the database and create event log entries within the handle function.","title":"Creating snmp trap handlers"},{"location":"Developing/SNMP-Traps/#getting-information-from-the-trap","text":"","title":"Getting information from the Trap"},{"location":"Developing/SNMP-Traps/#source-information","text":"$trap- getDevice(); // gets Device model for the device associated with this trap $trap- getHostname(); // gets hostname sent with the trap $trap- getIp(); // gets source IP of this trap $trap- getTrapOid(); // returns the string you registered your class with","title":"Source information"},{"location":"Developing/SNMP-Traps/#retrieving-data-from-the-trap","text":"$trap- getOidData('IF-MIB::ifDescr.114'); getOidData() requires the full name including any additional index. You can use these functions to search the oid keys. $trap- findOid('ifDescr'); // returns the first oid key that contains the string $trap- findOids('ifDescr'); // returns all oid keys containing the string","title":"Retrieving data from the Trap"},{"location":"Developing/SNMP-Traps/#advanced","text":"If the above isn't adequate, you can get the entire trap text $trap- getRaw();","title":"Advanced"},{"location":"Developing/Sensor-State-Support/","text":"Sensor State Support Introduction In this section we are briefly going to walk through, what it takes to write sensor state support. We will also briefly get around the concepts of the current sensor state monitoring. Logic For sensor state monitoring, we have 4 DB tables we need to concentrate about. - sensors - state_indexes - state_translations - sensors_to_state_indexes We will just briefly tie a comment to each one of them. Sensors Each time a sensor needs to be polled, the system needs to know which sensor is it that it need to poll, at what oid is this sensor located and what class the sensor is etc. This information is fetched from the sensors table. state_indexes Is where we keep track of which state sensors we monitor. state_translations Is where we map the possible returned state sensor values to a generic LibreNMS value, in order to make displaying and alerting more generic. We also map these values to the actual state sensor(state_index) where these values are actually returned from. The LibreNMS generic states are derived from Nagios: 0 = OK 1 = Warning 2 = Critical 3 = Unknown sensors_to_state_indexes Is as you might have guessed, where the sensor_id is mapped to a state_index_id. Example For YAML based state discovery: mib: NETBOTZV2-MIB modules: sensors: state: data: - oid: dryContactSensorTable value: dryContactSensorValue num_oid: .1.3.6.1.4.1.5528.100.4.2.1.1.2. descr: dryContactSensorLabel index: 'dryContactSensor.{{ $index }}' state_name: dryContactSensor states: - { value: -1, generic: 3, graph: 0, descr: 'null' } - { value: 0, generic: 0, graph: 0, descr: open } - { value: 1, generic: 2, graph: 0, descr: closed } - oid: doorSwitchSensorTable value: doorSwitchSensorValue num_oid: .1.3.6.1.4.1.5528.100.4.2.2.1.2. descr: doorSwitchSensorLabel index: 'doorSwitchSensor.{{ $index }}' state_name: doorSwitchSensor states: - { value: -1, generic: 3, graph: 0, descr: 'null' } - { value: 0, generic: 0, graph: 0, descr: open } - { value: 1, generic: 2, graph: 0, descr: closed } - oid: cameraMotionSensorTable value: cameraMotionSensorValue num_oid: .1.3.6.1.4.1.5528.100.4.2.3.1.2. descr: cameraMotionSensorLabel index: 'cameraMotionSensor.{{ $index }}' state_name: cameraMotionSensor states: - { value: -1, generic: 3, graph: 0, descr: 'null' } - { value: 0, generic: 0, graph: 0, descr: noMotion } - { value: 1, generic: 2, graph: 0, descr: motionDetected } - oid: otherStateSensorTable value: otherStateSensorErrorStatus num_oid: .1.3.6.1.4.1.5528.100.4.2.10.1.3. descr: otherStateSensorLabel index: '{{ $index }}' state_name: otherStateSensorErrorStatus states: - { value: 0, generic: 0, graph: 0, descr: normal } - { value: 1, generic: 1, graph: 0, descr: info } - { value: 2, generic: 1, graph: 0, descr: warning } - { value: 3, generic: 2, graph: 0, descr: error } - { value: 4, generic: 2, graph: 0, descr: critical } - { value: 5, generic: 2, graph: 0, descr: failure } Advanced Example For advanced state discovery: This example will be based on a Cisco power supply sensor and is all it takes to have sensor state support for Cisco power supplys in Cisco switches. The file should be located in /includes/discovery/sensors/state/cisco.inc.php. ?php $oids = snmpwalk_group($device, 'ciscoEnvMonSupplyStatusTable', 'CISCO-ENVMON-MIB'); if (!empty($oids)) { //Create State Index $state_name = 'ciscoEnvMonSupplyState'; $states = array( array('value' = 1, 'generic' = 0, 'graph' = 0, 'descr' = 'normal'), array('value' = 2, 'generic' = 1, 'graph' = 0, 'descr' = 'warning'), array('value' = 3, 'generic' = 2, 'graph' = 0, 'descr' = 'critical'), array('value' = 4, 'generic' = 3, 'graph' = 0, 'descr' = 'shutdown'), array('value' = 5, 'generic' = 3, 'graph' = 0, 'descr' = 'notPresent'), array('value' = 6, 'generic' = 2, 'graph' = 0, 'descr' = 'notFunctioning'), ); create_state_index($state_name, $states); $num_oid = '.1.3.6.1.4.1.9.9.13.1.5.1.3.'; foreach ($oids as $index = $entry) { //Discover Sensors discover_sensor($valid['sensor'], 'state', $device, $num_oid.$index, $index, $state_name, $entry['ciscoEnvMonSupplyStatusDescr'], '1', '1', null, null, null, null, $entry['ciscoEnvMonSupplyState'], 'snmp', $index); //Create Sensor To State Index create_sensor_to_state_index($device, $state_name, $index); } }","title":"Sensor State Support"},{"location":"Developing/Sensor-State-Support/#sensor-state-support","text":"","title":"Sensor State Support"},{"location":"Developing/Sensor-State-Support/#introduction","text":"In this section we are briefly going to walk through, what it takes to write sensor state support. We will also briefly get around the concepts of the current sensor state monitoring.","title":"Introduction"},{"location":"Developing/Sensor-State-Support/#logic","text":"For sensor state monitoring, we have 4 DB tables we need to concentrate about. - sensors - state_indexes - state_translations - sensors_to_state_indexes We will just briefly tie a comment to each one of them.","title":"Logic"},{"location":"Developing/Sensor-State-Support/#sensors","text":"Each time a sensor needs to be polled, the system needs to know which sensor is it that it need to poll, at what oid is this sensor located and what class the sensor is etc. This information is fetched from the sensors table.","title":"Sensors"},{"location":"Developing/Sensor-State-Support/#state_indexes","text":"Is where we keep track of which state sensors we monitor.","title":"state_indexes"},{"location":"Developing/Sensor-State-Support/#state_translations","text":"Is where we map the possible returned state sensor values to a generic LibreNMS value, in order to make displaying and alerting more generic. We also map these values to the actual state sensor(state_index) where these values are actually returned from. The LibreNMS generic states are derived from Nagios: 0 = OK 1 = Warning 2 = Critical 3 = Unknown","title":"state_translations"},{"location":"Developing/Sensor-State-Support/#sensors_to_state_indexes","text":"Is as you might have guessed, where the sensor_id is mapped to a state_index_id.","title":"sensors_to_state_indexes"},{"location":"Developing/Sensor-State-Support/#example","text":"For YAML based state discovery: mib: NETBOTZV2-MIB modules: sensors: state: data: - oid: dryContactSensorTable value: dryContactSensorValue num_oid: .1.3.6.1.4.1.5528.100.4.2.1.1.2. descr: dryContactSensorLabel index: 'dryContactSensor.{{ $index }}' state_name: dryContactSensor states: - { value: -1, generic: 3, graph: 0, descr: 'null' } - { value: 0, generic: 0, graph: 0, descr: open } - { value: 1, generic: 2, graph: 0, descr: closed } - oid: doorSwitchSensorTable value: doorSwitchSensorValue num_oid: .1.3.6.1.4.1.5528.100.4.2.2.1.2. descr: doorSwitchSensorLabel index: 'doorSwitchSensor.{{ $index }}' state_name: doorSwitchSensor states: - { value: -1, generic: 3, graph: 0, descr: 'null' } - { value: 0, generic: 0, graph: 0, descr: open } - { value: 1, generic: 2, graph: 0, descr: closed } - oid: cameraMotionSensorTable value: cameraMotionSensorValue num_oid: .1.3.6.1.4.1.5528.100.4.2.3.1.2. descr: cameraMotionSensorLabel index: 'cameraMotionSensor.{{ $index }}' state_name: cameraMotionSensor states: - { value: -1, generic: 3, graph: 0, descr: 'null' } - { value: 0, generic: 0, graph: 0, descr: noMotion } - { value: 1, generic: 2, graph: 0, descr: motionDetected } - oid: otherStateSensorTable value: otherStateSensorErrorStatus num_oid: .1.3.6.1.4.1.5528.100.4.2.10.1.3. descr: otherStateSensorLabel index: '{{ $index }}' state_name: otherStateSensorErrorStatus states: - { value: 0, generic: 0, graph: 0, descr: normal } - { value: 1, generic: 1, graph: 0, descr: info } - { value: 2, generic: 1, graph: 0, descr: warning } - { value: 3, generic: 2, graph: 0, descr: error } - { value: 4, generic: 2, graph: 0, descr: critical } - { value: 5, generic: 2, graph: 0, descr: failure }","title":"Example"},{"location":"Developing/Sensor-State-Support/#advanced-example","text":"For advanced state discovery: This example will be based on a Cisco power supply sensor and is all it takes to have sensor state support for Cisco power supplys in Cisco switches. The file should be located in /includes/discovery/sensors/state/cisco.inc.php. ?php $oids = snmpwalk_group($device, 'ciscoEnvMonSupplyStatusTable', 'CISCO-ENVMON-MIB'); if (!empty($oids)) { //Create State Index $state_name = 'ciscoEnvMonSupplyState'; $states = array( array('value' = 1, 'generic' = 0, 'graph' = 0, 'descr' = 'normal'), array('value' = 2, 'generic' = 1, 'graph' = 0, 'descr' = 'warning'), array('value' = 3, 'generic' = 2, 'graph' = 0, 'descr' = 'critical'), array('value' = 4, 'generic' = 3, 'graph' = 0, 'descr' = 'shutdown'), array('value' = 5, 'generic' = 3, 'graph' = 0, 'descr' = 'notPresent'), array('value' = 6, 'generic' = 2, 'graph' = 0, 'descr' = 'notFunctioning'), ); create_state_index($state_name, $states); $num_oid = '.1.3.6.1.4.1.9.9.13.1.5.1.3.'; foreach ($oids as $index = $entry) { //Discover Sensors discover_sensor($valid['sensor'], 'state', $device, $num_oid.$index, $index, $state_name, $entry['ciscoEnvMonSupplyStatusDescr'], '1', '1', null, null, null, null, $entry['ciscoEnvMonSupplyState'], 'snmp', $index); //Create Sensor To State Index create_sensor_to_state_index($device, $state_name, $index); } }","title":"Advanced Example"},{"location":"Developing/Style-Guidelines/","text":"Style guidelines This document is here to help style standards for contributions towards LibreNMS. These aren't strict rules but it is in the users interest that a consistent well thought out Web UI is available. Responsiveness The Web UI is designed to be mobile friendly and for the most part is and works well. It's worth spending sometime to read through the Bootstrap website to learn more about how to keep things responsive. Navigation bar Always pick the best location for new links to go, think about where users would expect the link to be located and name it so that it's obvious what it does. Ensure sub sections within the Navigation are separated correctly using li role=\"presentation\" class=\"divider\" /li . Only use Font Awesome icons within the Navigation. It speeds up page load times quite considerably. Buttons Try to keep buttons colored to reflect the action they will take. Buttons are set using Bootstrap classes. The size of the buttons will depend on the area of the website being used but btn-sm is probably the most common. Delete / Remove buttons: btn btn-danger Edit / Update buttons: btn btn-primary Add / Create buttons: btn btn-success Tables Unless the table being used will only ever display a handful of items - yeah that's what we all said, then you need to write your table using JQuery Bootgrid . This shouldn't take that much more code to do this but provides so much flexibility along with stopping the need for retrieving all the data from SQL in the first place. As an example pull request, see PR 706 to get an idea of what it's like to convert an existing pure html table to Bootgrid. Datetime format When displaying datetimes, please ensure you use the format YYYY-MM-DD mm:hh:ss where possible, you shouldn't change the order of this as it will be confusing to users. Cutting it short to just display YYYY-MM-DD mm:hh is fine :). To keep things consistent we have the following variables which should be used rather than to format dates yourself. This has the added benefit that users can customise the format: # Date format for PHP date()s $config['dateformat']['long'] = r ; # RFC2822 style $config['dateformat']['compact'] = Y-m-d H:i:s ; $config['dateformat']['byminute'] = Y-m-d H:i ; $config['dateformat']['time'] = H:i:s ; # Date format for MySQL DATE_FORMAT $config['dateformat']['mysql']['compact'] = %Y-%m-%d %H:%i:%s ; $config['dateformat']['mysql']['date'] = %Y-%m-%d ; $config['dateformat']['mysql']['time'] = %H:%i:%s ;","title":"Style guidelines"},{"location":"Developing/Style-Guidelines/#style-guidelines","text":"This document is here to help style standards for contributions towards LibreNMS. These aren't strict rules but it is in the users interest that a consistent well thought out Web UI is available.","title":"Style guidelines"},{"location":"Developing/Style-Guidelines/#responsiveness","text":"The Web UI is designed to be mobile friendly and for the most part is and works well. It's worth spending sometime to read through the Bootstrap website to learn more about how to keep things responsive.","title":"Responsiveness"},{"location":"Developing/Style-Guidelines/#navigation-bar","text":"Always pick the best location for new links to go, think about where users would expect the link to be located and name it so that it's obvious what it does. Ensure sub sections within the Navigation are separated correctly using li role=\"presentation\" class=\"divider\" /li . Only use Font Awesome icons within the Navigation. It speeds up page load times quite considerably.","title":"Navigation bar"},{"location":"Developing/Style-Guidelines/#buttons","text":"Try to keep buttons colored to reflect the action they will take. Buttons are set using Bootstrap classes. The size of the buttons will depend on the area of the website being used but btn-sm is probably the most common. Delete / Remove buttons: btn btn-danger Edit / Update buttons: btn btn-primary Add / Create buttons: btn btn-success","title":"Buttons"},{"location":"Developing/Style-Guidelines/#tables","text":"Unless the table being used will only ever display a handful of items - yeah that's what we all said, then you need to write your table using JQuery Bootgrid . This shouldn't take that much more code to do this but provides so much flexibility along with stopping the need for retrieving all the data from SQL in the first place. As an example pull request, see PR 706 to get an idea of what it's like to convert an existing pure html table to Bootgrid.","title":"Tables"},{"location":"Developing/Style-Guidelines/#datetime-format","text":"When displaying datetimes, please ensure you use the format YYYY-MM-DD mm:hh:ss where possible, you shouldn't change the order of this as it will be confusing to users. Cutting it short to just display YYYY-MM-DD mm:hh is fine :). To keep things consistent we have the following variables which should be used rather than to format dates yourself. This has the added benefit that users can customise the format: # Date format for PHP date()s $config['dateformat']['long'] = r ; # RFC2822 style $config['dateformat']['compact'] = Y-m-d H:i:s ; $config['dateformat']['byminute'] = Y-m-d H:i ; $config['dateformat']['time'] = H:i:s ; # Date format for MySQL DATE_FORMAT $config['dateformat']['mysql']['compact'] = %Y-%m-%d %H:%i:%s ; $config['dateformat']['mysql']['date'] = %Y-%m-%d ; $config['dateformat']['mysql']['time'] = %H:%i:%s ;","title":"Datetime format"},{"location":"Developing/Support-New-OS/","text":"This document is broken down into the relevant sections depending on what support you are adding. During all of these examples we will be using the OS of pulse as the example OS we will add. Adding the initial detection. Adding Memory and CPU information. Adding Health / Sensor information. Adding Wireless Sensor information. Adding custom graphs. Adding Unit tests (required). Optional Settings We currently have a script in pre-beta stages that can help speed up the process of deploying a new OS. It has support for add sensors in a basic form (except state sensors). In this example, we will add a new OS called test-os using the device ID 101 that has already been added. It will be of the type network and belongs to the vendor, Cisco: ./scripts/new-os.php -h 101 -o test-os -t network -v cisco The process will then step you through the process with some more questions. Please be warned, this is currently pre-beta and may cause some issues. Please let us know of any on Discord .","title":"Intro"},{"location":"Developing/Using-Git/","text":"Git can have a bit of a steep learning curve, stick with it as it is worth learning the basics 2 at least. If you want to help develop LibreNMS and haven't really used Git before then this quick primer will help you get started. Some assumptions: Work is being done on a Linux box. LibreNMS is to be installed in /opt/librenms You have git installed. You have a GitHub Account . You are using ssh to connect to GitHub (If not, replace git@github.com:/yourusername/librenms.git with https://github.com/yourusername/librenms.git. Replace yourusername with your GitHub username. Fork LibreNMS repo You do this directly within GitHub , click the 'Fork' button near the top right. If you are associated with multiple organisations within GitHub then you might need to select which account you want to push the fork to. Prepare your git environment These are the defaults that are recommended. git config branch.autosetupmerge true git config --global user.name John Doe git config --global user.email johndoe@example.com Clone the repo Ok so now that you have forked the repo, you now need to clone it to your local install where you can then make the changes you need and submit them back. cd /opt/ git clone git@github.com:/yourusername/librenms.git Add Upstream repo To be able to pull in changes from the master LibreNMS repo you need to have it setup on your system. git remote add upstream https://github.com/librenms/librenms.git Now you have two configured remotes: origin: This is your repository, you can push and pull changes here. upstream: This is the main LibreNMS repository and you can only pull changes. Workflow guide As you become more familiar you may find a better workflow that fits your needs, until then this should be a safe workflow for you to follow. Before you start work on a new branch / feature. Make sure you are up to date. cd /opt/librenms git checkout master git pull upstream master git push origin master At this stage it's worth pointing out that we have some standard checks that are performed when you submit a pull request, you can run these checks yourself to be sure no issues are present in your pull request. Now, create a new branch to do you work on. It's important that you do this as you are then able to work on more than one feature at a time and submit them as pull requests individually. If you did all your work in the master branch then it gets a bit messy! You need to give your branch a name. If an issue is open (or closed on GitHub) then you can use that, in this example if the issue number is 123 then we will use issue-123. If a post exists on the community forum then you can use the post id like community-123. You're also welcome to use any arbitrary name for your branch but try and make it relevant to what the branch is. git checkout -b issue-123 Now, code away. Make the changes you need, test, change and test again :) When you are ready to submit the updates as a pull request then commit away. git add path/to/new/files/or/folders git commit -a -m 'Added feature to do X, Y and Z' git push origin issue-123 If you need to rebase against master then you can do this with: git pull upstream master git push origin issue-123 If after do this you get some merge conflicts then you need to resolve these before carrying on. Please try to squash all commits into one, this isn't essential as we can do this when we merge but it would be helpful to do this before you submit your pull request. Now you will be ready to submit a pull request from within GitHub. To do this, go to your GitHub page for the LibreNMS repo. Now select the branch you have just been working on (issue-123) from the drop down to the left and then click 'Pull Request'. Fill in the details to describe the work you have done and click 'Create pull request'. Thanks for your first pull request :) Ok, that should get you started on the contributing path. If you have any other questions then stop by our Discord Server Hints and tips Undo last commit git reset --soft 'HEAD^' Remove specific commit git revert HASH Restore deleted file git checkout $(git rev-list -n 1 HEAD -- \"$file\")^ -- \"$file\" Merge last two commits git rebase --interactive HEAD~2 In the text file that opens, change the last commit to squash from pick then save an exit. For more tips take a look at Oh shit, git!","title":"Using Git"},{"location":"Developing/Using-Git/#fork-librenms-repo","text":"You do this directly within GitHub , click the 'Fork' button near the top right. If you are associated with multiple organisations within GitHub then you might need to select which account you want to push the fork to.","title":"Fork LibreNMS repo"},{"location":"Developing/Using-Git/#prepare-your-git-environment","text":"These are the defaults that are recommended. git config branch.autosetupmerge true git config --global user.name John Doe git config --global user.email johndoe@example.com","title":"Prepare your git environment"},{"location":"Developing/Using-Git/#clone-the-repo","text":"Ok so now that you have forked the repo, you now need to clone it to your local install where you can then make the changes you need and submit them back. cd /opt/ git clone git@github.com:/yourusername/librenms.git","title":"Clone the repo"},{"location":"Developing/Using-Git/#add-upstream-repo","text":"To be able to pull in changes from the master LibreNMS repo you need to have it setup on your system. git remote add upstream https://github.com/librenms/librenms.git Now you have two configured remotes: origin: This is your repository, you can push and pull changes here. upstream: This is the main LibreNMS repository and you can only pull changes.","title":"Add Upstream repo"},{"location":"Developing/Using-Git/#workflow-guide","text":"As you become more familiar you may find a better workflow that fits your needs, until then this should be a safe workflow for you to follow. Before you start work on a new branch / feature. Make sure you are up to date. cd /opt/librenms git checkout master git pull upstream master git push origin master At this stage it's worth pointing out that we have some standard checks that are performed when you submit a pull request, you can run these checks yourself to be sure no issues are present in your pull request. Now, create a new branch to do you work on. It's important that you do this as you are then able to work on more than one feature at a time and submit them as pull requests individually. If you did all your work in the master branch then it gets a bit messy! You need to give your branch a name. If an issue is open (or closed on GitHub) then you can use that, in this example if the issue number is 123 then we will use issue-123. If a post exists on the community forum then you can use the post id like community-123. You're also welcome to use any arbitrary name for your branch but try and make it relevant to what the branch is. git checkout -b issue-123 Now, code away. Make the changes you need, test, change and test again :) When you are ready to submit the updates as a pull request then commit away. git add path/to/new/files/or/folders git commit -a -m 'Added feature to do X, Y and Z' git push origin issue-123 If you need to rebase against master then you can do this with: git pull upstream master git push origin issue-123 If after do this you get some merge conflicts then you need to resolve these before carrying on. Please try to squash all commits into one, this isn't essential as we can do this when we merge but it would be helpful to do this before you submit your pull request. Now you will be ready to submit a pull request from within GitHub. To do this, go to your GitHub page for the LibreNMS repo. Now select the branch you have just been working on (issue-123) from the drop down to the left and then click 'Pull Request'. Fill in the details to describe the work you have done and click 'Create pull request'. Thanks for your first pull request :) Ok, that should get you started on the contributing path. If you have any other questions then stop by our Discord Server","title":"Workflow guide"},{"location":"Developing/Using-Git/#hints-and-tips","text":"Undo last commit git reset --soft 'HEAD^' Remove specific commit git revert HASH Restore deleted file git checkout $(git rev-list -n 1 HEAD -- \"$file\")^ -- \"$file\" Merge last two commits git rebase --interactive HEAD~2 In the text file that opens, change the last commit to squash from pick then save an exit. For more tips take a look at Oh shit, git!","title":"Hints and tips"},{"location":"Developing/Validating-Code/","text":"Validating Code As part of the pull request process with GitHub we run some automated build tests to ensure that the code is error free, standards compliant and our test suite builds successfully. Rather than submit a pull request and wait for the results, you can run these checks yourself to ensure a more seamless merge. All of these commands should be run from within the librenms directory and can be run as the librenms user unless otherwise noted. Install composer (you can skip this if composer is already installed). curl -sS https://getcomposer.org/installer | php Composer will now be installed into /opt/librenms/composer.phar. Now install the dependencies we require: ./composer.phar install Once composer is installed you can now run the code validation script: ./scripts/pre-commit.php If you see Tests ok, submit away :) then all is well. If you see other output then it should contain what you need to resolve the issues and re-test. Git Hooks Git has a hook system which you can use to trigger checks at various stages. Utilising the pre-commit.php you can make this part of your commit process. You can do this in two ways: If you already make use of .git/hooks/pre-commit then you can add: ./scripts/pre-commit.php to be excecuted when you run git commit . You can symlink the pre-commit.php file so it's executed directly on a git commit : ln -s /opt/librenms/scripts/pre-commit.php /opt/librenms/.git/hooks/pre-commit","title":"Validating Code"},{"location":"Developing/Validating-Code/#validating-code","text":"As part of the pull request process with GitHub we run some automated build tests to ensure that the code is error free, standards compliant and our test suite builds successfully. Rather than submit a pull request and wait for the results, you can run these checks yourself to ensure a more seamless merge. All of these commands should be run from within the librenms directory and can be run as the librenms user unless otherwise noted. Install composer (you can skip this if composer is already installed). curl -sS https://getcomposer.org/installer | php Composer will now be installed into /opt/librenms/composer.phar. Now install the dependencies we require: ./composer.phar install Once composer is installed you can now run the code validation script: ./scripts/pre-commit.php If you see Tests ok, submit away :) then all is well. If you see other output then it should contain what you need to resolve the issues and re-test.","title":"Validating Code"},{"location":"Developing/Validating-Code/#git-hooks","text":"Git has a hook system which you can use to trigger checks at various stages. Utilising the pre-commit.php you can make this part of your commit process. You can do this in two ways: If you already make use of .git/hooks/pre-commit then you can add: ./scripts/pre-commit.php to be excecuted when you run git commit . You can symlink the pre-commit.php file so it's executed directly on a git commit : ln -s /opt/librenms/scripts/pre-commit.php /opt/librenms/.git/hooks/pre-commit","title":"Git Hooks"},{"location":"Developing/os/Custom-Graphs/","text":"If you are adding custom graphs, please add the following to includes/definitions.inc.php : //Don't forget to declare the specific graphs if needed. It will be located near the end of the file. //Pulse Secure Graphs $config['graph_types']['device']['pulse_users']['section'] = 'firewall'; $config['graph_types']['device']['pulse_users']['order'] = '0'; $config['graph_types']['device']['pulse_users']['descr'] = 'Active Users'; $config['graph_types']['device']['pulse_sessions']['section'] = 'firewall'; $config['graph_types']['device']['pulse_sessions']['order'] = '0'; $config['graph_types']['device']['pulse_sessions']['descr'] = 'Active Sessions'; Polling OS OS polling is not necessarily where custom polling should be done, please speak to one of the core devs in Discord for guidance. Let's update our example file to add additional polling: includes/polling/os/pulse.inc.php We declare two specific graphs for users and sessions numbers. Theses two graphs will be displayed on the firewall section of the graphs tab as it was written in the definition include file. ?php use LibreNMS\\RRD\\RrdDefinition; $users = snmp_get($device, 'iveConcurrentUsers.0', '-OQv', 'PULSESECURE-PSG-MIB'); if (is_numeric($users)) { $rrd_def = RrdDefinition::make()- addDataset('users', 'GAUGE', 0); $fields = array( 'users' = $users, ); $tags = compact('rrd_def'); data_update($device, 'pulse_users', $tags, $fields); $graphs['pulse_users'] = true; } $sessions = snmp_get($device, 'iveConcurrentUsers.0', '-OQv', 'PULSESECURE-PSG-MIB'); if (is_numeric($sessions)) { $rrd_def = RrdDefinition::make()- addDataset('sessions', 'GAUGE', 0); $fields = array( 'sessions' = $sessions, ); $tags = compact('rrd_def'); data_update($device, 'pulse_sessions', $tags, $fields); $graphs['pulse_sessions'] = true; } We finish in the declaration of the two graph types in the database: We can do that within a file to share our work and contribute in the development of LibreNMS. :-) sql-schema/xxx.sql php includes/sql-schema/update.php ./scripts/build-schema.php Or put the SQL commands directly in Mysql or PhpMyadmin for our tests: INSERT INTO `graph_types`(`graph_type`, `graph_subtype`, `graph_section`, `graph_descr`, `graph_order`) VALUES ('device', 'pulse_users', 'firewall', 'Active Users', 0); INSERT INTO `graph_types`(`graph_type`, `graph_subtype`, `graph_section`, `graph_descr`, `graph_order`) VALUES ('device', 'pulse_sessions', 'firewall', 'Active Sessions', 0); Displaying The specific graphs are not displayed automatically so we need to write the following PHP code: Pulse Sessions html/includes/graphs/device/pulse_sessions.inc.php ?php $rrd_filename = rrd_name($device['hostname'], 'pulse_sessions'); require 'includes/graphs/common.inc.php'; $ds = 'sessions'; $colour_area = '9999cc'; $colour_line = '0000cc'; $colour_area_max = '9999cc'; $graph_max = 1; $graph_min = 0; $unit_text = 'Sessions'; require 'includes/graphs/generic_simplex.inc.php'; Pulse Users html/includes/graphs/device/pulse_users.inc.php ?php $rrd_filename = rrd_name($device['hostname'], 'pulse_users'); require 'includes/graphs/common.inc.php'; $ds = 'users'; $colour_area = '9999cc'; $colour_line = '0000cc'; $colour_area_max = '9999cc'; $graph_max = 1; $unit_text = 'Users'; require 'includes/graphs/generic_simplex.inc.php'; That should be it, after data has started to be collected graphs should appear in the WebUI.","title":"Custom Graphs"},{"location":"Developing/os/Custom-Graphs/#polling-os","text":"OS polling is not necessarily where custom polling should be done, please speak to one of the core devs in Discord for guidance. Let's update our example file to add additional polling: includes/polling/os/pulse.inc.php We declare two specific graphs for users and sessions numbers. Theses two graphs will be displayed on the firewall section of the graphs tab as it was written in the definition include file. ?php use LibreNMS\\RRD\\RrdDefinition; $users = snmp_get($device, 'iveConcurrentUsers.0', '-OQv', 'PULSESECURE-PSG-MIB'); if (is_numeric($users)) { $rrd_def = RrdDefinition::make()- addDataset('users', 'GAUGE', 0); $fields = array( 'users' = $users, ); $tags = compact('rrd_def'); data_update($device, 'pulse_users', $tags, $fields); $graphs['pulse_users'] = true; } $sessions = snmp_get($device, 'iveConcurrentUsers.0', '-OQv', 'PULSESECURE-PSG-MIB'); if (is_numeric($sessions)) { $rrd_def = RrdDefinition::make()- addDataset('sessions', 'GAUGE', 0); $fields = array( 'sessions' = $sessions, ); $tags = compact('rrd_def'); data_update($device, 'pulse_sessions', $tags, $fields); $graphs['pulse_sessions'] = true; } We finish in the declaration of the two graph types in the database: We can do that within a file to share our work and contribute in the development of LibreNMS. :-) sql-schema/xxx.sql php includes/sql-schema/update.php ./scripts/build-schema.php Or put the SQL commands directly in Mysql or PhpMyadmin for our tests: INSERT INTO `graph_types`(`graph_type`, `graph_subtype`, `graph_section`, `graph_descr`, `graph_order`) VALUES ('device', 'pulse_users', 'firewall', 'Active Users', 0); INSERT INTO `graph_types`(`graph_type`, `graph_subtype`, `graph_section`, `graph_descr`, `graph_order`) VALUES ('device', 'pulse_sessions', 'firewall', 'Active Sessions', 0);","title":"Polling OS"},{"location":"Developing/os/Custom-Graphs/#displaying","text":"The specific graphs are not displayed automatically so we need to write the following PHP code: Pulse Sessions html/includes/graphs/device/pulse_sessions.inc.php ?php $rrd_filename = rrd_name($device['hostname'], 'pulse_sessions'); require 'includes/graphs/common.inc.php'; $ds = 'sessions'; $colour_area = '9999cc'; $colour_line = '0000cc'; $colour_area_max = '9999cc'; $graph_max = 1; $graph_min = 0; $unit_text = 'Sessions'; require 'includes/graphs/generic_simplex.inc.php'; Pulse Users html/includes/graphs/device/pulse_users.inc.php ?php $rrd_filename = rrd_name($device['hostname'], 'pulse_users'); require 'includes/graphs/common.inc.php'; $ds = 'users'; $colour_area = '9999cc'; $colour_line = '0000cc'; $colour_area_max = '9999cc'; $graph_max = 1; $unit_text = 'Users'; require 'includes/graphs/generic_simplex.inc.php'; That should be it, after data has started to be collected graphs should appear in the WebUI.","title":"Displaying"},{"location":"Developing/os/Health-Information/","text":"Sensors This document will guide you through adding health / sensor information for your new device. Currently we have support for the following health metrics along with the values we expect to see the data in: Class Measurement airflow cfm ber ratio charge % chromatic_disperision ps/nm cooling W current A dbm dBm delay s eer eer fanspeed rpm frequency Hz humidity % load % power W pressure kPa quality_factor dB runtime Min signal dBm snr SNR state # temperature C voltage V waterflow l/m Simple health discovery We have support for defining health / sensor discovery using YAML files so that you don't need to know how to write PHP. Please note that DISPLAY-HINTS are disabled so ensure you use the correct divisor / multiplier if applicable. All yaml files are located in includes/definitions/discovery/$os.yaml . Defining the information here is not always possible and is heavily reliant on vendors being sensible with the MIBs they generate. Only snmp walks are supported and you must provide a sane table that can be traversed and contains all of the data you need. We will use netbotz as an example here. includes/definitions/discovery/netbotz.yaml mib: NETBOTZV2-MIB modules: sensors: airflow: options: skip_values_lt: 0 data: - oid: airFlowSensorTable value: airFlowSensorValue divisor: 10 num_oid: .1.3.6.1.4.1.5528.100.4.1.5.1.2. descr: airFlowSensorLabel index: 'airFlowSensorValue.{{ $index }}' At the top you can define one or more mibs to be used in the lookup of data: mib: NETBOTZV2-MIB For data: you have the following options: The only sensor we have defined here is airflow. The available options are as follows: oid (required): This is the name of the table you want to do the snmp walk on. value (optional): This is the key within the table that contains the value. If not provided will use oid num_oid (required): This is the numerical OID that contains value . This should always be without the appended index . divisor (optional): This is the divisor to use against the returned value . multiplier (optional): This is the multiplier to use against the returned value . low_limit (optional): This is the critical low threshold that value should be (used in alerting). If an OID is specified then divisor / multiplier are used. low_warn_limit (optional): This is the warning low threshold that value should be (used in alerting). If an OID is specified then divisor / multiplier are used. warn_limit (optional): This is the warning high threshold that value should be (used in alerting). If an OID is specified then divisor / multiplier are used. high_limit (optional): This is the critical high threshold that value should be (used in alerting). If an OID is specified then divisor / multiplier are used. descr (required): The visible label for this sensor. It can be a key with in the table or a static string, optionally using {{ index }} index (optional): This is the index value we use to uniquely identify this sensor. {{ $index }} will be replaced by the index from the snmp walk. skip_values (optional): This is an array of values we should skip over (see note below). skip_value_lt (optional): If sensor value is less than this, skip the discovery. skip_value_gt (optional): If sensor value is greater than this, skip the discovery. entPhysicalIndex (optional): If the sensor belongs to a physical entity then you can specify the index here. entPhysicalIndex_measured (optional): If the sensor belongs to a physical entity then you can specify the entity type here. user_func (optional): You can provide a function name for the sensors value to be processed through (i.e. Convert fahrenheit to celsius use fahrenheit_to_celsius ) For options: you have the following available: divisor : This is the divisor to use against the returned value . multiplier : This is the multiplier to use against the returned value . skip_values : This is an array of values we should skip over (see note below). skip_value_lt : If sensor value is less than this, skip the discovery. skip_value_gt : If sensor value is greater than this, skip the discovery. skip_values can also compare items within the OID table against values. One example of this is: skip_values: - oid: sensUnit op: '!=' value: 4 If you aren't able to use yaml to perform the sensor discovery, you will most likely need to use Advanced health discovery. Advanced health discovery If you can't use the yaml files as above, then you will need to create the discovery code in php. The directory structure for sensor information is includes/discovery/sensors/$class/$os.inc.php . The format of all of the sensors follows the same code format which is to call the discover_sensor() function - with the exception of state which requires additional code. discover_sensor() Accepts the following arguments: $valid = This is always $valid['sensor'], do not pass any other values. $class = Required. This is the sensor class from the table above (i.e humidity). $device = Required. This is the $device array. $oid = Required. This must be the numerical OID for where the data can be found, i.e .1.2.3.4.5.6.7.0 $index = Required. This must be unique for this sensor class, device and type. Typically it's the index from the table being walked or it could be the name of the OID if it's a single value. $type = Required. This should be the OS name, i.e pulse. $descr = Required. This is a descriptive value for the sensor. Some devices will provide names to use. $divisor = Defaults to 1. This is used to divided the returned value. $multiplier = Defaults to 1. This is used to multiply the returned value. $low_limit = Defaults to null. Sets the low threshold limit for the sensor, used in alerting to report out range sensors. $low_warn_limit = Defaults to null. Sets the low warning limit for the sensor, used in alerting to report near out of range sensors. $warn_limit = Defaults to null. Sets the high warning limit for the sensor, used in alerting to report near out of range sensors. $high_limit = Defaults to null. Sets the high limit for the sensor, used in alerting to report out range sensors. $current = Defaults to null. Can be used to set the current value on discovery. Poller will update this on the next poll cycle anyway. $poller_type = Defaults to snmp. Things like the unix-agent can set different values but for the most part this should be left as snmp. $entPhysicalIndex = Defaults to null. Sets the entPhysicalIndex to be used to look up further hardware if available. $entPhysicalIndex_measured = Defaults to null. Sets the type of entPhysicalIndex used, i.e ports. For the majority of devices, this is all that's required to add support for a sensor. Polling is done based on the data gathered using discover_sensor() . If custom polling is needed then the file format is similar to discovery: includes/polling/sensors/$class/$os.inc.php . Whilst it's possible to perform additional snmp queries within polling this should be avoided where possible. The value for the OID is already available as $sensor_value . Graphing is performed automatically for sensors, no custom graphing is required or supported.","title":"Health Information"},{"location":"Developing/os/Health-Information/#sensors","text":"This document will guide you through adding health / sensor information for your new device. Currently we have support for the following health metrics along with the values we expect to see the data in: Class Measurement airflow cfm ber ratio charge % chromatic_disperision ps/nm cooling W current A dbm dBm delay s eer eer fanspeed rpm frequency Hz humidity % load % power W pressure kPa quality_factor dB runtime Min signal dBm snr SNR state # temperature C voltage V waterflow l/m","title":"Sensors"},{"location":"Developing/os/Health-Information/#simple-health-discovery","text":"We have support for defining health / sensor discovery using YAML files so that you don't need to know how to write PHP. Please note that DISPLAY-HINTS are disabled so ensure you use the correct divisor / multiplier if applicable. All yaml files are located in includes/definitions/discovery/$os.yaml . Defining the information here is not always possible and is heavily reliant on vendors being sensible with the MIBs they generate. Only snmp walks are supported and you must provide a sane table that can be traversed and contains all of the data you need. We will use netbotz as an example here. includes/definitions/discovery/netbotz.yaml mib: NETBOTZV2-MIB modules: sensors: airflow: options: skip_values_lt: 0 data: - oid: airFlowSensorTable value: airFlowSensorValue divisor: 10 num_oid: .1.3.6.1.4.1.5528.100.4.1.5.1.2. descr: airFlowSensorLabel index: 'airFlowSensorValue.{{ $index }}' At the top you can define one or more mibs to be used in the lookup of data: mib: NETBOTZV2-MIB For data: you have the following options: The only sensor we have defined here is airflow. The available options are as follows: oid (required): This is the name of the table you want to do the snmp walk on. value (optional): This is the key within the table that contains the value. If not provided will use oid num_oid (required): This is the numerical OID that contains value . This should always be without the appended index . divisor (optional): This is the divisor to use against the returned value . multiplier (optional): This is the multiplier to use against the returned value . low_limit (optional): This is the critical low threshold that value should be (used in alerting). If an OID is specified then divisor / multiplier are used. low_warn_limit (optional): This is the warning low threshold that value should be (used in alerting). If an OID is specified then divisor / multiplier are used. warn_limit (optional): This is the warning high threshold that value should be (used in alerting). If an OID is specified then divisor / multiplier are used. high_limit (optional): This is the critical high threshold that value should be (used in alerting). If an OID is specified then divisor / multiplier are used. descr (required): The visible label for this sensor. It can be a key with in the table or a static string, optionally using {{ index }} index (optional): This is the index value we use to uniquely identify this sensor. {{ $index }} will be replaced by the index from the snmp walk. skip_values (optional): This is an array of values we should skip over (see note below). skip_value_lt (optional): If sensor value is less than this, skip the discovery. skip_value_gt (optional): If sensor value is greater than this, skip the discovery. entPhysicalIndex (optional): If the sensor belongs to a physical entity then you can specify the index here. entPhysicalIndex_measured (optional): If the sensor belongs to a physical entity then you can specify the entity type here. user_func (optional): You can provide a function name for the sensors value to be processed through (i.e. Convert fahrenheit to celsius use fahrenheit_to_celsius ) For options: you have the following available: divisor : This is the divisor to use against the returned value . multiplier : This is the multiplier to use against the returned value . skip_values : This is an array of values we should skip over (see note below). skip_value_lt : If sensor value is less than this, skip the discovery. skip_value_gt : If sensor value is greater than this, skip the discovery. skip_values can also compare items within the OID table against values. One example of this is: skip_values: - oid: sensUnit op: '!=' value: 4 If you aren't able to use yaml to perform the sensor discovery, you will most likely need to use Advanced health discovery.","title":"Simple health discovery"},{"location":"Developing/os/Health-Information/#advanced-health-discovery","text":"If you can't use the yaml files as above, then you will need to create the discovery code in php. The directory structure for sensor information is includes/discovery/sensors/$class/$os.inc.php . The format of all of the sensors follows the same code format which is to call the discover_sensor() function - with the exception of state which requires additional code. discover_sensor() Accepts the following arguments: $valid = This is always $valid['sensor'], do not pass any other values. $class = Required. This is the sensor class from the table above (i.e humidity). $device = Required. This is the $device array. $oid = Required. This must be the numerical OID for where the data can be found, i.e .1.2.3.4.5.6.7.0 $index = Required. This must be unique for this sensor class, device and type. Typically it's the index from the table being walked or it could be the name of the OID if it's a single value. $type = Required. This should be the OS name, i.e pulse. $descr = Required. This is a descriptive value for the sensor. Some devices will provide names to use. $divisor = Defaults to 1. This is used to divided the returned value. $multiplier = Defaults to 1. This is used to multiply the returned value. $low_limit = Defaults to null. Sets the low threshold limit for the sensor, used in alerting to report out range sensors. $low_warn_limit = Defaults to null. Sets the low warning limit for the sensor, used in alerting to report near out of range sensors. $warn_limit = Defaults to null. Sets the high warning limit for the sensor, used in alerting to report near out of range sensors. $high_limit = Defaults to null. Sets the high limit for the sensor, used in alerting to report out range sensors. $current = Defaults to null. Can be used to set the current value on discovery. Poller will update this on the next poll cycle anyway. $poller_type = Defaults to snmp. Things like the unix-agent can set different values but for the most part this should be left as snmp. $entPhysicalIndex = Defaults to null. Sets the entPhysicalIndex to be used to look up further hardware if available. $entPhysicalIndex_measured = Defaults to null. Sets the type of entPhysicalIndex used, i.e ports. For the majority of devices, this is all that's required to add support for a sensor. Polling is done based on the data gathered using discover_sensor() . If custom polling is needed then the file format is similar to discovery: includes/polling/sensors/$class/$os.inc.php . Whilst it's possible to perform additional snmp queries within polling this should be avoided where possible. The value for the OID is already available as $sensor_value . Graphing is performed automatically for sensors, no custom graphing is required or supported.","title":"Advanced health discovery"},{"location":"Developing/os/Initial-Detection/","text":"This document will provide the information you should need to add basic detection for a new OS. Discovery Discovery is now all done by yaml files, you do not and should not create a php file for discovery. Create the new OS file which should be called includes/definitions/pulse.yaml . Here is a working example: os: pulse text: 'Pulse Secure' type: firewall icon: pulse over: - { graph: device_bits, text: 'Device Traffic' } - { graph: device_processor, text: 'CPU Usage' } - { graph: device_mempool, text: 'Memory Usage' } discovery: - sysObjectID: - .1.3.6.1.4.1.12532. over : This is a list of the graphs which will be shown within the device header bar (mini graphs top right). discovery : Here we are detecting this new OS using sysObjectID, this is the preferred method for detection. Other options are available: sysObjectID The preferred operator. Checks if the sysObjectID starts with one of the strings under this item sysDescr Use this in addition to sysObjectID if required. Check that the sysDescr contains one of the strings under this item sysObjectID_regex Please avoid use of this. Checks if the sysObjectID matches one of the regex statements under this item sysDescr_regex Please avoid use of this. Checks if the sysDescr matches one of the regex statements under this item snmpget Do not use this unless none of the other methods work. Fetch an oid and compare it against a value. _except You can add this to any of the above to exclude that element. As an example: discovery: - sysObjectID: - .1.3.6.1.4.1.12532. sysDescr_except: - 'Not some pulse' group : You can group certain OS' together by using group, for instance ios, nx-os, iosxr are all within a group called cisco. bad_ifXEntry : This is a list of models for which to tell LibreNMS that the device doesn't support ifXEntry and to ignore it: bad_ifXEntry: - cisco1941 - cisco886Va - cisco2811 mib_dir : You can use this to specify the additional directories to look in for MIBs: mib_dir: - juniper - cisco poller_modules : This is a list of poller modules to either enable (1) or disable (0). Check includes/defaults.inc.php to see which modules are enabled/disabled by default. poller_modules: cisco-ace-serverfarms: false cisco-ace-loadbalancer: false discovery_modules : This is the list of discovery modules to either enable (1) or disable (0). Check includes/defaults.inc.php to see which modules are enabled/disabled by default. discovery_modules: cisco-cef: true cisco-sla: true cisco-mac-accounting: false Discovery Logic YAML is converted to an array in PHP. Consider the following YAML: discovery: - sysObjectID: foo - sysDescr: [ snafu, exodar ] sysObjectID: bar This is how the discovery array would look in PHP: [ [ sysObjectID = foo , ], [ sysDescr = [ snafu , exodar , ], sysObjectID = bar , ] ] The logic for the discovery is as follows: 1. One of the first level items must match 2. ALL of the second level items must match (sysObjectID, sysDescr) 3. One of the third level items (foo, [snafu,exodar], bar) must match So, considering the example: - sysObjectID: foo, sysDescr: ANYTHING matches - sysObjectID: bar, sysDescr: ANYTHING does not match - sysObjectID: bar, sysDescr: exodar matches - sysObjectID: bar, sysDescr: snafu matches Discovery helpers Within the discovery code base if you are using php then the following helpers are available: $device['sysObjectID] : This will contain the full numerical sysObjectID for this device. $device['sysDescr'] : This will contain the full sysDescr for this device. Poller OS polling is done within includes/polling/os/$os.inc.php and is where we detect certain values. ?php $version = preg_replace('/[\\r\\n\\ ]+/', ' ', snmp_get($device, productVersion.0 , -OQv , PULSESECURE-PSG-MIB )); $hardware = Juniper . preg_replace('/[\\r\\n\\ ]+/', ' ', snmp_get($device, productName.0 , -OQv , PULSESECURE-PSG-MIB )); $version : The version of the OS running on the device. $hardware : The hardware version for the device. For example: 'WS-C3560X-24T-S' $features : Features for the device, for example a list of cards in the slots of a modular chassis. $serial : The main serial number of the device. MIBs If the device has MIBs available and you use it in the detection then you can add these in. It is highly recommended that you add mibs to a vendor specific directory. For instance HP mibs are in mibs/hp . Please ensure that these directories are specified in the yaml detection file, see mib_dir above. Icon and Logo It is highly recommended to use SVG images where possible, these scale and provide a nice visual image for users with HiDPI screens. If you can't find SVG images then please use png. Create an SVG image of the icon and logo. Legacy PNG bitmaps are also supported but look bad on HiDPI. - A vector image should not contain padding. - The file should not be larger than 20 Kb. Simplify paths to reduce large files. - Use plain SVG without gzip compression. - The SVG root element must not contain length and width attributes, only viewBox. Icon Save the icon SVG to html/images/os/$os.svg . Icons should look good when viewed at 32x32 px. Square icons are preferred to full logos with text. Remove small ornaments that are almost not visible when displayed with 32px width (e.g. \u00ae or \u2122). Logo Save the logo SVG to html/images/logos/$os.svg . Logos can be any dimension, but often are wide and contain the company name. If a logo is not present, the icon will be used. Hints Hints for Inkscape : You can open a PDF or EPS to extract the logo. Ungroup elements to isolate the logo. Use Path - Simplify to simplify paths of large files. Use File - Document Properties\u2026 - Resize page to content\u2026 to remove padding. Use File - Clean up document to remove unused gradients, patterns, or markers. Use File - Save As - Plain SVG to save the final image. By optimizing the SVG you can shrink the file size in some cases to less than 20 %. SVG Optimizer does a great job. There is also an online version . The final check Discovery ./discovery.php -h HOSTNAME Polling ./poller.php -h HOSTNAME At this step we should see all the values retrieved in LibreNMS. Note: If you have made a number of changes to either the OS's Discovery files, it's possible earlier edits have been cached. As such, if you do not get expected behaviour when completing the final check above, try removing the cache file first: rm -f cache/os_defs.cache","title":"Initial Detection"},{"location":"Developing/os/Initial-Detection/#discovery","text":"Discovery is now all done by yaml files, you do not and should not create a php file for discovery. Create the new OS file which should be called includes/definitions/pulse.yaml . Here is a working example: os: pulse text: 'Pulse Secure' type: firewall icon: pulse over: - { graph: device_bits, text: 'Device Traffic' } - { graph: device_processor, text: 'CPU Usage' } - { graph: device_mempool, text: 'Memory Usage' } discovery: - sysObjectID: - .1.3.6.1.4.1.12532. over : This is a list of the graphs which will be shown within the device header bar (mini graphs top right). discovery : Here we are detecting this new OS using sysObjectID, this is the preferred method for detection. Other options are available: sysObjectID The preferred operator. Checks if the sysObjectID starts with one of the strings under this item sysDescr Use this in addition to sysObjectID if required. Check that the sysDescr contains one of the strings under this item sysObjectID_regex Please avoid use of this. Checks if the sysObjectID matches one of the regex statements under this item sysDescr_regex Please avoid use of this. Checks if the sysDescr matches one of the regex statements under this item snmpget Do not use this unless none of the other methods work. Fetch an oid and compare it against a value. _except You can add this to any of the above to exclude that element. As an example: discovery: - sysObjectID: - .1.3.6.1.4.1.12532. sysDescr_except: - 'Not some pulse' group : You can group certain OS' together by using group, for instance ios, nx-os, iosxr are all within a group called cisco. bad_ifXEntry : This is a list of models for which to tell LibreNMS that the device doesn't support ifXEntry and to ignore it: bad_ifXEntry: - cisco1941 - cisco886Va - cisco2811 mib_dir : You can use this to specify the additional directories to look in for MIBs: mib_dir: - juniper - cisco poller_modules : This is a list of poller modules to either enable (1) or disable (0). Check includes/defaults.inc.php to see which modules are enabled/disabled by default. poller_modules: cisco-ace-serverfarms: false cisco-ace-loadbalancer: false discovery_modules : This is the list of discovery modules to either enable (1) or disable (0). Check includes/defaults.inc.php to see which modules are enabled/disabled by default. discovery_modules: cisco-cef: true cisco-sla: true cisco-mac-accounting: false","title":"Discovery"},{"location":"Developing/os/Initial-Detection/#discovery-logic","text":"YAML is converted to an array in PHP. Consider the following YAML: discovery: - sysObjectID: foo - sysDescr: [ snafu, exodar ] sysObjectID: bar This is how the discovery array would look in PHP: [ [ sysObjectID = foo , ], [ sysDescr = [ snafu , exodar , ], sysObjectID = bar , ] ] The logic for the discovery is as follows: 1. One of the first level items must match 2. ALL of the second level items must match (sysObjectID, sysDescr) 3. One of the third level items (foo, [snafu,exodar], bar) must match So, considering the example: - sysObjectID: foo, sysDescr: ANYTHING matches - sysObjectID: bar, sysDescr: ANYTHING does not match - sysObjectID: bar, sysDescr: exodar matches - sysObjectID: bar, sysDescr: snafu matches","title":"Discovery Logic"},{"location":"Developing/os/Initial-Detection/#discovery-helpers","text":"Within the discovery code base if you are using php then the following helpers are available: $device['sysObjectID] : This will contain the full numerical sysObjectID for this device. $device['sysDescr'] : This will contain the full sysDescr for this device.","title":"Discovery helpers"},{"location":"Developing/os/Initial-Detection/#poller","text":"OS polling is done within includes/polling/os/$os.inc.php and is where we detect certain values. ?php $version = preg_replace('/[\\r\\n\\ ]+/', ' ', snmp_get($device, productVersion.0 , -OQv , PULSESECURE-PSG-MIB )); $hardware = Juniper . preg_replace('/[\\r\\n\\ ]+/', ' ', snmp_get($device, productName.0 , -OQv , PULSESECURE-PSG-MIB )); $version : The version of the OS running on the device. $hardware : The hardware version for the device. For example: 'WS-C3560X-24T-S' $features : Features for the device, for example a list of cards in the slots of a modular chassis. $serial : The main serial number of the device.","title":"Poller"},{"location":"Developing/os/Initial-Detection/#mibs","text":"If the device has MIBs available and you use it in the detection then you can add these in. It is highly recommended that you add mibs to a vendor specific directory. For instance HP mibs are in mibs/hp . Please ensure that these directories are specified in the yaml detection file, see mib_dir above.","title":"MIBs"},{"location":"Developing/os/Initial-Detection/#icon-and-logo","text":"It is highly recommended to use SVG images where possible, these scale and provide a nice visual image for users with HiDPI screens. If you can't find SVG images then please use png. Create an SVG image of the icon and logo. Legacy PNG bitmaps are also supported but look bad on HiDPI. - A vector image should not contain padding. - The file should not be larger than 20 Kb. Simplify paths to reduce large files. - Use plain SVG without gzip compression. - The SVG root element must not contain length and width attributes, only viewBox.","title":"Icon and Logo"},{"location":"Developing/os/Initial-Detection/#icon","text":"Save the icon SVG to html/images/os/$os.svg . Icons should look good when viewed at 32x32 px. Square icons are preferred to full logos with text. Remove small ornaments that are almost not visible when displayed with 32px width (e.g. \u00ae or \u2122).","title":"Icon"},{"location":"Developing/os/Initial-Detection/#logo","text":"Save the logo SVG to html/images/logos/$os.svg . Logos can be any dimension, but often are wide and contain the company name. If a logo is not present, the icon will be used.","title":"Logo"},{"location":"Developing/os/Initial-Detection/#hints","text":"Hints for Inkscape : You can open a PDF or EPS to extract the logo. Ungroup elements to isolate the logo. Use Path - Simplify to simplify paths of large files. Use File - Document Properties\u2026 - Resize page to content\u2026 to remove padding. Use File - Clean up document to remove unused gradients, patterns, or markers. Use File - Save As - Plain SVG to save the final image. By optimizing the SVG you can shrink the file size in some cases to less than 20 %. SVG Optimizer does a great job. There is also an online version .","title":"Hints"},{"location":"Developing/os/Initial-Detection/#the-final-check","text":"Discovery ./discovery.php -h HOSTNAME Polling ./poller.php -h HOSTNAME At this step we should see all the values retrieved in LibreNMS. Note: If you have made a number of changes to either the OS's Discovery files, it's possible earlier edits have been cached. As such, if you do not get expected behaviour when completing the final check above, try removing the cache file first: rm -f cache/os_defs.cache","title":"The final check"},{"location":"Developing/os/Mem-CPU-Information/","text":"This document will guide you through adding detection for Memory / Processor for your new device. Memory Detection for memory is done via two php scripts, one for discovery and the other for polling: includes/discovery/mempools/pulse.inc.php ?php if ($device['os'] === 'pulse') { echo 'PULSE-MEMORY-POOL: '; $usage = str_replace(' ', , snmp_get($device, 'iveMemoryUtil.0', '-OvQ', 'PULSESECURE-PSG-MIB')); if (is_numeric($usage)) { discover_mempool($valid_mempool, $device, 0, 'pulse-mem', 'Main Memory', '100', null, null); } } includes/polling/mempools/pulse.inc.php ?php echo 'Pulse Secure MemPool\\n'; $perc = str_replace(' ', , snmp_get($device, iveMemoryUtil.0 , '-OvQ', 'PULSESECURE-PSG-MIB')); if (is_numeric($perc)) { $memory_available = str_replace(' ', , snmp_get($device, memTotalReal.0 , '-OvQ', 'UCD-SNMP-MIB')); $mempool['total'] = $memory_available; $mempool['used'] = ($memory_available / 100 * $perc); $mempool['free'] = ($memory_available - $mempool['used']); } Processor Detection for processors is done via a yaml file unless custom processing of data is required. YAML includes/definitions/discovery/pulse.yaml mib: PULSESECURE-PSG-MIB modules: processors: data: - oid: iveCpuUtil num_oid: '.1.3.6.1.4.1.12532.10.{{ $index }}' type: pulse Available yaml data keys: Key Default Description oid required The string based oid to fetch data, could be a table or a single value num_oid required the numerical oid to fetch data from when polling, usually should be appended by {{ $index }} value optional Oid to retrieve data from, primarily used for tables precision 1 The multiplier to multiply the data by. If this is negative, the data will be multiplied then subtracted from 100. descr Processor Description of this processor, may be an oid or plain string. Helpful values {{ $index }} and {{$count}} type Name of this sensor. This is used with the index to generate a unique id for this sensor. index {{ $index }} The index of this sensor, defaults to the index of the oid. skip_values optional Do not detect this sensor if the value matches Accessing values within yaml: {{ $index }} The index after the given oid {{ $count }} The count of entries (starting with 1) {{ $ oid }} Any oid in the table or pre-fetched Custom Discovery and Polling If you need to implement custom discovery or polling you can implement the ProcessorDiscovery interface and the ProcessorPolling interface in the OS class. OS Class files reside under LibreNMS\\OS ?php namespace LibreNMS\\OS; use LibreNMS\\Device\\Processor; use LibreNMS\\Interfaces\\Discovery\\ProcessorDiscovery; use LibreNMS\\Interfaces\\Polling\\ProcessorPolling; use LibreNMS\\OS; class ExampleOS extends OS implements ProcessorDiscovery, ProcessorPolling { /** * Discover processors. * Returns an array of LibreNMS\\Device\\Processor objects that have been discovered * * @return array Processors */ public function discoverProcessors() { // discovery code here } /** * Poll processor data. This can be implemented if custom polling is needed. * * @param array $processors Array of processor entries from the database that need to be polled * @return array of polled data */ public function pollProcessors(array $processors) { // polling code here } }","title":"Mem CPU Information"},{"location":"Developing/os/Mem-CPU-Information/#memory","text":"Detection for memory is done via two php scripts, one for discovery and the other for polling: includes/discovery/mempools/pulse.inc.php ?php if ($device['os'] === 'pulse') { echo 'PULSE-MEMORY-POOL: '; $usage = str_replace(' ', , snmp_get($device, 'iveMemoryUtil.0', '-OvQ', 'PULSESECURE-PSG-MIB')); if (is_numeric($usage)) { discover_mempool($valid_mempool, $device, 0, 'pulse-mem', 'Main Memory', '100', null, null); } } includes/polling/mempools/pulse.inc.php ?php echo 'Pulse Secure MemPool\\n'; $perc = str_replace(' ', , snmp_get($device, iveMemoryUtil.0 , '-OvQ', 'PULSESECURE-PSG-MIB')); if (is_numeric($perc)) { $memory_available = str_replace(' ', , snmp_get($device, memTotalReal.0 , '-OvQ', 'UCD-SNMP-MIB')); $mempool['total'] = $memory_available; $mempool['used'] = ($memory_available / 100 * $perc); $mempool['free'] = ($memory_available - $mempool['used']); }","title":"Memory"},{"location":"Developing/os/Mem-CPU-Information/#processor","text":"Detection for processors is done via a yaml file unless custom processing of data is required.","title":"Processor"},{"location":"Developing/os/Mem-CPU-Information/#yaml","text":"includes/definitions/discovery/pulse.yaml mib: PULSESECURE-PSG-MIB modules: processors: data: - oid: iveCpuUtil num_oid: '.1.3.6.1.4.1.12532.10.{{ $index }}' type: pulse Available yaml data keys: Key Default Description oid required The string based oid to fetch data, could be a table or a single value num_oid required the numerical oid to fetch data from when polling, usually should be appended by {{ $index }} value optional Oid to retrieve data from, primarily used for tables precision 1 The multiplier to multiply the data by. If this is negative, the data will be multiplied then subtracted from 100. descr Processor Description of this processor, may be an oid or plain string. Helpful values {{ $index }} and {{$count}} type Name of this sensor. This is used with the index to generate a unique id for this sensor. index {{ $index }} The index of this sensor, defaults to the index of the oid. skip_values optional Do not detect this sensor if the value matches Accessing values within yaml: {{ $index }} The index after the given oid {{ $count }} The count of entries (starting with 1) {{ $ oid }} Any oid in the table or pre-fetched","title":"YAML"},{"location":"Developing/os/Mem-CPU-Information/#custom-discovery-and-polling","text":"If you need to implement custom discovery or polling you can implement the ProcessorDiscovery interface and the ProcessorPolling interface in the OS class. OS Class files reside under LibreNMS\\OS ?php namespace LibreNMS\\OS; use LibreNMS\\Device\\Processor; use LibreNMS\\Interfaces\\Discovery\\ProcessorDiscovery; use LibreNMS\\Interfaces\\Polling\\ProcessorPolling; use LibreNMS\\OS; class ExampleOS extends OS implements ProcessorDiscovery, ProcessorPolling { /** * Discover processors. * Returns an array of LibreNMS\\Device\\Processor objects that have been discovered * * @return array Processors */ public function discoverProcessors() { // discovery code here } /** * Poll processor data. This can be implemented if custom polling is needed. * * @param array $processors Array of processor entries from the database that need to be polled * @return array of polled data */ public function pollProcessors(array $processors) { // polling code here } }","title":"Custom Discovery and Polling"},{"location":"Developing/os/Settings/","text":"Optional OS Settings This page documents settings that can be set in the os yaml files or in config.php. All settings listed here are optional. If they are not set, the global default will be used. User override in config.php Users can override these settings in their config.php. For example, to set an alternate icon for ios: $config['os']['ios']['icon'] = 'fuzzybunny'; Ignoring Interfaces See also: Global Ignoring Interfaces Config These settings are merged with the global settings, so you can only undo global ones with good_if empty_ifdescr: false # allow empty ifDescr bad_if: # ifDescr (substring, case insensitive) - lp0 bad_if_regexp: # ifDescr (regex, case insensitive) - /^ng[0-9]+$/ bad_ifname_regexp: # ifName (regex, case insensitive) - /^xdsl_channel / bad_ifalias_regexp: # ifAlias (regex, case insensitive) - /^vlan/ bad_iftype: # ifType (substring) - sonet good_if: # ignore all other bad_if settings ifDescr (substring, case insensitive) - virtual Controlling interface labels By default we use ifDescr to label ports/interfaces. Setting either ifname or ifalias will override that. Only set one of these. ifAlias is user supplied. ifindex will append the ifindex to the port label. ifname: true ifalias: true ifindex: true Disable snmpbulkwalk Some devices have buggy snmp implementations and don't respond well to the more efficient snmpbulkwalk. To disable snmpbulkwalk and only use snmpwalk for an os set the following. nobulk: true Poller and Discovery Modules The various discovery and poller modules can be enabled or disabled per OS. The defaults are usually reasonable, so likely you won't want to change more than a few. These modules can be enabled or disabled per-device in the webui and per os or globally in config.php. Usually, a poller module will not work if it's corresponding discovery module is not enabled. poller_modules: bgp-peers: true discovery_modules: arp-table: false Storage Settings See also: Global Storage Config ignore_mount array: # exact match - /var/run ignore_mount_string: # substring - run ignore_mount_regexp: # regex - /^\\/var/","title":"Optional OS Settings"},{"location":"Developing/os/Settings/#optional-os-settings","text":"This page documents settings that can be set in the os yaml files or in config.php. All settings listed here are optional. If they are not set, the global default will be used.","title":"Optional OS Settings"},{"location":"Developing/os/Settings/#user-override-in-configphp","text":"Users can override these settings in their config.php. For example, to set an alternate icon for ios: $config['os']['ios']['icon'] = 'fuzzybunny';","title":"User override in config.php"},{"location":"Developing/os/Settings/#ignoring-interfaces","text":"See also: Global Ignoring Interfaces Config These settings are merged with the global settings, so you can only undo global ones with good_if empty_ifdescr: false # allow empty ifDescr bad_if: # ifDescr (substring, case insensitive) - lp0 bad_if_regexp: # ifDescr (regex, case insensitive) - /^ng[0-9]+$/ bad_ifname_regexp: # ifName (regex, case insensitive) - /^xdsl_channel / bad_ifalias_regexp: # ifAlias (regex, case insensitive) - /^vlan/ bad_iftype: # ifType (substring) - sonet good_if: # ignore all other bad_if settings ifDescr (substring, case insensitive) - virtual","title":"Ignoring Interfaces"},{"location":"Developing/os/Settings/#controlling-interface-labels","text":"By default we use ifDescr to label ports/interfaces. Setting either ifname or ifalias will override that. Only set one of these. ifAlias is user supplied. ifindex will append the ifindex to the port label. ifname: true ifalias: true ifindex: true","title":"Controlling interface labels"},{"location":"Developing/os/Settings/#disable-snmpbulkwalk","text":"Some devices have buggy snmp implementations and don't respond well to the more efficient snmpbulkwalk. To disable snmpbulkwalk and only use snmpwalk for an os set the following. nobulk: true","title":"Disable snmpbulkwalk"},{"location":"Developing/os/Settings/#poller-and-discovery-modules","text":"The various discovery and poller modules can be enabled or disabled per OS. The defaults are usually reasonable, so likely you won't want to change more than a few. These modules can be enabled or disabled per-device in the webui and per os or globally in config.php. Usually, a poller module will not work if it's corresponding discovery module is not enabled. poller_modules: bgp-peers: true discovery_modules: arp-table: false","title":"Poller and Discovery Modules"},{"location":"Developing/os/Settings/#storage-settings","text":"See also: Global Storage Config ignore_mount array: # exact match - /var/run ignore_mount_string: # substring - run ignore_mount_regexp: # regex - /^\\/var/","title":"Storage Settings"},{"location":"Developing/os/Test-Units/","text":"Tests Tests ensure LibreNMS works as expected, now and in the future. New OS should provide as much test data as needed and added test data for existing OS is welcome. Saved snmp data can be found in tests/snmpsim/*.snmprec and saved database data can be found in tests/data/*.json . Please review this for any sensitive data before submitting. When replacing data, make sure it is modified in a consistent manner. We utilise snmpsim to do unit testing. For OS discovery, we can mock snmpsim, but for other tests you will need it installed and functioning. We run snmpsim during our integration tests, but not by default when running ./scripts/pre-commit.php . You can install snmpsim with the command pip3 install snmpsim . Capturing test data ./scripts/collect-snmp-data.php is provided to make it easy to collect data for tests. Running collect-snmp-data.php with the --hostname (-h) allows you to capture all data used to discover and poll a device already added to LibreNMS. Make sure to re-run the script if you add additional support. Check the command-line help for more options. After you have collected snmp data, run ./scripts/save-test-data.php with the --os (-o) option to dump the post discovery and post poll database entries to json files. This step requires snmpsim, if you are having issues, the maintainers may help you generate it from the snmprec you created in the previous step. Generally, you will only need to capture data once. After you have the data you need in the snmprec file, you can just use save-test-data.php to update the database dump (json) after that. OS Variants If test data already exists, but is for a different device/configuration then you should use the --variant (-v) option to specify a different variant of the os, this will be tested completely separate from other variants. If there is only one variant, please do not specify one. Running tests Note: To run tests, ensure you have executed ./scripts/composer_wrapper.php install from your LibreNMS root directory. This will read composer.json and install any dependencies required. After you have saved your test data, you should run ./scripts/pre-commit.php -p -u verify they pass. To run the full suite of tests enable database and snmpsim reliant tests: ./scripts/pre-commit.php --db --snmpsim -p -u Specific OS ./scripts/pre-commit.php -p -o osname Specific Module ./scripts/pre-commit.php -p -m modulename Using snmpsim for testing You can run snmpsim to access test data by running ./scripts/collect-snmp-data.php --snmpsim You may then run snmp queries against it using the os (and variant) as the community and 127.1.6.1:1161 as the host. snmpget -v 2c -c ios_c3560e 127.1.6.1:1161 sysDescr.0 Snmprec format Snmprec files are simple files that store the snmp data. The data format is simple with three columns: numeric oid, type code, and data. Here is an example snippet. 1.3.6.1.2.1.1.1.0|4|Pulse Secure,LLC,MAG-2600,8.0R14 (build 41869) 1.3.6.1.2.1.1.2.0|6|1.3.6.1.4.1.12532.254.1.1 During testing LibreNMS will use any info in the snmprec file for snmp calls. This one provides sysDescr ( .1.3.6.1.2.1.1.1.0 , 4 = Octet String) and sysObjectID ( .1.3.6.1.2.1.1.2.0 , 6 = Object Identifier), which is the minimum that should be provided for new snmprec files. To look up the numeric OID and type of an string OID with snmptranslate: snmptranslate -On -Td SNMPv2-MIB::sysDescr.0 List of SNMP data types: Type Value OCTET STRING 4 HEX STRING 4x Integer32 2 NULL 5 OBJECT IDENTIFIER 6 IpAddress 64 Counter32 65 Gauge32 66 TimeTicks 67 Opaque 68 Counter64 70 Hex encoded strings (4x) should be used for any strings that contain line returns. New discovery/poller modules New discovery or poller modules should define database capture parameters in /tests/module_tables.yaml . Example workflow If the base os ( .snmprec) already contains test data for the module you are testing or that data conflicts with your new data, you must use a variant to store your test data (-v). Add initial detection Add device to LibreNMS. It is generic and device_id = 42 Run ./scripts/collect-snmp-data.php -h 42 , initial snmprec will be created Add initial detection for example-os Run discovery to make sure it detects properly ./discovery.php -h 42 Add any additional os items like version, hardware, features, or serial. If there is additional snmp data required, run ./scripts/collect-snmp-data.php -h 42 Run ./scripts/save-test-data.php -o example-os to update the dumped database data. Review data. If you modified the snmprec or code (don't modify json manually) run ./scripts/save-test-data.php -o example-os -m os Run ./scripts/pre-commit.php --db --snmpsim If the tests succeed submit a pull request Additional module support or test data Add code to support module or support already exists. ./scripts/collect-snmp-data.php -h 42 -m module , this will add more data to the snmprec file Review data. If you modified the snmprec (don't modify json manually) run ./scripts/save-test-data.php -o example-os -m module Run ./scripts/pre-commit.php --db --snmpsim If the tests succeed submit a pull request","title":"Tests"},{"location":"Developing/os/Test-Units/#tests","text":"Tests ensure LibreNMS works as expected, now and in the future. New OS should provide as much test data as needed and added test data for existing OS is welcome. Saved snmp data can be found in tests/snmpsim/*.snmprec and saved database data can be found in tests/data/*.json . Please review this for any sensitive data before submitting. When replacing data, make sure it is modified in a consistent manner. We utilise snmpsim to do unit testing. For OS discovery, we can mock snmpsim, but for other tests you will need it installed and functioning. We run snmpsim during our integration tests, but not by default when running ./scripts/pre-commit.php . You can install snmpsim with the command pip3 install snmpsim .","title":"Tests"},{"location":"Developing/os/Test-Units/#capturing-test-data","text":"./scripts/collect-snmp-data.php is provided to make it easy to collect data for tests. Running collect-snmp-data.php with the --hostname (-h) allows you to capture all data used to discover and poll a device already added to LibreNMS. Make sure to re-run the script if you add additional support. Check the command-line help for more options. After you have collected snmp data, run ./scripts/save-test-data.php with the --os (-o) option to dump the post discovery and post poll database entries to json files. This step requires snmpsim, if you are having issues, the maintainers may help you generate it from the snmprec you created in the previous step. Generally, you will only need to capture data once. After you have the data you need in the snmprec file, you can just use save-test-data.php to update the database dump (json) after that.","title":"Capturing test data"},{"location":"Developing/os/Test-Units/#os-variants","text":"If test data already exists, but is for a different device/configuration then you should use the --variant (-v) option to specify a different variant of the os, this will be tested completely separate from other variants. If there is only one variant, please do not specify one.","title":"OS Variants"},{"location":"Developing/os/Test-Units/#running-tests","text":"Note: To run tests, ensure you have executed ./scripts/composer_wrapper.php install from your LibreNMS root directory. This will read composer.json and install any dependencies required. After you have saved your test data, you should run ./scripts/pre-commit.php -p -u verify they pass. To run the full suite of tests enable database and snmpsim reliant tests: ./scripts/pre-commit.php --db --snmpsim -p -u","title":"Running tests"},{"location":"Developing/os/Test-Units/#specific-os","text":"./scripts/pre-commit.php -p -o osname","title":"Specific OS"},{"location":"Developing/os/Test-Units/#specific-module","text":"./scripts/pre-commit.php -p -m modulename","title":"Specific Module"},{"location":"Developing/os/Test-Units/#using-snmpsim-for-testing","text":"You can run snmpsim to access test data by running ./scripts/collect-snmp-data.php --snmpsim You may then run snmp queries against it using the os (and variant) as the community and 127.1.6.1:1161 as the host. snmpget -v 2c -c ios_c3560e 127.1.6.1:1161 sysDescr.0","title":"Using snmpsim for testing"},{"location":"Developing/os/Test-Units/#snmprec-format","text":"Snmprec files are simple files that store the snmp data. The data format is simple with three columns: numeric oid, type code, and data. Here is an example snippet. 1.3.6.1.2.1.1.1.0|4|Pulse Secure,LLC,MAG-2600,8.0R14 (build 41869) 1.3.6.1.2.1.1.2.0|6|1.3.6.1.4.1.12532.254.1.1 During testing LibreNMS will use any info in the snmprec file for snmp calls. This one provides sysDescr ( .1.3.6.1.2.1.1.1.0 , 4 = Octet String) and sysObjectID ( .1.3.6.1.2.1.1.2.0 , 6 = Object Identifier), which is the minimum that should be provided for new snmprec files. To look up the numeric OID and type of an string OID with snmptranslate: snmptranslate -On -Td SNMPv2-MIB::sysDescr.0 List of SNMP data types: Type Value OCTET STRING 4 HEX STRING 4x Integer32 2 NULL 5 OBJECT IDENTIFIER 6 IpAddress 64 Counter32 65 Gauge32 66 TimeTicks 67 Opaque 68 Counter64 70 Hex encoded strings (4x) should be used for any strings that contain line returns.","title":"Snmprec format"},{"location":"Developing/os/Test-Units/#new-discoverypoller-modules","text":"New discovery or poller modules should define database capture parameters in /tests/module_tables.yaml .","title":"New discovery/poller modules"},{"location":"Developing/os/Test-Units/#example-workflow","text":"If the base os ( .snmprec) already contains test data for the module you are testing or that data conflicts with your new data, you must use a variant to store your test data (-v).","title":"Example workflow"},{"location":"Developing/os/Test-Units/#add-initial-detection","text":"Add device to LibreNMS. It is generic and device_id = 42 Run ./scripts/collect-snmp-data.php -h 42 , initial snmprec will be created Add initial detection for example-os Run discovery to make sure it detects properly ./discovery.php -h 42 Add any additional os items like version, hardware, features, or serial. If there is additional snmp data required, run ./scripts/collect-snmp-data.php -h 42 Run ./scripts/save-test-data.php -o example-os to update the dumped database data. Review data. If you modified the snmprec or code (don't modify json manually) run ./scripts/save-test-data.php -o example-os -m os Run ./scripts/pre-commit.php --db --snmpsim If the tests succeed submit a pull request","title":"Add initial detection"},{"location":"Developing/os/Test-Units/#additional-module-support-or-test-data","text":"Add code to support module or support already exists. ./scripts/collect-snmp-data.php -h 42 -m module , this will add more data to the snmprec file Review data. If you modified the snmprec (don't modify json manually) run ./scripts/save-test-data.php -o example-os -m module Run ./scripts/pre-commit.php --db --snmpsim If the tests succeed submit a pull request","title":"Additional module support or test data"},{"location":"Developing/os/Wireless-Sensors/","text":"This document will guide you through adding wireless sensors for your new wireless device. Currently we have support for the following wireless metrics along with the values we expect to see the data in: Type Measurement Interface Description ap-count % WirelessApCountDiscovery The number of APs attached to this controller capacity % WirelessCapacityDiscovery The % of operating rate vs theoretical max ccq % WirelessCcqDiscovery The Client Connection Quality clients count WirelessClientsDiscovery The number of clients connected to/managed by this device distance km WirelessDistanceDiscovery The distance of a radio link in Kilometers error-rate bps WirelessErrorRateDiscovery The rate of errored packets or bits, etc error-ratio % WirelessErrorRatioDiscovery The percent of errored packets or bits, etc errors count WirelessErrorsDiscovery The total bits of errored packets or bits, etc frequency MHz WirelessFrequencyDiscovery The frequency of the radio in MHz, channels can be converted mse dB WirelessMseDiscovery The Mean Square Error noise-floor dBm/Hz WirelessNoiseFloorDiscovery The amount of noise received by the radio power dBm WirelessPowerDiscovery The power of transmit or receive, including signal level quality % WirelessQualityDiscovery The % of quality of the link, 100% = perfect link rate bps WirelessRateDiscovery The negotiated rate of the connection (not data transfer) rssi dBm WirelessRssiDiscovery The Received Signal Strength Indicator snr dB WirelessSnrDiscovery The Signal to Noise ratio, which is signal - noise floor ssr dB WirelessSsrDiscovery The Signal strength ratio, the ratio(or difference) of Vertical rx power to Horizontal rx power utilization % WirelessUtilizationDiscovery The % of utilization compared to the current rate You will need to create a new OS class for your os if one doen't exist under LibreNMS/OS . The name of this file should be the os name in camel case for example airos - Airos , ios-wlc - IosWlc . Your new OS class should extend LibreNMS\\OS and implement the interfaces for the sensors your os supports. namespace LibreNMS\\OS; use LibreNMS\\Device\\WirelessSensor; use LibreNMS\\Interfaces\\Discovery\\Sensors\\WirelessClientsDiscovery; use LibreNMS\\OS; class Airos extends OS implements WirelessClientsDiscovery { public function discoverWirelessClients() { $oid = '.1.3.6.1.4.1.41112.1.4.5.1.15.1'; //UBNT-AirMAX-MIB::ubntWlStatStaCount.1 return array( new WirelessSensor('clients', $this- getDeviceId(), $oid, 'airos', 1, 'Clients') ); } } All discovery interfaces will require you to return an array of WirelessSensor objects. new WirelessSensor() Accepts the following arguments: $type = Required. This is the sensor class from the table above (i.e humidity). $device_id = Required. You can get this value with $this- getDeviceId() $oids = Required. This must be the numerical OID for where the data can be found, i.e .1.2.3.4.5.6.7.0. If this is an array of oids, you should probably specify an $aggregator. $subtype = Required. This should be the OS name, i.e airos. $index = Required. This must be unique for this sensor type, device and subtype. Typically it's the index from the table being walked or it could be the name of the OID if it's a single value. $description = Required. This is a descriptive value for the sensor. Shown to the user, if this is a per-ssid statistic, using SSID: $ssid here is appropriate $current = Defaults to null. Can be used to set the current value on discovery. If this is null the values will be polled right away and if they do not return valid value(s), the sensor will not be discovered. Supplying a value here implies you have already verified this sensor is valid. $multiplier = Defaults to 1. This is used to multiply the returned value. $divisor = Defaults to 1. This is used to divided the returned value. $aggregator = Defaults to sum. Valid values: sum, avg. This will combine multiple values from multiple oids into one. $access_point_id = Defaults to null. If this is a wireless controller, you can link sensors to entries in the access_points table. $high_limit = Defaults to null. Sets the high limit for the sensor, used in alerting to report out range sensors. $low_limit = Defaults to null. Sets the low threshold limit for the sensor, used in alerting to report out range sensors. $high_warn = Defaults to null. Sets the high warning limit for the sensor, used in alerting to report near out of range sensors. $low_warn = Defaults to null. Sets the low warning limit for the sensor, used in alerting to report near out of range sensors. $entPhysicalIndex = Defaults to null. Sets the entPhysicalIndex to be used to look up further hardware if available. $entPhysicalIndexMeasured = Defaults to null. Sets the type of entPhysicalIndex used, i.e ports. Polling is done automatically based on the discovered data. If for some reason you need to override polling, you can implement the required polling interface in LibreNMS/Interfaces/Polling/Sensors . Using the polling interfaces should be avoided if possible. Graphing is performed automatically for wireless sensors, no custom graphing is required or supported.","title":"Wireless Sensors"},{"location":"Extensions/Agent-Setup/","text":"The agent can be used to gather data from remote systems you can use LibreNMS in combination with check_mk (found here ). The agent can be extended to include data about applications on the remote system. Make sure that systemd or xinetd is installed on the host you want to run the agent on. The agent uses TCP-Port 6556, please allow access from the LibreNMS host and poller nodes if you're using the Distributed Polling setup. On each of the hosts you would like to use the agent on, you need to do the following: Clone the librenms-agent repository: cd /opt/ git clone https://github.com/librenms/librenms-agent.git cd librenms-agent Copy the relevant check_mk_agent to /usr/bin : linux freebsd cp check_mk_agent /usr/bin/check_mk_agent cp check_mk_agent_freebsd /usr/bin/check_mk_agent chmod +x /usr/bin/check_mk_agent Copy the service file(s) into place. xinetd systemd cp check_mk_xinetd /etc/xinetd.d/check_mk cp check_mk@.service check_mk.socket /etc/systemd/system Create the relevant directories. mkdir -p /usr/lib/check_mk_agent/plugins /usr/lib/check_mk_agent/local Copy each of the scripts from agent-local/ into /usr/lib/check_mk_agent/local that you require to be graphed. You can find detail setup instructions for specific applications above. Make each one executable that you want to use with chmod +x /usr/lib/check_mk_agent/local/$script Enable the check_mk service xinetd systemd /etc/init.d/xinetd restart systemctl enable check_mk.socket systemctl start check_mk.socket Login to the LibreNMS web interface and edit the device you want to monitor. Under the modules section, ensure that unix-agent is enabled. Then under Applications, enable the apps that you plan to monitor. Wait for around 10 minutes and you should start seeing data in your graphs under Apps for the device.","title":"Check_MK Setup"},{"location":"Extensions/Alerting/","text":"","title":"Alerting"},{"location":"Extensions/Applications/","text":"Introduction You can use Application support to graph performance statistics of many applications. Different applications support a variety of ways to collect data: 1) by direct connection to the application, 2) snmpd extend, or 3) the agent . The monitoring of applications could be added before or after the hosts have been added to LibreNMS. If multiple methods of collection are listed you only need to enable one. SNMP Extend When using the snmp extend method, the application discovery module will pick up which applications you have set up for monitoring automatically, even if the device is already in LibreNMS. The application discovery module is enabled by default for most *nix operating systems, but in some cases you will need to manually enable the application discovery module. Enable the application discovery module Edit the device for which you want to add this support Click on the Modules tab and enable the applications module. This will be automatically saved, and you should get a green confirmation pop-up message. After you have enabled the application module, it would be wise to then also enable which applications you want to monitor, in the rare case where LibreNMS does not automatically detect it. Note : Only do this if an application was not auto-discovered by LibreNMS during discovery and polling. Enable the application(s) to be discovered Go to the device you have just enabled the application module for. Click on the Applications tab and select the applications you want to monitor. This will also be automatically saved, and you should get a green confirmation pop-up message. Agent The unix-agent does not have a discovery module, only a poller module. That poller module is always disabled by default. It needs to be manually enabled if using the agent. Some applications will be automatically enabled by the unix-agent poller module. It is better to ensure that your application is enabled for monitoring. You can check by following the steps under the SNMP Extend heading. Apache - SNMP extend, Agent Asterisk - SNMP extend BIND9/named - SNMP extend, Agent C.H.I.P. - SNMP extend DHCP Stats - SNMP extend Entropy - SNMP extend EXIM Stats - SNMP extend Fail2ban - SNMP extend FreeBSD NFS Client - SNMP extend FreeBSD NFS Server - SNMP extend FreeRADIUS - SNMP extend, Agent Freeswitch - SNMP extend, Agent GPSD - Agent Mailscanner - SNMP extend Memcached - SNMP extend Munin - Agent MySQL - SNMP extend, Agent NGINX - SNMP extend, Agent NFS Server - SNMP extend NTP Client - SNMP extend NTP Server/NTPD - SNMP extend Nvidia GPU - SNMP extend Open Grid Scheduler - SNMP extend OS Updates - SNMP extend PHP-FPM - SNMP extend Pi-hole - SNMP extend Postfix - SNMP extend Postgres - SNMP extend PowerDNS - Agent PowerDNS Recursor - Direct, SNMP extend, Agent PowerDNS dnsdist - SNMP extend Proxmox - SNMP extend Raspberry PI - SNMP extend SDFS info - SNMP extend SMART - SNMP extend Squid - SNMP proxy TinyDNS/djbdns - Agent Unbound - SNMP extend, Agent UPS-nut - SNMP extend UPS-apcups - SNMP extend ZFS - SNMP extend Apache Either use SNMP extend or use the agent. Note that you need to install and configure the Apache mod_status module before trying the script. SNMP Extend Download the script onto the desired host (the host must be added to LibreNMS devices) wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/apache-stats.py -O /etc/snmp/apache-stats.py Make the script executable (chmod +x /etc/snmp/apache-stats.py) Verify it is working by running /etc/snmp/apache-stats.py In some cases urlgrabber and pycurl needs to be installed, in Debian this can be achieved by: apt-get install python-urlgrabber python-pycurl Make sure to remove /tmp/apache-snmp afterwards. Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend apache /etc/snmp/apache-stats.py Restart snmpd on your host Test by running snmpwalk various options depending on your setup localhost NET-SNMP-EXTEND-MIB::nsExtendOutput2Table Agent Install the agent on this device if it isn't already and copy the apache script to /usr/lib/check_mk_agent/local/ Verify it is working by running /usr/lib/check_mk_agent/local/apache (If you get error like \"Can't locate LWP/Simple.pm\". libwww-perl needs to be installed: apt-get install libwww-perl) On the device page in Librenms, edit your host and check the Apache under the Applications tab. Asterisk A small shell script that reports various Asterisk call status. SNMP Extend Copy the asterisk script to /etc/snmp/ on your asterisk server. Run chmod +x /etc/snmp/asterisk Configure ASCLI in the script. Verify it is working by running /etc/snmp/asterisk Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf ) and add: extend asterisk /etc/snmp/asterisk Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. BIND9 aka named 1: Create stats file with appropriate permissions: ~$ touch /var/run/named/stats ~$ chown bind:bind /var/run/named/stats Change user:group to the user and group that's running bind/named. 2: Bind/named configuration: options { ... statistics-file /var/run/named/stats ; zone-statistics yes; ... }; 3: Restart your bind9/named after changing the configuration. 4: Verify that everything works by executing rndc stats cat /var/run/named/stats . In case you get a Permission Denied error, make sure you changed the ownership correctly. 5: Also be aware that this file is appended to each time rndc stats is called. Given this it is suggested you setup file rotation for it. Alternatively you can also set zero_stats to 1 in the config. 6: The script for this also requires the Perl module File::ReadBackwards . FreeBSD = p5-File-ReadBackwards CentOS/RedHat = perl-File-ReadBackwards Debian/Ubuntu = libfile-readbackwards-perl If it is not available, it can be installed by cpan -i File::ReadBackwards . 7: You may possibly need to configure the agent/extend script as well. The config file's path defaults to the same path as the script, but with .config appended. So if the script is located at /etc/snmp/bind , the config file will be /etc/snmp/bind.config . Alternatively you can also specify a config via -c $file . Anything starting with a # is comment. The format for variables are $variable=$value. Empty lines are ignored. Spaces and tabs at either the start or end of a line are ignored. Content of an example /etc/snmp/bind.config . Please edit with your own settings. rndc = The path to rndc. Default: /usr/bin/env rndc call_rndc = A 0/1 boolean on whether or not to call rndc stats. Suggest to set to 0 if using netdata. Default: 1 stats_file = The path to the named stats file. Default: /var/run/named/stats agent = A 0/1 boolean for if this is being used as a LibreNMS agent or not. Default: 0 zero_stats = A 0/1 boolean for if the stats file should be zeroed first. Default: 0 (1 if guessed) If you want to guess at the configuration, call the script with -g and it will print out what it thinks it should be. SNMP Extend 1: Copy the bind shell script, to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/bind -O /etc/snmp/bind 2: Make the script executable chmod +x /etc/snmp/bind 3: Edit your snmpd.conf file and add: extend bind /etc/snmp/bind 4: Restart snmpd on the host in question. The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. Agent 1: Install the agent on this device if it isn't already and copy the script to /usr/lib/check_mk_agent/local/bind via wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/bind -O /usr/lib/check_mk_agent/local/bind 2: Run chmod +x /usr/lib/check_mk_agent/local/bind 3: Set the variable 'agent' to '1' in the config. C.H.I.P C.H.I.P. is a $9 R8 based tiny computer ideal for small projects. Further details: https://getchip.com/pages/chip SNMP Extend Copy the shell script to the desired host. wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/chip.sh -O /etc/snmp/power-stat.sh Run chmod +x /etc/snmp/power-stat.sh Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend power-stat /etc/snmp/power-stat.sh Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. DHCP Stats A small shell script that reports current DHCP leases stats. SNMP Extend Copy the shell script to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/dhcp-status.sh -O /etc/snmp/dhcp-status.sh Run chmod +x /etc/snmp/dhcp-status.sh Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend dhcpstats /etc/snmp/dhcp-status.sh Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. Entropy A small shell script that checks your system's available random entropy. SNMP Extend Download the script onto the desired host. wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/entropy.sh -O /etc/snmp/entropy.sh Run chmod +x /etc/snmp/entropy.sh Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend entropy /etc/snmp/entropy.sh Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. EXIM Stats SNMP extend script to get your exim stats data into your host. SNMP Extend Download the script onto the desired host. wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/exim-stats.sh -O /etc/snmp/exim-stats.sh Run chmod +x /etc/snmp/exim-stats.sh Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf ) and add: extend exim-stats /etc/snmp/exim-stats.sh If you are using sudo edit your sudo users (usually visudo ) and add at the bottom: snmp ALL=(ALL) NOPASSWD: /etc/snmp/exim-stats.sh, /usr/bin/exim* Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. Fail2ban SNMP Extend 1: Copy the shell script, fail2ban, to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/fail2ban -O /etc/snmp/fail2ban 2: Run chmod +x /etc/snmp/fail2ban 3: Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend fail2ban /etc/snmp/fail2ban If you want to use the cache, it is as below, by using the -c switch. extend fail2ban /etc/snmp/fail2ban -c If you want to use the cache and update it if needed, this can by using the -c and -U switches. extend fail2ban /etc/snmp/fail2ban -c -U If you need to specify a custom location for the fail2ban-client, that can be done via the -f switch. If not specified, \"/usr/bin/env fail2ban-client\" is used. extend fail2ban /etc/snmp/fail2ban -f /foo/bin/fail2ban-client 5: Restart snmpd on your host 6: If you wish to use caching, add the following to /etc/crontab and restart cron. */3 * * * * root /etc/snmp/fail2ban -u 7: Restart or reload cron on your system. If you have more than a few jails configured, you may need to use caching as each jail needs to be polled and fail2ban-client can't do so in a timely manner for than a few. This can result in failure of other SNMP information being polled. For additional details of the switches, please see the POD in the script it self at the top. FreeBSD NFS Client SNMP Extend 1: Copy the shell script, fbsdnfsserver, to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/fbsdnfsclient -O /etc/snmp/fbsdnfsclient 2: Run chmod +x /etc/snmp/fbsdnfsclient 3: Edit your snmpd.conf file and add: extend fbsdnfsclient /etc/snmp/fbsdnfsclient 4: Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. FreeBSD NFS Server SNMP Extend 1: Copy the shell script, fbsdnfsserver, to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/fbsdnfsserver -O /etc/snmp/fbsdnfsserver 2: Run chmod +x /etc/snmp/fbsdnfsserver 3: Edit your snmpd.conf file and add: extend fbsdnfsserver /etc/snmp/fbsdnfsserver 4: Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. FreeRADIUS The FreeRADIUS application extension requires that status_server be enabled in your FreeRADIUS config. For more information see: https://wiki.freeradius.org/config/Status You should note that status requests increment the FreeRADIUS request stats. So LibreNMS polls will ultimately be reflected in your stats/charts. 1: Go to your FreeRADIUS configuration directory (usually /etc/raddb or /etc/freeradius). 2: cd sites-enabled 3: ln -s ../sites-available/status status 4: Restart FreeRADIUS. 5: You should be able to test with the radclient as follows... echo Message-Authenticator = 0x00, FreeRADIUS-Statistics-Type = 31, Response-Packet-Type = Access-Accept | \\ radclient -x localhost:18121 status adminsecret Note that adminsecret is the default secret key in status_server. Change if you've modified this. SNMP Extend 1: Copy the freeradius shell script, to the desired host. wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/freeradius.sh -O /etc/snmp/freeradius.sh 2: Run chmod +x /etc/snmp/freeradius.sh 3: If you've made any changes to the FreeRADIUS status_server config (secret key, port, etc.) edit freeradius.sh and adjust the config variable accordingly. 4: Edit your snmpd.conf file and add: extend freeradius /etc/snmp/freeradius.sh 5: Restart snmpd on the host in question. The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. Agent 1: Install the agent on this device if it isn't already and copy the script to /usr/lib/check_mk_agent/local/freeradius.sh via wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/freeradius.sh -O /usr/lib/check_mk_agent/local/freeradius.sh 2: Run chmod +x /usr/lib/check_mk_agent/local/freeradius.sh 3: If you've made any changes to the FreeRADIUS status_server config (secret key, port, etc.) edit freeradius.sh and adjust the config variable accordingly. 4: Edit the freeradius.sh script and set the variable 'AGENT' to '1' in the config. Freeswitch A small shell script that reports various Freeswitch call status. Agent Install the agent on your Freeswitch server if it isn't already Copy the freeswitch script to /usr/lib/check_mk_agent/local/ Configure FSCLI in the script. You may also have to create an /etc/fs_cli.conf file if your fs_cli command requires authentication. Verify it is working by running /usr/lib/check_mk_agent/local/freeswitch SNMP Extend Copy the freeswitch script to /etc/snmp/ on your Freeswitch server. Run chmod +x /etc/snmp/freeswitch Configure FSCLI in the script. You may also have to create an /etc/fs_cli.conf file if your fs_cli command requires authentication. Verify it is working by running /etc/snmp/freeswitch Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf ) and add: extend freeswitch /etc/snmp/freeswitch Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. GPSD A small shell script that reports GPSD status. Agent Install the agent on this device if it isn't already and copy the gpsd script to /usr/lib/check_mk_agent/local/ You may need to configure $server or $port . Verify it is working by running /usr/lib/check_mk_agent/local/gpsd Mailscanner SNMP Extend Download the script onto the desired host. wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/mailscanner.php -O /etc/snmp/mailscanner.php Run chmod +x /etc/snmp/mailscanner.php Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend mailscanner /etc/snmp/mailscanner.php Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. Memcached SNMP Extend Copy the memcached script to /etc/snmp/ on your remote server. wget https://raw.githubusercontent.com/librenms/librenms-agent/master/agent-local/memcached -O /etc/snmp/memcached Make the script executable: chmod +x /etc/snmp/memcached Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf ) and add: extend memcached /etc/snmp/memcached Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. Munin Agent Install the script to your agent: wget https://raw.githubusercontent.com/librenms/librenms-agent/master/agent-local/munin -O /usr/lib/check_mk_agent/local/munin Make the script executable ( chmod +x /usr/lib/check_mk_agent/local/munin ) Create the munin scripts dir: mkdir -p /usr/share/munin/munin-scripts Install your munin scripts into the above directory. To create your own custom munin scripts, please see this example: #!/bin/bash if [ $1 = config ]; then echo 'graph_title Some title' echo 'graph_args --base 1000 -l 0' #not required echo 'graph_vlabel Some label' echo 'graph_scale no' #not required, can be yes/no echo 'graph_category system' #Choose something meaningful, can be anything echo 'graph_info This graph shows something awesome.' #Short desc echo 'foobar.label Label for your unit' # Repeat these two lines as much as you like echo 'foobar.info Desc for your unit.' exit 0 fi echo -n foobar.value $(date +%s) #Populate a value, here unix-timestamp MySQL Agent Install the agent on this device if it isn't already and copy the mysql script to /usr/lib/check_mk_agent/local/ The MySQL script requires PHP-CLI and the PHP MySQL extension, so please verify those are installed. CentOS (May vary based on PHP version) yum install php-cli php-mysql Debian (May vary based on PHP version) apt-get install php5-cli php5-mysql Unlike most other scripts, the MySQL script requires a configuration file mysql.cnf in the same directory as the extend or agent script with following content: ?php $mysql_user = 'root'; $mysql_pass = 'toor'; $mysql_host = 'localhost'; $mysql_port = 3306; Verify it is working by running /usr/lib/check_mk_agent/local/mysql SNMP extend 1: Copy the mysql script to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/mysql -O /etc/snmp/mysql 2: Run chmod +x /etc/snmp/mysql 3: Unlike most other scripts, the MySQL script requires a configuration file mysql.cnf in /etc/snmp/ with following content: ?php $mysql_user = 'root'; $mysql_pass = 'toor'; $mysql_host = 'localhost'; $mysql_port = 3306; 4: Edit your snmpd.conf file and add: extend mysql /etc/snmp/mysql 5: Restart snmpd. 6: Install the PHP CLI language and your MySQL module of choice for PHP. The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. NGINX NGINX is a free, open-source, high-performance HTTP server: https://www.nginx.org/ It's required to have the following directive in your nginx configuration responsible for the localhost server: location /nginx-status { stub_status on; access_log off; allow 127.0.0.1; deny all; } SNMP Extend Download the script onto the desired host. wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/nginx -O /etc/snmp/nginx Run chmod +x /etc/snmp/nginx Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend nginx /etc/snmp/nginx Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. Agent Install the agent on this device if it isn't already and copy the nginx script to /usr/lib/check_mk_agent/local/ NFS Server Export the NFS stats from as server. SNMP Extend Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add : extend nfs-server /bin/cat /proc/net/rpc/nfsd note : find out where cat is located using : which cat reload snmpd service to activate the configuration NTP Client A shell script that gets stats from ntp client. SNMP Extend Download the script onto the desired host. wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/ntp-client -O /etc/snmp/ntp-client Run chmod +x /etc/snmp/ntp-client Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend ntp-client /etc/snmp/ntp-client Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. NTP Server aka NTPD A shell script that gets stats from ntp server (ntpd). SNMP Extend Download the script onto the desired host. wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/ntp-server.sh -O /etc/snmp/ntp-server.sh Run chmod +x /etc/snmp/ntp-server.sh Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend ntp-server /etc/snmp/ntp-server.sh Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. Nvidia GPU SNMP Extend 1: Copy the shell script, nvidia, to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/nvidia -O /etc/snmp/nvidia 2: Run chmod +x /etc/snmp/nvidia 3: Edit your snmpd.conf file and add: extend nvidia /etc/snmp/nvidia 5: Restart snmpd on your host. 6: Verify you have nvidia-smi installed, which it generally should be if you have the driver from Nvida installed. The GPU numbering on the graphs will correspond to how the nvidia-smi sees them as being. For questions about what the various values are/mean, please see the nvidia-smi man file under the section covering dmon. Open Grid Scheduler Shell script to track the OGS/GE jobs running on clusters. SNMP Extend Download the script onto the desired host. wget https://raw.githubusercontent.com/librenms/librenms-agent/master/agent-local/rocks.sh -O /etc/snmp/rocks.sh Run chmod +x /etc/snmp/rocks.sh Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend ogs /etc/snmp/rocks.sh Restart snmpd. The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. OS Updates A small shell script that checks your system package manager for any available updates. Supports apt-get/pacman/yum/zypper package managers). For pacman users automatically refreshing the database, it is recommended you use an alternative database location --dbpath=/var/lib/pacman/checkupdate SNMP Extend Download the script onto the desired host. wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/osupdate -O /etc/snmp/osupdate Run chmod +x /etc/snmp/osupdate Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend osupdate /etc/snmp/osupdate Restart snmpd on your host Note : apt-get depends on an updated package index. There are several ways to have your system run apt-get update automatically. The easiest is to create /etc/apt/apt.conf.d/10periodic and pasting the following in it: APT::Periodic::Update-Package-Lists \"1\"; . If you have apticron, cron-apt or apt-listchanges installed and configured, chances are that packages are already updated periodically. The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. PHP-FPM SNMP Extend Copy the shell script, phpfpmsp, to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/phpfpmsp -O /etc/snmp/phpfpmsp Run chmod +x /etc/snmp/phpfpmsp Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend phpfpmsp /etc/snmp/phpfpmsp Edit /etc/snmp/phpfpmsp to include the status URL for the PHP-FPM pool you are monitoring. Restart snmpd on your host It is worth noting that this only monitors a single pool. If you want to monitor multiple pools, this won't do it. The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. Pi-hole SNMP Extend 1: Copy the shell script, pi-hole, to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/pi-hole -O /etc/snmp/pi-hole 2: Run chmod +x /etc/snmp/pi-hole 3: Edit your snmpd.conf file and add: extend pi-hole /etc/snmp/pi-hole 4: To get all data you must get your API auth token from Pi-hole server and change the API_AUTH_KEY entry inside the snmp script. 5: Restard snmpd. The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. Postfix SNMP Extend 1: Copy the shell script, postfix-queues, to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/postfix-queues -O /etc/snmp/postfix-queues 2: Copy the Perl script, postfixdetailed, to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/postfixdetailed -O /etc/snmp/postfixdetailed 3: Make both scripts executable. Run chmod +x /etc/snmp/postfixdetailed /etc/snmp/postfix-queues 4: Edit your snmpd.conf file and add: extend mailq /etc/snmp/postfix-queues extend postfixdetailed /etc/snmp/postfixdetailed 5: Restart snmpd. 6: Install pflogsumm for your OS. 7: Make sure the cache file in /etc/snmp/postfixdetailed is some place that snmpd can write too. This file is used for tracking changes between various values between each time it is called by snmpd. Also make sure the path for pflogsumm is correct. 8: Run /etc/snmp/postfixdetailed to create the initial cache file so you don't end up with some crazy initial starting value. Please note that each time /etc/snmp/postfixdetailed is ran, the cache file is updated, so if this happens in between LibreNMS doing it then the values will be thrown off for that polling period. The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. NOTE: If using RHEL for your postfix server, qshape must be installed manually as it is not officially supported. CentOs 6 rpms seem to work without issues. Postgres SNMP Extend 1: Copy the shell script, postgres, to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/postgres -O /etc/snmp/postgres 2: Run chmod +x /etc/snmp/postgres 3: Edit your snmpd.conf file and add: extend postgres /etc/snmp/postgres 4: Restart snmpd on your host 5: Install the Nagios check check_postgres.pl on your system. 6: Verify the path to check_postgres.pl in /etc/snmp/postgres is correct. 7: If you wish it to ignore the database postgres for totalling up the stats, set ignorePG to 1(the default) in /etc/snmp/postgres. If you are using netdata or the like, you may wish to set this or otherwise that total will be very skewed on systems with light or moderate usage. The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. PowerDNS An authoritative DNS server: https://www.powerdns.com/auth.html SNMP Extend Agent Install the agent on this device if it isn't already and copy the powerdns script to /usr/lib/check_mk_agent/local/ PowerDNS Recursor A recursive DNS server: https://www.powerdns.com/recursor.html Direct The LibreNMS polling host must be able to connect to port 8082 on the monitored device. The web-server must be enabled, see the Recursor docs: https://doc.powerdns.com/md/recursor/settings/#webserver Variables $config['apps']['powerdns-recursor']['api-key'] required, this is defined in the Recursor config $config['apps']['powerdns-recursor']['port'] numeric, defines the port to connect to PowerDNS Recursor on. The default is 8082 $config['apps']['powerdns-recursor']['https'] true or false, defaults to use http. SNMP Extend 1: Copy the shell script, powerdns-recursor, to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/powerdns-recursor -O /etc/snmp/powerdns-recursor 2: Run chmod +x /etc/snmp/powerdns-recursor 3: Edit your snmpd.conf file and add: extend powerdns-recursor /etc/snmp/powerdns-recursor 4: Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. Agent Install the agent on this device if it isn't already and copy the powerdns-recursor script to /usr/lib/check_mk_agent/local/ This script uses rec_control get-all to collect stats. PowerDNS-dnsdist SNMP Extend Copy the BASH script to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/powerdns-dnsdist -O /etc/snmp/powerdns-dnsdist Make the script executable (chmod +x /etc/snmp/powerdns-dnsdist) Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend powerdns-dnsdist /etc/snmp/powerdns-dnsdist Restart snmpd on your host. The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. Proxmox For Proxmox 4.4+ install the libpve-apiclient-perl package apt install libpve-apiclient-perl Download the script onto the desired host (the host must be added to LibreNMS devices) wget https://raw.githubusercontent.com/librenms/librenms-agent/master/agent-local/proxmox -O /usr/local/bin/proxmox Run chmod +x /usr/local/bin/proxmox Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf ) and add: extend proxmox /usr/local/bin/proxmox Note: if your snmpd doesn't run as root, you might have to invoke the script using sudo and modify the \"extend\" line extend proxmox /usr/bin/sudo /usr/local/bin/proxmox after, edit your sudo users (usually visudo ) and add at the bottom: snmp ALL=(ALL) NOPASSWD: /usr/local/bin/proxmox Restart snmpd on your host Raspberry PI SNMP extend script to get your PI data into your host. SNMP Extend Download the script onto the desired host. wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/raspberry.sh -O /etc/snmp/raspberry.sh Make the script executable: chmod +x /etc/snmp/raspberry.sh Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf ) and add: extend raspberry /etc/snmp/raspberry.sh Edit your sudo users (usually visudo ) and add at the bottom: snmp ALL=(ALL) NOPASSWD: /etc/snmp/raspberry.sh, /usr/bin/vcgencmd* Note: If you are using Raspian, the default user is Debian-snmp . Change snmp above to Debian-snmp . You can verify the user snmpd is using with ps aux | grep snmpd Restart snmpd on PI host SMART SNMP Extend 1: Copy the Perl script, smart, to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/smart -O /etc/snmp/smart 2: Run chmod +x /etc/snmp/smart 3: Edit your snmpd.conf file and add: extend smart /etc/snmp/smart 4: You will also need to create the config file, which defaults to the same path as the script, but with .config appended. So if the script is located at /etc/snmp/smart, the config file will be /etc/snmp/smart.config. Alternatively you can also specific a config via -c. Anything starting with a # is comment. The format for variables is $variable=$value. Empty lines are ignored. Spaces and tabes at either the start or end of a line are ignored. Any line with out a = or # are treated as a disk. #This is a comment cache=/var/cache/smart smartctl=/usr/bin/env smartctl useSN=1 ada0 ada1 The variables are as below. cache = The path to the cache file to use. Default: /var/cache/smart smartctl = The path to use for smartctl. Default: /usr/bin/env smartctl useSN = If set to 1, it will use the disks SN for reporting instead of the device name. 1 is the default. 0 will use the device name. If you want to guess at the configuration, call it with -g and it will print out what it thinks it should be. This will result in a usable config, but may miss some less common disk devices. 5: Restart snmpd on your host If you have a large number of more than one or two disks on a system, you should consider adding this to cron. Also make sure the cache file is some place it can be written to. */3 * * * * /etc/snmp/smart -u If your snmp agent runs as user \"snmp\", edit your sudo users (usually visudo ) and add at the bottom: snmp ALL=(ALL) NOPASSWD: /etc/snmp/smart, /usr/sbin/smartctl and modify your snmpd.conf file accordingly: extend smart /usr/bin/sudo /etc/snmp/smart The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. If you set useSN to 1, it is worth noting that you will loose history(not able to access it from the web interface) for that device each time you change it. You will also need to run camcontrol or the like on said server to figure out what device actually corresponds with that serial number. Also if the system you are using uses non-static device naming based on bus information, it may be worthwhile just using the SN as the device ID is going to be irrelevant in that case. Squid SNMP Proxy 1: Enable SNMP for Squid like below, if you have not already, and restart it. acl snmppublic snmp_community public snmp_port 3401 snmp_access allow snmppublic localhost snmp_access deny all 2: Restart squid on your host. 3: Edit your snmpd.conf file and add, making sure you have the same community, host, and port as above: proxy -v 2c -c public 127.0.0.1:3401 1.3.6.1.4.1.3495 For more advanced information on Squid and SNMP or setting up proxying for net-snmp, please see the links below. http://wiki.squid-cache.org/Features/Snmp http://www.net-snmp.org/wiki/index.php/Snmpd_proxy TinyDNS aka djbdns Agent Install the agent on this device if it isn't already and copy the tinydns script to /usr/lib/check_mk_agent/local/ Note : We assume that you use DJB's Daemontools to start/stop tinydns. And that your tinydns instance is located in /service/dns , adjust this path if necessary. Replace your log 's run file, typically located in /service/dns/log/run with: #!/bin/sh exec setuidgid dnslog tinystats ./main/tinystats/ multilog t n3 s250000 ./main/ Create tinystats directory and chown: mkdir /service/dns/log/main/tinystats chown dnslog:nofiles /service/dns/log/main/tinystats Restart TinyDNS and Daemontools: /etc/init.d/svscan restart Note : Some say svc -t /service/dns is enough, on my install (Gentoo) it doesn't rehook the logging and I'm forced to restart it entirely. Unbound Unbound configuration: # Enable extended statistics. server: extended-statistics: yes statistics-cumulative: yes remote-control: control-enable: yes control-interface: 127.0.0.1 Restart your unbound after changing the configuration, verify it is working by running unbound-control stats . Option 1: SNMP Extend (Preferred and easiest method) 1: Copy the shell script, unbound, to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/unbound -O /etc/snmp/unbound 2: Run chmod +x /etc/snmp/unbound 3: Edit your snmpd.conf file and add: extend unbound /etc/snmp/unbound 4: Restart snmpd. The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. Option 2: Agent Install the agent on this device if it isn't already and copy the unbound.sh script to /usr/lib/check_mk_agent/local/ UPS-nut A small shell script that exports nut ups status. SNMP Extend Copy the ups nut to /etc/snmp/ on your host. Make the script executable (chmod +x /etc/snmp/ups-nut.sh) Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend ups-nut /etc/snmp/ups-nut.sh Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. UPS-apcups A small shell script that exports apcacess ups status. SNMP Extend Copy the ups apcups to /etc/snmp/ on your host. Run chmod +x /etc/snmp/ups-apcups.sh Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend ups-apcups /etc/snmp/ups-apcups.sh Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. SDFS info A small shell script that exportfs SDFS volume info. SNMP Extend Download the script onto the desired host (the host must be added to LibreNMS devices) wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/sdfsinfo -O /etc/snmp/sdfsinfo Make the script executable (chmod +x /etc/snmp/sdfsinfo) Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend sdfsinfo /etc/snmp/sdfsinfo Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. ZFS SNMP Extend zfs-linux requires python3 =python3.5. The installation steps are: Copy the polling script to the desired host (the host must be added to LibreNMS devices) Make the script executable Edit snmpd.conf to include ZFS stats FreeBSD wget https://github.com/librenms/librenms-agent/raw/master/snmp/zfs-freebsd -O /etc/snmp/zfs-freebsd chmod +x /etc/snmp/zfs-freebsd echo extend zfs /etc/snmp/zfs-freebsd /etc/snmp/snmpd.conf Linux wget https://github.com/librenms/librenms-agent/raw/master/snmp/zfs-linux -O /etc/snmp/zfs-linux chmod +x /etc/snmp/zfs-linux echo extend zfs /etc/snmp/zfs-linux /etc/snmp/snmpd.conf Now restart snmpd and you're all set.","title":"Applications"},{"location":"Extensions/Applications/#introduction","text":"You can use Application support to graph performance statistics of many applications. Different applications support a variety of ways to collect data: 1) by direct connection to the application, 2) snmpd extend, or 3) the agent . The monitoring of applications could be added before or after the hosts have been added to LibreNMS. If multiple methods of collection are listed you only need to enable one.","title":"Introduction"},{"location":"Extensions/Applications/#snmp-extend","text":"When using the snmp extend method, the application discovery module will pick up which applications you have set up for monitoring automatically, even if the device is already in LibreNMS. The application discovery module is enabled by default for most *nix operating systems, but in some cases you will need to manually enable the application discovery module.","title":"SNMP Extend"},{"location":"Extensions/Applications/#enable-the-application-discovery-module","text":"Edit the device for which you want to add this support Click on the Modules tab and enable the applications module. This will be automatically saved, and you should get a green confirmation pop-up message. After you have enabled the application module, it would be wise to then also enable which applications you want to monitor, in the rare case where LibreNMS does not automatically detect it. Note : Only do this if an application was not auto-discovered by LibreNMS during discovery and polling.","title":"Enable the application discovery module"},{"location":"Extensions/Applications/#enable-the-applications-to-be-discovered","text":"Go to the device you have just enabled the application module for. Click on the Applications tab and select the applications you want to monitor. This will also be automatically saved, and you should get a green confirmation pop-up message.","title":"Enable the application(s) to be discovered"},{"location":"Extensions/Applications/#agent","text":"The unix-agent does not have a discovery module, only a poller module. That poller module is always disabled by default. It needs to be manually enabled if using the agent. Some applications will be automatically enabled by the unix-agent poller module. It is better to ensure that your application is enabled for monitoring. You can check by following the steps under the SNMP Extend heading. Apache - SNMP extend, Agent Asterisk - SNMP extend BIND9/named - SNMP extend, Agent C.H.I.P. - SNMP extend DHCP Stats - SNMP extend Entropy - SNMP extend EXIM Stats - SNMP extend Fail2ban - SNMP extend FreeBSD NFS Client - SNMP extend FreeBSD NFS Server - SNMP extend FreeRADIUS - SNMP extend, Agent Freeswitch - SNMP extend, Agent GPSD - Agent Mailscanner - SNMP extend Memcached - SNMP extend Munin - Agent MySQL - SNMP extend, Agent NGINX - SNMP extend, Agent NFS Server - SNMP extend NTP Client - SNMP extend NTP Server/NTPD - SNMP extend Nvidia GPU - SNMP extend Open Grid Scheduler - SNMP extend OS Updates - SNMP extend PHP-FPM - SNMP extend Pi-hole - SNMP extend Postfix - SNMP extend Postgres - SNMP extend PowerDNS - Agent PowerDNS Recursor - Direct, SNMP extend, Agent PowerDNS dnsdist - SNMP extend Proxmox - SNMP extend Raspberry PI - SNMP extend SDFS info - SNMP extend SMART - SNMP extend Squid - SNMP proxy TinyDNS/djbdns - Agent Unbound - SNMP extend, Agent UPS-nut - SNMP extend UPS-apcups - SNMP extend ZFS - SNMP extend","title":"Agent"},{"location":"Extensions/Applications/#apache","text":"Either use SNMP extend or use the agent. Note that you need to install and configure the Apache mod_status module before trying the script.","title":"Apache"},{"location":"Extensions/Applications/#snmp-extend_1","text":"Download the script onto the desired host (the host must be added to LibreNMS devices) wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/apache-stats.py -O /etc/snmp/apache-stats.py Make the script executable (chmod +x /etc/snmp/apache-stats.py) Verify it is working by running /etc/snmp/apache-stats.py In some cases urlgrabber and pycurl needs to be installed, in Debian this can be achieved by: apt-get install python-urlgrabber python-pycurl Make sure to remove /tmp/apache-snmp afterwards. Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend apache /etc/snmp/apache-stats.py Restart snmpd on your host Test by running snmpwalk various options depending on your setup localhost NET-SNMP-EXTEND-MIB::nsExtendOutput2Table","title":"SNMP Extend"},{"location":"Extensions/Applications/#agent_1","text":"Install the agent on this device if it isn't already and copy the apache script to /usr/lib/check_mk_agent/local/ Verify it is working by running /usr/lib/check_mk_agent/local/apache (If you get error like \"Can't locate LWP/Simple.pm\". libwww-perl needs to be installed: apt-get install libwww-perl) On the device page in Librenms, edit your host and check the Apache under the Applications tab.","title":"Agent"},{"location":"Extensions/Applications/#asterisk","text":"A small shell script that reports various Asterisk call status.","title":"Asterisk"},{"location":"Extensions/Applications/#snmp-extend_2","text":"Copy the asterisk script to /etc/snmp/ on your asterisk server. Run chmod +x /etc/snmp/asterisk Configure ASCLI in the script. Verify it is working by running /etc/snmp/asterisk Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf ) and add: extend asterisk /etc/snmp/asterisk Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page.","title":"SNMP Extend"},{"location":"Extensions/Applications/#bind9-aka-named","text":"1: Create stats file with appropriate permissions: ~$ touch /var/run/named/stats ~$ chown bind:bind /var/run/named/stats Change user:group to the user and group that's running bind/named. 2: Bind/named configuration: options { ... statistics-file /var/run/named/stats ; zone-statistics yes; ... }; 3: Restart your bind9/named after changing the configuration. 4: Verify that everything works by executing rndc stats cat /var/run/named/stats . In case you get a Permission Denied error, make sure you changed the ownership correctly. 5: Also be aware that this file is appended to each time rndc stats is called. Given this it is suggested you setup file rotation for it. Alternatively you can also set zero_stats to 1 in the config. 6: The script for this also requires the Perl module File::ReadBackwards . FreeBSD = p5-File-ReadBackwards CentOS/RedHat = perl-File-ReadBackwards Debian/Ubuntu = libfile-readbackwards-perl If it is not available, it can be installed by cpan -i File::ReadBackwards . 7: You may possibly need to configure the agent/extend script as well. The config file's path defaults to the same path as the script, but with .config appended. So if the script is located at /etc/snmp/bind , the config file will be /etc/snmp/bind.config . Alternatively you can also specify a config via -c $file . Anything starting with a # is comment. The format for variables are $variable=$value. Empty lines are ignored. Spaces and tabs at either the start or end of a line are ignored. Content of an example /etc/snmp/bind.config . Please edit with your own settings. rndc = The path to rndc. Default: /usr/bin/env rndc call_rndc = A 0/1 boolean on whether or not to call rndc stats. Suggest to set to 0 if using netdata. Default: 1 stats_file = The path to the named stats file. Default: /var/run/named/stats agent = A 0/1 boolean for if this is being used as a LibreNMS agent or not. Default: 0 zero_stats = A 0/1 boolean for if the stats file should be zeroed first. Default: 0 (1 if guessed) If you want to guess at the configuration, call the script with -g and it will print out what it thinks it should be.","title":"BIND9 aka named"},{"location":"Extensions/Applications/#snmp-extend_3","text":"1: Copy the bind shell script, to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/bind -O /etc/snmp/bind 2: Make the script executable chmod +x /etc/snmp/bind 3: Edit your snmpd.conf file and add: extend bind /etc/snmp/bind 4: Restart snmpd on the host in question. The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page.","title":"SNMP Extend"},{"location":"Extensions/Applications/#agent_2","text":"1: Install the agent on this device if it isn't already and copy the script to /usr/lib/check_mk_agent/local/bind via wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/bind -O /usr/lib/check_mk_agent/local/bind 2: Run chmod +x /usr/lib/check_mk_agent/local/bind 3: Set the variable 'agent' to '1' in the config.","title":"Agent"},{"location":"Extensions/Applications/#chip","text":"C.H.I.P. is a $9 R8 based tiny computer ideal for small projects. Further details: https://getchip.com/pages/chip","title":"C.H.I.P"},{"location":"Extensions/Applications/#snmp-extend_4","text":"Copy the shell script to the desired host. wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/chip.sh -O /etc/snmp/power-stat.sh Run chmod +x /etc/snmp/power-stat.sh Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend power-stat /etc/snmp/power-stat.sh Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page.","title":"SNMP Extend"},{"location":"Extensions/Applications/#dhcp-stats","text":"A small shell script that reports current DHCP leases stats.","title":"DHCP Stats"},{"location":"Extensions/Applications/#snmp-extend_5","text":"Copy the shell script to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/dhcp-status.sh -O /etc/snmp/dhcp-status.sh Run chmod +x /etc/snmp/dhcp-status.sh Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend dhcpstats /etc/snmp/dhcp-status.sh Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page.","title":"SNMP Extend"},{"location":"Extensions/Applications/#entropy","text":"A small shell script that checks your system's available random entropy.","title":"Entropy"},{"location":"Extensions/Applications/#snmp-extend_6","text":"Download the script onto the desired host. wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/entropy.sh -O /etc/snmp/entropy.sh Run chmod +x /etc/snmp/entropy.sh Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend entropy /etc/snmp/entropy.sh Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page.","title":"SNMP Extend"},{"location":"Extensions/Applications/#exim-stats","text":"SNMP extend script to get your exim stats data into your host.","title":"EXIM Stats"},{"location":"Extensions/Applications/#snmp-extend_7","text":"Download the script onto the desired host. wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/exim-stats.sh -O /etc/snmp/exim-stats.sh Run chmod +x /etc/snmp/exim-stats.sh Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf ) and add: extend exim-stats /etc/snmp/exim-stats.sh If you are using sudo edit your sudo users (usually visudo ) and add at the bottom: snmp ALL=(ALL) NOPASSWD: /etc/snmp/exim-stats.sh, /usr/bin/exim* Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page.","title":"SNMP Extend"},{"location":"Extensions/Applications/#fail2ban","text":"","title":"Fail2ban"},{"location":"Extensions/Applications/#snmp-extend_8","text":"1: Copy the shell script, fail2ban, to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/fail2ban -O /etc/snmp/fail2ban 2: Run chmod +x /etc/snmp/fail2ban 3: Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend fail2ban /etc/snmp/fail2ban If you want to use the cache, it is as below, by using the -c switch. extend fail2ban /etc/snmp/fail2ban -c If you want to use the cache and update it if needed, this can by using the -c and -U switches. extend fail2ban /etc/snmp/fail2ban -c -U If you need to specify a custom location for the fail2ban-client, that can be done via the -f switch. If not specified, \"/usr/bin/env fail2ban-client\" is used. extend fail2ban /etc/snmp/fail2ban -f /foo/bin/fail2ban-client 5: Restart snmpd on your host 6: If you wish to use caching, add the following to /etc/crontab and restart cron. */3 * * * * root /etc/snmp/fail2ban -u 7: Restart or reload cron on your system. If you have more than a few jails configured, you may need to use caching as each jail needs to be polled and fail2ban-client can't do so in a timely manner for than a few. This can result in failure of other SNMP information being polled. For additional details of the switches, please see the POD in the script it self at the top.","title":"SNMP Extend"},{"location":"Extensions/Applications/#freebsd-nfs-client","text":"","title":"FreeBSD NFS Client"},{"location":"Extensions/Applications/#snmp-extend_9","text":"1: Copy the shell script, fbsdnfsserver, to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/fbsdnfsclient -O /etc/snmp/fbsdnfsclient 2: Run chmod +x /etc/snmp/fbsdnfsclient 3: Edit your snmpd.conf file and add: extend fbsdnfsclient /etc/snmp/fbsdnfsclient 4: Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page.","title":"SNMP Extend"},{"location":"Extensions/Applications/#freebsd-nfs-server","text":"","title":"FreeBSD NFS Server"},{"location":"Extensions/Applications/#snmp-extend_10","text":"1: Copy the shell script, fbsdnfsserver, to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/fbsdnfsserver -O /etc/snmp/fbsdnfsserver 2: Run chmod +x /etc/snmp/fbsdnfsserver 3: Edit your snmpd.conf file and add: extend fbsdnfsserver /etc/snmp/fbsdnfsserver 4: Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page.","title":"SNMP Extend"},{"location":"Extensions/Applications/#freeradius","text":"The FreeRADIUS application extension requires that status_server be enabled in your FreeRADIUS config. For more information see: https://wiki.freeradius.org/config/Status You should note that status requests increment the FreeRADIUS request stats. So LibreNMS polls will ultimately be reflected in your stats/charts. 1: Go to your FreeRADIUS configuration directory (usually /etc/raddb or /etc/freeradius). 2: cd sites-enabled 3: ln -s ../sites-available/status status 4: Restart FreeRADIUS. 5: You should be able to test with the radclient as follows... echo Message-Authenticator = 0x00, FreeRADIUS-Statistics-Type = 31, Response-Packet-Type = Access-Accept | \\ radclient -x localhost:18121 status adminsecret Note that adminsecret is the default secret key in status_server. Change if you've modified this.","title":"FreeRADIUS"},{"location":"Extensions/Applications/#snmp-extend_11","text":"1: Copy the freeradius shell script, to the desired host. wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/freeradius.sh -O /etc/snmp/freeradius.sh 2: Run chmod +x /etc/snmp/freeradius.sh 3: If you've made any changes to the FreeRADIUS status_server config (secret key, port, etc.) edit freeradius.sh and adjust the config variable accordingly. 4: Edit your snmpd.conf file and add: extend freeradius /etc/snmp/freeradius.sh 5: Restart snmpd on the host in question. The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page.","title":"SNMP Extend"},{"location":"Extensions/Applications/#agent_3","text":"1: Install the agent on this device if it isn't already and copy the script to /usr/lib/check_mk_agent/local/freeradius.sh via wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/freeradius.sh -O /usr/lib/check_mk_agent/local/freeradius.sh 2: Run chmod +x /usr/lib/check_mk_agent/local/freeradius.sh 3: If you've made any changes to the FreeRADIUS status_server config (secret key, port, etc.) edit freeradius.sh and adjust the config variable accordingly. 4: Edit the freeradius.sh script and set the variable 'AGENT' to '1' in the config.","title":"Agent"},{"location":"Extensions/Applications/#freeswitch","text":"A small shell script that reports various Freeswitch call status.","title":"Freeswitch"},{"location":"Extensions/Applications/#agent_4","text":"Install the agent on your Freeswitch server if it isn't already Copy the freeswitch script to /usr/lib/check_mk_agent/local/ Configure FSCLI in the script. You may also have to create an /etc/fs_cli.conf file if your fs_cli command requires authentication. Verify it is working by running /usr/lib/check_mk_agent/local/freeswitch","title":"Agent"},{"location":"Extensions/Applications/#snmp-extend_12","text":"Copy the freeswitch script to /etc/snmp/ on your Freeswitch server. Run chmod +x /etc/snmp/freeswitch Configure FSCLI in the script. You may also have to create an /etc/fs_cli.conf file if your fs_cli command requires authentication. Verify it is working by running /etc/snmp/freeswitch Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf ) and add: extend freeswitch /etc/snmp/freeswitch Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page.","title":"SNMP Extend"},{"location":"Extensions/Applications/#gpsd","text":"A small shell script that reports GPSD status.","title":"GPSD"},{"location":"Extensions/Applications/#agent_5","text":"Install the agent on this device if it isn't already and copy the gpsd script to /usr/lib/check_mk_agent/local/ You may need to configure $server or $port . Verify it is working by running /usr/lib/check_mk_agent/local/gpsd","title":"Agent"},{"location":"Extensions/Applications/#mailscanner","text":"","title":"Mailscanner"},{"location":"Extensions/Applications/#snmp-extend_13","text":"Download the script onto the desired host. wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/mailscanner.php -O /etc/snmp/mailscanner.php Run chmod +x /etc/snmp/mailscanner.php Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend mailscanner /etc/snmp/mailscanner.php Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page.","title":"SNMP Extend"},{"location":"Extensions/Applications/#memcached","text":"","title":"Memcached"},{"location":"Extensions/Applications/#snmp-extend_14","text":"Copy the memcached script to /etc/snmp/ on your remote server. wget https://raw.githubusercontent.com/librenms/librenms-agent/master/agent-local/memcached -O /etc/snmp/memcached Make the script executable: chmod +x /etc/snmp/memcached Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf ) and add: extend memcached /etc/snmp/memcached Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page.","title":"SNMP Extend"},{"location":"Extensions/Applications/#munin","text":"","title":"Munin"},{"location":"Extensions/Applications/#agent_6","text":"Install the script to your agent: wget https://raw.githubusercontent.com/librenms/librenms-agent/master/agent-local/munin -O /usr/lib/check_mk_agent/local/munin Make the script executable ( chmod +x /usr/lib/check_mk_agent/local/munin ) Create the munin scripts dir: mkdir -p /usr/share/munin/munin-scripts Install your munin scripts into the above directory. To create your own custom munin scripts, please see this example: #!/bin/bash if [ $1 = config ]; then echo 'graph_title Some title' echo 'graph_args --base 1000 -l 0' #not required echo 'graph_vlabel Some label' echo 'graph_scale no' #not required, can be yes/no echo 'graph_category system' #Choose something meaningful, can be anything echo 'graph_info This graph shows something awesome.' #Short desc echo 'foobar.label Label for your unit' # Repeat these two lines as much as you like echo 'foobar.info Desc for your unit.' exit 0 fi echo -n foobar.value $(date +%s) #Populate a value, here unix-timestamp","title":"Agent"},{"location":"Extensions/Applications/#mysql","text":"","title":"MySQL"},{"location":"Extensions/Applications/#agent_7","text":"Install the agent on this device if it isn't already and copy the mysql script to /usr/lib/check_mk_agent/local/ The MySQL script requires PHP-CLI and the PHP MySQL extension, so please verify those are installed. CentOS (May vary based on PHP version) yum install php-cli php-mysql Debian (May vary based on PHP version) apt-get install php5-cli php5-mysql Unlike most other scripts, the MySQL script requires a configuration file mysql.cnf in the same directory as the extend or agent script with following content: ?php $mysql_user = 'root'; $mysql_pass = 'toor'; $mysql_host = 'localhost'; $mysql_port = 3306; Verify it is working by running /usr/lib/check_mk_agent/local/mysql","title":"Agent"},{"location":"Extensions/Applications/#snmp-extend_15","text":"1: Copy the mysql script to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/mysql -O /etc/snmp/mysql 2: Run chmod +x /etc/snmp/mysql 3: Unlike most other scripts, the MySQL script requires a configuration file mysql.cnf in /etc/snmp/ with following content: ?php $mysql_user = 'root'; $mysql_pass = 'toor'; $mysql_host = 'localhost'; $mysql_port = 3306; 4: Edit your snmpd.conf file and add: extend mysql /etc/snmp/mysql 5: Restart snmpd. 6: Install the PHP CLI language and your MySQL module of choice for PHP. The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page.","title":"SNMP extend"},{"location":"Extensions/Applications/#nginx","text":"NGINX is a free, open-source, high-performance HTTP server: https://www.nginx.org/ It's required to have the following directive in your nginx configuration responsible for the localhost server: location /nginx-status { stub_status on; access_log off; allow 127.0.0.1; deny all; }","title":"NGINX"},{"location":"Extensions/Applications/#snmp-extend_16","text":"Download the script onto the desired host. wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/nginx -O /etc/snmp/nginx Run chmod +x /etc/snmp/nginx Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend nginx /etc/snmp/nginx Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page.","title":"SNMP Extend"},{"location":"Extensions/Applications/#agent_8","text":"Install the agent on this device if it isn't already and copy the nginx script to /usr/lib/check_mk_agent/local/","title":"Agent"},{"location":"Extensions/Applications/#nfs-server","text":"Export the NFS stats from as server.","title":"NFS Server"},{"location":"Extensions/Applications/#snmp-extend_17","text":"Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add : extend nfs-server /bin/cat /proc/net/rpc/nfsd note : find out where cat is located using : which cat reload snmpd service to activate the configuration","title":"SNMP Extend"},{"location":"Extensions/Applications/#ntp-client","text":"A shell script that gets stats from ntp client.","title":"NTP Client"},{"location":"Extensions/Applications/#snmp-extend_18","text":"Download the script onto the desired host. wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/ntp-client -O /etc/snmp/ntp-client Run chmod +x /etc/snmp/ntp-client Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend ntp-client /etc/snmp/ntp-client Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page.","title":"SNMP Extend"},{"location":"Extensions/Applications/#ntp-server-aka-ntpd","text":"A shell script that gets stats from ntp server (ntpd).","title":"NTP Server aka NTPD"},{"location":"Extensions/Applications/#snmp-extend_19","text":"Download the script onto the desired host. wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/ntp-server.sh -O /etc/snmp/ntp-server.sh Run chmod +x /etc/snmp/ntp-server.sh Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend ntp-server /etc/snmp/ntp-server.sh Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page.","title":"SNMP Extend"},{"location":"Extensions/Applications/#nvidia-gpu","text":"","title":"Nvidia GPU"},{"location":"Extensions/Applications/#snmp-extend_20","text":"1: Copy the shell script, nvidia, to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/nvidia -O /etc/snmp/nvidia 2: Run chmod +x /etc/snmp/nvidia 3: Edit your snmpd.conf file and add: extend nvidia /etc/snmp/nvidia 5: Restart snmpd on your host. 6: Verify you have nvidia-smi installed, which it generally should be if you have the driver from Nvida installed. The GPU numbering on the graphs will correspond to how the nvidia-smi sees them as being. For questions about what the various values are/mean, please see the nvidia-smi man file under the section covering dmon.","title":"SNMP Extend"},{"location":"Extensions/Applications/#open-grid-scheduler","text":"Shell script to track the OGS/GE jobs running on clusters.","title":"Open Grid Scheduler"},{"location":"Extensions/Applications/#snmp-extend_21","text":"Download the script onto the desired host. wget https://raw.githubusercontent.com/librenms/librenms-agent/master/agent-local/rocks.sh -O /etc/snmp/rocks.sh Run chmod +x /etc/snmp/rocks.sh Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend ogs /etc/snmp/rocks.sh Restart snmpd. The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page.","title":"SNMP Extend"},{"location":"Extensions/Applications/#os-updates","text":"A small shell script that checks your system package manager for any available updates. Supports apt-get/pacman/yum/zypper package managers). For pacman users automatically refreshing the database, it is recommended you use an alternative database location --dbpath=/var/lib/pacman/checkupdate","title":"OS Updates"},{"location":"Extensions/Applications/#snmp-extend_22","text":"Download the script onto the desired host. wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/osupdate -O /etc/snmp/osupdate Run chmod +x /etc/snmp/osupdate Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend osupdate /etc/snmp/osupdate Restart snmpd on your host Note : apt-get depends on an updated package index. There are several ways to have your system run apt-get update automatically. The easiest is to create /etc/apt/apt.conf.d/10periodic and pasting the following in it: APT::Periodic::Update-Package-Lists \"1\"; . If you have apticron, cron-apt or apt-listchanges installed and configured, chances are that packages are already updated periodically. The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page.","title":"SNMP Extend"},{"location":"Extensions/Applications/#php-fpm","text":"","title":"PHP-FPM"},{"location":"Extensions/Applications/#snmp-extend_23","text":"Copy the shell script, phpfpmsp, to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/phpfpmsp -O /etc/snmp/phpfpmsp Run chmod +x /etc/snmp/phpfpmsp Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend phpfpmsp /etc/snmp/phpfpmsp Edit /etc/snmp/phpfpmsp to include the status URL for the PHP-FPM pool you are monitoring. Restart snmpd on your host It is worth noting that this only monitors a single pool. If you want to monitor multiple pools, this won't do it. The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page.","title":"SNMP Extend"},{"location":"Extensions/Applications/#pi-hole","text":"","title":"Pi-hole"},{"location":"Extensions/Applications/#snmp-extend_24","text":"1: Copy the shell script, pi-hole, to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/pi-hole -O /etc/snmp/pi-hole 2: Run chmod +x /etc/snmp/pi-hole 3: Edit your snmpd.conf file and add: extend pi-hole /etc/snmp/pi-hole 4: To get all data you must get your API auth token from Pi-hole server and change the API_AUTH_KEY entry inside the snmp script. 5: Restard snmpd. The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page.","title":"SNMP Extend"},{"location":"Extensions/Applications/#postfix","text":"","title":"Postfix"},{"location":"Extensions/Applications/#snmp-extend_25","text":"1: Copy the shell script, postfix-queues, to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/postfix-queues -O /etc/snmp/postfix-queues 2: Copy the Perl script, postfixdetailed, to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/postfixdetailed -O /etc/snmp/postfixdetailed 3: Make both scripts executable. Run chmod +x /etc/snmp/postfixdetailed /etc/snmp/postfix-queues 4: Edit your snmpd.conf file and add: extend mailq /etc/snmp/postfix-queues extend postfixdetailed /etc/snmp/postfixdetailed 5: Restart snmpd. 6: Install pflogsumm for your OS. 7: Make sure the cache file in /etc/snmp/postfixdetailed is some place that snmpd can write too. This file is used for tracking changes between various values between each time it is called by snmpd. Also make sure the path for pflogsumm is correct. 8: Run /etc/snmp/postfixdetailed to create the initial cache file so you don't end up with some crazy initial starting value. Please note that each time /etc/snmp/postfixdetailed is ran, the cache file is updated, so if this happens in between LibreNMS doing it then the values will be thrown off for that polling period. The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. NOTE: If using RHEL for your postfix server, qshape must be installed manually as it is not officially supported. CentOs 6 rpms seem to work without issues.","title":"SNMP Extend"},{"location":"Extensions/Applications/#postgres","text":"","title":"Postgres"},{"location":"Extensions/Applications/#snmp-extend_26","text":"1: Copy the shell script, postgres, to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/postgres -O /etc/snmp/postgres 2: Run chmod +x /etc/snmp/postgres 3: Edit your snmpd.conf file and add: extend postgres /etc/snmp/postgres 4: Restart snmpd on your host 5: Install the Nagios check check_postgres.pl on your system. 6: Verify the path to check_postgres.pl in /etc/snmp/postgres is correct. 7: If you wish it to ignore the database postgres for totalling up the stats, set ignorePG to 1(the default) in /etc/snmp/postgres. If you are using netdata or the like, you may wish to set this or otherwise that total will be very skewed on systems with light or moderate usage. The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page.","title":"SNMP Extend"},{"location":"Extensions/Applications/#powerdns","text":"An authoritative DNS server: https://www.powerdns.com/auth.html","title":"PowerDNS"},{"location":"Extensions/Applications/#snmp-extend_27","text":"","title":"SNMP Extend"},{"location":"Extensions/Applications/#agent_9","text":"Install the agent on this device if it isn't already and copy the powerdns script to /usr/lib/check_mk_agent/local/","title":"Agent"},{"location":"Extensions/Applications/#powerdns-recursor","text":"A recursive DNS server: https://www.powerdns.com/recursor.html","title":"PowerDNS Recursor"},{"location":"Extensions/Applications/#direct","text":"The LibreNMS polling host must be able to connect to port 8082 on the monitored device. The web-server must be enabled, see the Recursor docs: https://doc.powerdns.com/md/recursor/settings/#webserver","title":"Direct"},{"location":"Extensions/Applications/#variables","text":"$config['apps']['powerdns-recursor']['api-key'] required, this is defined in the Recursor config $config['apps']['powerdns-recursor']['port'] numeric, defines the port to connect to PowerDNS Recursor on. The default is 8082 $config['apps']['powerdns-recursor']['https'] true or false, defaults to use http.","title":"Variables"},{"location":"Extensions/Applications/#snmp-extend_28","text":"1: Copy the shell script, powerdns-recursor, to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/powerdns-recursor -O /etc/snmp/powerdns-recursor 2: Run chmod +x /etc/snmp/powerdns-recursor 3: Edit your snmpd.conf file and add: extend powerdns-recursor /etc/snmp/powerdns-recursor 4: Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page.","title":"SNMP Extend"},{"location":"Extensions/Applications/#agent_10","text":"Install the agent on this device if it isn't already and copy the powerdns-recursor script to /usr/lib/check_mk_agent/local/ This script uses rec_control get-all to collect stats.","title":"Agent"},{"location":"Extensions/Applications/#powerdns-dnsdist","text":"","title":"PowerDNS-dnsdist"},{"location":"Extensions/Applications/#snmp-extend_29","text":"Copy the BASH script to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/powerdns-dnsdist -O /etc/snmp/powerdns-dnsdist Make the script executable (chmod +x /etc/snmp/powerdns-dnsdist) Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend powerdns-dnsdist /etc/snmp/powerdns-dnsdist Restart snmpd on your host. The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page.","title":"SNMP Extend"},{"location":"Extensions/Applications/#proxmox","text":"For Proxmox 4.4+ install the libpve-apiclient-perl package apt install libpve-apiclient-perl Download the script onto the desired host (the host must be added to LibreNMS devices) wget https://raw.githubusercontent.com/librenms/librenms-agent/master/agent-local/proxmox -O /usr/local/bin/proxmox Run chmod +x /usr/local/bin/proxmox Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf ) and add: extend proxmox /usr/local/bin/proxmox Note: if your snmpd doesn't run as root, you might have to invoke the script using sudo and modify the \"extend\" line extend proxmox /usr/bin/sudo /usr/local/bin/proxmox after, edit your sudo users (usually visudo ) and add at the bottom: snmp ALL=(ALL) NOPASSWD: /usr/local/bin/proxmox Restart snmpd on your host","title":"Proxmox"},{"location":"Extensions/Applications/#raspberry-pi","text":"SNMP extend script to get your PI data into your host.","title":"Raspberry PI"},{"location":"Extensions/Applications/#snmp-extend_30","text":"Download the script onto the desired host. wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/raspberry.sh -O /etc/snmp/raspberry.sh Make the script executable: chmod +x /etc/snmp/raspberry.sh Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf ) and add: extend raspberry /etc/snmp/raspberry.sh Edit your sudo users (usually visudo ) and add at the bottom: snmp ALL=(ALL) NOPASSWD: /etc/snmp/raspberry.sh, /usr/bin/vcgencmd* Note: If you are using Raspian, the default user is Debian-snmp . Change snmp above to Debian-snmp . You can verify the user snmpd is using with ps aux | grep snmpd Restart snmpd on PI host","title":"SNMP Extend"},{"location":"Extensions/Applications/#smart","text":"","title":"SMART"},{"location":"Extensions/Applications/#snmp-extend_31","text":"1: Copy the Perl script, smart, to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/smart -O /etc/snmp/smart 2: Run chmod +x /etc/snmp/smart 3: Edit your snmpd.conf file and add: extend smart /etc/snmp/smart 4: You will also need to create the config file, which defaults to the same path as the script, but with .config appended. So if the script is located at /etc/snmp/smart, the config file will be /etc/snmp/smart.config. Alternatively you can also specific a config via -c. Anything starting with a # is comment. The format for variables is $variable=$value. Empty lines are ignored. Spaces and tabes at either the start or end of a line are ignored. Any line with out a = or # are treated as a disk. #This is a comment cache=/var/cache/smart smartctl=/usr/bin/env smartctl useSN=1 ada0 ada1 The variables are as below. cache = The path to the cache file to use. Default: /var/cache/smart smartctl = The path to use for smartctl. Default: /usr/bin/env smartctl useSN = If set to 1, it will use the disks SN for reporting instead of the device name. 1 is the default. 0 will use the device name. If you want to guess at the configuration, call it with -g and it will print out what it thinks it should be. This will result in a usable config, but may miss some less common disk devices. 5: Restart snmpd on your host If you have a large number of more than one or two disks on a system, you should consider adding this to cron. Also make sure the cache file is some place it can be written to. */3 * * * * /etc/snmp/smart -u If your snmp agent runs as user \"snmp\", edit your sudo users (usually visudo ) and add at the bottom: snmp ALL=(ALL) NOPASSWD: /etc/snmp/smart, /usr/sbin/smartctl and modify your snmpd.conf file accordingly: extend smart /usr/bin/sudo /etc/snmp/smart The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page. If you set useSN to 1, it is worth noting that you will loose history(not able to access it from the web interface) for that device each time you change it. You will also need to run camcontrol or the like on said server to figure out what device actually corresponds with that serial number. Also if the system you are using uses non-static device naming based on bus information, it may be worthwhile just using the SN as the device ID is going to be irrelevant in that case.","title":"SNMP Extend"},{"location":"Extensions/Applications/#squid","text":"","title":"Squid"},{"location":"Extensions/Applications/#snmp-proxy","text":"1: Enable SNMP for Squid like below, if you have not already, and restart it. acl snmppublic snmp_community public snmp_port 3401 snmp_access allow snmppublic localhost snmp_access deny all 2: Restart squid on your host. 3: Edit your snmpd.conf file and add, making sure you have the same community, host, and port as above: proxy -v 2c -c public 127.0.0.1:3401 1.3.6.1.4.1.3495 For more advanced information on Squid and SNMP or setting up proxying for net-snmp, please see the links below. http://wiki.squid-cache.org/Features/Snmp http://www.net-snmp.org/wiki/index.php/Snmpd_proxy","title":"SNMP Proxy"},{"location":"Extensions/Applications/#tinydns-aka-djbdns","text":"","title":"TinyDNS aka  djbdns"},{"location":"Extensions/Applications/#agent_11","text":"Install the agent on this device if it isn't already and copy the tinydns script to /usr/lib/check_mk_agent/local/ Note : We assume that you use DJB's Daemontools to start/stop tinydns. And that your tinydns instance is located in /service/dns , adjust this path if necessary. Replace your log 's run file, typically located in /service/dns/log/run with: #!/bin/sh exec setuidgid dnslog tinystats ./main/tinystats/ multilog t n3 s250000 ./main/ Create tinystats directory and chown: mkdir /service/dns/log/main/tinystats chown dnslog:nofiles /service/dns/log/main/tinystats Restart TinyDNS and Daemontools: /etc/init.d/svscan restart Note : Some say svc -t /service/dns is enough, on my install (Gentoo) it doesn't rehook the logging and I'm forced to restart it entirely.","title":"Agent"},{"location":"Extensions/Applications/#unbound","text":"Unbound configuration: # Enable extended statistics. server: extended-statistics: yes statistics-cumulative: yes remote-control: control-enable: yes control-interface: 127.0.0.1 Restart your unbound after changing the configuration, verify it is working by running unbound-control stats .","title":"Unbound"},{"location":"Extensions/Applications/#option-1-snmp-extend-preferred-and-easiest-method","text":"1: Copy the shell script, unbound, to the desired host. wget https://github.com/librenms/librenms-agent/raw/master/snmp/unbound -O /etc/snmp/unbound 2: Run chmod +x /etc/snmp/unbound 3: Edit your snmpd.conf file and add: extend unbound /etc/snmp/unbound 4: Restart snmpd. The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page.","title":"Option 1: SNMP Extend (Preferred and easiest method)"},{"location":"Extensions/Applications/#option-2-agent","text":"Install the agent on this device if it isn't already and copy the unbound.sh script to /usr/lib/check_mk_agent/local/","title":"Option 2: Agent"},{"location":"Extensions/Applications/#ups-nut","text":"A small shell script that exports nut ups status.","title":"UPS-nut"},{"location":"Extensions/Applications/#snmp-extend_32","text":"Copy the ups nut to /etc/snmp/ on your host. Make the script executable (chmod +x /etc/snmp/ups-nut.sh) Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend ups-nut /etc/snmp/ups-nut.sh Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page.","title":"SNMP Extend"},{"location":"Extensions/Applications/#ups-apcups","text":"A small shell script that exports apcacess ups status.","title":"UPS-apcups"},{"location":"Extensions/Applications/#snmp-extend_33","text":"Copy the ups apcups to /etc/snmp/ on your host. Run chmod +x /etc/snmp/ups-apcups.sh Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend ups-apcups /etc/snmp/ups-apcups.sh Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page.","title":"SNMP Extend"},{"location":"Extensions/Applications/#sdfs-info","text":"A small shell script that exportfs SDFS volume info.","title":"SDFS info"},{"location":"Extensions/Applications/#snmp-extend_34","text":"Download the script onto the desired host (the host must be added to LibreNMS devices) wget https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/sdfsinfo -O /etc/snmp/sdfsinfo Make the script executable (chmod +x /etc/snmp/sdfsinfo) Edit your snmpd.conf file (usually /etc/snmp/snmpd.conf) and add: extend sdfsinfo /etc/snmp/sdfsinfo Restart snmpd on your host The application should be auto-discovered as described at the top of the page. If it is not, please follow the steps set out under SNMP Extend heading top of page.","title":"SNMP Extend"},{"location":"Extensions/Applications/#zfs","text":"","title":"ZFS"},{"location":"Extensions/Applications/#snmp-extend_35","text":"zfs-linux requires python3 =python3.5. The installation steps are: Copy the polling script to the desired host (the host must be added to LibreNMS devices) Make the script executable Edit snmpd.conf to include ZFS stats","title":"SNMP Extend"},{"location":"Extensions/Applications/#freebsd","text":"wget https://github.com/librenms/librenms-agent/raw/master/snmp/zfs-freebsd -O /etc/snmp/zfs-freebsd chmod +x /etc/snmp/zfs-freebsd echo extend zfs /etc/snmp/zfs-freebsd /etc/snmp/snmpd.conf","title":"FreeBSD"},{"location":"Extensions/Applications/#linux","text":"wget https://github.com/librenms/librenms-agent/raw/master/snmp/zfs-linux -O /etc/snmp/zfs-linux chmod +x /etc/snmp/zfs-linux echo extend zfs /etc/snmp/zfs-linux /etc/snmp/snmpd.conf Now restart snmpd and you're all set.","title":"Linux"},{"location":"Extensions/Authentication/","text":"Authentication modules LibreNMS supports multiple authentication modules along with Two Factor Auth . Here we will provide configuration details for these modules. Available authentication modules MySQL: mysql Active Directory: active_directory LDAP: ldap Radius: radius HTTP Auth: http-auth , ad_authorization , ldap_authorization Single Sign-on: sso Enable authentication module To enable a particular authentication module you need to set this up in config.php. $config['auth_mechanism'] = mysql ; User levels and User account type 1: Normal User : You will need to assign device / port permissions for users at this level. 5: Global Read : Read only Administrator. 10: Administartor : This is a global read/write admin account. 11: Demo Account : Provides full read/write with certain restrictions (i.e can't delete devices). Note Oxidized configs can often contain sensitive data. Because of that only Administrator account type can see configs. Note for SELinux users When using SELinux on the LibreNMS server, you need to allow Apache (httpd) to connect LDAP/Active Directory server, this is disabled by default. You can use SELinux Booleans to allow network access to LDAP resources with this command: setsebool -P httpd_can_connect_ldap=1 Testing authentication You can test authentication with this script: ./scripts/auth_test.php Enable debug output to troubleshoot issues MySQL Authentication Config option: mysql This is default option with LibreNMS so you should have already have the configuration setup. $config['db_host'] = HOSTNAME ; $config['db_user'] = DBUSER ; $config['db_pass'] = DBPASS ; $config['db_name'] = DBNAME ; Active Directory Authentication Config option: active_directory Install php_ldap or php7.0-ldap , making sure to install the same version as PHP. If you have issues with secure LDAP try setting $config['auth_ad_check_certificates'] to 0 , this will ignore certificate errors. Require actual membership of the configured groups If you set $config['auth_ad_require_groupmembership'] to 1, the authenticated user has to be a member of the specific group. Otherwise all users can authenticate, and will be either level 0 or you may set $config['auth_ad_global_read'] to 1 and all users will have read only access unless otherwise specified. Old account cleanup Cleanup of old accounts is done by checking the authlog. You will need to set the number of days when old accounts will be purged AUTOMATICALLY by daily.sh. Please ensure that you set the $config['authlog_purge'] value to be greater than $config['active_directory']['users_purge'] otherwise old users won't be removed. Sample configuration $config['auth_mechanism'] = 'active_directory'; $config['auth_ad_url'] = 'ldaps://server.example.com'; // Set server(s), space separated. Prefix with ldaps:// for ssl $config['auth_ad_domain'] = 'example.com'; $config['auth_ad_base_dn'] = 'dc=example,dc=com'; // groups and users must be under this dn $config['auth_ad_check_certificates'] = true; // require a valid ssl certificate $config['auth_ad_binduser'] = 'examplebinduser'; // bind user (non-admin) $config['auth_ad_bindpassword'] = 'examplepassword'; // bind password $config['auth_ad_timeout'] = 5; // time to wait before giving up (or trying the next server) $config['auth_ad_debug'] = false; // enable for verbose debug messages $config['active_directory']['users_purge'] = 30; // purge users who haven't logged in for 30 days. $config['auth_ad_require_groupmembership'] = true; // false: allow all users to auth level 0 $config['auth_ad_groups']['ad-admingroup']['level'] = 10; // set the AD AdminGroup group to admin level $config['auth_ad_groups']['ad-usergroup']['level'] = 5; // set the AD UserGroup group to global read only level Replace ad-admingroup with your Active Directory admin-user group and ad-usergroup with your standard user group. It is highly suggested to create a bind user, otherwise \"remember me\", alerting users, and the API will not work. Active Directory redundancy You can set two Active Directory servers by editing the $config['auth_ad_url'] like this example: $config['auth_ad_url'] = ldaps://dc1.example.com ldaps://dc2.example.com ; Active Directory LDAP filters You can add an LDAP filter to be ANDed with the builtin user filter ( (sAMAccountName=$username) ). The defaults are: $config['auth_ad_user_filter'] = (objectclass=user) ; $config['auth_ad_group_filter'] = (objectclass=group) ; This yields ( (objectclass=user)(sAMAccountName=$username)) for the user filter and ( (objectclass=group)(sAMAccountName=$group)) for the group filter. LDAP Authentication Config option: ldap Install php_ldap or php7.0-ldap , making sure to install the same version as PHP. Standard config $config['auth_mechanism'] = 'ldap'; $config['auth_ldap_server'] = 'ldap.example.com'; // Set server(s), space separated. Prefix with ldaps:// for ssl $config['auth_ldap_suffix'] = ',ou=People,dc=example,dc=com'; // appended to usernames $config['auth_ldap_groupbase'] = 'ou=groups,dc=example,dc=com'; // all groups must be inside this $config['auth_ldap_groups']['admin']['level'] = 10; // set admin group to admin level $config['auth_ldap_groups']['pfy']['level'] = 5; // set pfy group to global read only level $config['auth_ldap_groups']['support']['level'] = 1; // set support group as a normal user Additional options (usually not needed): $config['auth_ldap_version'] = 3; # v2 or v3 $config['auth_ldap_port'] = 389; // 389 or 636 for ssl $config['auth_ldap_starttls'] = True; // Enable TLS on port 389 $config['auth_ldap_prefix'] = 'uid='; // prepended to usernames $config['auth_ldap_group'] = 'cn=groupname,ou=groups,dc=example,dc=com'; // generic group with level 0 $config['auth_ldap_groupmemberattr'] = 'memberUid'; // attribute to use to see if a user is a member of a group $config['auth_ldap_uid_attribute'] = 'uidnumber'; // attribute for unique id $config['auth_ldap_debug'] = false; // enable for verbose debug messages $config['auth_ldap_userdn'] = true; // Uses a users full DN as the value of the member attribute in a group instead of member: username. (it\u2019s member: uid=username,ou=groups,dc=domain,dc=com) LDAP bind user (optional) If your ldap server does not allow anonymous bind, it is highly suggested to create a bind user, otherwise \"remember me\", alerting users, and the API will not work. $config['auth_ldap_binduser'] = 'ldapbind'; // will use auth_ldap_prefix and auth_ldap_suffix #$config['auth_ldap_binddn'] = 'CN=John.Smith,CN=Users,DC=MyDomain,DC=com'; // overrides binduser $config['auth_ldap_bindpassword'] = 'password'; LDAP server redundancy You can set two LDAP servers by editing the $config['auth_ldap_server'] like this example: $config['auth_ldap_server'] = ldaps://dir1.example.com ldaps://dir2.example.com ; An example config setup for use with Jumpcloud LDAP as a service is: $config['auth_mechanism'] = ldap ; $config['auth_ldap_version'] = 3; $config['auth_ldap_server'] = ldap.jumpcloud.com ; $config['auth_ldap_port'] = 389; $config['auth_ldap_prefix'] = uid= ; $config['auth_ldap_suffix'] = ,ou=Users,o={id},dc=jumpcloud,dc=com ; $config['auth_ldap_groupbase'] = cn=librenms,ou=Users,o={id},dc=jumpcloud,dc=com ; $config['auth_ldap_groupmemberattr'] = memberUid ; $config['auth_ldap_groups']['librenms']['level'] = 10; Replace {id} with the unique ID provided by Jumpcloud. Radius Authentication Please note that a mysql user is created for each user the logs in successfully. User level 1 is assigned to those accounts so you will then need to assign the relevant permissions unless you set $config['radius']['userlevel'] to be something other than 1. $config['radius']['hostname'] = 'localhost'; $config['radius']['port'] = '1812'; $config['radius']['secret'] = 'testing123'; $config['radius']['timeout'] = 3; $config['radius']['users_purge'] = 14;//Purge users who haven't logged in for 14 days. $config['radius']['default_level'] = 1;//Set the default user level when automatically creating a user. Old account cleanup Cleanup of old accounts is done by checking the authlog. You will need to set the number of days when old accounts will be purged AUTOMATICALLY by daily.sh. Please ensure that you set the $config['authlog_purge'] value to be greater than $config['radius']['users_purge'] otherwise old users won't be removed. HTTP Authentication Config option: http-auth LibreNMS will expect the user to have authenticated via your webservice already. At this stage it will need to assign a userlevel for that user which is done in one of two ways: A user exists in MySQL still where the usernames match up. A global guest user (which still needs to be added into MySQL: $config['http_auth_guest'] = guest ; This will then assign the userlevel for guest to all authenticated users. HTTP Authentication / AD Authorization Config option: ad-authorization This module is a combination of http-auth and active directory _ LibreNMS will expect the user to have authenticated via your webservice already (e.g. using Kerberos Authentication in Apache) but will use Active Directory lookups to determine and assign the userlevel of a user. The userlevel will be calculated by using AD group membership information as the active directory _ module does. The configuration is the same as for the active directory _ module with two extra, optional options: auth_ad_binduser and auth_ad_bindpassword. These should be set to a AD user with read capabilities in your AD Domain in order to be able to perform searches. If these options are omitted, the module will attempt an anonymous bind (which then of course must be allowed by your Active Directory server(s)). There is also one extra option for controlling user information caching: auth_ldap_cache_ttl. This option allows to control how long user information (user_exists, userid, userlevel) are cached within the PHP Session. The default value is 300 seconds. To disable this caching (highly discourage) set this option to 0. $config['auth_ad_binduser'] = ad_binduser ; $config['auth_ad_bindpassword'] = ad_bindpassword ; $config['auth_ldap_cache_ttl'] = 300; HTTP Authentication / LDAP Authorization Config option: ldap-authorization This module is a combination of http-auth and ldap LibreNMS will expect the user to have authenticated via your webservice already (e.g. using Kerberos Authentication in Apache) but will use LDAP to determine and assign the userlevel of a user. The userlevel will be calculated by using LDAP group membership information as the ldap module does. The configuration is the same as for the ldap module with one extra option: auth_ldap_cache_ttl. This option allows to control how long user information (user_exists, userid, userlevel) are cached within the PHP Session. The default value is 300 seconds. To disabled this caching (highly discourage) set this option to 0. $config['auth_ldap_cache_ttl'] = 300; View/embedded graphs without being logged into LibreNMS $config['allow_unauth_graphs_cidr'] = array('127.0.0.1/32'); $config['allow_unauth_graphs'] = true; Single Sign-on The single sign-on mechanism is used to integrate with third party authentication providers that are managed outside of LibreNMS - such as ADFS, Shibboleth, EZProxy, BeyondCorp, and others. A large number of these methods use SAML - the module has been written assuming the use of SAML, and therefore these instructions contain some SAML terminology, but it should be possible to use any software that works in a similar way. In order to make use of the single sign-on module, you need to have an Identity Provider up and running, and know how to configure your Relying Party to pass attributes to LibreNMS via header injection or environment variables. Setting these up is outside of the scope of this documentation. As this module deals with authentication, it is extremely careful about validating the configuration - if it finds that certain values in the configuration are not set, it will reject access rather than try and guess. Basic Configuration To get up and running, all you need to do is configure the following values: $config['auth_mechanism'] = sso ; $config['sso']['mode'] = env ; $config['sso']['group_strategy'] = static ; $config['sso']['static_level'] = 10; This, along with the defaults, sets up a basic Single Sign-on setup that: Reads values from environment variables Automatically creates users when they're first seen Authomatically updates users with new values Gives everyone privilege level 10 This happens to mimic the behaviour of http-auth , so if this is the kind of setup you want, you're probably better of just going and using that mechanism. Security If there is a proxy involved (e.g. EZProxy, Azure AD Application Proxy, NGINX, mod_proxy) it's essential that you have some means in place to prevent headers being injected between the proxy and the end user, and also prevent end users from contacting LibreNMS directly. This should also apply to user connections to the proxy itself - the proxy must not be allowed to blindly pass through HTTP headers. mod security _ should be considered a minimum, with a full WAF being strongly recommended. This advice applies to the IDP too. The mechanism includes very basic protection, in the form of an IP whitelist with should contain the source addresses of your proxies: $config['sso']['trusted_proxies'] = ['127.0.0.1/8', '::1/128', '192.0.2.0', '2001:DB8::']; This configuration item should contain an array with a list of IP addresses or CIDR prefixes that are allowed to connect to LibreNMS and supply environment variables or headers. Advanced Configuration Options User Attribute If for some reason your relying party doesn't store the username in REMOTE USER _, you can override this choice. $config['sso']['user_attr'] = 'HTTP_UID'; Note that the user lookup is a little special - normally headers are prefixed with HTTP_ , however this is not the case for remote user - it's a special case. If you're using something different you need to figure out of the HTTP_ prefix is required or not yourself. Automatic User Create/Update These are enabled by default: $config['sso']['create_users'] = true; $config['sso']['update_users'] = true; If these are not enabled, user logins will be (somewhat silently) rejected unless an administrator has created the account in advance. Note that in the case of SAML federations, unless release of the users true identity has been negotiated with the IDP, the username (probably ePTID) is not likely to be predicable. Personalisation If the attributes are being populated, you can instruct the mechanism to add additional information to the user's database entry: $config['sso']['email_attr'] = mail ; $config['sso']['realname_attr'] = displayName ; $config['sso']['descr_attr'] = unscoped-affiliation Group Strategies Static As used above, static gives every single user the same privilege level. If you're working with a small team, or don't need access control, this is probably suitable. Attribute $config['sso']['group_strategy'] = attribute ; $config['sso']['level_attr'] = entitlement ; If your Relying Party is capable of calculating the necessary privilege level, you can configure the module to read the privilege number straight from an attribute. sso level_attr should contain the name of the attribute that the Relying Party exposes to LibreNMS - as long as sso mode is correctly set, the mechanism should find the value. Group Map This is the most flexible (and complex) way of assigning privileges. $config['sso']['group_strategy'] = map ; $config['sso']['group_attr'] = member ; $config['sso']['group_level_map'] = ['librenms-admins' = 10, 'librenms-readers' = 1, 'librenms-billingcontacts' = 5]; $config['sso']['group_delimiter'] = ';'; The mechanism expects to find a delimited list of groups within the attribute that sso group_attr _ points to. This should be an associative array of group name keys, with privilege levels as values. The mechanism will scan the list and find the highest privilege level that the user is entitled to, and assign that value to the user. This format may be specific to Shibboleth; other relying party software may need changes to the mechanism (e.g. mod auth_mellon _ may create pseudo arrays). There is an optional value for sites with large numbers of groups: $config['sso']['group_filter'] = /librenms-(.*)/i ; This filter causes the mechanism to only consider groups matching a regular expression. Logout Behaviour LibreNMS has no capability to log out a user authenticated via Single Sign-On - that responsability falls to the Relying Party. If your Relying Party has a magic URL that needs to be called to end a session, you can configure LibreNMS to direct the user to it: $config['post_logout_action'] = '/Shibboleth.sso/Logout'; This option functions independantly of the Single Sign-on mechanism. Complete Configuration This configuration works on my deployment with a Shibboleth relying party, injecting environment variables, with the IDP supplying a list of groups. $config['auth_mechanism'] = 'sso'; $config['auth_logout_handler'] = '/Shibboleth.sso/Logout'; $config['sso']['mode'] = 'env'; $config['sso']['create_users'] = true; $config['sso']['update_users'] = true; $config['sso']['realname_attr'] = 'displayName'; $config['sso']['email_attr'] = 'mail'; $config['sso']['group_strategy'] = 'map'; $config['sso']['group_attr'] = 'member'; $config['sso']['group_filter'] = '/(librenms-.*)/i'; $config['sso']['group_delimiter'] = ';'; $config['sso']['group_level_map'] = ['librenms-demo' = 11, 'librenms-globaladmin' = 10, 'librenms-globalread' = 5, 'librenms-lowpriv'= 1];","title":"Authentication Options"},{"location":"Extensions/Authentication/#authentication-modules","text":"LibreNMS supports multiple authentication modules along with Two Factor Auth . Here we will provide configuration details for these modules.","title":"Authentication modules"},{"location":"Extensions/Authentication/#available-authentication-modules","text":"MySQL: mysql Active Directory: active_directory LDAP: ldap Radius: radius HTTP Auth: http-auth , ad_authorization , ldap_authorization Single Sign-on: sso","title":"Available authentication modules"},{"location":"Extensions/Authentication/#enable-authentication-module","text":"To enable a particular authentication module you need to set this up in config.php. $config['auth_mechanism'] = mysql ;","title":"Enable authentication module"},{"location":"Extensions/Authentication/#user-levels-and-user-account-type","text":"1: Normal User : You will need to assign device / port permissions for users at this level. 5: Global Read : Read only Administrator. 10: Administartor : This is a global read/write admin account. 11: Demo Account : Provides full read/write with certain restrictions (i.e can't delete devices). Note Oxidized configs can often contain sensitive data. Because of that only Administrator account type can see configs.","title":"User levels and User account type"},{"location":"Extensions/Authentication/#note-for-selinux-users","text":"When using SELinux on the LibreNMS server, you need to allow Apache (httpd) to connect LDAP/Active Directory server, this is disabled by default. You can use SELinux Booleans to allow network access to LDAP resources with this command: setsebool -P httpd_can_connect_ldap=1","title":"Note for SELinux users"},{"location":"Extensions/Authentication/#testing-authentication","text":"You can test authentication with this script: ./scripts/auth_test.php Enable debug output to troubleshoot issues","title":"Testing authentication"},{"location":"Extensions/Authentication/#mysql-authentication","text":"Config option: mysql This is default option with LibreNMS so you should have already have the configuration setup. $config['db_host'] = HOSTNAME ; $config['db_user'] = DBUSER ; $config['db_pass'] = DBPASS ; $config['db_name'] = DBNAME ;","title":"MySQL Authentication"},{"location":"Extensions/Authentication/#active-directory-authentication","text":"Config option: active_directory Install php_ldap or php7.0-ldap , making sure to install the same version as PHP. If you have issues with secure LDAP try setting $config['auth_ad_check_certificates'] to 0 , this will ignore certificate errors.","title":"Active Directory Authentication"},{"location":"Extensions/Authentication/#require-actual-membership-of-the-configured-groups","text":"If you set $config['auth_ad_require_groupmembership'] to 1, the authenticated user has to be a member of the specific group. Otherwise all users can authenticate, and will be either level 0 or you may set $config['auth_ad_global_read'] to 1 and all users will have read only access unless otherwise specified.","title":"Require actual membership of the configured groups"},{"location":"Extensions/Authentication/#old-account-cleanup","text":"Cleanup of old accounts is done by checking the authlog. You will need to set the number of days when old accounts will be purged AUTOMATICALLY by daily.sh. Please ensure that you set the $config['authlog_purge'] value to be greater than $config['active_directory']['users_purge'] otherwise old users won't be removed.","title":"Old account cleanup"},{"location":"Extensions/Authentication/#sample-configuration","text":"$config['auth_mechanism'] = 'active_directory'; $config['auth_ad_url'] = 'ldaps://server.example.com'; // Set server(s), space separated. Prefix with ldaps:// for ssl $config['auth_ad_domain'] = 'example.com'; $config['auth_ad_base_dn'] = 'dc=example,dc=com'; // groups and users must be under this dn $config['auth_ad_check_certificates'] = true; // require a valid ssl certificate $config['auth_ad_binduser'] = 'examplebinduser'; // bind user (non-admin) $config['auth_ad_bindpassword'] = 'examplepassword'; // bind password $config['auth_ad_timeout'] = 5; // time to wait before giving up (or trying the next server) $config['auth_ad_debug'] = false; // enable for verbose debug messages $config['active_directory']['users_purge'] = 30; // purge users who haven't logged in for 30 days. $config['auth_ad_require_groupmembership'] = true; // false: allow all users to auth level 0 $config['auth_ad_groups']['ad-admingroup']['level'] = 10; // set the AD AdminGroup group to admin level $config['auth_ad_groups']['ad-usergroup']['level'] = 5; // set the AD UserGroup group to global read only level Replace ad-admingroup with your Active Directory admin-user group and ad-usergroup with your standard user group. It is highly suggested to create a bind user, otherwise \"remember me\", alerting users, and the API will not work.","title":"Sample configuration"},{"location":"Extensions/Authentication/#active-directory-redundancy","text":"You can set two Active Directory servers by editing the $config['auth_ad_url'] like this example: $config['auth_ad_url'] = ldaps://dc1.example.com ldaps://dc2.example.com ;","title":"Active Directory redundancy"},{"location":"Extensions/Authentication/#active-directory-ldap-filters","text":"You can add an LDAP filter to be ANDed with the builtin user filter ( (sAMAccountName=$username) ). The defaults are: $config['auth_ad_user_filter'] = (objectclass=user) ; $config['auth_ad_group_filter'] = (objectclass=group) ; This yields ( (objectclass=user)(sAMAccountName=$username)) for the user filter and ( (objectclass=group)(sAMAccountName=$group)) for the group filter.","title":"Active Directory LDAP filters"},{"location":"Extensions/Authentication/#ldap-authentication","text":"Config option: ldap Install php_ldap or php7.0-ldap , making sure to install the same version as PHP.","title":"LDAP Authentication"},{"location":"Extensions/Authentication/#standard-config","text":"$config['auth_mechanism'] = 'ldap'; $config['auth_ldap_server'] = 'ldap.example.com'; // Set server(s), space separated. Prefix with ldaps:// for ssl $config['auth_ldap_suffix'] = ',ou=People,dc=example,dc=com'; // appended to usernames $config['auth_ldap_groupbase'] = 'ou=groups,dc=example,dc=com'; // all groups must be inside this $config['auth_ldap_groups']['admin']['level'] = 10; // set admin group to admin level $config['auth_ldap_groups']['pfy']['level'] = 5; // set pfy group to global read only level $config['auth_ldap_groups']['support']['level'] = 1; // set support group as a normal user","title":"Standard config"},{"location":"Extensions/Authentication/#additional-options-usually-not-needed","text":"$config['auth_ldap_version'] = 3; # v2 or v3 $config['auth_ldap_port'] = 389; // 389 or 636 for ssl $config['auth_ldap_starttls'] = True; // Enable TLS on port 389 $config['auth_ldap_prefix'] = 'uid='; // prepended to usernames $config['auth_ldap_group'] = 'cn=groupname,ou=groups,dc=example,dc=com'; // generic group with level 0 $config['auth_ldap_groupmemberattr'] = 'memberUid'; // attribute to use to see if a user is a member of a group $config['auth_ldap_uid_attribute'] = 'uidnumber'; // attribute for unique id $config['auth_ldap_debug'] = false; // enable for verbose debug messages $config['auth_ldap_userdn'] = true; // Uses a users full DN as the value of the member attribute in a group instead of member: username. (it\u2019s member: uid=username,ou=groups,dc=domain,dc=com)","title":"Additional options (usually not needed):"},{"location":"Extensions/Authentication/#ldap-bind-user-optional","text":"If your ldap server does not allow anonymous bind, it is highly suggested to create a bind user, otherwise \"remember me\", alerting users, and the API will not work. $config['auth_ldap_binduser'] = 'ldapbind'; // will use auth_ldap_prefix and auth_ldap_suffix #$config['auth_ldap_binddn'] = 'CN=John.Smith,CN=Users,DC=MyDomain,DC=com'; // overrides binduser $config['auth_ldap_bindpassword'] = 'password';","title":"LDAP bind user (optional)"},{"location":"Extensions/Authentication/#ldap-server-redundancy","text":"You can set two LDAP servers by editing the $config['auth_ldap_server'] like this example: $config['auth_ldap_server'] = ldaps://dir1.example.com ldaps://dir2.example.com ; An example config setup for use with Jumpcloud LDAP as a service is: $config['auth_mechanism'] = ldap ; $config['auth_ldap_version'] = 3; $config['auth_ldap_server'] = ldap.jumpcloud.com ; $config['auth_ldap_port'] = 389; $config['auth_ldap_prefix'] = uid= ; $config['auth_ldap_suffix'] = ,ou=Users,o={id},dc=jumpcloud,dc=com ; $config['auth_ldap_groupbase'] = cn=librenms,ou=Users,o={id},dc=jumpcloud,dc=com ; $config['auth_ldap_groupmemberattr'] = memberUid ; $config['auth_ldap_groups']['librenms']['level'] = 10; Replace {id} with the unique ID provided by Jumpcloud.","title":"LDAP server redundancy"},{"location":"Extensions/Authentication/#radius-authentication","text":"Please note that a mysql user is created for each user the logs in successfully. User level 1 is assigned to those accounts so you will then need to assign the relevant permissions unless you set $config['radius']['userlevel'] to be something other than 1. $config['radius']['hostname'] = 'localhost'; $config['radius']['port'] = '1812'; $config['radius']['secret'] = 'testing123'; $config['radius']['timeout'] = 3; $config['radius']['users_purge'] = 14;//Purge users who haven't logged in for 14 days. $config['radius']['default_level'] = 1;//Set the default user level when automatically creating a user.","title":"Radius Authentication"},{"location":"Extensions/Authentication/#old-account-cleanup_1","text":"Cleanup of old accounts is done by checking the authlog. You will need to set the number of days when old accounts will be purged AUTOMATICALLY by daily.sh. Please ensure that you set the $config['authlog_purge'] value to be greater than $config['radius']['users_purge'] otherwise old users won't be removed.","title":"Old account cleanup"},{"location":"Extensions/Authentication/#http-authentication","text":"Config option: http-auth LibreNMS will expect the user to have authenticated via your webservice already. At this stage it will need to assign a userlevel for that user which is done in one of two ways: A user exists in MySQL still where the usernames match up. A global guest user (which still needs to be added into MySQL: $config['http_auth_guest'] = guest ; This will then assign the userlevel for guest to all authenticated users.","title":"HTTP Authentication"},{"location":"Extensions/Authentication/#http-authentication-ad-authorization","text":"Config option: ad-authorization This module is a combination of http-auth and active directory _ LibreNMS will expect the user to have authenticated via your webservice already (e.g. using Kerberos Authentication in Apache) but will use Active Directory lookups to determine and assign the userlevel of a user. The userlevel will be calculated by using AD group membership information as the active directory _ module does. The configuration is the same as for the active directory _ module with two extra, optional options: auth_ad_binduser and auth_ad_bindpassword. These should be set to a AD user with read capabilities in your AD Domain in order to be able to perform searches. If these options are omitted, the module will attempt an anonymous bind (which then of course must be allowed by your Active Directory server(s)). There is also one extra option for controlling user information caching: auth_ldap_cache_ttl. This option allows to control how long user information (user_exists, userid, userlevel) are cached within the PHP Session. The default value is 300 seconds. To disable this caching (highly discourage) set this option to 0. $config['auth_ad_binduser'] = ad_binduser ; $config['auth_ad_bindpassword'] = ad_bindpassword ; $config['auth_ldap_cache_ttl'] = 300;","title":"HTTP Authentication / AD Authorization"},{"location":"Extensions/Authentication/#http-authentication-ldap-authorization","text":"Config option: ldap-authorization This module is a combination of http-auth and ldap LibreNMS will expect the user to have authenticated via your webservice already (e.g. using Kerberos Authentication in Apache) but will use LDAP to determine and assign the userlevel of a user. The userlevel will be calculated by using LDAP group membership information as the ldap module does. The configuration is the same as for the ldap module with one extra option: auth_ldap_cache_ttl. This option allows to control how long user information (user_exists, userid, userlevel) are cached within the PHP Session. The default value is 300 seconds. To disabled this caching (highly discourage) set this option to 0. $config['auth_ldap_cache_ttl'] = 300;","title":"HTTP Authentication / LDAP Authorization"},{"location":"Extensions/Authentication/#viewembedded-graphs-without-being-logged-into-librenms","text":"$config['allow_unauth_graphs_cidr'] = array('127.0.0.1/32'); $config['allow_unauth_graphs'] = true;","title":"View/embedded graphs without being logged into LibreNMS"},{"location":"Extensions/Authentication/#single-sign-on","text":"The single sign-on mechanism is used to integrate with third party authentication providers that are managed outside of LibreNMS - such as ADFS, Shibboleth, EZProxy, BeyondCorp, and others. A large number of these methods use SAML - the module has been written assuming the use of SAML, and therefore these instructions contain some SAML terminology, but it should be possible to use any software that works in a similar way. In order to make use of the single sign-on module, you need to have an Identity Provider up and running, and know how to configure your Relying Party to pass attributes to LibreNMS via header injection or environment variables. Setting these up is outside of the scope of this documentation. As this module deals with authentication, it is extremely careful about validating the configuration - if it finds that certain values in the configuration are not set, it will reject access rather than try and guess.","title":"Single Sign-on"},{"location":"Extensions/Authentication/#basic-configuration","text":"To get up and running, all you need to do is configure the following values: $config['auth_mechanism'] = sso ; $config['sso']['mode'] = env ; $config['sso']['group_strategy'] = static ; $config['sso']['static_level'] = 10; This, along with the defaults, sets up a basic Single Sign-on setup that: Reads values from environment variables Automatically creates users when they're first seen Authomatically updates users with new values Gives everyone privilege level 10 This happens to mimic the behaviour of http-auth , so if this is the kind of setup you want, you're probably better of just going and using that mechanism.","title":"Basic Configuration"},{"location":"Extensions/Authentication/#security","text":"If there is a proxy involved (e.g. EZProxy, Azure AD Application Proxy, NGINX, mod_proxy) it's essential that you have some means in place to prevent headers being injected between the proxy and the end user, and also prevent end users from contacting LibreNMS directly. This should also apply to user connections to the proxy itself - the proxy must not be allowed to blindly pass through HTTP headers. mod security _ should be considered a minimum, with a full WAF being strongly recommended. This advice applies to the IDP too. The mechanism includes very basic protection, in the form of an IP whitelist with should contain the source addresses of your proxies: $config['sso']['trusted_proxies'] = ['127.0.0.1/8', '::1/128', '192.0.2.0', '2001:DB8::']; This configuration item should contain an array with a list of IP addresses or CIDR prefixes that are allowed to connect to LibreNMS and supply environment variables or headers.","title":"Security"},{"location":"Extensions/Authentication/#advanced-configuration-options","text":"","title":"Advanced Configuration Options"},{"location":"Extensions/Authentication/#user-attribute","text":"If for some reason your relying party doesn't store the username in REMOTE USER _, you can override this choice. $config['sso']['user_attr'] = 'HTTP_UID'; Note that the user lookup is a little special - normally headers are prefixed with HTTP_ , however this is not the case for remote user - it's a special case. If you're using something different you need to figure out of the HTTP_ prefix is required or not yourself.","title":"User Attribute"},{"location":"Extensions/Authentication/#automatic-user-createupdate","text":"These are enabled by default: $config['sso']['create_users'] = true; $config['sso']['update_users'] = true; If these are not enabled, user logins will be (somewhat silently) rejected unless an administrator has created the account in advance. Note that in the case of SAML federations, unless release of the users true identity has been negotiated with the IDP, the username (probably ePTID) is not likely to be predicable.","title":"Automatic User Create/Update"},{"location":"Extensions/Authentication/#personalisation","text":"If the attributes are being populated, you can instruct the mechanism to add additional information to the user's database entry: $config['sso']['email_attr'] = mail ; $config['sso']['realname_attr'] = displayName ; $config['sso']['descr_attr'] = unscoped-affiliation","title":"Personalisation"},{"location":"Extensions/Authentication/#group-strategies","text":"","title":"Group Strategies"},{"location":"Extensions/Authentication/#static","text":"As used above, static gives every single user the same privilege level. If you're working with a small team, or don't need access control, this is probably suitable.","title":"Static"},{"location":"Extensions/Authentication/#attribute","text":"$config['sso']['group_strategy'] = attribute ; $config['sso']['level_attr'] = entitlement ; If your Relying Party is capable of calculating the necessary privilege level, you can configure the module to read the privilege number straight from an attribute. sso level_attr should contain the name of the attribute that the Relying Party exposes to LibreNMS - as long as sso mode is correctly set, the mechanism should find the value.","title":"Attribute"},{"location":"Extensions/Authentication/#group-map","text":"This is the most flexible (and complex) way of assigning privileges. $config['sso']['group_strategy'] = map ; $config['sso']['group_attr'] = member ; $config['sso']['group_level_map'] = ['librenms-admins' = 10, 'librenms-readers' = 1, 'librenms-billingcontacts' = 5]; $config['sso']['group_delimiter'] = ';'; The mechanism expects to find a delimited list of groups within the attribute that sso group_attr _ points to. This should be an associative array of group name keys, with privilege levels as values. The mechanism will scan the list and find the highest privilege level that the user is entitled to, and assign that value to the user. This format may be specific to Shibboleth; other relying party software may need changes to the mechanism (e.g. mod auth_mellon _ may create pseudo arrays). There is an optional value for sites with large numbers of groups: $config['sso']['group_filter'] = /librenms-(.*)/i ; This filter causes the mechanism to only consider groups matching a regular expression.","title":"Group Map"},{"location":"Extensions/Authentication/#logout-behaviour","text":"LibreNMS has no capability to log out a user authenticated via Single Sign-On - that responsability falls to the Relying Party. If your Relying Party has a magic URL that needs to be called to end a session, you can configure LibreNMS to direct the user to it: $config['post_logout_action'] = '/Shibboleth.sso/Logout'; This option functions independantly of the Single Sign-on mechanism.","title":"Logout Behaviour"},{"location":"Extensions/Authentication/#complete-configuration","text":"This configuration works on my deployment with a Shibboleth relying party, injecting environment variables, with the IDP supplying a list of groups. $config['auth_mechanism'] = 'sso'; $config['auth_logout_handler'] = '/Shibboleth.sso/Logout'; $config['sso']['mode'] = 'env'; $config['sso']['create_users'] = true; $config['sso']['update_users'] = true; $config['sso']['realname_attr'] = 'displayName'; $config['sso']['email_attr'] = 'mail'; $config['sso']['group_strategy'] = 'map'; $config['sso']['group_attr'] = 'member'; $config['sso']['group_filter'] = '/(librenms-.*)/i'; $config['sso']['group_delimiter'] = ';'; $config['sso']['group_level_map'] = ['librenms-demo' = 11, 'librenms-globaladmin' = 10, 'librenms-globalread' = 5, 'librenms-lowpriv'= 1];","title":"Complete Configuration"},{"location":"Extensions/Auto-Discovery/","text":"Auto Discovery Support Getting Started LibreNMS provides the ability to automatically add devices on your network, we can do this via a few methods which will be explained below and also indicate if they are enabled by default. All discovery methods run when discovery runs (every 6 hours by default and within 5 minutes for new devices). Please note that you need at least ONE device added before auto-discovery will work. The first thing to do though is add the required configuration options to config.php . SNMP Details To add devices automatically we need to know your snmp details, examples of SNMP v1, v2c and v3 are below: // v1 or v2c $config['snmp']['community'][] = my_custom_community ; $config['snmp']['community'][] = another_community ; // v3 $config['snmp']['v3'][0]['authlevel'] = 'authPriv'; $config['snmp']['v3'][0]['authname'] = 'my_username'; $config['snmp']['v3'][0]['authpass'] = 'my_password'; $config['snmp']['v3'][0]['authalgo'] = 'MD5'; $config['snmp']['v3'][0]['cryptopass'] = 'my_crypto'; $config['snmp']['v3'][0]['cryptoalgo'] = 'AES'; These details will be attempted when adding devices, you can specify any mixture of these. Allowed Networks Your Networks To add devices, we need to know what are your subnets so we don't go blindly attempting to add devices not under your control. $config['nets'][] = '192.168.0.0/24'; $config['nets'][] = '172.2.4.0/22'; Exclusions If you have added a network as above but a single device exists within it that you can't auto add, then you can exclude this with the following: $config['autodiscovery']['nets-exclude'][] = '192.168.0.1/32'; Additional Options Discovering devices by IP By default we don't add devices by IP address, we look for a reverse dns name to be found and add with that. If this fails and you would like to still add devices automatically then you will need to set $config['discovery_by_ip'] = true; Short hostnames If your devices only return a short hostname such as lax-fa0-dc01 but the full name should be lax-fa0-dc01.example.com then you can set $config['mydomain'] = 'example.com'; Allow Duplicate sysName By default we require unique sysNames when adding devices (this is returned over snmp by your devices). If you would like to allow devices to be added with duplicate sysNames then please set $config['allow_duplicate_sysName'] = true; . Discovery Methods Below are the methods for auto discovering devices. Each one can be enabled or disabled and may have additional configuration options. ARP Disabled by default. Adds devices that are listed in another device's arp table. This module depends on the arp-table module being enabled and returning data. To enable, switch on globally the $config['discovery_modules']['discovery-arp'] = true; or per device within the Modules section. XDP Enabled by default. $config['autodiscovery']['xdp'] = false; to disable. This includes FDP, CDP and LLDP support based on the device type. Devices may be excluded from xdp discovery by sysName and sysDescr. //Exclude devices by name $config['autodiscovery']['xdp_exclude']['sysname_regexp'][] = '/host1/'; $config['autodiscovery']['xdp_exclude']['sysname_regexp'][] = '/^dev/'; //Exclude devices by description $config['autodiscovery']['xdp_exclude']['sysdesc_regexp'][] = '/Vendor X/'; $config['autodiscovery']['xdp_exclude']['sysdesc_regexp'][] = '/Vendor Y/'; Devices may be excluded from cdp discovery by platform. //Exclude devices by platform(Cisco only) $config['autodiscovery']['cdp_exclude']['platform_regexp'][] = '/WS-C3750G/'; These devices are excluded by default: $config['autodiscovery']['xdp_exclude']['sysdesc_regexp'][] = '/-K9W8-/'; // Cisco Lightweight Access Point $config['autodiscovery']['cdp_exclude']['platform_regexp'][] = '/^Cisco IP Phone/'; //Cisco IP Phone OSPF Enabled by default. $config['autodiscovery']['ospf'] = false; to disable. BGP Enabled by default. $config['autodiscovery']['bgp'] = false; to disable. This module is invoked from bgp-peers discovery module. SNMP Scan Apart from the aforementioned Auto-Discovery options, LibreNMS is also able to proactively scan a network for SNMP-enabled devices using the configured version/credentials. SNMP Scan will scan $config['nets'] by default and respects $config['autodiscovery']['nets-exclude'] . To run the SNMP-Scanner you need to execute the snmp-scan.py from within your LibreNMS installation directory. Here the script's help-page for reference: usage: snmp-scan.py [-h] [-r NETWORK] [-t THREADS] [-l] [-v] Scan network for snmp hosts and add them to LibreNMS. optional arguments: -h, --help show this help message and exit -r NETWORK CIDR noted IP-Range to scan. Can be specified multiple times This argument is only required if $config['nets'] is not set Example: 192.168.0.0/24 Example: 192.168.0.0/31 will be treated as an RFC3021 p-t-p network with two addresses, 192.168.0.0 and 192.168.0.1 Example: 192.168.0.1/32 will be treated as a single host address -t THREADS How many IPs to scan at a time. More will increase the scan speed, but could overload your system. Default: 32 -l, --legend Print the legend. -v, --verbose Show debug output. Specifying multiple times increases the verbosity.","title":"Auto-discovery Setup"},{"location":"Extensions/Auto-Discovery/#auto-discovery-support","text":"","title":"Auto Discovery Support"},{"location":"Extensions/Auto-Discovery/#getting-started","text":"LibreNMS provides the ability to automatically add devices on your network, we can do this via a few methods which will be explained below and also indicate if they are enabled by default. All discovery methods run when discovery runs (every 6 hours by default and within 5 minutes for new devices). Please note that you need at least ONE device added before auto-discovery will work. The first thing to do though is add the required configuration options to config.php .","title":"Getting Started"},{"location":"Extensions/Auto-Discovery/#snmp-details","text":"To add devices automatically we need to know your snmp details, examples of SNMP v1, v2c and v3 are below: // v1 or v2c $config['snmp']['community'][] = my_custom_community ; $config['snmp']['community'][] = another_community ; // v3 $config['snmp']['v3'][0]['authlevel'] = 'authPriv'; $config['snmp']['v3'][0]['authname'] = 'my_username'; $config['snmp']['v3'][0]['authpass'] = 'my_password'; $config['snmp']['v3'][0]['authalgo'] = 'MD5'; $config['snmp']['v3'][0]['cryptopass'] = 'my_crypto'; $config['snmp']['v3'][0]['cryptoalgo'] = 'AES'; These details will be attempted when adding devices, you can specify any mixture of these.","title":"SNMP Details"},{"location":"Extensions/Auto-Discovery/#allowed-networks","text":"","title":"Allowed Networks"},{"location":"Extensions/Auto-Discovery/#your-networks","text":"To add devices, we need to know what are your subnets so we don't go blindly attempting to add devices not under your control. $config['nets'][] = '192.168.0.0/24'; $config['nets'][] = '172.2.4.0/22';","title":"Your Networks"},{"location":"Extensions/Auto-Discovery/#exclusions","text":"If you have added a network as above but a single device exists within it that you can't auto add, then you can exclude this with the following: $config['autodiscovery']['nets-exclude'][] = '192.168.0.1/32';","title":"Exclusions"},{"location":"Extensions/Auto-Discovery/#additional-options","text":"","title":"Additional Options"},{"location":"Extensions/Auto-Discovery/#discovering-devices-by-ip","text":"By default we don't add devices by IP address, we look for a reverse dns name to be found and add with that. If this fails and you would like to still add devices automatically then you will need to set $config['discovery_by_ip'] = true;","title":"Discovering devices by IP"},{"location":"Extensions/Auto-Discovery/#short-hostnames","text":"If your devices only return a short hostname such as lax-fa0-dc01 but the full name should be lax-fa0-dc01.example.com then you can set $config['mydomain'] = 'example.com';","title":"Short hostnames"},{"location":"Extensions/Auto-Discovery/#allow-duplicate-sysname","text":"By default we require unique sysNames when adding devices (this is returned over snmp by your devices). If you would like to allow devices to be added with duplicate sysNames then please set $config['allow_duplicate_sysName'] = true; .","title":"Allow Duplicate sysName"},{"location":"Extensions/Auto-Discovery/#discovery-methods","text":"Below are the methods for auto discovering devices. Each one can be enabled or disabled and may have additional configuration options.","title":"Discovery Methods"},{"location":"Extensions/Auto-Discovery/#arp","text":"Disabled by default. Adds devices that are listed in another device's arp table. This module depends on the arp-table module being enabled and returning data. To enable, switch on globally the $config['discovery_modules']['discovery-arp'] = true; or per device within the Modules section.","title":"ARP"},{"location":"Extensions/Auto-Discovery/#xdp","text":"Enabled by default. $config['autodiscovery']['xdp'] = false; to disable. This includes FDP, CDP and LLDP support based on the device type. Devices may be excluded from xdp discovery by sysName and sysDescr. //Exclude devices by name $config['autodiscovery']['xdp_exclude']['sysname_regexp'][] = '/host1/'; $config['autodiscovery']['xdp_exclude']['sysname_regexp'][] = '/^dev/'; //Exclude devices by description $config['autodiscovery']['xdp_exclude']['sysdesc_regexp'][] = '/Vendor X/'; $config['autodiscovery']['xdp_exclude']['sysdesc_regexp'][] = '/Vendor Y/'; Devices may be excluded from cdp discovery by platform. //Exclude devices by platform(Cisco only) $config['autodiscovery']['cdp_exclude']['platform_regexp'][] = '/WS-C3750G/'; These devices are excluded by default: $config['autodiscovery']['xdp_exclude']['sysdesc_regexp'][] = '/-K9W8-/'; // Cisco Lightweight Access Point $config['autodiscovery']['cdp_exclude']['platform_regexp'][] = '/^Cisco IP Phone/'; //Cisco IP Phone","title":"XDP"},{"location":"Extensions/Auto-Discovery/#ospf","text":"Enabled by default. $config['autodiscovery']['ospf'] = false; to disable.","title":"OSPF"},{"location":"Extensions/Auto-Discovery/#bgp","text":"Enabled by default. $config['autodiscovery']['bgp'] = false; to disable. This module is invoked from bgp-peers discovery module.","title":"BGP"},{"location":"Extensions/Auto-Discovery/#snmp-scan","text":"Apart from the aforementioned Auto-Discovery options, LibreNMS is also able to proactively scan a network for SNMP-enabled devices using the configured version/credentials. SNMP Scan will scan $config['nets'] by default and respects $config['autodiscovery']['nets-exclude'] . To run the SNMP-Scanner you need to execute the snmp-scan.py from within your LibreNMS installation directory. Here the script's help-page for reference: usage: snmp-scan.py [-h] [-r NETWORK] [-t THREADS] [-l] [-v] Scan network for snmp hosts and add them to LibreNMS. optional arguments: -h, --help show this help message and exit -r NETWORK CIDR noted IP-Range to scan. Can be specified multiple times This argument is only required if $config['nets'] is not set Example: 192.168.0.0/24 Example: 192.168.0.0/31 will be treated as an RFC3021 p-t-p network with two addresses, 192.168.0.0 and 192.168.0.1 Example: 192.168.0.1/32 will be treated as a single host address -t THREADS How many IPs to scan at a time. More will increase the scan speed, but could overload your system. Default: 32 -l, --legend Print the legend. -v, --verbose Show debug output. Specifying multiple times increases the verbosity.","title":"SNMP Scan"},{"location":"Extensions/Billing-Module/","text":"Billing Module With the billing module you can create a bill, assign a quota to it and add ports to it. It then tracks the ports usage and shows you the usage in the bill, including any overage. Accounting by both total transferred data and 95th percentile is supported. To enable and use the billing module you need to perform the following steps: Edit config.php and add (or enable) the following line near the end of the config $config['enable_billing'] = 1; # Enable Billing Edit /etc/cron.d/librenms and add the following: */5 * * * * librenms /opt/librenms/poll-billing.php /dev/null 2 1 01 * * * * librenms /opt/librenms/billing-calculate.php /dev/null 2 1 Create billing graphs as required. Options Billing data is stored in the MySQL database, and you may wish to purge the detailed stats for old data (per-month totals will always be kept). To enable this, add the following to config.php : $config['billing_data_purge'] = 12; // Number of months to retain Data for the last complete billing cycle will always be retained - only data older than this by the configured number of months will be removed. This task is performed in the daily cleanup tasks.","title":"Billing Module"},{"location":"Extensions/Billing-Module/#billing-module","text":"With the billing module you can create a bill, assign a quota to it and add ports to it. It then tracks the ports usage and shows you the usage in the bill, including any overage. Accounting by both total transferred data and 95th percentile is supported. To enable and use the billing module you need to perform the following steps: Edit config.php and add (or enable) the following line near the end of the config $config['enable_billing'] = 1; # Enable Billing Edit /etc/cron.d/librenms and add the following: */5 * * * * librenms /opt/librenms/poll-billing.php /dev/null 2 1 01 * * * * librenms /opt/librenms/billing-calculate.php /dev/null 2 1 Create billing graphs as required.","title":"Billing Module"},{"location":"Extensions/Billing-Module/#options","text":"Billing data is stored in the MySQL database, and you may wish to purge the detailed stats for old data (per-month totals will always be kept). To enable this, add the following to config.php : $config['billing_data_purge'] = 12; // Number of months to retain Data for the last complete billing cycle will always be retained - only data older than this by the configured number of months will be removed. This task is performed in the daily cleanup tasks.","title":"Options"},{"location":"Extensions/Component/","text":"About The Component extension provides a generic database storage mechanism for discovery and poller modules. The Driver behind this extension was to provide the features of ports, in a generic manner to discovery/poller modules. It provides a status (Nagios convention), the ability to Disable (do not poll), or Ignore (do not Alert). Database Structure The database structure contains the component table: mysql select * from component limit 1; +----+-----------+------+------------+--------+----------+--------+-------+ | id | device_id | type | label | status | disabled | ignore | error | +----+-----------+------+------------+--------+----------+--------+-------+ | 9 | 1 | TEST | TEST LABEL | 0 | 1 | 1 | | +----+-----------+------+------------+--------+----------+--------+-------+ 1 row in set (0.00 sec) These fields are described below: id - ID for each component, unique index device_id - device_id from the devices table type - name from the component_type table label - Display label for the component status - The status of the component, retrieved from the device disabled - Should this component be polled? ignore - Should this component be alerted on error - Error message if in Alert state The component_prefs table holds custom data in an Attribute/Value format: mysql select * from component_prefs limit 1; +----+-----------+-----------+-----------+ | id | component | attribute | value | +----+-----------+-----------+-----------+ | 4 | 9 | TEST_ATTR | TEST_ATTR | +----+-----------+-----------+-----------+ 2 rows in set (0.00 sec) Reserved Fields When this data from both the component and component_prefs tables is returned in one single consolidated array, there is the potential for someone to attempt to set an attribute (in the component_prefs ) table that is used in the component table. Because of this all fields of the component table are reserved, they cannot be used as custom attributes, if you update these the module will attempt to write them to the component table, not the component_prefs table. Using Components Create an instance of the component class: $COMPONENT = new LibreNMS\\Component(); Retrieving Components Now you can retrieve an array of the available components: $ARRAY = $COMPONENT- getComponents($DEVICE_ID, $OPTIONS); getComponents takes 2 arguments: DEVICE_ID or null for all devices. OPTIONS - an array of various options. getComponents will return an array containing components in the following format: Array ( [X] = Array ( [Y1] = Array ( [device_id] = 1 [TEST_ATTR] = TEST_ATTR [type] = TEST [label] = TEST LABEL [status] = 0 [ignore] = 1 [disabled] = 1 [error] = ), [Y2] = Array ( [device_id] = 1 [TEST_ATTR] = TEST_ATTR [type] = TESTING [label] = TEST LABEL [status] = 0 [ignore] = 1 [disabled] = 0 [error] = ), ) ) Where X is the Device ID and Y1/Y2 is the Component ID. In the example above, TEST_ATTR is a custom field, the rest are reserved fields. Options Options can be supplied to getComponents to influence which and how components are returned. Filtering You can filter on any of the reserved fields. Filters are created in the following format: $options['filter']['FIELD'] = array ('OPERATOR', 'CRITERIA'); Where: FIELD - The reserved field to filter on OPERATOR - 'LIKE' or '=', are we checking if the FIELD equals or contains the CRITERIA. CRITERIA - The criteria to search on There are 2 filtering shortcuts: $DEVICE_ID is a synonym for: $OPTIONS['filter']['device_id'] = array ('=', $DEVICE_ID); $OPTIONS['type'] = $TYPE is a synonym for: $OPTIONS['filter']['type'] = array ('=', $TYPE); Sorting You can sort the records that are returned by specifying the following option: $OPTIONS['sort'][FIELD] = 'DIRECTION'; Where Direction is one of: ASC - Ascending, from Low to High DESC - Descending, from High to Low Creating Components To create a new component, run the createComponent function. $ARRAY = $COMPONENT- createComponent($DEVICE_ID, $TYPE); createComponent takes 2 arguments: DEVICE_ID - The ID of the device to attach the component to. TYPE - The unique type for your module. This will return a new, empty array with a component ID and Type set, all other fields will be set to defaults. Array ( [1] = Array ( [type] = TESTING [label] = [status] = 1 [ignore] = 0 [disabled] = 0 [error] = ) ) Deleting Components When a component is no longer needed, it can be deleted. $COMPONENT- deleteComponent($COMPONENT_ID) This will return True on success or False on failure. Editing Components To edit a component, the procedure is: Get the Current Components Edit the array Write the components Edit the Array Once you have a component array from getComponents the first thing to do is extract the components for only the single device you are editing. This is required because the setComponentPrefs function only saves a single device at a time. $ARRAY = $COMPONENT- getComponents($DEVICE_ID, $OPTIONS); $ARRAY = $ARRAY[$DEVICE_ID]; Then simply edit this array to suit your needs. If you need to add a new Attribute/Value pair you can: $ARRAY[COMPONENT_ID]['New Attribute'] = Value ; If you need to delete a previously set Attribute/Value pair you can: unset($ARRAY[COMPONENT_ID]['New Attribute']); If you need to edit a previously set Attribute/Value pair you can: $ARRAY[COMPONENT_ID]['Existing Attribute'] = New Value ; Write the components To write component changes back to the database simply: $COMPONENT- setComponentPrefs($DEVICE_ID, $ARRAY) When writing the component array there are several caveats to be aware of, these are: $ARRAY must be in the format of a single device ID - $ARRAY[$COMPONENT_ID][Attribute] = 'Value'; NOT in the multi device format returned by getComponents - $ARRAY[$DEVICE_ID][$COMPONENT_ID][Attribute] = 'Value'; You cannot edit the Component ID or the Device ID reserved fields can not be removed if a change is found an entry will be written to the eventlog. API Component details are available via the API. Please see the API-Docs for details. Alerting It is intended that discovery/poller modules will detect the status of a component during the polling cycle. Status is logged using the Nagios convention for status codes, where: 0 = Ok, 1 = Warning, 2 = Critical If you are creating a poller module which can detect a fault condition simply set STATUS to something other than 0 and ERROR to a message that indicates the problem. To actually raise an alert, the user will need to create an alert rule. To assist with this several Alerting Macro's have been created: %macro.component_normal - A component that is not disabled or ignored and in a Normal state. %macro.component_warning - A component that is not disabled or ignored and NOT in a Warning state. %macro.component_critical - A component that is not disabled or ignored and NOT in a Critical state. To raise alerts for components, the following rules could be created: %macros.component_critical = \"1\" - To alert on all Critical components %macros.component_critical = \"1\" %component.type = \" Type of Component \" - To alert on all Critical components of a particular type. If there is a particular component you would like excluded from alerting, simply set the ignore field to 1. The data that is written to each alert when it is raised is in the following format: COMPONENT_TYPE - LABEL - ERROR Example Code To see an example of how the component module can used, please see the following modules: Cisco CBQoS includes/discovery/cisco-cbqos.inc.php includes/polling/cisco-cbqos.inc.php html/includes/graphs/device/cbqos_traffic.inc.php Cisco OTV includes/discovery/cisco-otv.inc.php includes/polling/cisco-otv.inc.php html/includes/graphs/device/cisco-otv-mac.inc.php html/pages/routing/cisco-otv.inc.php","title":"About"},{"location":"Extensions/Component/#about","text":"The Component extension provides a generic database storage mechanism for discovery and poller modules. The Driver behind this extension was to provide the features of ports, in a generic manner to discovery/poller modules. It provides a status (Nagios convention), the ability to Disable (do not poll), or Ignore (do not Alert).","title":"About"},{"location":"Extensions/Component/#database-structure","text":"The database structure contains the component table: mysql select * from component limit 1; +----+-----------+------+------------+--------+----------+--------+-------+ | id | device_id | type | label | status | disabled | ignore | error | +----+-----------+------+------------+--------+----------+--------+-------+ | 9 | 1 | TEST | TEST LABEL | 0 | 1 | 1 | | +----+-----------+------+------------+--------+----------+--------+-------+ 1 row in set (0.00 sec) These fields are described below: id - ID for each component, unique index device_id - device_id from the devices table type - name from the component_type table label - Display label for the component status - The status of the component, retrieved from the device disabled - Should this component be polled? ignore - Should this component be alerted on error - Error message if in Alert state The component_prefs table holds custom data in an Attribute/Value format: mysql select * from component_prefs limit 1; +----+-----------+-----------+-----------+ | id | component | attribute | value | +----+-----------+-----------+-----------+ | 4 | 9 | TEST_ATTR | TEST_ATTR | +----+-----------+-----------+-----------+ 2 rows in set (0.00 sec)","title":"Database Structure"},{"location":"Extensions/Component/#reserved-fields","text":"When this data from both the component and component_prefs tables is returned in one single consolidated array, there is the potential for someone to attempt to set an attribute (in the component_prefs ) table that is used in the component table. Because of this all fields of the component table are reserved, they cannot be used as custom attributes, if you update these the module will attempt to write them to the component table, not the component_prefs table.","title":"Reserved Fields"},{"location":"Extensions/Component/#using-components","text":"Create an instance of the component class: $COMPONENT = new LibreNMS\\Component();","title":"Using Components"},{"location":"Extensions/Component/#retrieving-components","text":"Now you can retrieve an array of the available components: $ARRAY = $COMPONENT- getComponents($DEVICE_ID, $OPTIONS); getComponents takes 2 arguments: DEVICE_ID or null for all devices. OPTIONS - an array of various options. getComponents will return an array containing components in the following format: Array ( [X] = Array ( [Y1] = Array ( [device_id] = 1 [TEST_ATTR] = TEST_ATTR [type] = TEST [label] = TEST LABEL [status] = 0 [ignore] = 1 [disabled] = 1 [error] = ), [Y2] = Array ( [device_id] = 1 [TEST_ATTR] = TEST_ATTR [type] = TESTING [label] = TEST LABEL [status] = 0 [ignore] = 1 [disabled] = 0 [error] = ), ) ) Where X is the Device ID and Y1/Y2 is the Component ID. In the example above, TEST_ATTR is a custom field, the rest are reserved fields.","title":"Retrieving Components"},{"location":"Extensions/Component/#options","text":"Options can be supplied to getComponents to influence which and how components are returned.","title":"Options"},{"location":"Extensions/Component/#filtering","text":"You can filter on any of the reserved fields. Filters are created in the following format: $options['filter']['FIELD'] = array ('OPERATOR', 'CRITERIA'); Where: FIELD - The reserved field to filter on OPERATOR - 'LIKE' or '=', are we checking if the FIELD equals or contains the CRITERIA. CRITERIA - The criteria to search on There are 2 filtering shortcuts: $DEVICE_ID is a synonym for: $OPTIONS['filter']['device_id'] = array ('=', $DEVICE_ID); $OPTIONS['type'] = $TYPE is a synonym for: $OPTIONS['filter']['type'] = array ('=', $TYPE);","title":"Filtering"},{"location":"Extensions/Component/#sorting","text":"You can sort the records that are returned by specifying the following option: $OPTIONS['sort'][FIELD] = 'DIRECTION'; Where Direction is one of: ASC - Ascending, from Low to High DESC - Descending, from High to Low","title":"Sorting"},{"location":"Extensions/Component/#creating-components","text":"To create a new component, run the createComponent function. $ARRAY = $COMPONENT- createComponent($DEVICE_ID, $TYPE); createComponent takes 2 arguments: DEVICE_ID - The ID of the device to attach the component to. TYPE - The unique type for your module. This will return a new, empty array with a component ID and Type set, all other fields will be set to defaults. Array ( [1] = Array ( [type] = TESTING [label] = [status] = 1 [ignore] = 0 [disabled] = 0 [error] = ) )","title":"Creating Components"},{"location":"Extensions/Component/#deleting-components","text":"When a component is no longer needed, it can be deleted. $COMPONENT- deleteComponent($COMPONENT_ID) This will return True on success or False on failure.","title":"Deleting Components"},{"location":"Extensions/Component/#editing-components","text":"To edit a component, the procedure is: Get the Current Components Edit the array Write the components","title":"Editing Components"},{"location":"Extensions/Component/#edit-the-array","text":"Once you have a component array from getComponents the first thing to do is extract the components for only the single device you are editing. This is required because the setComponentPrefs function only saves a single device at a time. $ARRAY = $COMPONENT- getComponents($DEVICE_ID, $OPTIONS); $ARRAY = $ARRAY[$DEVICE_ID]; Then simply edit this array to suit your needs. If you need to add a new Attribute/Value pair you can: $ARRAY[COMPONENT_ID]['New Attribute'] = Value ; If you need to delete a previously set Attribute/Value pair you can: unset($ARRAY[COMPONENT_ID]['New Attribute']); If you need to edit a previously set Attribute/Value pair you can: $ARRAY[COMPONENT_ID]['Existing Attribute'] = New Value ;","title":"Edit the Array"},{"location":"Extensions/Component/#write-the-components","text":"To write component changes back to the database simply: $COMPONENT- setComponentPrefs($DEVICE_ID, $ARRAY) When writing the component array there are several caveats to be aware of, these are: $ARRAY must be in the format of a single device ID - $ARRAY[$COMPONENT_ID][Attribute] = 'Value'; NOT in the multi device format returned by getComponents - $ARRAY[$DEVICE_ID][$COMPONENT_ID][Attribute] = 'Value'; You cannot edit the Component ID or the Device ID reserved fields can not be removed if a change is found an entry will be written to the eventlog.","title":"Write the components"},{"location":"Extensions/Component/#api","text":"Component details are available via the API. Please see the API-Docs for details.","title":"API"},{"location":"Extensions/Component/#alerting","text":"It is intended that discovery/poller modules will detect the status of a component during the polling cycle. Status is logged using the Nagios convention for status codes, where: 0 = Ok, 1 = Warning, 2 = Critical If you are creating a poller module which can detect a fault condition simply set STATUS to something other than 0 and ERROR to a message that indicates the problem. To actually raise an alert, the user will need to create an alert rule. To assist with this several Alerting Macro's have been created: %macro.component_normal - A component that is not disabled or ignored and in a Normal state. %macro.component_warning - A component that is not disabled or ignored and NOT in a Warning state. %macro.component_critical - A component that is not disabled or ignored and NOT in a Critical state. To raise alerts for components, the following rules could be created: %macros.component_critical = \"1\" - To alert on all Critical components %macros.component_critical = \"1\" %component.type = \" Type of Component \" - To alert on all Critical components of a particular type. If there is a particular component you would like excluded from alerting, simply set the ignore field to 1. The data that is written to each alert when it is raised is in the following format: COMPONENT_TYPE - LABEL - ERROR","title":"Alerting"},{"location":"Extensions/Component/#example-code","text":"To see an example of how the component module can used, please see the following modules: Cisco CBQoS includes/discovery/cisco-cbqos.inc.php includes/polling/cisco-cbqos.inc.php html/includes/graphs/device/cbqos_traffic.inc.php Cisco OTV includes/discovery/cisco-otv.inc.php includes/polling/cisco-otv.inc.php html/includes/graphs/device/cisco-otv-mac.inc.php html/pages/routing/cisco-otv.inc.php","title":"Example Code"},{"location":"Extensions/Dashboards/","text":"Dashboards Create customised dashboards in LibreNMS per user. You can share dashboards with other users. You can also make a custom dashboard and default it for all users in LibreNMS. Example Dashboard Widgets LibreNMS has a whole list of Widgets to select from. Alerts Widget: Displays all alert notifications. Availability Map: Displays all devices with colored tiles, green up, yellow for warning (device has been restarted in last 24 hours),red for down. You can also list all services and ignored/disabled devcies in this widget. Componet Status: List all componets Ok state, Warning state, Critical state. Device Summary horizontal: List device totals, up, down, ignored, disabled. Same for ports and services. Device Summary vertical: List device totals, up, down, ignored, disabled. Same for ports and services. Eventlog: Displays all events with your devices and LibreNMS. External Image: can be used to show external images on your dashboard. Or images from inside LibreNMS. Globe Map: Will display map of the globe. Graph: Can be used to display graphs from devices. Graylog: Displays all Graylog's syslog entries. Notes: use for html tags, embed links and external web pages. Or just notes in general. Server Stats: Will display gauges for CPU, Memory, Storage usage. Note the device type has to be listed as \"Server\". Syslog: Displays all syslog entries. Top Devices: By Traffic, or Uptime, or Response time, or Poller Duration, or Procssor load, or Memory Usage, or Storage Usage. Top Interfaces: Lists top interfaces by traffic utilization. Worldmap: displays all your devices locations. From syslocation or from override sysLocation. List of Widgets: Dashboard Permissions Private: Sets the dashabord to only the user that created the dashboard can view and edit. Shared Read: Sets the dashboard to allow other users to view the dashboard, but cant make changes to the dashboard. Shared: Allows all users to view the dashboard and make changes. Setting a global default dashboard Step 1: Set the dashboard to either shared read or shared, depending on what you want the users access to change. Step 2: Then go to Settings - WebUI settings - Dashboard Settings and set the global default dashboard. Setting embeded webpage Using the Notes Widget. iframe src= your_url frameBorder= 0 width= 100% height = 100% p Your browser does not support iframes. /p /iframe Note you may need to play with the width and height and also size your widget properly. src=\"url\" needs to be URL to webpage your linking to. Also some web pages may not support html embeded or iframe. How to create ports graph In the dashboard, you want to create an interface graph select the widget called Graph: then select \"Port\" \"Bits\" Note: you can map the port by description or the alias or by port id. You will need to know this in order to map the port to the graph. Dimension parameter replacement for Generic-image widget When using the Generic-image widget you can provide the width and height of the widget with your request. This will ensure that the image will fit nicely with the dimensions if the Generic-image widget. You can add @AUTO_HEIGHT@ and @AUTO_WIDTH@ to the Image URL as parameters. Examples: http://librenms.example.com/graph.php?id=333%2C444 type=multiport_bits_separate legend=no absolute=1 from=-14200 width=@AUTO_WIDTH@ height=@AUTO_HEIGHT@ http://example.com/myimage.php?size=@AUTO_WIDTH@x@AUTO_HEIGHT@","title":"Dashboards"},{"location":"Extensions/Dashboards/#dashboards","text":"Create customised dashboards in LibreNMS per user. You can share dashboards with other users. You can also make a custom dashboard and default it for all users in LibreNMS. Example Dashboard","title":"Dashboards"},{"location":"Extensions/Dashboards/#widgets","text":"LibreNMS has a whole list of Widgets to select from. Alerts Widget: Displays all alert notifications. Availability Map: Displays all devices with colored tiles, green up, yellow for warning (device has been restarted in last 24 hours),red for down. You can also list all services and ignored/disabled devcies in this widget. Componet Status: List all componets Ok state, Warning state, Critical state. Device Summary horizontal: List device totals, up, down, ignored, disabled. Same for ports and services. Device Summary vertical: List device totals, up, down, ignored, disabled. Same for ports and services. Eventlog: Displays all events with your devices and LibreNMS. External Image: can be used to show external images on your dashboard. Or images from inside LibreNMS. Globe Map: Will display map of the globe. Graph: Can be used to display graphs from devices. Graylog: Displays all Graylog's syslog entries. Notes: use for html tags, embed links and external web pages. Or just notes in general. Server Stats: Will display gauges for CPU, Memory, Storage usage. Note the device type has to be listed as \"Server\". Syslog: Displays all syslog entries. Top Devices: By Traffic, or Uptime, or Response time, or Poller Duration, or Procssor load, or Memory Usage, or Storage Usage. Top Interfaces: Lists top interfaces by traffic utilization. Worldmap: displays all your devices locations. From syslocation or from override sysLocation. List of Widgets:","title":"Widgets"},{"location":"Extensions/Dashboards/#dashboard-permissions","text":"Private: Sets the dashabord to only the user that created the dashboard can view and edit. Shared Read: Sets the dashboard to allow other users to view the dashboard, but cant make changes to the dashboard. Shared: Allows all users to view the dashboard and make changes.","title":"Dashboard Permissions"},{"location":"Extensions/Dashboards/#setting-a-global-default-dashboard","text":"Step 1: Set the dashboard to either shared read or shared, depending on what you want the users access to change. Step 2: Then go to Settings - WebUI settings - Dashboard Settings and set the global default dashboard.","title":"Setting a global default dashboard"},{"location":"Extensions/Dashboards/#setting-embeded-webpage","text":"Using the Notes Widget. iframe src= your_url frameBorder= 0 width= 100% height = 100% p Your browser does not support iframes. /p /iframe Note you may need to play with the width and height and also size your widget properly. src=\"url\" needs to be URL to webpage your linking to. Also some web pages may not support html embeded or iframe.","title":"Setting embeded webpage"},{"location":"Extensions/Dashboards/#how-to-create-ports-graph","text":"In the dashboard, you want to create an interface graph select the widget called Graph: then select \"Port\" \"Bits\" Note: you can map the port by description or the alias or by port id. You will need to know this in order to map the port to the graph.","title":"How to create ports graph"},{"location":"Extensions/Dashboards/#dimension-parameter-replacement-for-generic-image-widget","text":"When using the Generic-image widget you can provide the width and height of the widget with your request. This will ensure that the image will fit nicely with the dimensions if the Generic-image widget. You can add @AUTO_HEIGHT@ and @AUTO_WIDTH@ to the Image URL as parameters.","title":"Dimension parameter replacement for Generic-image widget"},{"location":"Extensions/Dashboards/#examples","text":"http://librenms.example.com/graph.php?id=333%2C444 type=multiport_bits_separate legend=no absolute=1 from=-14200 width=@AUTO_WIDTH@ height=@AUTO_HEIGHT@ http://example.com/myimage.php?size=@AUTO_WIDTH@x@AUTO_HEIGHT@","title":"Examples:"},{"location":"Extensions/Dell-OpenManage/","text":"Dell OpenManage Support For Dell OpenManage support you will need to install Dell OpenManage (yeah - really :)) (minimum 5.1) onto the device you want to monitor. Ensure that net-snmp is using srvadmin, you should see something similar to: master agentx view all included .1 access notConfigGroup any noauth exact all none none smuxpeer .1.3.6.1.4.1.674.10892.1 Restart net-snmp: service snmpd restart Ensure that srvadmin is started, this is usually done by executing: /opt/dell/srvadmin/sbin/srvadmin-services.sh start Once this has been done, add the device to LibreNMS as normal and you will start to receive Temperatures and Fanspeed data. Windows Download OpenManage from Dell's support page Link and install OpenManage on your windows server. Make sure you have SNMP setup and running on your windows server.","title":"Dell OpenManage Support"},{"location":"Extensions/Dell-OpenManage/#dell-openmanage-support","text":"For Dell OpenManage support you will need to install Dell OpenManage (yeah - really :)) (minimum 5.1) onto the device you want to monitor. Ensure that net-snmp is using srvadmin, you should see something similar to: master agentx view all included .1 access notConfigGroup any noauth exact all none none smuxpeer .1.3.6.1.4.1.674.10892.1 Restart net-snmp: service snmpd restart Ensure that srvadmin is started, this is usually done by executing: /opt/dell/srvadmin/sbin/srvadmin-services.sh start Once this has been done, add the device to LibreNMS as normal and you will start to receive Temperatures and Fanspeed data.","title":"Dell OpenManage Support"},{"location":"Extensions/Dell-OpenManage/#windows","text":"Download OpenManage from Dell's support page Link and install OpenManage on your windows server. Make sure you have SNMP setup and running on your windows server.","title":"Windows"},{"location":"Extensions/Device-Groups/","text":"LibreNMS supports grouping your devices together in much the same way as you can configure alerts. This document will hopefully help you get started. Patterns Patterns work in the same way as Entities within the alerting system, the format of the pattern is based on the MySQL structure your data is in. Such as tablename.columnname . If you already know the entity you want, you can browse around inside MySQL using show tables and desc tablename . As a working example and a common question, let's assume you want to group devices by hostname. If your hostname format is dcX.[devicetype].example.com. You would use the pattern devices.hostname . Select the condition which in this case would be Like and then enter dc1\\..*\\.example.com . This would then match dc1.sw01.example.com, dc1.rtr01.example.com but not dc2.sw01.example.com. Wildcards As with alerts, the Like operation allows MySQL Regular expressions. A list of common entities is maintained in our Alerting docs . Conditions Please see our Alerting docs for explanations. Connection If you only want to group based on one pattern then select And. If however you want to build a group based on multiple patterns then you can build a SQL like query using And / Or. As an example, we want to base our group on the devices hostname AND it's type. Use the pattern as before, devices.hostname , select the condition which in this case would be Like and then enter dc1.@.example.com then click And. Now enter devices.type in the pattern, select Equals and enter firewall . This would then match dc1.fw01.example.com but not dc1.sw01.example.com as that is a network type. You can now select this group from the Devices - All Devices link in the navigation at the top. You can also use the group to map alert rules to by creating an alert mapping Overview - Alerts - Rule Mapping .","title":"Grouping Devices"},{"location":"Extensions/Device-Groups/#patterns","text":"Patterns work in the same way as Entities within the alerting system, the format of the pattern is based on the MySQL structure your data is in. Such as tablename.columnname . If you already know the entity you want, you can browse around inside MySQL using show tables and desc tablename . As a working example and a common question, let's assume you want to group devices by hostname. If your hostname format is dcX.[devicetype].example.com. You would use the pattern devices.hostname . Select the condition which in this case would be Like and then enter dc1\\..*\\.example.com . This would then match dc1.sw01.example.com, dc1.rtr01.example.com but not dc2.sw01.example.com.","title":"Patterns"},{"location":"Extensions/Device-Groups/#wildcards","text":"As with alerts, the Like operation allows MySQL Regular expressions. A list of common entities is maintained in our Alerting docs .","title":"Wildcards"},{"location":"Extensions/Device-Groups/#conditions","text":"Please see our Alerting docs for explanations.","title":"Conditions"},{"location":"Extensions/Device-Groups/#connection","text":"If you only want to group based on one pattern then select And. If however you want to build a group based on multiple patterns then you can build a SQL like query using And / Or. As an example, we want to base our group on the devices hostname AND it's type. Use the pattern as before, devices.hostname , select the condition which in this case would be Like and then enter dc1.@.example.com then click And. Now enter devices.type in the pattern, select Equals and enter firewall . This would then match dc1.fw01.example.com but not dc1.sw01.example.com as that is a network type. You can now select this group from the Devices - All Devices link in the navigation at the top. You can also use the group to map alert rules to by creating an alert mapping Overview - Alerts - Rule Mapping .","title":"Connection"},{"location":"Extensions/Distributed-Poller/","text":"Distributed Poller LibreNMS has the ability to distribute polling of devices to other machines. These machines can be in a different physical location and therefore minimize network latency for devices that are a considerable distance away or are behind NAT firewalls. Devices can be grouped together into a poller_group to pin these devices to a single or a group of designated pollers. All pollers need to share their RRD-folder, for example via NFS or a combination of NFS and rrdcached. It is a requirement that all pollers can access the central memcached to communicate with each other. Requirements These requirements are above the normal requirements for a full LibreNMS install. rrdtool version 1.4 or above python-memcached package a memcached install a rrdcached install By default, all hosts are shared and have the poller_group = 0 . To pin a device to a poller, set it to a value greater than 0 and set the same value in the poller's config with $config['distributed_poller_group'] . One can also specify a comma separated string of poller groups in $config['distributed_poller_group']. The poller will then poll devices from any of the groups listed. If new devices get added from the poller they will be assigned to the first poller group in the list unless the group is specified when adding the device. A standard configuration for a distributed poller would look like: // Distributed Poller-Settings $config['distributed_poller'] = true; #$config['distributed_poller_name'] = 'custom'; // optional: defaults to hostname $config['distributed_poller_group'] = 0; $config['distributed_poller_memcached_host'] = 'example.net'; $config['distributed_poller_memcached_port'] = '11211'; Example Setup Below is an example setup based on a real deployment which at the time of writing covers over 2,500 devices and 50,000 ports. The setup is running within an OpenStack environment with some commodity hardware for remote pollers. Here's a diagram of how you can scale LibreNMS out: Architecture How you setup the distribution is entirely up to you, you can choose to host the majority of the required services on a single virtual machine or server and then a poller to actually query the devices being monitored all the way through to having a dedicated server for each of the individual roles. Below are notes on what you need to consider both from the software layer but also connectivity. Web / API Layer This is typically Apache but we have setup guides for both Nginx and Lighttpd which should work perfectly fine. There is nothing unique about the role this service is providing except that if you are adding devices from this layer then the web service will need to be able to connect to the end device via SNMP and perform an ICMP test. It is advisable to run RRDCached within this setup so that you don't need to share the rrd folder via a remote file share such as NFS. The web service can then generate rrd graphs via RRDCached. If RRDCached isn't an option then you can mount the rrd directory to read the RRD files directly. Database Server MySQL / MariaDB - At the moment these are the only database servers that are supported, work is being done to ensure MySQL Strict mode is also supported but this should be considered to be incomplete still and therefor disabled. The pollers, web and API layers should all be able to access the database server directly. RRD Storage Central storage should be provided so all RRD files can be read from and written to in one location. As suggested above, it's recommended that RRD Cached is configured and used. For this example, we are running RRDCached to allow all pollers and web/api servers to read/write to the rrd files with the rrd directory also exported by NFS for simple access and maintenance. Memcache Memcache is required for the distributed pollers to be able to register to a central location and record what devices are polled. Memcache can run from any of the servers so long as it is accessible by all pollers. Pollers Pollers can be installed and run from anywhere, the only requirements are: They can access the Memcache instance They can create RRD files via some method such as a shared filesystem or RRDTool =1.5.5 They can access the MySQL server You can either assign pollers into groups and set a poller group against certain devices, this will mean that those devices will only be processed by certain pollers (default poller group is 0) or you can assign all pollers to the default poller group for them to process any and all devices. This will provide the ability to have a single poller behind a NAT firewall monitor internal devices and report back to your central system. You will then be able to monitor those devices from the Web UI as normal. Another benefit to this is that you can provide N+x pollers, i.e if you know that you require three pollers to process all devices within 300 seconds then adding a 4th poller will mean that should any one single poller fail then the remaining three will complete polling in time. You could also use this to take a poller out of service for maintenance, i.e OS updates and software updates. It is extremely advisable to either run a central recursive dns server such as pdns-recursor and have all of your pollers use this or install a recursive dns server on each poller - the volume of DNS requests on large installs can be significant and will slow polling down enough to cause issues with a large number of devices. Discovery It's not necessary to run discovery services on all pollers. In fact, you should only run one discovery process per poller group. Designate a single poller to run discovery (or a separate server if required). Config sample The following config is taken from a live setup which consists of a Web server, DB server, RRDCached server and 3 pollers. Web Server: Running Apache and an install of LibreNMS in /opt/librenms - config.php $config['distributed_poller'] = true; $config['rrdcached'] = example.com:42217 ; Database Server: Running Memcache and MariaDB - Memcache Ubuntu (/etc/memcached.conf) -d -m 64 -p 11211 -u memcache -l ip.ip.ip.ip RRDCached Server: Running RRDCached - RRDCached Ubuntu (/etc/default/rrdcached) OPTS= -l 0:42217 OPTS= $OPTS -j /var/lib/rrdcached/journal/ -F OPTS= $OPTS -b /opt/librenms/rrd -B OPTS= $OPTS -w 1800 -z 900 Ubuntu (/etc/default/rrdcached) - RRDCached 1.5.5 and above. OPTS= -l 0:42217 OPTS= $OPTS -R -j /var/lib/rrdcached/journal/ -F OPTS= $OPTS -b /opt/librenms/rrd -B OPTS= $OPTS -w 1800 -z 900 Poller 1: Running an install of LibreNMS in /opt/librenms config.php $config['distributed_poller_name'] = php_uname('n'); $config['distributed_poller_group'] = '0'; $config['distributed_poller_memcached_host'] = example.com ; $config['distributed_poller_memcached_port'] = 11211; $config['distributed_poller'] = true; $config['rrdcached'] = example.com:42217 ; $config['update'] = 0; /etc/cron.d/librenms Runs discovery and polling for group 0, daily.sh to deal with notifications and DB cleanup and alerts. 33 */6 * * * librenms /opt/librenms/cronic /opt/librenms/discovery-wrapper.py 1 */5 * * * * librenms /opt/librenms/discovery.php -h new /dev/null 2 1 */5 * * * * librenms /opt/librenms/cronic /opt/librenms/poller-wrapper.py 16 15 0 * * * librenms /opt/librenms/daily.sh /dev/null 2 1 * * * * * librenms /opt/librenms/alerts.php /dev/null 2 1 Poller 2: Running an install of LibreNMS in /opt/librenms config.php $config['distributed_poller_name'] = php_uname('n'); $config['distributed_poller_group'] = '0'; $config['distributed_poller_memcached_host'] = example.com ; $config['distributed_poller_memcached_port'] = 11211; $config['distributed_poller'] = true; $config['rrdcached'] = example.com:42217 ; $config['update'] = 0; /etc/cron.d/librenms Runs billing as well as polling for group 0. */5 * * * * librenms /opt/librenms/poller-wrapper.py 16 /opt/librenms/logs/wrapper.log */5 * * * * librenms /opt/librenms/poll-billing.php /dev/null 2 1 01 * * * * librenms /opt/librenms/billing-calculate.php /dev/null 2 1 15 0 * * * librenms /opt/librenms/daily.sh /dev/null 2 1 Poller 3: Running an install of LibreNMS in /opt/librenms config.php $config['distributed_poller_name'] = php_uname('n'); $config['distributed_poller_group'] = '2,3'; $config['distributed_poller_memcached_host'] = example.com ; $config['distributed_poller_memcached_port'] = 11211; $config['distributed_poller'] = true; $config['rrdcached'] = example.com:42217 ; $config['update'] = 0; /etc/cron.d/librenms Runs discovery and polling for groups 2 and 3. 33 */6 * * * librenms /opt/librenms/cronic /opt/librenms/discovery-wrapper.py 1 */5 * * * * librenms /opt/librenms/discovery.php -h new /dev/null 2 1 */5 * * * * librenms /opt/librenms/cronic /opt/librenms/poller-wrapper.py 16 15 0 * * * librenms /opt/librenms/daily.sh /dev/null 2 1","title":"Scaling LibreNMS"},{"location":"Extensions/Distributed-Poller/#distributed-poller","text":"LibreNMS has the ability to distribute polling of devices to other machines. These machines can be in a different physical location and therefore minimize network latency for devices that are a considerable distance away or are behind NAT firewalls. Devices can be grouped together into a poller_group to pin these devices to a single or a group of designated pollers. All pollers need to share their RRD-folder, for example via NFS or a combination of NFS and rrdcached. It is a requirement that all pollers can access the central memcached to communicate with each other.","title":"Distributed Poller"},{"location":"Extensions/Distributed-Poller/#requirements","text":"These requirements are above the normal requirements for a full LibreNMS install. rrdtool version 1.4 or above python-memcached package a memcached install a rrdcached install By default, all hosts are shared and have the poller_group = 0 . To pin a device to a poller, set it to a value greater than 0 and set the same value in the poller's config with $config['distributed_poller_group'] . One can also specify a comma separated string of poller groups in $config['distributed_poller_group']. The poller will then poll devices from any of the groups listed. If new devices get added from the poller they will be assigned to the first poller group in the list unless the group is specified when adding the device. A standard configuration for a distributed poller would look like: // Distributed Poller-Settings $config['distributed_poller'] = true; #$config['distributed_poller_name'] = 'custom'; // optional: defaults to hostname $config['distributed_poller_group'] = 0; $config['distributed_poller_memcached_host'] = 'example.net'; $config['distributed_poller_memcached_port'] = '11211';","title":"Requirements"},{"location":"Extensions/Distributed-Poller/#example-setup","text":"Below is an example setup based on a real deployment which at the time of writing covers over 2,500 devices and 50,000 ports. The setup is running within an OpenStack environment with some commodity hardware for remote pollers. Here's a diagram of how you can scale LibreNMS out:","title":"Example Setup"},{"location":"Extensions/Distributed-Poller/#architecture","text":"How you setup the distribution is entirely up to you, you can choose to host the majority of the required services on a single virtual machine or server and then a poller to actually query the devices being monitored all the way through to having a dedicated server for each of the individual roles. Below are notes on what you need to consider both from the software layer but also connectivity.","title":"Architecture"},{"location":"Extensions/Distributed-Poller/#web-api-layer","text":"This is typically Apache but we have setup guides for both Nginx and Lighttpd which should work perfectly fine. There is nothing unique about the role this service is providing except that if you are adding devices from this layer then the web service will need to be able to connect to the end device via SNMP and perform an ICMP test. It is advisable to run RRDCached within this setup so that you don't need to share the rrd folder via a remote file share such as NFS. The web service can then generate rrd graphs via RRDCached. If RRDCached isn't an option then you can mount the rrd directory to read the RRD files directly.","title":"Web / API Layer"},{"location":"Extensions/Distributed-Poller/#database-server","text":"MySQL / MariaDB - At the moment these are the only database servers that are supported, work is being done to ensure MySQL Strict mode is also supported but this should be considered to be incomplete still and therefor disabled. The pollers, web and API layers should all be able to access the database server directly.","title":"Database Server"},{"location":"Extensions/Distributed-Poller/#rrd-storage","text":"Central storage should be provided so all RRD files can be read from and written to in one location. As suggested above, it's recommended that RRD Cached is configured and used. For this example, we are running RRDCached to allow all pollers and web/api servers to read/write to the rrd files with the rrd directory also exported by NFS for simple access and maintenance.","title":"RRD Storage"},{"location":"Extensions/Distributed-Poller/#memcache","text":"Memcache is required for the distributed pollers to be able to register to a central location and record what devices are polled. Memcache can run from any of the servers so long as it is accessible by all pollers.","title":"Memcache"},{"location":"Extensions/Distributed-Poller/#pollers","text":"Pollers can be installed and run from anywhere, the only requirements are: They can access the Memcache instance They can create RRD files via some method such as a shared filesystem or RRDTool =1.5.5 They can access the MySQL server You can either assign pollers into groups and set a poller group against certain devices, this will mean that those devices will only be processed by certain pollers (default poller group is 0) or you can assign all pollers to the default poller group for them to process any and all devices. This will provide the ability to have a single poller behind a NAT firewall monitor internal devices and report back to your central system. You will then be able to monitor those devices from the Web UI as normal. Another benefit to this is that you can provide N+x pollers, i.e if you know that you require three pollers to process all devices within 300 seconds then adding a 4th poller will mean that should any one single poller fail then the remaining three will complete polling in time. You could also use this to take a poller out of service for maintenance, i.e OS updates and software updates. It is extremely advisable to either run a central recursive dns server such as pdns-recursor and have all of your pollers use this or install a recursive dns server on each poller - the volume of DNS requests on large installs can be significant and will slow polling down enough to cause issues with a large number of devices.","title":"Pollers"},{"location":"Extensions/Distributed-Poller/#discovery","text":"It's not necessary to run discovery services on all pollers. In fact, you should only run one discovery process per poller group. Designate a single poller to run discovery (or a separate server if required).","title":"Discovery"},{"location":"Extensions/Distributed-Poller/#config-sample","text":"The following config is taken from a live setup which consists of a Web server, DB server, RRDCached server and 3 pollers. Web Server: Running Apache and an install of LibreNMS in /opt/librenms - config.php $config['distributed_poller'] = true; $config['rrdcached'] = example.com:42217 ; Database Server: Running Memcache and MariaDB - Memcache Ubuntu (/etc/memcached.conf) -d -m 64 -p 11211 -u memcache -l ip.ip.ip.ip RRDCached Server: Running RRDCached - RRDCached Ubuntu (/etc/default/rrdcached) OPTS= -l 0:42217 OPTS= $OPTS -j /var/lib/rrdcached/journal/ -F OPTS= $OPTS -b /opt/librenms/rrd -B OPTS= $OPTS -w 1800 -z 900 Ubuntu (/etc/default/rrdcached) - RRDCached 1.5.5 and above. OPTS= -l 0:42217 OPTS= $OPTS -R -j /var/lib/rrdcached/journal/ -F OPTS= $OPTS -b /opt/librenms/rrd -B OPTS= $OPTS -w 1800 -z 900 Poller 1: Running an install of LibreNMS in /opt/librenms config.php $config['distributed_poller_name'] = php_uname('n'); $config['distributed_poller_group'] = '0'; $config['distributed_poller_memcached_host'] = example.com ; $config['distributed_poller_memcached_port'] = 11211; $config['distributed_poller'] = true; $config['rrdcached'] = example.com:42217 ; $config['update'] = 0; /etc/cron.d/librenms Runs discovery and polling for group 0, daily.sh to deal with notifications and DB cleanup and alerts. 33 */6 * * * librenms /opt/librenms/cronic /opt/librenms/discovery-wrapper.py 1 */5 * * * * librenms /opt/librenms/discovery.php -h new /dev/null 2 1 */5 * * * * librenms /opt/librenms/cronic /opt/librenms/poller-wrapper.py 16 15 0 * * * librenms /opt/librenms/daily.sh /dev/null 2 1 * * * * * librenms /opt/librenms/alerts.php /dev/null 2 1 Poller 2: Running an install of LibreNMS in /opt/librenms config.php $config['distributed_poller_name'] = php_uname('n'); $config['distributed_poller_group'] = '0'; $config['distributed_poller_memcached_host'] = example.com ; $config['distributed_poller_memcached_port'] = 11211; $config['distributed_poller'] = true; $config['rrdcached'] = example.com:42217 ; $config['update'] = 0; /etc/cron.d/librenms Runs billing as well as polling for group 0. */5 * * * * librenms /opt/librenms/poller-wrapper.py 16 /opt/librenms/logs/wrapper.log */5 * * * * librenms /opt/librenms/poll-billing.php /dev/null 2 1 01 * * * * librenms /opt/librenms/billing-calculate.php /dev/null 2 1 15 0 * * * librenms /opt/librenms/daily.sh /dev/null 2 1 Poller 3: Running an install of LibreNMS in /opt/librenms config.php $config['distributed_poller_name'] = php_uname('n'); $config['distributed_poller_group'] = '2,3'; $config['distributed_poller_memcached_host'] = example.com ; $config['distributed_poller_memcached_port'] = 11211; $config['distributed_poller'] = true; $config['rrdcached'] = example.com:42217 ; $config['update'] = 0; /etc/cron.d/librenms Runs discovery and polling for groups 2 and 3. 33 */6 * * * librenms /opt/librenms/cronic /opt/librenms/discovery-wrapper.py 1 */5 * * * * librenms /opt/librenms/discovery.php -h new /dev/null 2 1 */5 * * * * librenms /opt/librenms/cronic /opt/librenms/poller-wrapper.py 16 15 0 * * * librenms /opt/librenms/daily.sh /dev/null 2 1","title":"Config sample"},{"location":"Extensions/Email-Alerting/","text":"","title":"Email Alerting"},{"location":"Extensions/Fast-Ping-Check/","text":"Fast up/down checking Normally, LibreNMS sends an ICMP ping to the device before polling to check if it is up or down. This check is tied to the poller frequency, which is normally 5 minutes. This means it may take up to 5 minutes to find out if a device is down. Some users may want to know if devices stop responding to ping more quickly than that. LibreNMS offers a ping.php script to run ping checks as quickly as possible without increasing snmp load on your devices by switching to 1 minute polling. WARNING : If you do not have an alert rule that alerts on device status, enabling this will be a waste of resources. You can find one in the Alert Rules Collection . Setting the ping check to 1 minute Change the ping_rrd_step setting in config.php php $config['ping_rrd_step'] = 60; Update the rrd files to change the step (step is hardcoded at file creation in rrd files) bash ./scripts/rrdstep.php -h all Add the following line to /etc/cron.d/librenms.nonroot.cron to allow 1 minute ping checks * * * * * librenms /opt/librenms/ping.php /dev/null 2 1 Sub minute ping check Cron only has a resolution of one minute, so we have to use a trick to allow sub minute checks. We add two entries, but add a delay before one. Alerts are only run every minute, so you will have to modify them as well. Remove the original alerts.php entry. Set ping_rrd_step php $config['ping_rrd_step'] = 30; Update the rrd files bash ./scripts/rrdstep.php -h all Update cron (removing any other ping.php or alert.php entries) * * * * * librenms /opt/librenms/ping.php /dev/null 2 1 * * * * * librenms sleep 30 /opt/librenms/ping.php /dev/null 2 1 * * * * * librenms sleep 15 /opt/librenms/alerts.php /dev/null 2 1 * * * * * librenms sleep 45 /opt/librenms/alerts.php /dev/null 2 1 Device dependencies The ping.php script respects device dependencies, but the main poller does not (for technical reasons). However, using this script does not disable the icmp check in the poller and a child may be reported as down before the parent. Settings ping.php uses much the same settings as the poller fping with one exception: retries is used instead of count. ping.php does not measure loss and avg response time, only up/down, so once a device responds it stops pinging it. $config['fping_options']['retries'] = 2; $config['fping_options']['timeout'] = 500; $config['fping_options']['interval'] = 500;","title":"Fast Ping Checking"},{"location":"Extensions/Fast-Ping-Check/#fast-updown-checking","text":"Normally, LibreNMS sends an ICMP ping to the device before polling to check if it is up or down. This check is tied to the poller frequency, which is normally 5 minutes. This means it may take up to 5 minutes to find out if a device is down. Some users may want to know if devices stop responding to ping more quickly than that. LibreNMS offers a ping.php script to run ping checks as quickly as possible without increasing snmp load on your devices by switching to 1 minute polling. WARNING : If you do not have an alert rule that alerts on device status, enabling this will be a waste of resources. You can find one in the Alert Rules Collection .","title":"Fast up/down checking"},{"location":"Extensions/Fast-Ping-Check/#setting-the-ping-check-to-1-minute","text":"Change the ping_rrd_step setting in config.php php $config['ping_rrd_step'] = 60; Update the rrd files to change the step (step is hardcoded at file creation in rrd files) bash ./scripts/rrdstep.php -h all Add the following line to /etc/cron.d/librenms.nonroot.cron to allow 1 minute ping checks * * * * * librenms /opt/librenms/ping.php /dev/null 2 1","title":"Setting the ping check to 1 minute"},{"location":"Extensions/Fast-Ping-Check/#sub-minute-ping-check","text":"Cron only has a resolution of one minute, so we have to use a trick to allow sub minute checks. We add two entries, but add a delay before one. Alerts are only run every minute, so you will have to modify them as well. Remove the original alerts.php entry. Set ping_rrd_step php $config['ping_rrd_step'] = 30; Update the rrd files bash ./scripts/rrdstep.php -h all Update cron (removing any other ping.php or alert.php entries) * * * * * librenms /opt/librenms/ping.php /dev/null 2 1 * * * * * librenms sleep 30 /opt/librenms/ping.php /dev/null 2 1 * * * * * librenms sleep 15 /opt/librenms/alerts.php /dev/null 2 1 * * * * * librenms sleep 45 /opt/librenms/alerts.php /dev/null 2 1","title":"Sub minute ping check"},{"location":"Extensions/Fast-Ping-Check/#device-dependencies","text":"The ping.php script respects device dependencies, but the main poller does not (for technical reasons). However, using this script does not disable the icmp check in the poller and a child may be reported as down before the parent.","title":"Device dependencies"},{"location":"Extensions/Fast-Ping-Check/#settings","text":"ping.php uses much the same settings as the poller fping with one exception: retries is used instead of count. ping.php does not measure loss and avg response time, only up/down, so once a device responds it stops pinging it. $config['fping_options']['retries'] = 2; $config['fping_options']['timeout'] = 500; $config['fping_options']['interval'] = 500;","title":"Settings"},{"location":"Extensions/Gateone/","text":"GateOne integration We have simple integration for GateOne , you will be redirected to your Gateone command line frontend to access your equipment. (Currently this only works with SSH) GateOne itself isn't included within LibreNMS, you will need to install this separately either on the same infrastructure as LibreNMS or as a totally standalone appliance. The installation is beyond the scope of this document. Config is simple, include the following in your config.php : $config['gateone']['server'] = 'http:// your_gateone_url/'; Note: You must use the full url including the trailing / ! We also support prefixing the currently logged in Librenms user to the SSH connection URL that is created, eg. ssh://admin@localhost \\ To enable this, put the following in your config.php : $config['gateone']['use_librenms_user'] = true;","title":"GateOne integration"},{"location":"Extensions/Gateone/#gateone-integration","text":"We have simple integration for GateOne , you will be redirected to your Gateone command line frontend to access your equipment. (Currently this only works with SSH) GateOne itself isn't included within LibreNMS, you will need to install this separately either on the same infrastructure as LibreNMS or as a totally standalone appliance. The installation is beyond the scope of this document. Config is simple, include the following in your config.php : $config['gateone']['server'] = 'http:// your_gateone_url/'; Note: You must use the full url including the trailing / ! We also support prefixing the currently logged in Librenms user to the SSH connection URL that is created, eg. ssh://admin@localhost \\ To enable this, put the following in your config.php : $config['gateone']['use_librenms_user'] = true;","title":"GateOne integration"},{"location":"Extensions/Graphite/","text":"","title":"Graphite"},{"location":"Extensions/Graylog/","text":"Graylog integration We have simple integration for Graylog, you will be able to view any logs from within LibreNMS that have been parsed by the syslog input from within Graylog itself. This includes logs from devices which aren't in LibreNMS still, you can also see logs for a specific device under the logs section for the device. Currently, LibreNMS does not associate shortnames from Graylog with full FQDNS. If you have your devices in LibreNMS using full FQDNs, such as hostname.example.com, be aware that rsyslogd, by default, sends the shortname only. To fix this, add $PreserveFQDN on to your rsyslog config to send the full FQDN so device logs will be associated correctly in LibreNMS. Also see near the bottom of this document for tips on how to enable/suppress the domain part of hostnames in syslog-messages for some platforms. Graylog itself isn't included within LibreNMS, you will need to install this separately either on the same infrastructure as LibreNMS or as a totally standalone appliance. Config is simple, here's an example based on Graylog 2.4: $config['graylog']['server'] = 'http://127.0.0.1'; $config['graylog']['port'] = 9000; $config['graylog']['username'] = 'admin'; $config['graylog']['password'] = 'admin'; $config['graylog']['version'] = '2.4'; Graylog messages are stored using GMT timezone. You can display graylog messages in LibreNMS webui using your desired timezone by setting following option in config.php: $config['graylog']['timezone'] = 'Europe/Bucharest'; Timezone must be PHP supported timezones, available at: http://php.net/manual/en/timezones.php If you are running a version earlier than Graylog then please set $config['graylog']['version'] to the version number of your Graylog install. Earlier versions than 2.1 use the default port 12900 If you have altered the default uri for your Graylog setup then you can override the default of /api/ using $config['graylog']['base_uri'] = '/somepath/'; If you choose to use another user besides the admin user, please note that currently you must give the user \"admin\" permissions from within Graylog, \"read\" permissions alone are not sufficient. If you have enabled TLS for the Graylog API and you are using a self-signed certificate, please make sure that the certificate is trusted by your LibreNMS host, otherwise the connection will fail. Additionally, the certificate's Common Name (CN) has to match the FQDN or IP address specified in $config['graylog']['server'] . Suppressing/enabling the domain part of a hostname for specific platforms You should see if what you get in syslog/Graylog matches up with your configured hosts first. If you need to modify the syslog messages from specific platforms, this may be of assistance: IOS (Cisco) router(config)# logging origin-id hostname or router(config)# logging origin-id string JunOS (Juniper Networks) set system syslog host yourlogserver.corp log-prefix YOUR_PREFERRED_STRING PanOS (Palo Alto Networks) set deviceconfig setting management hostname-type-in-syslog hostname or set deviceconfig setting management hostname-type-in-syslog FQDN","title":"Graylog integration"},{"location":"Extensions/Graylog/#graylog-integration","text":"We have simple integration for Graylog, you will be able to view any logs from within LibreNMS that have been parsed by the syslog input from within Graylog itself. This includes logs from devices which aren't in LibreNMS still, you can also see logs for a specific device under the logs section for the device. Currently, LibreNMS does not associate shortnames from Graylog with full FQDNS. If you have your devices in LibreNMS using full FQDNs, such as hostname.example.com, be aware that rsyslogd, by default, sends the shortname only. To fix this, add $PreserveFQDN on to your rsyslog config to send the full FQDN so device logs will be associated correctly in LibreNMS. Also see near the bottom of this document for tips on how to enable/suppress the domain part of hostnames in syslog-messages for some platforms. Graylog itself isn't included within LibreNMS, you will need to install this separately either on the same infrastructure as LibreNMS or as a totally standalone appliance. Config is simple, here's an example based on Graylog 2.4: $config['graylog']['server'] = 'http://127.0.0.1'; $config['graylog']['port'] = 9000; $config['graylog']['username'] = 'admin'; $config['graylog']['password'] = 'admin'; $config['graylog']['version'] = '2.4'; Graylog messages are stored using GMT timezone. You can display graylog messages in LibreNMS webui using your desired timezone by setting following option in config.php: $config['graylog']['timezone'] = 'Europe/Bucharest'; Timezone must be PHP supported timezones, available at: http://php.net/manual/en/timezones.php If you are running a version earlier than Graylog then please set $config['graylog']['version'] to the version number of your Graylog install. Earlier versions than 2.1 use the default port 12900 If you have altered the default uri for your Graylog setup then you can override the default of /api/ using $config['graylog']['base_uri'] = '/somepath/'; If you choose to use another user besides the admin user, please note that currently you must give the user \"admin\" permissions from within Graylog, \"read\" permissions alone are not sufficient. If you have enabled TLS for the Graylog API and you are using a self-signed certificate, please make sure that the certificate is trusted by your LibreNMS host, otherwise the connection will fail. Additionally, the certificate's Common Name (CN) has to match the FQDN or IP address specified in $config['graylog']['server'] .","title":"Graylog integration"},{"location":"Extensions/Graylog/#suppressingenabling-the-domain-part-of-a-hostname-for-specific-platforms","text":"You should see if what you get in syslog/Graylog matches up with your configured hosts first. If you need to modify the syslog messages from specific platforms, this may be of assistance:","title":"Suppressing/enabling the domain part of a hostname for specific platforms"},{"location":"Extensions/Graylog/#ios-cisco","text":"router(config)# logging origin-id hostname or router(config)# logging origin-id string","title":"IOS (Cisco)"},{"location":"Extensions/Graylog/#junos-juniper-networks","text":"set system syslog host yourlogserver.corp log-prefix YOUR_PREFERRED_STRING","title":"JunOS (Juniper Networks)"},{"location":"Extensions/Graylog/#panos-palo-alto-networks","text":"set deviceconfig setting management hostname-type-in-syslog hostname or set deviceconfig setting management hostname-type-in-syslog FQDN","title":"PanOS (Palo Alto Networks)"},{"location":"Extensions/IRC-Bot-Extensions/","text":"Quick Guide Okay this is a very quick walk-through in writing own commands for the IRC-Bot. First of all, create a file in includes/ircbot , the file-name should be in this format: command.inc.php . When editing the file, do not open nor close PHP-tags. Any variable you assign will be discarded as soon as your command returns. Some variables, specially all listed under $this- , have special meanings or effects. Before a command is executed, the IRC-Bot ensures that the MySQL-Socket is working, that $this- user points to the right user and that the user is authenticated. Below you will find a table with related functions and attributes. You can chain-load any built-in command by calling $this- _command(\"My Parameters\") . You cannot chain-load external commands. To enable your command, edit your config.php and add something like this: ... $config['irc_external'][] = mycommand ; ... See: Example Functions and Attributes ... that are accessible from within an extension Functions Function( (Type) $Variable [= Default] [,...] ) Returns Description $this- getChan( ) String Returns channel of current event. $this- getData( (boolean) $Block = false ) String/Boolean Returns a line from the IRC-Buffer if it's not matched against any other command . If $Block is true , wait until a suitable line is returned. $this- getUser( ) String Returns nick of current user. Not to confuse with $this- user ! $this- get_user( ) Array See $this- user in Attributes. $this- irc_raw( (string) $Protocol ) Boolean Sends raw IRC-Protocol. $this- isAuthd( ) Boolean true if the user is authenticated. $this- joinChan( (string) $Channel ) Boolean Joins given $Channel . $this- log( (string) $Message ) Boolean Logs given $Message into STDOUT . $this- read( (string) $Buffer ) String/Boolean Returns a line from given $Buffer or false if there's nothing suitable inside the Buffer. Please use $this- getData() for handler-safe data retrieval. $this- respond( (string) $Message ) Boolean Responds to the request auto-detecting channel or private message. Attributes Attribute Type Description $params String Contains all arguments that are passed to the .command . $this- chan Array Channels that are configured. $this- commands Array Contains accessible commands . $this- config Array Contains $config from config.php . $this- data String Contains raw IRC-Protocol. $this- debug Boolean Debug-Flag. $this- external Array Contains loaded extra commands . $this- nick String Bot's nick on the IRC. $this- pass String IRC-Server's passphrase. $this- port Int IRC-Server's port-number. $this- server String IRC-Server's hostname. $this- ssl Boolean SSL-Flag. $this- tick Int Interval to check buffers in microseconds. $this- user Array Array containing details about the user that sent the request . Example! includes/ircbot/join-ng.inc.php if( $this- user['level'] != 10 ) { return $this- respond( Sorry only admins can make me join. ); } if( $this- getChan() == #noc ) { $this- respond( Joining $params ); $this- joinChan($params); } else { $this- respond( Sorry, only people from #noc can make join. ); } config.php ... $config['irc_external'][] = join-ng ; ...","title":"Quick Guide"},{"location":"Extensions/IRC-Bot-Extensions/#quick-guide","text":"Okay this is a very quick walk-through in writing own commands for the IRC-Bot. First of all, create a file in includes/ircbot , the file-name should be in this format: command.inc.php . When editing the file, do not open nor close PHP-tags. Any variable you assign will be discarded as soon as your command returns. Some variables, specially all listed under $this- , have special meanings or effects. Before a command is executed, the IRC-Bot ensures that the MySQL-Socket is working, that $this- user points to the right user and that the user is authenticated. Below you will find a table with related functions and attributes. You can chain-load any built-in command by calling $this- _command(\"My Parameters\") . You cannot chain-load external commands. To enable your command, edit your config.php and add something like this: ... $config['irc_external'][] = mycommand ; ... See: Example","title":"Quick Guide"},{"location":"Extensions/IRC-Bot-Extensions/#functions-and-attributes","text":"... that are accessible from within an extension","title":"Functions and Attributes"},{"location":"Extensions/IRC-Bot-Extensions/#functions","text":"Function( (Type) $Variable [= Default] [,...] ) Returns Description $this- getChan( ) String Returns channel of current event. $this- getData( (boolean) $Block = false ) String/Boolean Returns a line from the IRC-Buffer if it's not matched against any other command . If $Block is true , wait until a suitable line is returned. $this- getUser( ) String Returns nick of current user. Not to confuse with $this- user ! $this- get_user( ) Array See $this- user in Attributes. $this- irc_raw( (string) $Protocol ) Boolean Sends raw IRC-Protocol. $this- isAuthd( ) Boolean true if the user is authenticated. $this- joinChan( (string) $Channel ) Boolean Joins given $Channel . $this- log( (string) $Message ) Boolean Logs given $Message into STDOUT . $this- read( (string) $Buffer ) String/Boolean Returns a line from given $Buffer or false if there's nothing suitable inside the Buffer. Please use $this- getData() for handler-safe data retrieval. $this- respond( (string) $Message ) Boolean Responds to the request auto-detecting channel or private message.","title":"Functions"},{"location":"Extensions/IRC-Bot-Extensions/#attributes","text":"Attribute Type Description $params String Contains all arguments that are passed to the .command . $this- chan Array Channels that are configured. $this- commands Array Contains accessible commands . $this- config Array Contains $config from config.php . $this- data String Contains raw IRC-Protocol. $this- debug Boolean Debug-Flag. $this- external Array Contains loaded extra commands . $this- nick String Bot's nick on the IRC. $this- pass String IRC-Server's passphrase. $this- port Int IRC-Server's port-number. $this- server String IRC-Server's hostname. $this- ssl Boolean SSL-Flag. $this- tick Int Interval to check buffers in microseconds. $this- user Array Array containing details about the user that sent the request .","title":"Attributes"},{"location":"Extensions/IRC-Bot-Extensions/#example","text":"includes/ircbot/join-ng.inc.php if( $this- user['level'] != 10 ) { return $this- respond( Sorry only admins can make me join. ); } if( $this- getChan() == #noc ) { $this- respond( Joining $params ); $this- joinChan($params); } else { $this- respond( Sorry, only people from #noc can make join. ); } config.php ... $config['irc_external'][] = join-ng ; ...","title":"Example!"},{"location":"Extensions/IRC-Bot/","text":"About Configuration Defaults IRC-Commands Examples Server examples: Channel notations: Hostmask authentication: Extensions?! Systemd start up script About LibreNMS has an easy to use IRC-Interface for basic tasks like viewing last log-entry, current device/port status and such. By default the IRC-Bot will not start when executed and will return an error until at least $config['irc_host'] and $config['irc_port'] has been specified inside config.php . (To start the IRC-Bot run ./irc.php ) If no channel has been specified with $config['irc_chan'] , ##librenms will be used. The default Nick for the bot is LibreNMS . The Bot will reply the same way it's being called. If you send it the commands via Query, it will respond in the Query. If you send the commands via a Channel, then it will respond in the Channel. Configuration Defaults Option Default-Value Notes $config['irc_alert'] false Optional; Enables Alerting-Socket. EXPERIMENTAL $config['irc_alert_chan'] false Optional; Multiple channels can be defined as Array or delimited with , . EXPERIMENTAL $config['irc_alert_utf8'] false Optional; Enables use of strikethrough in alerts via UTF-8 encoded characters. Might cause trouble for some clients. $config['irc_alert_short'] false Optional; Send a one line alert summary instead of multi-line detailed alert. $config['irc_authtime'] 3 Optional; Defines how long in Hours an auth-session is valid. $config['irc_chan'] ##librenms Optional; Multiple channels can be defined as Array or delimited with , . Passwords are defined after a space-character . $config['irc_debug'] false Optional; Enables debug output (Wall of text) $config['irc_external'] Optional; Array or , delimited string with commands to include from includes/ircbot/*.inc.php $config['irc_host'] Required; Domain or IP to connect. If it's an IPv6 Address, embed it in [] . (Example: [::1] ) $config['irc_maxretry'] 5 Optional; How many connection attempts should be made before giving up $config['irc_nick'] LibreNMS Optional; $config['irc_pass'] Optional; This sends the IRC-PASS Sequence to IRC-Servers that require Password on Connect $config['irc_port'] 6667 Required; To enable SSL append a + before the Port. (Example: +6697 ) $config['irc_ctcp'] false Optional; Enable/disable ctcp-replies from the bot (currently VERSION, PING and TIME). $config['irc_ctcp_version'] LibreNMS IRCbot. https://www.librenms.org/ Optional: Reply-string to CTCP VERSION requests $config['irc_auth'] Optional: Array of hostmasks that are automatically authenticated. IRC-Commands Command Description .auth User/Token If user : Request an Auth-Token. If token : Authenticate session. .device hostname Prints basic information about given hostname . .down List hostnames that are down, if any. .help List available commands. .join channel Joins channel if user has admin-level. .listdevices Lists the hostnames of all known devices. .log [ N ] Prints N lines or last line of the eventlog. .port hostname ifname Prints Port-related information from ifname on given hostname . .quit Disconnect from IRC and exit. .reload Reload configuration. .status type Prints status information for given type . Type can be devices , services , ports . Shorthands are: dev , srv , prt .version Prints $this- config['project_name_version'] . ( __/!_ All commands are case-_insensitive but their arguments are case- sensitive ) Examples Server examples: Unencrypted Connection to irc.freenode.org : ... $config['irc_host'] = irc.freenode.org ; $config['irc_port'] = 6667; ... SSL-Encrypted Connection to irc.freenode.org : ... $config['irc_host'] = irc.freenode.org ; $config['irc_port'] = +6697 ; ... SSL-Encrypted Connection to irc.localdomain with Server-Password and odd port: ... $config['irc_host'] = irc.localdomain ; $config['irc_port'] = +12345 ; $config['irc_pass'] = Super Secret Passphrase123 ; ... Channel notations: Channels can be defined using Array-Notation like: ... $config['irc_chan'][] = #librenms ; $config['irc_chan'][] = #otherchan ; $config['irc_chan'][] = #noc ; ... Or using a single string using , as delimiter between various channels: ... $config['irc_chan'] = #librenms,#otherchan,#noc ; ... Hostmask authentication: ... $config['irc_auth']['admin'][] = *!root@nms.host.invalid ; $config['irc_auth']['admin'][] = *!*peter@peters.computer.invalid ; $config['irc_auth']['john][] = john!doe@login.server.invalid ; ... Any client matching one of the first two hostmasks will automatically be authenticated as the \"admin\" user in LibreNMS, and clients matching the last line will be authenticated as the user \"john\" in LibreNMS, without using .auth and a waiting for a valid token. Extensions?! The bot is coded in a unified way. This makes writing extensions by far less painful. Simply add your command to the $config['irc_external'] directive and create a file called includes/ircbot/command.inc.php containing your code. The string behind the call of .command is passed as $params . The user who requested something is accessible via $this- user . Send your reply/ies via $this- respond($string) . A more detailed documentation of the functions and variables available for extensions can be found at IRC-Bot Extensions ; Confused? Here an Echo-Example: File: config.php ... $config['irc_external'][] = echo ; ... File: includes/ircbot/echo.inc.php //Prefix everything with `You said: '...'` and return what was sent. if( $this- user['name'] != root ) { return $this- respond( You said: ' .$params. ' ); } else { return $this- respond( root shouldn't be online so late! ); } Systemd start up script Basic systemd start up script to be placed in /etc/systemd/system/ to start irc service at boot. librenms-irc.service script is located at /opt/librenms/misc/ Once copied to /etc/systemd/system/ you must run the following commands: a) chmod 664 /etc/systemd/system/librenms-irc.service b) systemctl daemon-reload c) systemctl enable librenms-irc.service d) systemctl start librenms-irc.service It can be stopped or started just like any other systemd script such as systemctl start librenms-irc.service","title":"IRC Bot"},{"location":"Extensions/IRC-Bot/#about","text":"LibreNMS has an easy to use IRC-Interface for basic tasks like viewing last log-entry, current device/port status and such. By default the IRC-Bot will not start when executed and will return an error until at least $config['irc_host'] and $config['irc_port'] has been specified inside config.php . (To start the IRC-Bot run ./irc.php ) If no channel has been specified with $config['irc_chan'] , ##librenms will be used. The default Nick for the bot is LibreNMS . The Bot will reply the same way it's being called. If you send it the commands via Query, it will respond in the Query. If you send the commands via a Channel, then it will respond in the Channel.","title":"About"},{"location":"Extensions/IRC-Bot/#configuration-defaults","text":"Option Default-Value Notes $config['irc_alert'] false Optional; Enables Alerting-Socket. EXPERIMENTAL $config['irc_alert_chan'] false Optional; Multiple channels can be defined as Array or delimited with , . EXPERIMENTAL $config['irc_alert_utf8'] false Optional; Enables use of strikethrough in alerts via UTF-8 encoded characters. Might cause trouble for some clients. $config['irc_alert_short'] false Optional; Send a one line alert summary instead of multi-line detailed alert. $config['irc_authtime'] 3 Optional; Defines how long in Hours an auth-session is valid. $config['irc_chan'] ##librenms Optional; Multiple channels can be defined as Array or delimited with , . Passwords are defined after a space-character . $config['irc_debug'] false Optional; Enables debug output (Wall of text) $config['irc_external'] Optional; Array or , delimited string with commands to include from includes/ircbot/*.inc.php $config['irc_host'] Required; Domain or IP to connect. If it's an IPv6 Address, embed it in [] . (Example: [::1] ) $config['irc_maxretry'] 5 Optional; How many connection attempts should be made before giving up $config['irc_nick'] LibreNMS Optional; $config['irc_pass'] Optional; This sends the IRC-PASS Sequence to IRC-Servers that require Password on Connect $config['irc_port'] 6667 Required; To enable SSL append a + before the Port. (Example: +6697 ) $config['irc_ctcp'] false Optional; Enable/disable ctcp-replies from the bot (currently VERSION, PING and TIME). $config['irc_ctcp_version'] LibreNMS IRCbot. https://www.librenms.org/ Optional: Reply-string to CTCP VERSION requests $config['irc_auth'] Optional: Array of hostmasks that are automatically authenticated.","title":"Configuration &amp; Defaults"},{"location":"Extensions/IRC-Bot/#irc-commands","text":"Command Description .auth User/Token If user : Request an Auth-Token. If token : Authenticate session. .device hostname Prints basic information about given hostname . .down List hostnames that are down, if any. .help List available commands. .join channel Joins channel if user has admin-level. .listdevices Lists the hostnames of all known devices. .log [ N ] Prints N lines or last line of the eventlog. .port hostname ifname Prints Port-related information from ifname on given hostname . .quit Disconnect from IRC and exit. .reload Reload configuration. .status type Prints status information for given type . Type can be devices , services , ports . Shorthands are: dev , srv , prt .version Prints $this- config['project_name_version'] . ( __/!_ All commands are case-_insensitive but their arguments are case- sensitive )","title":"IRC-Commands"},{"location":"Extensions/IRC-Bot/#examples","text":"","title":"Examples"},{"location":"Extensions/IRC-Bot/#server-examples","text":"Unencrypted Connection to irc.freenode.org : ... $config['irc_host'] = irc.freenode.org ; $config['irc_port'] = 6667; ... SSL-Encrypted Connection to irc.freenode.org : ... $config['irc_host'] = irc.freenode.org ; $config['irc_port'] = +6697 ; ... SSL-Encrypted Connection to irc.localdomain with Server-Password and odd port: ... $config['irc_host'] = irc.localdomain ; $config['irc_port'] = +12345 ; $config['irc_pass'] = Super Secret Passphrase123 ; ...","title":"Server examples:"},{"location":"Extensions/IRC-Bot/#channel-notations","text":"Channels can be defined using Array-Notation like: ... $config['irc_chan'][] = #librenms ; $config['irc_chan'][] = #otherchan ; $config['irc_chan'][] = #noc ; ... Or using a single string using , as delimiter between various channels: ... $config['irc_chan'] = #librenms,#otherchan,#noc ; ...","title":"Channel notations:"},{"location":"Extensions/IRC-Bot/#hostmask-authentication","text":"... $config['irc_auth']['admin'][] = *!root@nms.host.invalid ; $config['irc_auth']['admin'][] = *!*peter@peters.computer.invalid ; $config['irc_auth']['john][] = john!doe@login.server.invalid ; ... Any client matching one of the first two hostmasks will automatically be authenticated as the \"admin\" user in LibreNMS, and clients matching the last line will be authenticated as the user \"john\" in LibreNMS, without using .auth and a waiting for a valid token.","title":"Hostmask authentication:"},{"location":"Extensions/IRC-Bot/#extensions","text":"The bot is coded in a unified way. This makes writing extensions by far less painful. Simply add your command to the $config['irc_external'] directive and create a file called includes/ircbot/command.inc.php containing your code. The string behind the call of .command is passed as $params . The user who requested something is accessible via $this- user . Send your reply/ies via $this- respond($string) . A more detailed documentation of the functions and variables available for extensions can be found at IRC-Bot Extensions ; Confused? Here an Echo-Example: File: config.php ... $config['irc_external'][] = echo ; ... File: includes/ircbot/echo.inc.php //Prefix everything with `You said: '...'` and return what was sent. if( $this- user['name'] != root ) { return $this- respond( You said: ' .$params. ' ); } else { return $this- respond( root shouldn't be online so late! ); }","title":"Extensions?!"},{"location":"Extensions/IRC-Bot/#systemd-start-up-script","text":"Basic systemd start up script to be placed in /etc/systemd/system/ to start irc service at boot. librenms-irc.service script is located at /opt/librenms/misc/ Once copied to /etc/systemd/system/ you must run the following commands: a) chmod 664 /etc/systemd/system/librenms-irc.service b) systemctl daemon-reload c) systemctl enable librenms-irc.service d) systemctl start librenms-irc.service It can be stopped or started just like any other systemd script such as systemctl start librenms-irc.service","title":"Systemd start up script"},{"location":"Extensions/InfluxDB/","text":"","title":"InfluxDB"},{"location":"Extensions/Interface-Description-Parsing/","text":"About Librenms can interpret, display and group certain additional information on ports. This is done based on the format that the port description is written although it's possible to customise the parser to be specific for your setup. Keywords See examples for formats. Keywords Cust - Customer Transit - Transit link Peering - Peering link Core - Infrastructure link (non-customer) Info-keywords () contains a note {} contains your circuit id [] contains the service type or speed Examples Cisco IOS / NXOS / IOSXR: interface Gi0/1 descr Transit: Example Provider (AS65000) interface Gi0/2 descr Peering: Peering Exchange interface Gi0/3 descr Core: core.router01 FastEthernet0/0 (Telco X CCID023141) interface Gi0/4 descr Cust: Example Customer [10Mbit] (T1 Telco Y CCID129031) {EXAMP0001} Unix / Linux: This requires an additional script to be setup # eth3: Cust: Example Customer [10Mbit] (T1 Telco Y CCID129031) {EXAMP0001} # eth0: Transit: Example Provider (AS65000) # eth1: Core: core.router01 FastEthernet0/0 (Telco X CCID023141) # eth2: Peering: Peering Exchange Customisation The following config options can be set to enable more custom types: $config['customers_descr'][] = 'cust'; $config['transit_descr'][] = transit ; $config['peering_descr'][] = peering ; $config['core_descr'][] = core ; $config['custom_descr'][] = something_made_up ; Custom interface parser It's also possible to write your own parser, the existing one is: includes/port-descr-parser.inc.php Once you've created your own then you can enable it with: $config['port_descr_parser'] = includes/custom/my-port-descr-parser.inc.php ; Setup For Unix / Linux based systems, you need to run an additional script to support the parsing of interface infor. Add ifAlias from /opt/librenms/scripts/ or download it from here to the Server and make it executable chmod +x /path/to/ifAlias Add to snmpd.conf something like: pass .1.3.6.1.2.1.31.1.1.1.18 /path/to/ifAlias Restart snmpd - service snmpd restart There are no changes to be made or additions to install for the polling librenms. Now you can set up your keywords in your /etc/network/interfaces //Add more distributions than just Debian based","title":"Interface Description Parsing"},{"location":"Extensions/Interface-Description-Parsing/#about","text":"Librenms can interpret, display and group certain additional information on ports. This is done based on the format that the port description is written although it's possible to customise the parser to be specific for your setup.","title":"About"},{"location":"Extensions/Interface-Description-Parsing/#keywords","text":"See examples for formats. Keywords Cust - Customer Transit - Transit link Peering - Peering link Core - Infrastructure link (non-customer) Info-keywords () contains a note {} contains your circuit id [] contains the service type or speed","title":"Keywords"},{"location":"Extensions/Interface-Description-Parsing/#examples","text":"Cisco IOS / NXOS / IOSXR: interface Gi0/1 descr Transit: Example Provider (AS65000) interface Gi0/2 descr Peering: Peering Exchange interface Gi0/3 descr Core: core.router01 FastEthernet0/0 (Telco X CCID023141) interface Gi0/4 descr Cust: Example Customer [10Mbit] (T1 Telco Y CCID129031) {EXAMP0001} Unix / Linux: This requires an additional script to be setup # eth3: Cust: Example Customer [10Mbit] (T1 Telco Y CCID129031) {EXAMP0001} # eth0: Transit: Example Provider (AS65000) # eth1: Core: core.router01 FastEthernet0/0 (Telco X CCID023141) # eth2: Peering: Peering Exchange","title":"Examples"},{"location":"Extensions/Interface-Description-Parsing/#customisation","text":"The following config options can be set to enable more custom types: $config['customers_descr'][] = 'cust'; $config['transit_descr'][] = transit ; $config['peering_descr'][] = peering ; $config['core_descr'][] = core ; $config['custom_descr'][] = something_made_up ;","title":"Customisation"},{"location":"Extensions/Interface-Description-Parsing/#custom-interface-parser","text":"It's also possible to write your own parser, the existing one is: includes/port-descr-parser.inc.php Once you've created your own then you can enable it with: $config['port_descr_parser'] = includes/custom/my-port-descr-parser.inc.php ;","title":"Custom interface parser"},{"location":"Extensions/Interface-Description-Parsing/#setup","text":"For Unix / Linux based systems, you need to run an additional script to support the parsing of interface infor. Add ifAlias from /opt/librenms/scripts/ or download it from here to the Server and make it executable chmod +x /path/to/ifAlias Add to snmpd.conf something like: pass .1.3.6.1.2.1.31.1.1.1.18 /path/to/ifAlias Restart snmpd - service snmpd restart There are no changes to be made or additions to install for the polling librenms. Now you can set up your keywords in your /etc/network/interfaces //Add more distributions than just Debian based","title":"Setup"},{"location":"Extensions/MIB-based-polling/","text":"WARNING MIB-based polling is unmaintained and may be removed in the future. It might overload your LibreNMS server, destroy your data, set your routers on fire, and kick your cat. It has been tested against a very limited set of devices (namely Ruckus ZD1000 wireless controllers, and net-snmp on Linux). It may fail badly on other hardware. The approach taken is fairly simplistic and I claim no special expertise in understanding MIBs. Most of my knowledge of SNMP comes from reading net-snmp man pages, and reverse engineering the output of snmptranslate and snmpwalk and trying to make devices work with LibreNMS. I may have made false assumptions and probably use wrong terminology in many places. Feel free to offer corrections/suggestions via pull requests or email. Paul Gear Overview This is the 2nd experimental release of MIB polling. If you used the 1st release, you MUST perform a data conversion of the MIB-based polling files using the script contrib/convert-mib-graphs.sh . Failure to do so will result in your data collection silently stopping. MIB-based polling is disabled by default; you must set $config['poller_modules']['mib'] = true; in config.php to enable it. Preparation MIB-based polling results in the creation of a separate RRD file for each device-MIB-OID-index combination encountered by LibreNMS. Thus it can cause your disk space requirements to grow enormously and rapidly. As an example, enabling MIB-based polling on my test Ruckus ZD1000 wireless controller with one (1) AP and one (1) user on that AP resulted in a 5 MB increase in RRD space usage for that device. Each RRD file is around 125 KB in size (on x64-64 systems) and is pre-allocated, so after the first discovery and poller run of each device with MIB-based polling enabled, disk space should be stable. However, monitoring disk usage is your responsibility. (The good news: you can do this with LibreNMS. :-) Unless you are running LibreNMS on a powerful system with pure SSD for RRD storage, it is strongly recommended that you enable rrdcached and ensure it is working before enabling MIB-based polling. Components The components involved in MIB-based polling are: Discovery OS discovery determines whether there are MIBs which should be polled. If so, they are registered in the device_mibs association table as relevant to that device. MIB associations for each device can be viewed at: http://your.librenms.server/device/device=XXXX/tab=mib/ All MIBs used by MIB-based polling may be viewed at: http://your.librenms.server/mibs/ All device associations created by MIB-based polling may be viewed at: http://your.librenms.server/mib_assoc/ (Devices - MIB associations) In addition, all devices are checked for a MIB matching their sysObjectID. If there is a matching MIB available, it is automatically included. The sysObjectID for each device is now displayed on the overview page: http://your.librenms.server/device/device=XXXX/ Note that the above means that no MIB-based polling will occur until the devices in question are rediscovered. If you want to begin MIB-based polling immediately, you must force rediscovery from the web UI, or run it from the CLI using ./discovery.php -h HOSTNAME During discovery, relevant MIBs are parsed using snmptranslate , and the data returned is used to populate a database which guides the poller in what to store. At the moment, only OIDs of INTEGER, Integer32, Gauge32, Unsigned32, Counter32, and Counter64 data types are parsed, and negative values are untested. Devices may be excluded from MIB polling by changing the setting in the device edit screen: http://your.librenms.server/device/device=XXXX/tab=edit/section=modules/ Polling During polling the MIB associations for the device are looked up, and the MIB is polled for current values. You can see the values which LibreNMS has retrieved from the MIB poller in the \"Device MIB values\" section of http://your.librenms.server/device/device=XXXX/tab=mib/ Data from the latest poll is saved in the table device_oids , and RRD files are saved in the relevant device directory as mibName-oidName-index.rrd Graphing For each graph type defined in the database, a graph will appear in: http://your.librenms.server/device/device=XXXX/tab=graphs/group=mib/ MIB graphs are generated generically by html/includes/graphs/device/mib.inc.php There is presently no customisation of graphs available. If there is only one index under a given OID, it is displayed as a normal line graph; if there multiple OIDs, they are displayed as a stacked graph. At the moment, all indices are placed in the same graph. This is non-optimal for, e.g., wifi controllers with hundreds of APs attached. Alerting There is no specific support for alerting in the MIB-based polling engine, but the data it collects may be used in alerts. Here's an example of an alert which detects when a Ruckus wireless controller reports meshing disabled on an access point: http://libertysys.com.au/imagebin/3btw98DR.png Adding/testing other device types One of the goals of this work is to help take out the heavy lifting of adding new device types. Even if you want fully-customised graphs or tables, you can still use the MIB-based poller to make it easy to gather the data you want to graph. How to add a new device MIB Ensure the manufacturer's MIB is present in the mibs directory. If you plan to submit your work to LibreNMS, make sure you attribute the source of the MIB, including the exact download URL if possible, or explicit instructions about how to obtain it. Check that snmptranslate -Ts -M mibs -m MODULE | grep mibName produces a named list of OIDs. See the comments on snmp_mib_walk() in includes/snmp.inc.php for an example. Check that snmptranslate -Td -On -M mibs -m MODULE MODULE::mibName produces a parsed description of the OID values. An example can be found in the comments for snmp_mib_parse() in includes/snmp.inc.php . Get the sysObjectID from a device, for example: snmpget -v2c -c public -OUsb -m SNMPv2-MIB -M /opt/librenms/mibs -t 30 hostname sysObjectID.0 Ensure snmptranslate -m all -M /opt/librenms/mibs OID 2 /dev/null (where OID is the value returned for sysObjectID above) results in a valid name for the MIB. See the comments for snmp_translate() in includes/snmp.inc.php for an example. If this step fails, it means there is something wrong with the MIB and net-snmp cannot parse it. Add any additional MIBs you wish to poll for specific device types to includes/discovery/os/OSNAME.inc.php by calling poll_mibs() with the MIB module and name. See includes/discovery/os/ruckuswireless.inc.php for an example. That should be all you need to see MIB graphs! If you want to develop more customised support for a particular OS, you can follow the above process, then use the resultant data collected by LibreNMS in the RRD files or the database tables device_oids Configuration Main Configuration In /opt/librenms/config.php add $config['poller_modules']['mib'] = true; to enable MIB polling globally. Alternatively you can enable MIB polling per device by enabling it within the modules section for the specific device. Discovery You need to add your desired MIBs to /opt/librenms/mibs folder. You will then need to create a list of the OIDs you wish to use in the OS definition. Example /opt/librenms/includes/definitions/ruckuswireless.yaml register_mibs: ruckusZDSystemStats: RUCKUS-ZD-SYSTEM-MIB ruckusZDWLANTable: RUCKUS-ZD-WLAN-MIB ruckusZDWLANAPTable: RUCKUS-ZD-WLAN-MIB ruckusZDWLANAPRadioStatsTable: RUCKUS-ZD-WLAN-MIB These OIDs and MIBs will then be registered as part of the OS discovery ready for mib polling to work. TODO What's not included in MIB-based polling at present? These may be present in future versions. Pull requests gratefully accepted! Parse and save integer and timetick data types. Filter MIBs/OIDs from being polled and/or saved. Move graphs from the MIB section to elsewhere. e.g. If a device uses a unique MIB for CPU utilisation, we should display it under the relevant health tab. Combine multiple MIB values into graphs automatically on a predefined or user-defined basis. Include MIB types in stats submissions.","title":"Mib Based Polling (ALPHA)"},{"location":"Extensions/MIB-based-polling/#warning","text":"MIB-based polling is unmaintained and may be removed in the future. It might overload your LibreNMS server, destroy your data, set your routers on fire, and kick your cat. It has been tested against a very limited set of devices (namely Ruckus ZD1000 wireless controllers, and net-snmp on Linux). It may fail badly on other hardware. The approach taken is fairly simplistic and I claim no special expertise in understanding MIBs. Most of my knowledge of SNMP comes from reading net-snmp man pages, and reverse engineering the output of snmptranslate and snmpwalk and trying to make devices work with LibreNMS. I may have made false assumptions and probably use wrong terminology in many places. Feel free to offer corrections/suggestions via pull requests or email. Paul Gear","title":"WARNING"},{"location":"Extensions/MIB-based-polling/#overview","text":"This is the 2nd experimental release of MIB polling. If you used the 1st release, you MUST perform a data conversion of the MIB-based polling files using the script contrib/convert-mib-graphs.sh . Failure to do so will result in your data collection silently stopping. MIB-based polling is disabled by default; you must set $config['poller_modules']['mib'] = true; in config.php to enable it.","title":"Overview"},{"location":"Extensions/MIB-based-polling/#preparation","text":"MIB-based polling results in the creation of a separate RRD file for each device-MIB-OID-index combination encountered by LibreNMS. Thus it can cause your disk space requirements to grow enormously and rapidly. As an example, enabling MIB-based polling on my test Ruckus ZD1000 wireless controller with one (1) AP and one (1) user on that AP resulted in a 5 MB increase in RRD space usage for that device. Each RRD file is around 125 KB in size (on x64-64 systems) and is pre-allocated, so after the first discovery and poller run of each device with MIB-based polling enabled, disk space should be stable. However, monitoring disk usage is your responsibility. (The good news: you can do this with LibreNMS. :-) Unless you are running LibreNMS on a powerful system with pure SSD for RRD storage, it is strongly recommended that you enable rrdcached and ensure it is working before enabling MIB-based polling.","title":"Preparation"},{"location":"Extensions/MIB-based-polling/#components","text":"The components involved in MIB-based polling are:","title":"Components"},{"location":"Extensions/MIB-based-polling/#discovery","text":"OS discovery determines whether there are MIBs which should be polled. If so, they are registered in the device_mibs association table as relevant to that device. MIB associations for each device can be viewed at: http://your.librenms.server/device/device=XXXX/tab=mib/ All MIBs used by MIB-based polling may be viewed at: http://your.librenms.server/mibs/ All device associations created by MIB-based polling may be viewed at: http://your.librenms.server/mib_assoc/ (Devices - MIB associations) In addition, all devices are checked for a MIB matching their sysObjectID. If there is a matching MIB available, it is automatically included. The sysObjectID for each device is now displayed on the overview page: http://your.librenms.server/device/device=XXXX/ Note that the above means that no MIB-based polling will occur until the devices in question are rediscovered. If you want to begin MIB-based polling immediately, you must force rediscovery from the web UI, or run it from the CLI using ./discovery.php -h HOSTNAME During discovery, relevant MIBs are parsed using snmptranslate , and the data returned is used to populate a database which guides the poller in what to store. At the moment, only OIDs of INTEGER, Integer32, Gauge32, Unsigned32, Counter32, and Counter64 data types are parsed, and negative values are untested. Devices may be excluded from MIB polling by changing the setting in the device edit screen: http://your.librenms.server/device/device=XXXX/tab=edit/section=modules/","title":"Discovery"},{"location":"Extensions/MIB-based-polling/#polling","text":"During polling the MIB associations for the device are looked up, and the MIB is polled for current values. You can see the values which LibreNMS has retrieved from the MIB poller in the \"Device MIB values\" section of http://your.librenms.server/device/device=XXXX/tab=mib/ Data from the latest poll is saved in the table device_oids , and RRD files are saved in the relevant device directory as mibName-oidName-index.rrd","title":"Polling"},{"location":"Extensions/MIB-based-polling/#graphing","text":"For each graph type defined in the database, a graph will appear in: http://your.librenms.server/device/device=XXXX/tab=graphs/group=mib/ MIB graphs are generated generically by html/includes/graphs/device/mib.inc.php There is presently no customisation of graphs available. If there is only one index under a given OID, it is displayed as a normal line graph; if there multiple OIDs, they are displayed as a stacked graph. At the moment, all indices are placed in the same graph. This is non-optimal for, e.g., wifi controllers with hundreds of APs attached.","title":"Graphing"},{"location":"Extensions/MIB-based-polling/#alerting","text":"There is no specific support for alerting in the MIB-based polling engine, but the data it collects may be used in alerts. Here's an example of an alert which detects when a Ruckus wireless controller reports meshing disabled on an access point: http://libertysys.com.au/imagebin/3btw98DR.png","title":"Alerting"},{"location":"Extensions/MIB-based-polling/#addingtesting-other-device-types","text":"One of the goals of this work is to help take out the heavy lifting of adding new device types. Even if you want fully-customised graphs or tables, you can still use the MIB-based poller to make it easy to gather the data you want to graph.","title":"Adding/testing other device types"},{"location":"Extensions/MIB-based-polling/#how-to-add-a-new-device-mib","text":"Ensure the manufacturer's MIB is present in the mibs directory. If you plan to submit your work to LibreNMS, make sure you attribute the source of the MIB, including the exact download URL if possible, or explicit instructions about how to obtain it. Check that snmptranslate -Ts -M mibs -m MODULE | grep mibName produces a named list of OIDs. See the comments on snmp_mib_walk() in includes/snmp.inc.php for an example. Check that snmptranslate -Td -On -M mibs -m MODULE MODULE::mibName produces a parsed description of the OID values. An example can be found in the comments for snmp_mib_parse() in includes/snmp.inc.php . Get the sysObjectID from a device, for example: snmpget -v2c -c public -OUsb -m SNMPv2-MIB -M /opt/librenms/mibs -t 30 hostname sysObjectID.0 Ensure snmptranslate -m all -M /opt/librenms/mibs OID 2 /dev/null (where OID is the value returned for sysObjectID above) results in a valid name for the MIB. See the comments for snmp_translate() in includes/snmp.inc.php for an example. If this step fails, it means there is something wrong with the MIB and net-snmp cannot parse it. Add any additional MIBs you wish to poll for specific device types to includes/discovery/os/OSNAME.inc.php by calling poll_mibs() with the MIB module and name. See includes/discovery/os/ruckuswireless.inc.php for an example. That should be all you need to see MIB graphs! If you want to develop more customised support for a particular OS, you can follow the above process, then use the resultant data collected by LibreNMS in the RRD files or the database tables device_oids","title":"How to add a new device MIB"},{"location":"Extensions/MIB-based-polling/#configuration","text":"","title":"Configuration"},{"location":"Extensions/MIB-based-polling/#main-configuration","text":"In /opt/librenms/config.php add $config['poller_modules']['mib'] = true; to enable MIB polling globally. Alternatively you can enable MIB polling per device by enabling it within the modules section for the specific device.","title":"Main Configuration"},{"location":"Extensions/MIB-based-polling/#discovery_1","text":"You need to add your desired MIBs to /opt/librenms/mibs folder. You will then need to create a list of the OIDs you wish to use in the OS definition.","title":"Discovery"},{"location":"Extensions/MIB-based-polling/#example","text":"/opt/librenms/includes/definitions/ruckuswireless.yaml register_mibs: ruckusZDSystemStats: RUCKUS-ZD-SYSTEM-MIB ruckusZDWLANTable: RUCKUS-ZD-WLAN-MIB ruckusZDWLANAPTable: RUCKUS-ZD-WLAN-MIB ruckusZDWLANAPRadioStatsTable: RUCKUS-ZD-WLAN-MIB These OIDs and MIBs will then be registered as part of the OS discovery ready for mib polling to work.","title":"Example"},{"location":"Extensions/MIB-based-polling/#todo","text":"What's not included in MIB-based polling at present? These may be present in future versions. Pull requests gratefully accepted! Parse and save integer and timetick data types. Filter MIBs/OIDs from being polled and/or saved. Move graphs from the MIB section to elsewhere. e.g. If a device uses a unique MIB for CPU utilisation, we should display it under the relevant health tab. Combine multiple MIB values into graphs automatically on a predefined or user-defined basis. Include MIB types in stats submissions.","title":"TODO"},{"location":"Extensions/Metric-Storage/","text":"Metric storage By default we ship all metrics to RRD files, either directly or via RRDCached . On top of this you can ship metrics to Graphite, InfluxDB, OpenTSDB or Prometheus. At present you can't use these backends to display graphs within LibreNMS and will need to use something like Grafana . For further information on configuring LibreNMS to ship data to one of the other backends then please see the documentation below. Graphite InfluxDB OpenTSDB Prometheus","title":"Intro"},{"location":"Extensions/Metric-Storage/#metric-storage","text":"By default we ship all metrics to RRD files, either directly or via RRDCached . On top of this you can ship metrics to Graphite, InfluxDB, OpenTSDB or Prometheus. At present you can't use these backends to display graphs within LibreNMS and will need to use something like Grafana . For further information on configuring LibreNMS to ship data to one of the other backends then please see the documentation below. Graphite InfluxDB OpenTSDB Prometheus","title":"Metric storage"},{"location":"Extensions/NFSen/","text":"NFSen The installation of NFSen is out of scope for this document / LibreNMS Configuration The following is the configuration that can be used: $config['nfsen_enable'] = 1; $config['nfsen_split_char'] = '_'; $config['nfsen_rrds'][] = '/var/nfsen/profiles-stat/live/'; $config['nfsen_rrds'][] = '/var/nfsen/profiles-stat'; $config['nfsen_suffix'] = _yourdomain_com ; Set $config['nfsen_enable'] = 1; to enable NFSen support. $config['nfsen_rrds'] This value tells us where your NFSen rrd files live. This can also be an array to specify more directories like: $config['nfsen_rrds'][] = '/var/nfsen/profiles-stat/sitea/'; $config['nfsen_rrds'][] = '/var/nfsen/profiles-stat/siteb/'; Although for most setups, it will look like below, with the profiles-stat/live directory being where it stores the general RRDs for data sources. $config['nfsen_rrds'][] = '/var/nfsen/profiles-stat/live'; $config['nfsen_split_char'] This value tells us what to replace the full stops . in the devices hostname with. $config['nfsen_suffix'] This value will be removed from the domain name and can be useful if your rrd files are something like host1.rrd but your device hostname is domain.host1.rrd . You can then set $config['nfsen_suffix'] = 'domain'; If you wish to render info for configure channels for a device, you need add the various profile-stat directories your system uses, which for most systems will be as below. $config['nfsen_rrds'][] = '/var/nfsen/profiles-stat'; When adding sources to nfsen.conf, it is important to use the hostname that matches what is configured in LibreNMS, because the rrd files NfSen creates is named after the source name (ident), and it doesn't allow you to use an IP address instead. However, in LibreNMS, if your device is added by an IP address, add your source with any name of your choice, and create a symbolic link to the rrd file. cd /var/nfsen/profiles-stat/sitea/ ln -s mychannel.rrd librenmsdeviceIP.rrd When creating profiles under nfsen, be sure to use the hostname so it matches the name in LibreNMS. That is where channel data will be pulled from. You should see a new tab for the device called Nfsen.","title":"NFSen"},{"location":"Extensions/NFSen/#nfsen","text":"The installation of NFSen is out of scope for this document / LibreNMS","title":"NFSen"},{"location":"Extensions/NFSen/#configuration","text":"The following is the configuration that can be used: $config['nfsen_enable'] = 1; $config['nfsen_split_char'] = '_'; $config['nfsen_rrds'][] = '/var/nfsen/profiles-stat/live/'; $config['nfsen_rrds'][] = '/var/nfsen/profiles-stat'; $config['nfsen_suffix'] = _yourdomain_com ; Set $config['nfsen_enable'] = 1; to enable NFSen support. $config['nfsen_rrds'] This value tells us where your NFSen rrd files live. This can also be an array to specify more directories like: $config['nfsen_rrds'][] = '/var/nfsen/profiles-stat/sitea/'; $config['nfsen_rrds'][] = '/var/nfsen/profiles-stat/siteb/'; Although for most setups, it will look like below, with the profiles-stat/live directory being where it stores the general RRDs for data sources. $config['nfsen_rrds'][] = '/var/nfsen/profiles-stat/live'; $config['nfsen_split_char'] This value tells us what to replace the full stops . in the devices hostname with. $config['nfsen_suffix'] This value will be removed from the domain name and can be useful if your rrd files are something like host1.rrd but your device hostname is domain.host1.rrd . You can then set $config['nfsen_suffix'] = 'domain'; If you wish to render info for configure channels for a device, you need add the various profile-stat directories your system uses, which for most systems will be as below. $config['nfsen_rrds'][] = '/var/nfsen/profiles-stat'; When adding sources to nfsen.conf, it is important to use the hostname that matches what is configured in LibreNMS, because the rrd files NfSen creates is named after the source name (ident), and it doesn't allow you to use an IP address instead. However, in LibreNMS, if your device is added by an IP address, add your source with any name of your choice, and create a symbolic link to the rrd file. cd /var/nfsen/profiles-stat/sitea/ ln -s mychannel.rrd librenmsdeviceIP.rrd When creating profiles under nfsen, be sure to use the hostname so it matches the name in LibreNMS. That is where channel data will be pulled from. You should see a new tab for the device called Nfsen.","title":"Configuration"},{"location":"Extensions/Network-Map/","text":"Network Map LibreNMS has the ability to show you a network map based on: xDP Discovery MAC addresses By default, both are are included but you can enable / disable either one using the following config option: $config['network_map_items'] = array('mac','xdp'); Either remove mac or xdp depending on which you want. XDP is based on FDP, CDP and LLDP support based on the device type. A global map will be drawn from the information in the database, it is worth noting that this could lead to a large network map. Network maps for individual devices are available showing the relationship with other devices. Also you can Build Device Groups and those Device Groups can be drawn with Network Map. Network Map Configurator. This link will show you all the options and explain what they do. Link You may also access the dyanamic configuration interface example here from within LibreNMS by adding the following to config.php $config['network_map_vis_options'] = '{ configure : { enabled : true}, }'; Note You may want to disable the automatic page refresh while you're tweaking your configuration, as the refresh will reset the dynamic configuration UI to the values currently saved in config.php This can be done by going clicking on the Settings Icon then Refresh Pause. Configurator Output Once you've achieved your desired map appearance, click the generate options button at the bottom to be given the necessary parameters to add to your config.php file. You will need to paste the genrated config into config.php the format will need to look something like this. Note that the configuartor will output the config with var options you will need strip that out and at the end of the config you need to add in }'; see the example below. $config['network_map_vis_options'] = '{ nodes : { color : { background : rgba(20,252,18,1) }, font : { face : tahoma }, physics : false }, edges : { smooth : { forceDirection : none } }, interaction : { hover : true, multiselect : true, navigationButtons : true }, manipulation : { enabled : true }, physics : { barnesHut : { avoidOverlap : 0.11 }, minVelocity : 0.75 } }';","title":"Network Map"},{"location":"Extensions/Network-Map/#network-map","text":"LibreNMS has the ability to show you a network map based on: xDP Discovery MAC addresses By default, both are are included but you can enable / disable either one using the following config option: $config['network_map_items'] = array('mac','xdp'); Either remove mac or xdp depending on which you want. XDP is based on FDP, CDP and LLDP support based on the device type. A global map will be drawn from the information in the database, it is worth noting that this could lead to a large network map. Network maps for individual devices are available showing the relationship with other devices. Also you can Build Device Groups and those Device Groups can be drawn with Network Map.","title":"Network Map"},{"location":"Extensions/Network-Map/#network-map-configurator","text":"This link will show you all the options and explain what they do. Link You may also access the dyanamic configuration interface example here from within LibreNMS by adding the following to config.php $config['network_map_vis_options'] = '{ configure : { enabled : true}, }';","title":"Network Map Configurator."},{"location":"Extensions/Network-Map/#note","text":"You may want to disable the automatic page refresh while you're tweaking your configuration, as the refresh will reset the dynamic configuration UI to the values currently saved in config.php This can be done by going clicking on the Settings Icon then Refresh Pause.","title":"Note"},{"location":"Extensions/Network-Map/#configurator-output","text":"Once you've achieved your desired map appearance, click the generate options button at the bottom to be given the necessary parameters to add to your config.php file. You will need to paste the genrated config into config.php the format will need to look something like this. Note that the configuartor will output the config with var options you will need strip that out and at the end of the config you need to add in }'; see the example below. $config['network_map_vis_options'] = '{ nodes : { color : { background : rgba(20,252,18,1) }, font : { face : tahoma }, physics : false }, edges : { smooth : { forceDirection : none } }, interaction : { hover : true, multiselect : true, navigationButtons : true }, manipulation : { enabled : true }, physics : { barnesHut : { avoidOverlap : 0.11 }, minVelocity : 0.75 } }';","title":"Configurator Output"},{"location":"Extensions/OpenTSDB/","text":"","title":"OpenTSDB"},{"location":"Extensions/Oxidized/","text":"Oxidized intro Integrating LibreNMS with Oxidized brings the following benefits: Config viewing: Current, History, and Diffs all under the Configs tab of each device Automatic addition of devices to Oxidized: Including filtering and grouping to ease credential management Configuration searching (Requires oxidized-web 0.8.0 or newer) First you will need to install Oxidized following their documentation . Then you can procede to the LibreNMS Web UI and go to Oxidized Settings in the External Settings section of Global Settings. Enable it and enter the url to your oxidized instance. To have devices automatically added, you will need to configure oxidized to pull them from LibreNMS Feeding Oxidized LibreNMS will automatically map the OS to the Oxidized model name if they don't match. this means you shouldn't need to use the model_map config option within Oxidized. Detailed integration information This is a straight forward use of Oxidized, it relies on you having a working Oxidized setup which is already taking config snapshots for your devices. When you have that, you only need the following config to enable the display of device configs within the device page itself: $config['oxidized']['enabled'] = TRUE; $config['oxidized']['url'] = 'http://127.0.0.1:8888'; LibreNMS supports config versioning if Oxidized does. This is known to work with the git output module. $config['oxidized']['features']['versioning'] = true; Oxidized supports various ways to utilise credentials to login to devices, you can specify global username/password within Oxidized, Group level username/password or per device. LibreNMS currently supports sending groups back to Oxidized so that you can then define group credentials within Oxidized. To enable this support please switch on 'Enable the return of groups to Oxidized': $config['oxidized']['group_support'] = true; You can set a default group that devices will fall back to with: $config['oxidized']['default_group'] = 'default'; SELinux If you're runnng SELinux, you'll need to allow httpd to connect outbound to the network, otherwise Oxidized integration in the web UI will silently fail: setsebool -P httpd_can_network_connect 1 Feeding Oxidized Oxidized has support for feeding devices into it via an API call, support for Oxidized has been added to the LibreNMS API. A sample config for Oxidized is provided below. You will need to configure default credentials for your devices in the Oxidized config, LibreNMS doesn't provide login credentials at this time. source: default: http debug: false http: url: https://librenms/api/v0/oxidized map: name: hostname model: os group: group headers: X-Auth-Token: '01582bf94c03104ecb7953dsadsadwed' LibreNMS is able to reload the Oxidized list of nodes, each time a device is added to LibreNMS. To do so, edit the option in Global Settings External Settings Oxidized Integration or add the following to your config.php. $config['oxidized']['reload_nodes'] = true; Creating overrides To return an override to Oxidized you can do this by providing the override key, followed by matching a lookup for a host (or hosts), and finally by defining the overriding value itself. LibreNMS does not check for the validity of these attributes but will deliver them to Oxidized as defined. Matching of hosts can be done using hostname , sysname , os , location , sysDescr or hardware and including either a 'match' key and value, or a 'regex' key and value. The order of matching is: hostname sysname sysDescr hardware os location * ip To match on the device hostnames or sysnames that contain 'lon-sw' or if the location contains 'London' then you would place the following within config.php: $config['oxidized']['maps']['group']['hostname'][] = array('regex' = '/^lon-sw/', 'group' = 'london-switches'); $config['oxidized']['maps']['group']['sysname'][] = array('regex' = '/^lon-sw/', 'group' = 'london-switches'); $config['oxidized']['maps']['group']['location'][] = array('regex' = '/london/', 'group' = 'london-switches'); To match on a device os of edgeos then please use the following: $config['oxidized']['maps']['group']['os'][] = array('match' = 'edgeos', 'group' = 'wireless'); To override the IP Oxidized uses to poll the device, you can add the following within config.php: $config['oxidized']['maps']['ip']['sysname'][] = array('regex' = '/^my.node/', 'ip' = '192.168.1.10'); $config['oxidized']['maps']['ip']['sysname'][] = array('match' = 'my-other.node', 'ip' = '192.168.1.20'); This allows extending the configuration further by providing a completely flexible model for custom flags and settings, for example, below shows the ability to add an ssh_proxy host within Oxidized simply by adding the below to your configuration: $config['oxidized']['maps']['ssh_proxy']['sysname'][] = array('regex' = '/^my.node/', 'ssh_proxy' = 'my-ssh-gateway.node'); Or of course, any custom value that could be needed or wanted can be applied, for example, setting a \"myAttribute\" to \"Super cool value\" for any configured and enabled \"routeros\" device. $config['oxidized']['maps']['myAttribute']['os'][] = array('match' = 'routeros', 'myAttribute' = 'Super cool value'); Verify the return of groups by querying the API: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/oxidized If you need to, you can specify credentials for groups by using the following in your Oxidized config: groups: groupname : username: user password: password Miscellaneous If you have devices which you do not wish to appear in Oxidized then you can edit those devices in Device - Edit - Misc and enable \"Exclude from Oxidized?\" It's also possible to exclude certain device types and OS' from being output via the API. This is currently only possible via config.php: $config['oxidized']['ignore_types'] = array('server','power'); $config['oxidized']['ignore_os'] = array('linux','windows'); Trigger configuration backups Using the Oxidized REST API and Syslog Hooks , Oxidized can trigger configuration downloads whenever a configuration change event has been logged. An example script to do this is included in ./scripts/syslog-notify-oxidized.php . Oxidized can spawn a new worker thread and perform the download immediately with the following configuration next_adds_job: true Validate Oxidized config You can perform basic validation of the Oxidized configuration by going to the Overview - Tools - Oxidized link and in the Oxidized config validation page, paste your yaml file into the input box and click 'Validate YAML'. We check for yaml syntax errors and also actual config values to ensure they are used in the correct location.","title":"Oxidized intro"},{"location":"Extensions/Oxidized/#oxidized-intro","text":"Integrating LibreNMS with Oxidized brings the following benefits: Config viewing: Current, History, and Diffs all under the Configs tab of each device Automatic addition of devices to Oxidized: Including filtering and grouping to ease credential management Configuration searching (Requires oxidized-web 0.8.0 or newer) First you will need to install Oxidized following their documentation . Then you can procede to the LibreNMS Web UI and go to Oxidized Settings in the External Settings section of Global Settings. Enable it and enter the url to your oxidized instance. To have devices automatically added, you will need to configure oxidized to pull them from LibreNMS Feeding Oxidized LibreNMS will automatically map the OS to the Oxidized model name if they don't match. this means you shouldn't need to use the model_map config option within Oxidized.","title":"Oxidized intro"},{"location":"Extensions/Oxidized/#detailed-integration-information","text":"This is a straight forward use of Oxidized, it relies on you having a working Oxidized setup which is already taking config snapshots for your devices. When you have that, you only need the following config to enable the display of device configs within the device page itself: $config['oxidized']['enabled'] = TRUE; $config['oxidized']['url'] = 'http://127.0.0.1:8888'; LibreNMS supports config versioning if Oxidized does. This is known to work with the git output module. $config['oxidized']['features']['versioning'] = true; Oxidized supports various ways to utilise credentials to login to devices, you can specify global username/password within Oxidized, Group level username/password or per device. LibreNMS currently supports sending groups back to Oxidized so that you can then define group credentials within Oxidized. To enable this support please switch on 'Enable the return of groups to Oxidized': $config['oxidized']['group_support'] = true; You can set a default group that devices will fall back to with: $config['oxidized']['default_group'] = 'default';","title":"Detailed integration information"},{"location":"Extensions/Oxidized/#selinux","text":"If you're runnng SELinux, you'll need to allow httpd to connect outbound to the network, otherwise Oxidized integration in the web UI will silently fail: setsebool -P httpd_can_network_connect 1","title":"SELinux"},{"location":"Extensions/Oxidized/#feeding-oxidized","text":"Oxidized has support for feeding devices into it via an API call, support for Oxidized has been added to the LibreNMS API. A sample config for Oxidized is provided below. You will need to configure default credentials for your devices in the Oxidized config, LibreNMS doesn't provide login credentials at this time. source: default: http debug: false http: url: https://librenms/api/v0/oxidized map: name: hostname model: os group: group headers: X-Auth-Token: '01582bf94c03104ecb7953dsadsadwed' LibreNMS is able to reload the Oxidized list of nodes, each time a device is added to LibreNMS. To do so, edit the option in Global Settings External Settings Oxidized Integration or add the following to your config.php. $config['oxidized']['reload_nodes'] = true;","title":"Feeding Oxidized"},{"location":"Extensions/Oxidized/#creating-overrides","text":"To return an override to Oxidized you can do this by providing the override key, followed by matching a lookup for a host (or hosts), and finally by defining the overriding value itself. LibreNMS does not check for the validity of these attributes but will deliver them to Oxidized as defined. Matching of hosts can be done using hostname , sysname , os , location , sysDescr or hardware and including either a 'match' key and value, or a 'regex' key and value. The order of matching is: hostname sysname sysDescr hardware os location * ip To match on the device hostnames or sysnames that contain 'lon-sw' or if the location contains 'London' then you would place the following within config.php: $config['oxidized']['maps']['group']['hostname'][] = array('regex' = '/^lon-sw/', 'group' = 'london-switches'); $config['oxidized']['maps']['group']['sysname'][] = array('regex' = '/^lon-sw/', 'group' = 'london-switches'); $config['oxidized']['maps']['group']['location'][] = array('regex' = '/london/', 'group' = 'london-switches'); To match on a device os of edgeos then please use the following: $config['oxidized']['maps']['group']['os'][] = array('match' = 'edgeos', 'group' = 'wireless'); To override the IP Oxidized uses to poll the device, you can add the following within config.php: $config['oxidized']['maps']['ip']['sysname'][] = array('regex' = '/^my.node/', 'ip' = '192.168.1.10'); $config['oxidized']['maps']['ip']['sysname'][] = array('match' = 'my-other.node', 'ip' = '192.168.1.20'); This allows extending the configuration further by providing a completely flexible model for custom flags and settings, for example, below shows the ability to add an ssh_proxy host within Oxidized simply by adding the below to your configuration: $config['oxidized']['maps']['ssh_proxy']['sysname'][] = array('regex' = '/^my.node/', 'ssh_proxy' = 'my-ssh-gateway.node'); Or of course, any custom value that could be needed or wanted can be applied, for example, setting a \"myAttribute\" to \"Super cool value\" for any configured and enabled \"routeros\" device. $config['oxidized']['maps']['myAttribute']['os'][] = array('match' = 'routeros', 'myAttribute' = 'Super cool value'); Verify the return of groups by querying the API: curl -H 'X-Auth-Token: YOURAPITOKENHERE' https://librenms.org/api/v0/oxidized If you need to, you can specify credentials for groups by using the following in your Oxidized config: groups: groupname : username: user password: password","title":"Creating overrides"},{"location":"Extensions/Oxidized/#miscellaneous","text":"If you have devices which you do not wish to appear in Oxidized then you can edit those devices in Device - Edit - Misc and enable \"Exclude from Oxidized?\" It's also possible to exclude certain device types and OS' from being output via the API. This is currently only possible via config.php: $config['oxidized']['ignore_types'] = array('server','power'); $config['oxidized']['ignore_os'] = array('linux','windows');","title":"Miscellaneous"},{"location":"Extensions/Oxidized/#trigger-configuration-backups","text":"Using the Oxidized REST API and Syslog Hooks , Oxidized can trigger configuration downloads whenever a configuration change event has been logged. An example script to do this is included in ./scripts/syslog-notify-oxidized.php . Oxidized can spawn a new worker thread and perform the download immediately with the following configuration next_adds_job: true","title":"Trigger configuration backups"},{"location":"Extensions/Oxidized/#validate-oxidized-config","text":"You can perform basic validation of the Oxidized configuration by going to the Overview - Tools - Oxidized link and in the Oxidized config validation page, paste your yaml file into the input box and click 'Validate YAML'. We check for yaml syntax errors and also actual config values to ensure they are used in the correct location.","title":"Validate Oxidized config"},{"location":"Extensions/PeeringDB/","text":"PeeringDB Support LibreNMS has integration with PeeringDB to match up your BGP sessions with the peering exchanges you are connected to. To enable the integration please do so within the WebUI - Global Settings - External Settings - PeeringDB Integration. Data will be collated the next time daily.sh is run or you can manually force this by running php daily.php -f peeringdb , the initial collection is delayed for a random amount of time to avoid overloading the PeeringDB API. Once enabled you will have an additional menu item under Routing - PeeringDB","title":"PeeringDB Support"},{"location":"Extensions/PeeringDB/#peeringdb-support","text":"LibreNMS has integration with PeeringDB to match up your BGP sessions with the peering exchanges you are connected to. To enable the integration please do so within the WebUI - Global Settings - External Settings - PeeringDB Integration. Data will be collated the next time daily.sh is run or you can manually force this by running php daily.php -f peeringdb , the initial collection is delayed for a random amount of time to avoid overloading the PeeringDB API. Once enabled you will have an additional menu item under Routing - PeeringDB","title":"PeeringDB Support"},{"location":"Extensions/Plugin-System/","text":"Developing for the Plugin System This will most likely be deprecated in favour of adding the possible extensions to the core code base. This documentation will hopefully give you a basis for how to write a plugin for LibreNMS. A test plugin is included in LibreNMS distribution. Generic structure Plugins need to be installed into html/plugins The structure of a plugin is follows: html/plugins /PluginName /PluginName.php /PluginName.inc.php The above structure is checked before a plugin can be installed. All files / folder names are case sensitive and must match. PluginName - This is a directory and needs to be named as per the plugin you are creating. PluginName.php - This file is used to process calls into the plugin from the main LibreNMS install. Here only functions within the class for your plugin that LibreNMS calls will be executed. For a list of currently enabled system hooks, please see further down. The minimum code required in this file is (replace Test with the name of your plugin): ?php class Test { } ? PluginName.inc.php - This file is the main included file when browsing to the plugin itself. You can use this to display / edit / remove whatever you like. The minimum code required in this file is: ?php ? System Hooks System hooks are called as functions within your plugin class. The following system hooks are currently available: menu() This is called to build the plugin menu system and you can use this to link to your plugin (you don't have to). public static function menu() { echo(' li a href= plugin/p='.get_class().' '.get_class().' /a /li '); } device_overview_container($device) This is called in the Device Overview page. You receive the $device as a parameter, can do your work here and display your results in a frame. public function device_overview_container($device) { echo(' div class= container-fluid div class= row div class= col-md-12 div class= panel panel-default panel-condensed div class= panel-heading strong '.get_class().' Plugin /strong /div '); echo(' Example plugin in Device - Overview tab br '); echo(' /div /div /div /div '); } port_container($device, $port) This is called in the Port page, in the \"Plugins\" menu_option that will appear when your plugin gets enabled. In this function, you can do your work and display your results in a frame. public function port_container($device, $port) { echo(' div class= container-fluid div class= row div class= col-md-12 div class= panel panel-default panel-condensed div class= panel-heading strong '.get_class().' plugin in Port tab /strong /div '); echo ('Example display in Port tab /br '); echo(' /div /div /div /div '); }","title":"Developing for the Plugin System"},{"location":"Extensions/Plugin-System/#developing-for-the-plugin-system","text":"This will most likely be deprecated in favour of adding the possible extensions to the core code base. This documentation will hopefully give you a basis for how to write a plugin for LibreNMS. A test plugin is included in LibreNMS distribution.","title":"Developing for the Plugin System"},{"location":"Extensions/Plugin-System/#generic-structure","text":"Plugins need to be installed into html/plugins The structure of a plugin is follows: html/plugins /PluginName /PluginName.php /PluginName.inc.php The above structure is checked before a plugin can be installed. All files / folder names are case sensitive and must match. PluginName - This is a directory and needs to be named as per the plugin you are creating. PluginName.php - This file is used to process calls into the plugin from the main LibreNMS install. Here only functions within the class for your plugin that LibreNMS calls will be executed. For a list of currently enabled system hooks, please see further down. The minimum code required in this file is (replace Test with the name of your plugin): ?php class Test { } ? PluginName.inc.php - This file is the main included file when browsing to the plugin itself. You can use this to display / edit / remove whatever you like. The minimum code required in this file is: ?php ?","title":"Generic structure"},{"location":"Extensions/Plugin-System/#system-hooks","text":"System hooks are called as functions within your plugin class. The following system hooks are currently available: menu() This is called to build the plugin menu system and you can use this to link to your plugin (you don't have to). public static function menu() { echo(' li a href= plugin/p='.get_class().' '.get_class().' /a /li '); } device_overview_container($device) This is called in the Device Overview page. You receive the $device as a parameter, can do your work here and display your results in a frame. public function device_overview_container($device) { echo(' div class= container-fluid div class= row div class= col-md-12 div class= panel panel-default panel-condensed div class= panel-heading strong '.get_class().' Plugin /strong /div '); echo(' Example plugin in Device - Overview tab br '); echo(' /div /div /div /div '); } port_container($device, $port) This is called in the Port page, in the \"Plugins\" menu_option that will appear when your plugin gets enabled. In this function, you can do your work and display your results in a frame. public function port_container($device, $port) { echo(' div class= container-fluid div class= row div class= col-md-12 div class= panel panel-default panel-condensed div class= panel-heading strong '.get_class().' plugin in Port tab /strong /div '); echo ('Example display in Port tab /br '); echo(' /div /div /div /div '); }","title":"System Hooks"},{"location":"Extensions/Poller-Service/","text":"Poller Service Status: BETA The new poller service ( librenms-service.py ) replaces the old poller service ( poller-service.py ), improving its reliability. It's mostly compatible with the old service, but testing is recommended before switching over. If you are currently using the old poller service, it's strongly recommended that you migrate away - it has a serious defect under certain versions of mysql/mariadb, and may be inadvertently DoS'ing your devices. The new service does not have this issue, Make sure you uninstall the old poller service before deploying the new one. External Requirements A recent version of Python The poller service won't work under Python 2.7+; some features require behaviour only found in Python3.4+. Python modules PyMySQL is recommended as it requires no C compiler to install. MySQLclient can also be used, but does require compilation. python-dotenv .env loader redis-py (if using distributed polling) These can be obtained from your OS package manager, or from PyPI with the below commands. (You ma) pip3 install -r requirements.txt Redis (distributed polling only) If you want to use distributed polling, you'll need a redis instance to coordinate the nodes. It's recommeded that you do not share the redis database with any other system - by default, redis supports up to 16 databases (numbered 0-15). It's strongly recommended that you deploy a resilient cluster of redis systems, and use redis-sentinel. MySQL You should already have this, but the pollers do need access to the SQL database. The poller service runs much faster and more aggressively than the standard poller, so keep an eye on the number of open connections and other important health metrics. Configuration Connection settings are required in .env . The .env file is generated after composer install and APP_KEY and NODE_ID are set. #APP_KEY= #Required, generated by composer install #NODE_ID= #Required, generated by composer install DB_HOST=localhost DB_DATABASE=librenms DB_USERNAME=librenms DB_PASSWORD= Distributed Polling Configuration Once you have your redis database set up, configure it in the .env file on each node. REDIS_HOST=127.0.0.1 #REDIS_DB=0 #REDIS_PASSWORD= #REDIS_PORT=6379 Basic Configuration Additional configuration settings can be set in config.php or directly into the database. The defaults are shown here - it's recommended that you at least tune the number of workers. $config['service_poller_workers'] = 24; # Processes spawned for polling $config['service_services_workers'] = 8; # Processes spawned for service polling $config['service_discovery_workers'] = 16; # Processes spawned for discovery //Optional Settings $config['service_poller_frequency'] = 300; # Seconds between polling attempts $config['service_services_frequency'] = 300; # Seconds between service polling attempts $config['service_discovery_frequency'] = 21600; # Seconds between discovery runs $config['service_billing_frequency'] = 300; # Seconds between billing calculations $config['service_billing_calculate_frequency'] = 60; # Billing interval $config['service_poller_down_retry'] = 60; # Seconds between failed polling attempts $config['service_loglevel'] = 'INFO'; # Must be one of 'DEBUG', 'INFO', 'WARNING', 'ERROR', 'CRITICAL' $config['service_update_frequency'] = 86400; # Seconds between LibreNMS update checks There are also some SQL options, but these should be inherited from your LibreNMS web UI configuration. Logs are sent to the system logging service (usually journald or rsyslog ) - see https://docs.python.org/3/library/logging.html#logging-levels for the options available. You should not rely on the password for the security of your system. See https://redis.io/topics/security distributed_poller = true; # Set to true to enable distributed polling distributed_poller_name = null; # Uniquely identifies the poller instance distributed_poller_group = 0; # Which group to poll Cron Scripts Once the poller service is installed, the cron scripts used by LibreNMS are no longer required and must be removed. Service Installation A systemd unit file is provided - the sysv and upstart init scripts could also be used with a little modification. systemd A systemd unit file can be found in misc/librenms.service . To install run cp /opt/librenms/misc/librenms.service /etc/systemd/system/librenms.service systemctl enable --now librenms.service OS-Specific Instructions RHEL/CentOS To get the poller service running under python3.4+ on RHEL-derivatives with minimal fuss, you can use the software collections build: First, enable SCL's on your system: CentOS 7 # yum install centos-release-scl RHEL 7 # subscription-manager repos --enable rhel-server-rhscl-7-rpms Then install and configure the runtime and service: # yum install rh-python36 epel-release # yum install redis # vi /opt/librenms/config.php # vi /etc/redis.conf # systemctl enable --now redis.service # scl enable rh-python36 bash # pip install pymysql redis # cp /opt/librenms/misc/librenms.service.scl /etc/systemd/system/librenms.service # systemctl enable --now librenms.service If you want to use another version of python 3, change rh-python36 in the unit file and the commands above to match the name of the replacement scl.","title":"Poller Service (BETA)"},{"location":"Extensions/Poller-Service/#poller-service","text":"Status: BETA The new poller service ( librenms-service.py ) replaces the old poller service ( poller-service.py ), improving its reliability. It's mostly compatible with the old service, but testing is recommended before switching over. If you are currently using the old poller service, it's strongly recommended that you migrate away - it has a serious defect under certain versions of mysql/mariadb, and may be inadvertently DoS'ing your devices. The new service does not have this issue, Make sure you uninstall the old poller service before deploying the new one.","title":"Poller Service"},{"location":"Extensions/Poller-Service/#external-requirements","text":"","title":"External Requirements"},{"location":"Extensions/Poller-Service/#a-recent-version-of-python","text":"The poller service won't work under Python 2.7+; some features require behaviour only found in Python3.4+.","title":"A recent version of Python"},{"location":"Extensions/Poller-Service/#python-modules","text":"PyMySQL is recommended as it requires no C compiler to install. MySQLclient can also be used, but does require compilation. python-dotenv .env loader redis-py (if using distributed polling) These can be obtained from your OS package manager, or from PyPI with the below commands. (You ma) pip3 install -r requirements.txt","title":"Python modules"},{"location":"Extensions/Poller-Service/#redis-distributed-polling-only","text":"If you want to use distributed polling, you'll need a redis instance to coordinate the nodes. It's recommeded that you do not share the redis database with any other system - by default, redis supports up to 16 databases (numbered 0-15). It's strongly recommended that you deploy a resilient cluster of redis systems, and use redis-sentinel.","title":"Redis (distributed polling only)"},{"location":"Extensions/Poller-Service/#mysql","text":"You should already have this, but the pollers do need access to the SQL database. The poller service runs much faster and more aggressively than the standard poller, so keep an eye on the number of open connections and other important health metrics.","title":"MySQL"},{"location":"Extensions/Poller-Service/#configuration","text":"Connection settings are required in .env . The .env file is generated after composer install and APP_KEY and NODE_ID are set. #APP_KEY= #Required, generated by composer install #NODE_ID= #Required, generated by composer install DB_HOST=localhost DB_DATABASE=librenms DB_USERNAME=librenms DB_PASSWORD=","title":"Configuration"},{"location":"Extensions/Poller-Service/#distributed-polling-configuration","text":"Once you have your redis database set up, configure it in the .env file on each node. REDIS_HOST=127.0.0.1 #REDIS_DB=0 #REDIS_PASSWORD= #REDIS_PORT=6379","title":"Distributed Polling Configuration"},{"location":"Extensions/Poller-Service/#basic-configuration","text":"Additional configuration settings can be set in config.php or directly into the database. The defaults are shown here - it's recommended that you at least tune the number of workers. $config['service_poller_workers'] = 24; # Processes spawned for polling $config['service_services_workers'] = 8; # Processes spawned for service polling $config['service_discovery_workers'] = 16; # Processes spawned for discovery //Optional Settings $config['service_poller_frequency'] = 300; # Seconds between polling attempts $config['service_services_frequency'] = 300; # Seconds between service polling attempts $config['service_discovery_frequency'] = 21600; # Seconds between discovery runs $config['service_billing_frequency'] = 300; # Seconds between billing calculations $config['service_billing_calculate_frequency'] = 60; # Billing interval $config['service_poller_down_retry'] = 60; # Seconds between failed polling attempts $config['service_loglevel'] = 'INFO'; # Must be one of 'DEBUG', 'INFO', 'WARNING', 'ERROR', 'CRITICAL' $config['service_update_frequency'] = 86400; # Seconds between LibreNMS update checks There are also some SQL options, but these should be inherited from your LibreNMS web UI configuration. Logs are sent to the system logging service (usually journald or rsyslog ) - see https://docs.python.org/3/library/logging.html#logging-levels for the options available. You should not rely on the password for the security of your system. See https://redis.io/topics/security distributed_poller = true; # Set to true to enable distributed polling distributed_poller_name = null; # Uniquely identifies the poller instance distributed_poller_group = 0; # Which group to poll","title":"Basic Configuration"},{"location":"Extensions/Poller-Service/#cron-scripts","text":"Once the poller service is installed, the cron scripts used by LibreNMS are no longer required and must be removed.","title":"Cron Scripts"},{"location":"Extensions/Poller-Service/#service-installation","text":"A systemd unit file is provided - the sysv and upstart init scripts could also be used with a little modification.","title":"Service Installation"},{"location":"Extensions/Poller-Service/#systemd","text":"A systemd unit file can be found in misc/librenms.service . To install run cp /opt/librenms/misc/librenms.service /etc/systemd/system/librenms.service systemctl enable --now librenms.service","title":"systemd"},{"location":"Extensions/Poller-Service/#os-specific-instructions","text":"","title":"OS-Specific Instructions"},{"location":"Extensions/Poller-Service/#rhelcentos","text":"To get the poller service running under python3.4+ on RHEL-derivatives with minimal fuss, you can use the software collections build: First, enable SCL's on your system:","title":"RHEL/CentOS"},{"location":"Extensions/Poller-Service/#centos-7","text":"# yum install centos-release-scl","title":"CentOS 7"},{"location":"Extensions/Poller-Service/#rhel-7","text":"# subscription-manager repos --enable rhel-server-rhscl-7-rpms Then install and configure the runtime and service: # yum install rh-python36 epel-release # yum install redis # vi /opt/librenms/config.php # vi /etc/redis.conf # systemctl enable --now redis.service # scl enable rh-python36 bash # pip install pymysql redis # cp /opt/librenms/misc/librenms.service.scl /etc/systemd/system/librenms.service # systemctl enable --now librenms.service If you want to use another version of python 3, change rh-python36 in the unit file and the commands above to match the name of the replacement scl.","title":"RHEL 7"},{"location":"Extensions/Port-Description-Parser/","text":"","title":"Parsing Port Descriptions"},{"location":"Extensions/Prometheus/","text":"","title":"Prometheus"},{"location":"Extensions/Proxmox/","text":"Proxmox graphing It is possible to create graphs of the Proxmox VMs that run on your monitored machines. Currently, only traffic graphs are created. One for each interface on each VM. Possibly, IO graphs will be added later on. The ultimate goal is to be able to create traffic bills for VMs, no matter on which physical machine that VM runs. Enabling Proxmox graphs To enable Proxmox graphs, do the following: In config.php, enable Proxmox: $config['enable_proxmox'] = 1; Then, install git and librenms-agent on the machines running Proxmox and enable the Proxmox-script using: cp /opt/librenms-agent/agent-local/proxmox /usr/lib/check_mk_agent/local/proxmox chmod +x /usr/lib/check_mk_agent/local/proxmox Then, enable and start the check_mk service using systemd cp /opt/librenms-agent/check_mk@.service /opt/librenms-agent/check_mk.socket /etc/systemd/system systemctl daemon-reload systemctl enable check_mk.socket systemctl start check_mk.socket Then in LibreNMS active the librenms-agent and proxmox application flag for the device you are monitoring. You should now see an application in LibreNMS, as well as a new menu-item in the topmenu, allowing you to choose which cluster you want to look at. Note, if you want to use use xinetd instead of systemd Its possible to use the librenms-agent started by xinetd instead of systemd. One use case is if you are forced to use a old Proxmox installation. After installing the librenms-agent (see above) please copy enable the xinetd config, then restart the xinetd service: cp check_mk_xinetd /etc/xinetd.d/check_mk /etc/init.d/xinetd restart","title":"Proxmox graphing"},{"location":"Extensions/Proxmox/#proxmox-graphing","text":"It is possible to create graphs of the Proxmox VMs that run on your monitored machines. Currently, only traffic graphs are created. One for each interface on each VM. Possibly, IO graphs will be added later on. The ultimate goal is to be able to create traffic bills for VMs, no matter on which physical machine that VM runs.","title":"Proxmox graphing"},{"location":"Extensions/Proxmox/#enabling-proxmox-graphs","text":"To enable Proxmox graphs, do the following: In config.php, enable Proxmox: $config['enable_proxmox'] = 1; Then, install git and librenms-agent on the machines running Proxmox and enable the Proxmox-script using: cp /opt/librenms-agent/agent-local/proxmox /usr/lib/check_mk_agent/local/proxmox chmod +x /usr/lib/check_mk_agent/local/proxmox Then, enable and start the check_mk service using systemd cp /opt/librenms-agent/check_mk@.service /opt/librenms-agent/check_mk.socket /etc/systemd/system systemctl daemon-reload systemctl enable check_mk.socket systemctl start check_mk.socket Then in LibreNMS active the librenms-agent and proxmox application flag for the device you are monitoring. You should now see an application in LibreNMS, as well as a new menu-item in the topmenu, allowing you to choose which cluster you want to look at.","title":"Enabling Proxmox graphs"},{"location":"Extensions/Proxmox/#note-if-you-want-to-use-use-xinetd-instead-of-systemd","text":"Its possible to use the librenms-agent started by xinetd instead of systemd. One use case is if you are forced to use a old Proxmox installation. After installing the librenms-agent (see above) please copy enable the xinetd config, then restart the xinetd service: cp check_mk_xinetd /etc/xinetd.d/check_mk /etc/init.d/xinetd restart","title":"Note, if you want to use use xinetd instead of systemd"},{"location":"Extensions/RRDCached-Security/","text":"Securing with nginx According to the man page , under \"SECURITY CONSIDERATIONS\", rrdcached has no authentication or security except for running under a unix socket. If you choose to use a network socket instead of a unix socket, you will need to secure your rrdcached installation. To do so you can proxy rrdcached using nginx to allow only specific IPs to connect. using the same setup above, using nginx version 1.9.0 or later, you can follow this setup to proxy the default rrdcached port to the local unix socket. (You can use ./conf.d for your configuration as well) mkdir /etc/nginx/streams-{available,enabled} add the following to your nginx.conf file: #/etc/nginx/nginx.conf ... stream { include /etc/nginx/streams-enabled/*; } add this to /etc/nginx/streams-available/rrd server { listen 42217; error_log /var/log/nginx/rrd.stream.error.log; allow $LibreNMS_IP; deny all; proxy_pass unix:/var/run/rrdcached/rrdcached.sock; } replace $LibreNMS_IP with the ip of the server that will be using rrdcached. You can specify more than one allow statement. This will bind nginx to TCP 42217 (the default rrdcached port), allow the specified IPs to connect, and deny all others. next, we'll symlink the config to streams-enabled: ln -s /etc/nginx/streams-{available,enabled}/rrd and reload nginx service nginx reload","title":"RRDCached Security"},{"location":"Extensions/RRDCached-Security/#securing-with-nginx","text":"According to the man page , under \"SECURITY CONSIDERATIONS\", rrdcached has no authentication or security except for running under a unix socket. If you choose to use a network socket instead of a unix socket, you will need to secure your rrdcached installation. To do so you can proxy rrdcached using nginx to allow only specific IPs to connect. using the same setup above, using nginx version 1.9.0 or later, you can follow this setup to proxy the default rrdcached port to the local unix socket. (You can use ./conf.d for your configuration as well) mkdir /etc/nginx/streams-{available,enabled} add the following to your nginx.conf file: #/etc/nginx/nginx.conf ... stream { include /etc/nginx/streams-enabled/*; } add this to /etc/nginx/streams-available/rrd server { listen 42217; error_log /var/log/nginx/rrd.stream.error.log; allow $LibreNMS_IP; deny all; proxy_pass unix:/var/run/rrdcached/rrdcached.sock; } replace $LibreNMS_IP with the ip of the server that will be using rrdcached. You can specify more than one allow statement. This will bind nginx to TCP 42217 (the default rrdcached port), allow the specified IPs to connect, and deny all others. next, we'll symlink the config to streams-enabled: ln -s /etc/nginx/streams-{available,enabled}/rrd and reload nginx service nginx reload","title":"Securing with nginx"},{"location":"Extensions/RRDCached/","text":"Setting up RRDCached This document will explain how to setup RRDCached for LibreNMS. Since version 1.5, rrdtool / rrdcached now supports creating rrd files over rrdcached. If you have rrdcached 1.5.5 or above, you can also tune over rrdcached. To enable this set the following config: $config['rrdtool_version'] = '1.5.5'; NOTE: This feature requires your client version of rrdtool to be 1.5.5 or over, in addition to your rrdcached version. Distributed Poller Support Matrix Shared FS: Is a shared filesystem required? Features: Supported features in the version indicated. G = Graphs. C = Create RRD files. U = Update RRD files. T = Tune RRD files. Version Shared FS Features 1.4.x Yes G,U 1.5.5 Yes G,U =1.5.5 No G,C,U =1.6.x No G,C,U It is recommended that you monitor your LibreNMS server with LibreNMS so you can view the disk I/O usage delta. RRDCached installation CentOS 7 Create /etc/systemd/system/rrdcached.service with this content: [Unit] Description=Data caching daemon for rrdtool After=network.service [Service] Type=forking PIDFile=/run/rrdcached.pid ExecStart=/usr/bin/rrdcached -w 1800 -z 1800 -f 3600 -s librenms -U librenms -G librenms -B -R -j /var/tmp -l unix:/run/rrdcached.sock -t 4 -F -b /opt/librenms/rrd/ [Install] WantedBy=default.target Start rrdcached systemctl enable --now rrdcached.service Edit /opt/librenms/config.php to include: $config['rrdcached'] = unix:/run/rrdcached.sock ; RRDCached installation Ubuntu 16 Install rrdcached sudo apt-get install rrdcached Edit /etc/default/rrdcached to include: DAEMON=/usr/bin/rrdcached DAEMON_USER=librenms DAEMON_GROUP=librenms WRITE_THREADS=4 WRITE_TIMEOUT=1800 WRITE_JITTER=1800 BASE_PATH=/opt/librenms/rrd/ JOURNAL_PATH=/var/lib/rrdcached/journal/ PIDFILE=/run/rrdcached.pid SOCKFILE=/run/rrdcached.sock SOCKGROUP=librenms BASE_OPTIONS= -B -F -R Fix permissions chown librenms:librenms /var/lib/rrdcached/journal/ Restart the rrdcached service systemctl restart rrdcached.service Edit /opt/librenms/config.php to include: $config['rrdcached'] = unix:/var/run/rrdcached.sock ; RRDCached installation Debian Jessie (rrdcached 1.4.8) Install rrdcached sudo apt-get install rrdcached Edit /etc/default/rrdcached to include: OPTS= -s librenms OPTS= $OPTS -l unix:/var/run/rrdcached.sock OPTS= $OPTS -j /var/lib/rrdcached/journal/ -F OPTS= $OPTS -b /opt/librenms/rrd/ -B OPTS= $OPTS -w 1800 -z 1800 -f 3600 -t 4 Restart the rrdcached service systemctl restart rrdcached.service Edit /opt/librenms/config.php to include: $config['rrdcached'] = unix:/var/run/rrdcached.sock ; RRDCached installation Debian Stretch (rrdcached 1.6.0) Install rrdcached sudo apt-get install rrdcached Edit /etc/default/rrdcached to include: DAEMON=/usr/bin/rrdcached WRITE_TIMEOUT=1800 WRITE_JITTER=1800 WRITE_THREADS=4 BASE_PATH=/opt/librenms/rrd/ JOURNAL_PATH=/var/lib/rrdcached/journal/ PIDFILE=/var/run/rrdcached.pid SOCKFILE=/var/run/rrdcached.sock SOCKGROUP=librenms DAEMON_GROUP=librenms DAEMON_USER=librenms BASE_OPTIONS= -B -F -R Fix permissions chown librenms:librenms /var/lib/rrdcached/journal/ Restart the rrdcached service systemctl restart rrdcached.service Edit /opt/librenms/config.php to include: For local RRDCached server $config['rrdcached'] = unix:/var/run/rrdcached.sock ; For remote RRDCached server Make sure you have network option in /var/default/rrdcached NETWORK_OPTIONS= -L $config['rrdcached'] = IPADDRESS:42217 ; NOTE: change IPADDRESS to the ip the rrdcached server is listening on. RRDCached installation CentOS 6 This example is based on a fresh LibreNMS install, on a minimal CentOS 6 installation. In this example, we'll use the Repoforge repository. rpm -ivh http://pkgs.repoforge.org/rpmforge-release/rpmforge-release-0.5.3-1.el6.rf.x86_64.rpm vi /etc/yum.repos.d/rpmforge.repo Enable the Extra repo yum update rrdtool vi /etc/yum.repos.d/rpmforge.repo Disable the [rpmforge] and [rpmforge-extras] repos again vi /etc/sysconfig/rrdcached # Settings for rrdcached OPTIONS= -w 1800 -z 1800 -f 3600 -s librenms -U librenms -G librenms -B -R -j /var/tmp -l unix:/var/run/rrdcached/rrdcached.sock -t 4 -F -b /opt/librenms/rrd/ RRDC_USER=librenms mkdir /var/run/rrdcached chown librenms:librenms /var/run/rrdcached/ chown librenms:librenms /var/rrdtool/ chown librenms:librenms /var/rrdtool/rrdcached/ chkconfig rrdcached on service rrdcached start Edit /opt/librenms/config.php to include: $config['rrdcached'] = unix:/var/run/rrdcached/rrdcached.sock ; Verify Check to see if the graphs are being drawn in LibreNMS. This might take a few minutes. After at least one poll cycle (5 mins), check the LibreNMS disk I/O performance delta. Disk I/O can be found under the menu Devices All Devices [localhost hostname] Health Disk I/O. Depending on many factors, you should see the Ops/sec drop by ~30-40%. Securing RRCached Please see RRDCached Security","title":"Setting up RRDCached"},{"location":"Extensions/RRDCached/#setting-up-rrdcached","text":"This document will explain how to setup RRDCached for LibreNMS. Since version 1.5, rrdtool / rrdcached now supports creating rrd files over rrdcached. If you have rrdcached 1.5.5 or above, you can also tune over rrdcached. To enable this set the following config: $config['rrdtool_version'] = '1.5.5'; NOTE: This feature requires your client version of rrdtool to be 1.5.5 or over, in addition to your rrdcached version.","title":"Setting up RRDCached"},{"location":"Extensions/RRDCached/#distributed-poller-support-matrix","text":"Shared FS: Is a shared filesystem required? Features: Supported features in the version indicated. G = Graphs. C = Create RRD files. U = Update RRD files. T = Tune RRD files. Version Shared FS Features 1.4.x Yes G,U 1.5.5 Yes G,U =1.5.5 No G,C,U =1.6.x No G,C,U It is recommended that you monitor your LibreNMS server with LibreNMS so you can view the disk I/O usage delta.","title":"Distributed Poller Support Matrix"},{"location":"Extensions/RRDCached/#rrdcached-installation-centos-7","text":"Create /etc/systemd/system/rrdcached.service with this content: [Unit] Description=Data caching daemon for rrdtool After=network.service [Service] Type=forking PIDFile=/run/rrdcached.pid ExecStart=/usr/bin/rrdcached -w 1800 -z 1800 -f 3600 -s librenms -U librenms -G librenms -B -R -j /var/tmp -l unix:/run/rrdcached.sock -t 4 -F -b /opt/librenms/rrd/ [Install] WantedBy=default.target Start rrdcached systemctl enable --now rrdcached.service Edit /opt/librenms/config.php to include: $config['rrdcached'] = unix:/run/rrdcached.sock ;","title":"RRDCached installation CentOS 7"},{"location":"Extensions/RRDCached/#rrdcached-installation-ubuntu-16","text":"Install rrdcached sudo apt-get install rrdcached Edit /etc/default/rrdcached to include: DAEMON=/usr/bin/rrdcached DAEMON_USER=librenms DAEMON_GROUP=librenms WRITE_THREADS=4 WRITE_TIMEOUT=1800 WRITE_JITTER=1800 BASE_PATH=/opt/librenms/rrd/ JOURNAL_PATH=/var/lib/rrdcached/journal/ PIDFILE=/run/rrdcached.pid SOCKFILE=/run/rrdcached.sock SOCKGROUP=librenms BASE_OPTIONS= -B -F -R Fix permissions chown librenms:librenms /var/lib/rrdcached/journal/ Restart the rrdcached service systemctl restart rrdcached.service Edit /opt/librenms/config.php to include: $config['rrdcached'] = unix:/var/run/rrdcached.sock ;","title":"RRDCached installation Ubuntu 16"},{"location":"Extensions/RRDCached/#rrdcached-installation-debian-jessie-rrdcached-148","text":"Install rrdcached sudo apt-get install rrdcached Edit /etc/default/rrdcached to include: OPTS= -s librenms OPTS= $OPTS -l unix:/var/run/rrdcached.sock OPTS= $OPTS -j /var/lib/rrdcached/journal/ -F OPTS= $OPTS -b /opt/librenms/rrd/ -B OPTS= $OPTS -w 1800 -z 1800 -f 3600 -t 4 Restart the rrdcached service systemctl restart rrdcached.service Edit /opt/librenms/config.php to include: $config['rrdcached'] = unix:/var/run/rrdcached.sock ;","title":"RRDCached installation Debian Jessie (rrdcached 1.4.8)"},{"location":"Extensions/RRDCached/#rrdcached-installation-debian-stretch-rrdcached-160","text":"Install rrdcached sudo apt-get install rrdcached Edit /etc/default/rrdcached to include: DAEMON=/usr/bin/rrdcached WRITE_TIMEOUT=1800 WRITE_JITTER=1800 WRITE_THREADS=4 BASE_PATH=/opt/librenms/rrd/ JOURNAL_PATH=/var/lib/rrdcached/journal/ PIDFILE=/var/run/rrdcached.pid SOCKFILE=/var/run/rrdcached.sock SOCKGROUP=librenms DAEMON_GROUP=librenms DAEMON_USER=librenms BASE_OPTIONS= -B -F -R Fix permissions chown librenms:librenms /var/lib/rrdcached/journal/ Restart the rrdcached service systemctl restart rrdcached.service Edit /opt/librenms/config.php to include: For local RRDCached server $config['rrdcached'] = unix:/var/run/rrdcached.sock ; For remote RRDCached server Make sure you have network option in /var/default/rrdcached NETWORK_OPTIONS= -L $config['rrdcached'] = IPADDRESS:42217 ; NOTE: change IPADDRESS to the ip the rrdcached server is listening on.","title":"RRDCached installation Debian Stretch (rrdcached 1.6.0)"},{"location":"Extensions/RRDCached/#rrdcached-installation-centos-6","text":"This example is based on a fresh LibreNMS install, on a minimal CentOS 6 installation. In this example, we'll use the Repoforge repository. rpm -ivh http://pkgs.repoforge.org/rpmforge-release/rpmforge-release-0.5.3-1.el6.rf.x86_64.rpm vi /etc/yum.repos.d/rpmforge.repo Enable the Extra repo yum update rrdtool vi /etc/yum.repos.d/rpmforge.repo Disable the [rpmforge] and [rpmforge-extras] repos again vi /etc/sysconfig/rrdcached # Settings for rrdcached OPTIONS= -w 1800 -z 1800 -f 3600 -s librenms -U librenms -G librenms -B -R -j /var/tmp -l unix:/var/run/rrdcached/rrdcached.sock -t 4 -F -b /opt/librenms/rrd/ RRDC_USER=librenms mkdir /var/run/rrdcached chown librenms:librenms /var/run/rrdcached/ chown librenms:librenms /var/rrdtool/ chown librenms:librenms /var/rrdtool/rrdcached/ chkconfig rrdcached on service rrdcached start Edit /opt/librenms/config.php to include: $config['rrdcached'] = unix:/var/run/rrdcached/rrdcached.sock ;","title":"RRDCached installation CentOS 6"},{"location":"Extensions/RRDCached/#verify","text":"Check to see if the graphs are being drawn in LibreNMS. This might take a few minutes. After at least one poll cycle (5 mins), check the LibreNMS disk I/O performance delta. Disk I/O can be found under the menu Devices All Devices [localhost hostname] Health Disk I/O. Depending on many factors, you should see the Ops/sec drop by ~30-40%.","title":"Verify"},{"location":"Extensions/RRDCached/#securing-rrcached","text":"Please see RRDCached Security","title":"Securing RRCached"},{"location":"Extensions/RRDTune/","text":"RRDTune? When we create rrd files for ports, we currently do so with a max value of 12500000000 (100G). Because of this if a device sends us bad data back then it can appear as though a 100M port is doing 40G+ which is impossible. To counter this you can enable the rrdtool tune option which will fix the max value to the interfaces physical speed (minimum of 10M). To enable this you can do so in three ways! Globally under Global Settings - External Settings - RRDTool Setup For the actual device, Edit Device - Misc For each port, Edit Device - Port Settings Now when a port interface speed changes (this can happen because of a physical change or just because the device has misreported) the max value is set. If you don't want to wait until a port speed changes then you can run the included script: ./scripts/tune_port.php -h hostname -p ifName Wildcards are supported using *, i.e: ./scripts/tune_port.php -h local* -p eth* This script will then perform the rrdtool tune on each port found using the provided ifSpeed for that port. Run ./scripts/tune_port.php to see help page.","title":"RRDTune?"},{"location":"Extensions/RRDTune/#rrdtune","text":"When we create rrd files for ports, we currently do so with a max value of 12500000000 (100G). Because of this if a device sends us bad data back then it can appear as though a 100M port is doing 40G+ which is impossible. To counter this you can enable the rrdtool tune option which will fix the max value to the interfaces physical speed (minimum of 10M). To enable this you can do so in three ways! Globally under Global Settings - External Settings - RRDTool Setup For the actual device, Edit Device - Misc For each port, Edit Device - Port Settings Now when a port interface speed changes (this can happen because of a physical change or just because the device has misreported) the max value is set. If you don't want to wait until a port speed changes then you can run the included script: ./scripts/tune_port.php -h hostname -p ifName Wildcards are supported using *, i.e: ./scripts/tune_port.php -h local* -p eth* This script will then perform the rrdtool tune on each port found using the provided ifSpeed for that port. Run ./scripts/tune_port.php to see help page.","title":"RRDTune?"},{"location":"Extensions/Rancid/","text":"Rancid integration Librenms can generate a list of hosts that can be monitored by RANCID. We assume you have currently a running Rancid, and you just need to create and update the file 'router.db' Included Rancid script To generate the config file (maybe even add a cron to schedule this). We've assumed a few locations for Rancid, the config file you want to call it and where LibreNMS is: cd /opt/librenms/scripts/ php ./gen_rancid.php /the/path/where/is/rancid/core/router.db Sample cron: 15 0 * * * root cd /opt/librenms/scripts php ./gen_rancid.php /the/path/where/is/rancid/core/router.db Now configure LibreNMS (make sure you point dir to your rancid data directory): $config['rancid_configs']['core'] = '/the/path/where/is/rancid/core'; $config['rancid_ignorecomments'] = 0; After that, you should see some \"config\" tab on routers that have a rancid update. Ubuntu Rancid Install The options shown below also contains the default values. NOTE - This is Only for Ubuntu 16.04 at this time, and may not work on other distros! sudo apt-get install rancid subversion Edit Rancid config file to use subversion or git instead of default cvs, and adds a group: sudo vi /etc/rancid/rancid.conf LIST_OF_GROUPS=\"librenms\" Now change these two lines: CVSROOT=$BASEDIR/CVS; export CVSROOT RCSSYS=cvs; export RCSSYS to: CVSROOT=$BASEDIR/SVN; export CVSROOT RCSSYS=svn; export RCSSYS NOTE - This only creates 1 group! You can of course make more when you get the hang of it, this is just a basic 'Need it to work\" deal. sudo su -c /var/lib/rancid/bin/rancid-cvs -s /bin/bash -l rancid NOTE - do NOT change cvs to svn here! Leave command as is! Get a list of devices from Librenms you can pull configs from: cd /opt/librenms/scripts sudo ./gen_rancid.php Copy the output. Replace all \":\" with \";\" example: alphcr1:cisco:up will change to: alphcr1;cisco;up copy and past results into the below file: sudo vi /var/lib/rancid/librenms/router.db NOTE - This ONLY applies to newer RANCID versions and Linux distros. Older versions will need to retain the : and not the ; Create/edit rancids login file: sudo vi /var/lib/rancid/.cloginrc Add following at minimum: add user * your username here add password * your password here add method * ssh add noenable * {1} ******This disables the enable when using radius etc ******* Grant permissions for rancid: sudo chown rancid /var/lib/rancid/.cloginrc sudo chmod 600 /var/lib/rancid/.cloginrc Test config: sudo /usr/lib/rancid/bin/clogin -f /var/lib/rancid/.cloginrc device hostname NOTE: IF you run into a 'diffie-hellmen' kind of error, then it is because your Linux distro is using newer encyryprtion methods etc. This is basically just letting you know that the device you tested on is running an outdated encryption type. I recommend updating downstream device if able. If not, the following should fix: sudo vi /etc/ssh/ssh_config Add: KexAlgorithms diffie-hellman-group1-sha1 Re-try logging into your device again Upon success, run rancid: sudo su -c /var/lib/rancid/bin/rancid-run -s /bin/bash -l rancid Ensure your configs pulled: ```sudo su - rancid cd librenms/configs/ ls Make sure your config files are there :-) sudo usermod -a -G rancid www-data cd /opt/librenms/ Add Rancid into LibreNMS config.php: ```php ### Rancid $config['rancid_configs'][] = '/var/lib/rancid/librenms/configs/'; $config['rancid_repo_type'] = 'svn'; //'svn' or 'git' $config['rancid_ignorecomments'] = 0; Now restart apache sudo /etc/init.d/apache2 restart","title":"Rancid integration"},{"location":"Extensions/Rancid/#rancid-integration","text":"Librenms can generate a list of hosts that can be monitored by RANCID. We assume you have currently a running Rancid, and you just need to create and update the file 'router.db'","title":"Rancid integration"},{"location":"Extensions/Rancid/#included-rancid-script","text":"To generate the config file (maybe even add a cron to schedule this). We've assumed a few locations for Rancid, the config file you want to call it and where LibreNMS is: cd /opt/librenms/scripts/ php ./gen_rancid.php /the/path/where/is/rancid/core/router.db Sample cron: 15 0 * * * root cd /opt/librenms/scripts php ./gen_rancid.php /the/path/where/is/rancid/core/router.db Now configure LibreNMS (make sure you point dir to your rancid data directory): $config['rancid_configs']['core'] = '/the/path/where/is/rancid/core'; $config['rancid_ignorecomments'] = 0; After that, you should see some \"config\" tab on routers that have a rancid update.","title":"Included Rancid script"},{"location":"Extensions/Rancid/#ubuntu-rancid-install","text":"The options shown below also contains the default values. NOTE - This is Only for Ubuntu 16.04 at this time, and may not work on other distros! sudo apt-get install rancid subversion Edit Rancid config file to use subversion or git instead of default cvs, and adds a group: sudo vi /etc/rancid/rancid.conf LIST_OF_GROUPS=\"librenms\" Now change these two lines: CVSROOT=$BASEDIR/CVS; export CVSROOT RCSSYS=cvs; export RCSSYS to: CVSROOT=$BASEDIR/SVN; export CVSROOT RCSSYS=svn; export RCSSYS NOTE - This only creates 1 group! You can of course make more when you get the hang of it, this is just a basic 'Need it to work\" deal. sudo su -c /var/lib/rancid/bin/rancid-cvs -s /bin/bash -l rancid NOTE - do NOT change cvs to svn here! Leave command as is! Get a list of devices from Librenms you can pull configs from: cd /opt/librenms/scripts sudo ./gen_rancid.php Copy the output. Replace all \":\" with \";\" example: alphcr1:cisco:up will change to: alphcr1;cisco;up copy and past results into the below file: sudo vi /var/lib/rancid/librenms/router.db NOTE - This ONLY applies to newer RANCID versions and Linux distros. Older versions will need to retain the : and not the ; Create/edit rancids login file: sudo vi /var/lib/rancid/.cloginrc Add following at minimum: add user * your username here add password * your password here add method * ssh add noenable * {1} ******This disables the enable when using radius etc ******* Grant permissions for rancid: sudo chown rancid /var/lib/rancid/.cloginrc sudo chmod 600 /var/lib/rancid/.cloginrc Test config: sudo /usr/lib/rancid/bin/clogin -f /var/lib/rancid/.cloginrc device hostname NOTE: IF you run into a 'diffie-hellmen' kind of error, then it is because your Linux distro is using newer encyryprtion methods etc. This is basically just letting you know that the device you tested on is running an outdated encryption type. I recommend updating downstream device if able. If not, the following should fix: sudo vi /etc/ssh/ssh_config Add: KexAlgorithms diffie-hellman-group1-sha1 Re-try logging into your device again Upon success, run rancid: sudo su -c /var/lib/rancid/bin/rancid-run -s /bin/bash -l rancid Ensure your configs pulled: ```sudo su - rancid cd librenms/configs/ ls Make sure your config files are there :-) sudo usermod -a -G rancid www-data cd /opt/librenms/ Add Rancid into LibreNMS config.php: ```php ### Rancid $config['rancid_configs'][] = '/var/lib/rancid/librenms/configs/'; $config['rancid_repo_type'] = 'svn'; //'svn' or 'git' $config['rancid_ignorecomments'] = 0; Now restart apache sudo /etc/init.d/apache2 restart","title":"Ubuntu Rancid Install"},{"location":"Extensions/SNMP-Proxy/","text":"SNMP Proxy If you have machines that you want to monitor but are not reachable directly, you can use SNMPD Proxy . This will use the reachable SNMPD to proxy requests to the unreachable SNMPD. Example configuration We want to poll unreachable.example.com via hereweare.example.com . Use the following config: On hereweare.example.com : view all included .1 com2sec -Cn ctx_unreachable readonly poller-ip unreachable access MyROGroup ctx_unreachable any noauth prefix all none none proxy -Cn ctx_unreachable -v 2c -c private unreachable.example.com .1.3 On unreachable.example.com : view all included .1 80 com2sec readonly hereweare.example.com ip address private group MyROGroup v1 readonly group MyROGroup v2c readonly group MyROGroup usm readonly access MyROGroup any noauth exact all none none You can now poll community private on unreachable.example.com via community unreachable on host hereweare.example.com . Please note that requests on unreachable.example.com will be coming from hereweare.example.com , not your poller.","title":"SNMP Proxy"},{"location":"Extensions/SNMP-Proxy/#snmp-proxy","text":"If you have machines that you want to monitor but are not reachable directly, you can use SNMPD Proxy . This will use the reachable SNMPD to proxy requests to the unreachable SNMPD.","title":"SNMP Proxy"},{"location":"Extensions/SNMP-Proxy/#example-configuration","text":"We want to poll unreachable.example.com via hereweare.example.com . Use the following config: On hereweare.example.com : view all included .1 com2sec -Cn ctx_unreachable readonly poller-ip unreachable access MyROGroup ctx_unreachable any noauth prefix all none none proxy -Cn ctx_unreachable -v 2c -c private unreachable.example.com .1.3 On unreachable.example.com : view all included .1 80 com2sec readonly hereweare.example.com ip address private group MyROGroup v1 readonly group MyROGroup v2c readonly group MyROGroup usm readonly access MyROGroup any noauth exact all none none You can now poll community private on unreachable.example.com via community unreachable on host hereweare.example.com . Please note that requests on unreachable.example.com will be coming from hereweare.example.com , not your poller.","title":"Example configuration"},{"location":"Extensions/SNMP-Trap-Handler/","text":"SNMP trap handling Currently, librenms only supports linkUp/linkDown (port up/down), bgpEstablished/bgpBackwardTransition (BGP Sessions Up/Down) and authenticationFailure SNMP traps. To add more see Adding new SNMP Trap handlers Traps are handled via snmptrapd. Configure snmptrapd Install snmptrapd via your package manager. Modify startup options to include -M /opt/librenms/mibs -m ALL In /etc/snmp/snmptrapd.conf , add something like the following: traphandle default /opt/librenms/snmptrap.php Along with any necessary configuration to receive the traps from your devices (community, etc.) Event logging You can configure generic event logging for snmp traps. This will log an event of the type trap for received traps. These events can be utilized for alerting. In config.php $config['snmptraps']['eventlog'] = 'unhandled'; Valid options are: - unhandled only unhandled traps will be logged - all log all traps - none no traps will create a generic event log (handled traps may still log events)","title":"SNMP trap handling"},{"location":"Extensions/SNMP-Trap-Handler/#snmp-trap-handling","text":"Currently, librenms only supports linkUp/linkDown (port up/down), bgpEstablished/bgpBackwardTransition (BGP Sessions Up/Down) and authenticationFailure SNMP traps. To add more see Adding new SNMP Trap handlers Traps are handled via snmptrapd.","title":"SNMP trap handling"},{"location":"Extensions/SNMP-Trap-Handler/#configure-snmptrapd","text":"Install snmptrapd via your package manager. Modify startup options to include -M /opt/librenms/mibs -m ALL In /etc/snmp/snmptrapd.conf , add something like the following: traphandle default /opt/librenms/snmptrap.php Along with any necessary configuration to receive the traps from your devices (community, etc.)","title":"Configure snmptrapd"},{"location":"Extensions/SNMP-Trap-Handler/#event-logging","text":"You can configure generic event logging for snmp traps. This will log an event of the type trap for received traps. These events can be utilized for alerting. In config.php $config['snmptraps']['eventlog'] = 'unhandled'; Valid options are: - unhandled only unhandled traps will be logged - all log all traps - none no traps will create a generic event log (handled traps may still log events)","title":"Event logging"},{"location":"Extensions/Services/","text":"Setting up Services Services within LibreNMS provides the ability to use Nagios plugins to perform additional monitoring outside of SNMP. These services are tied into an existing device so you need at least one device to be able to add it to LibreNMS - localhost is a good one. This is needed in order for alerting to work properly. Setup Service checks is now distributed aware. If you run a distributed setup then you can now run services-wrapper.py in cron instead of check-services.php across all polling nodes. If you need to debug the output of services-wrapper.py then you can add -d to the end of the command - it is NOT recommended to do this in cron. Firstly, install Nagios plugins however you would like, this could be via yum, apt-get or direct from source. Next, you need to enable the services within config.php with the following: $config['show_services'] = 1; This will enable a new service menu within your navbar. $config['nagios_plugins'] = /usr/lib/nagios/plugins ; This will point LibreNMS at the location of the nagios plugins - please ensure that any plugins you use are set to executable. For example: chmod +x /usr/lib/nagios/plugins/* Finally, you now need to add services-wrapper.py to the current cron file (/etc/cron.d/librenms typically) like: */5 * * * * librenms /opt/librenms/services-wrapper.py 1 Now you can add services via the main Services link in the navbar, or via the 'Add Service' link within the device, services page. Note that some services (procs, inodes, load and similar) will always poll the local LibreNMS server it's running on, regardless of which device you add it to. Performance data By default, the check-services script will collect all performance data that the Nagios script returns and display each datasource on a separate graph. However for some modules it would be better if some of this information was consolidated on a single graph. An example is the ICMP check. This check returns: Round Trip Average (rta), Round Trip Min (rtmin) and Round Trip Max (rtmax). These have been combined onto a single graph. If you find a check script that would benefit from having some datasources graphed together, please log an issue on GitHub with the debug information from the script, and let us know which DS's should go together. Example below: ./check-services.php -d -- snip -- Nagios Service - 26 Request: /usr/lib/nagios/plugins/check_icmp localhost Perf Data - DS: rta, Value: 0.016, UOM: ms Perf Data - DS: pl, Value: 0, UOM: % Perf Data - DS: rtmax, Value: 0.044, UOM: ms Perf Data - DS: rtmin, Value: 0.009, UOM: ms Response: OK - localhost: rta 0.016ms, lost 0% Service DS: { \"rta\": \"ms\", \"pl\": \"%\", \"rtmax\": \"ms\", \"rtmin\": \"ms\" } OK u:0.00 s:0.00 r:40.67 RRD[update /opt/librenms/rrd/localhost/services-26.rrd N:0.016:0:0.044:0.009] -- snip -- Alerting Services uses the Nagios Alerting scheme where: 0 = Ok, 1 = Warning, 2 = Critical, To create an alerting rule to alert on service=critical, your alerting rule would look like: %services.service_status = \"2\" Debug Change user to librenms for example su - librenms then you can run the following command to help troubleshoot services. ./check-services.php -d Service checks polling logic Service check is skipped when the associated device is not pingable, and an appropriate entry is populated in the event log. Service check is polled if it's IP address parameter is not equal to associated device's IP address, even when the associated device is not pingable. To override the default logic and always poll service checks, you can disable ICMP testing for any device by switching Disable ICMP Test setting (Edit - Misc) to ON. Service checks will never be polled on disabled devices.","title":"Nagios Plugins"},{"location":"Extensions/Services/#setting-up-services","text":"Services within LibreNMS provides the ability to use Nagios plugins to perform additional monitoring outside of SNMP. These services are tied into an existing device so you need at least one device to be able to add it to LibreNMS - localhost is a good one. This is needed in order for alerting to work properly.","title":"Setting up Services"},{"location":"Extensions/Services/#setup","text":"Service checks is now distributed aware. If you run a distributed setup then you can now run services-wrapper.py in cron instead of check-services.php across all polling nodes. If you need to debug the output of services-wrapper.py then you can add -d to the end of the command - it is NOT recommended to do this in cron. Firstly, install Nagios plugins however you would like, this could be via yum, apt-get or direct from source. Next, you need to enable the services within config.php with the following: $config['show_services'] = 1; This will enable a new service menu within your navbar. $config['nagios_plugins'] = /usr/lib/nagios/plugins ; This will point LibreNMS at the location of the nagios plugins - please ensure that any plugins you use are set to executable. For example: chmod +x /usr/lib/nagios/plugins/* Finally, you now need to add services-wrapper.py to the current cron file (/etc/cron.d/librenms typically) like: */5 * * * * librenms /opt/librenms/services-wrapper.py 1 Now you can add services via the main Services link in the navbar, or via the 'Add Service' link within the device, services page. Note that some services (procs, inodes, load and similar) will always poll the local LibreNMS server it's running on, regardless of which device you add it to.","title":"Setup"},{"location":"Extensions/Services/#performance-data","text":"By default, the check-services script will collect all performance data that the Nagios script returns and display each datasource on a separate graph. However for some modules it would be better if some of this information was consolidated on a single graph. An example is the ICMP check. This check returns: Round Trip Average (rta), Round Trip Min (rtmin) and Round Trip Max (rtmax). These have been combined onto a single graph. If you find a check script that would benefit from having some datasources graphed together, please log an issue on GitHub with the debug information from the script, and let us know which DS's should go together. Example below: ./check-services.php -d -- snip -- Nagios Service - 26 Request: /usr/lib/nagios/plugins/check_icmp localhost Perf Data - DS: rta, Value: 0.016, UOM: ms Perf Data - DS: pl, Value: 0, UOM: % Perf Data - DS: rtmax, Value: 0.044, UOM: ms Perf Data - DS: rtmin, Value: 0.009, UOM: ms Response: OK - localhost: rta 0.016ms, lost 0% Service DS: { \"rta\": \"ms\", \"pl\": \"%\", \"rtmax\": \"ms\", \"rtmin\": \"ms\" } OK u:0.00 s:0.00 r:40.67 RRD[update /opt/librenms/rrd/localhost/services-26.rrd N:0.016:0:0.044:0.009] -- snip --","title":"Performance data"},{"location":"Extensions/Services/#alerting","text":"Services uses the Nagios Alerting scheme where: 0 = Ok, 1 = Warning, 2 = Critical, To create an alerting rule to alert on service=critical, your alerting rule would look like: %services.service_status = \"2\"","title":"Alerting"},{"location":"Extensions/Services/#debug","text":"Change user to librenms for example su - librenms then you can run the following command to help troubleshoot services. ./check-services.php -d","title":"Debug"},{"location":"Extensions/Services/#service-checks-polling-logic","text":"Service check is skipped when the associated device is not pingable, and an appropriate entry is populated in the event log. Service check is polled if it's IP address parameter is not equal to associated device's IP address, even when the associated device is not pingable. To override the default logic and always poll service checks, you can disable ICMP testing for any device by switching Disable ICMP Test setting (Edit - Misc) to ON. Service checks will never be polled on disabled devices.","title":"Service checks polling logic"},{"location":"Extensions/Smokeping/","text":"Smokeping integration SmokePing is a tool which lets us keep track of network latency, and visualise this through RRD graphs. LibreNMS has support for both new and pre-existing SmokePing installations. For new installations, we can use the included scripts/gen_smokeping.php script to generate a Smokeping config file. New Smokeping installation Install and integrate Smokeping - Debian/Ubuntu This guide assumes you have already installed librenms , and is working with either Apache or nginx . Install Smokeping sudo apt update sudo apt install smokeping Configure SmokePing Smokeping has several configuration files. By default, these are located in /etc/smokeping/config.d/ Edit the General configuration file's Owner and contact , and cgiurl hostname details: nano /etc/smokeping/config.d/General owner = LibreNMS-Admin contact = admin@ACME.xxx cgiurl = http://yourlibrenms/cgi-bin/smokeping.cgi Configure Smokeping to use LibreNMS list of nodes Add the following line to /etc/smokeping/config config file: @include /opt/smokeping/etc/librenms.conf We will generate the conf file in the next step. Generate LibreNMS list of Smokeping Nodes LibreNMS comes equipped with a script which exports our list of nodes from LibreNMS into a configuration file in the format required by Smokeping. To generate the config file once: php /opt/librenms/scripts/gen_smokeping.php /opt/smokeping/etc/librenms.conf However , it is more desirable to set up a cron job which regenerates our list of nodes and adds these into Smokeping. You can add the following to the end of your librenms cron job, e.g. nano /etc/cron.d/librenms Ubuntu 16.04 Sample cron (will run daily at 00:05) : 05 00 * * * root (echo + LibreNMS ; php -f /opt/librenms/scripts/gen_smokeping.php) /etc/smokeping/config.d/librenms.conf systemctl reload smokeping.service /dev/null 2 1 Ubuntu 14.04 Sample cron (will run daily at 00:05): 05 00 * * * root (echo + LibreNMS ; php -f /opt/librenms/scripts/gen_smokeping.php) /opt/smokeping/etc/librenms.conf /opt/smokeping/bin/smokeping --reload /dev/null 2 1 Why echo \"+ LibreNMS\" ? This is in the cron job because the gen_smokeping.php script contains menu = Top title = Network Latency Grapher Which can cause Smokeping to not start. echo \"+ LibreNMS\" appends this in our smokeping config file. We could remove the above from the gen_smokeping script, however this may cause issues with LibreNMS failing to update with daily.sh due config files being modified. Configure LibreNMS Edit /opt/librenms/config.php and add the following: Note: Make sure you point dir to the correct Smokeping data directory: $config['smokeping']['dir'] = '/var/lib/smokeping'; // Ubuntu 16.04 Location #$config['smokeping']['dir'] = '/opt/smokeping/data'; $config['smokeping']['pings'] = 20; // should be equal to pings in your smokeping config $config['smokeping']['integration'] = true; Configure web server This section covers the required configuration for your web server of choice. This covers the required configuration for either Apache or Nginx. Apache Configuration Smokeping should automatically install an Apache config file in /etc/apache2/conf-available/ . Verify this using : librenms@librenms:~/scripts$ ls /etc/apache2/conf-available/ | grep smokeping smokeping.conf If you don't see smokeping.conf listed, you'll need to create a symlink for it: ln -s /etc/smokeping/apache2.conf /etc/apache2/conf-available/smokeping.conf After creating the symlink, restart Apache with sudo systemctl apache2 restart You should be able to load the Smokeping web interface at http://yourhost/cgi-bin/smokeping.cgi Nginx Configuration This section assumes you have configured LibreNMS with Nginx as specified in Configure Nginx . Add the following configuration to your /etc/nginx/conf.d/librenms config file. The following will configure Nginx to respond to http://yourlibrenms/smokeping : #Browsing to `http://librenms.xxx/smokeping/` should bring up the smokeping web interface location = /smokeping/ { fastcgi_intercept_errors on; fastcgi_param SCRIPT_FILENAME /usr/lib/cgi-bin/smokeping.cgi; fastcgi_param QUERY_STRING $query_string; fastcgi_param REQUEST_METHOD $request_method; fastcgi_param CONTENT_TYPE $content_type; fastcgi_param CONTENT_LENGTH $content_length; fastcgi_param REQUEST_URI $request_uri; fastcgi_param DOCUMENT_URI $document_uri; fastcgi_param DOCUMENT_ROOT $document_root; fastcgi_param SERVER_PROTOCOL $server_protocol; fastcgi_param GATEWAY_INTERFACE CGI/1.1; fastcgi_param SERVER_SOFTWARE nginx/$nginx_version; fastcgi_param REMOTE_ADDR $remote_addr; fastcgi_param REMOTE_PORT $remote_port; fastcgi_param SERVER_ADDR $server_addr; fastcgi_param SERVER_PORT $server_port; fastcgi_param SERVER_NAME $server_name; fastcgi_param HTTPS $https if_not_empty; fastcgi_pass unix:/var/run/fcgiwrap.socket; } location ^~ /smokeping/ { alias /usr/share/smokeping/www/; index smokeping.cgi; gzip off; } After saving the config file, verify your Nginx config file syntax is OK with sudo nginx -t , then restart Nginx with sudo systemctl restart nginx You should be able to load the Smokeping web interface at http://yourhost/smokeping Start SmokePing Use the below commands to start and verify smokeping is running. Ubuntu 14.04: sudo service smokeping start Verify: sudo service smokeping status Ubuntu 16.04: sudo systemctl start smokeping Verify: sudo systemctl status smokeping Verify in LibreNMS Within LibreNMS, you should now have a new device sub-tab called Ping. Pre-Existing Smokeping Installation The following section covers the requirements for an existing SmokePing installation. The primary difference is this section does not cover using the LibreNMS Smokeping config script, and assumes an existing Smokeping server is set up and working correctly. In terms of configuration, simply add the location of where smokeping data such as RRD files are stored. If this is on a separate server, ensure there is a mount point reachable, along with the server's hostname. Note: The location should be the RRD root folder, NOT the sub-directory such as network. $config['smokeping']['dir'] = '/var/lib/smokeping'; // Ubuntu 16.04 Location #$config['smokeping']['dir'] = '/opt/smokeping/data'; $config['smokeping']['pings'] = 20; // should be equal to pings in your smokeping config $config['smokeping']['integration'] = true; You should now see a new tab in your device page called ping. Issues ERROR: /etc/smokeping/config.d/pathnames, line 1: File '/usr/sbin/sendmail' does not exist If you got this error at the end of the installation, simply edit smokeping's config file like so: nano /etc/smokeping/config.d/pathnames -sendmail = /usr/sbin/sendmail +#sendmail = /usr/sbin/sendmail Smokeping and RRDCached If you are using the standard smokeping data dir (/opt/smokeping/data) then you may need to alter the rrdcached config slightly. In the standard configuration the -B argument may have been used to restrict rrdcached to read only from a single base dir. If this is true, when you try an open one of the smokeping graphs from within LibreNMS you will see something like this error at the end of the rrdcached command: ERROR: rrdcached: /var/lib/smokeping/ device name .rrd: Permission denied You will need to either change the dir in which smokeping saves its rrd files to be the same as the main librenms dir or you can remove the -B argument from the rrdcached config to allow it to read from more than one dir. To remove the -B switch: sudo nano /etc/default/rrdcached then find: BASE_OPTIONS= If -B is in the list of arguments delete it.","title":"Smokeping integration"},{"location":"Extensions/Smokeping/#smokeping-integration","text":"SmokePing is a tool which lets us keep track of network latency, and visualise this through RRD graphs. LibreNMS has support for both new and pre-existing SmokePing installations. For new installations, we can use the included scripts/gen_smokeping.php script to generate a Smokeping config file.","title":"Smokeping integration"},{"location":"Extensions/Smokeping/#new-smokeping-installation","text":"","title":"New Smokeping installation"},{"location":"Extensions/Smokeping/#install-and-integrate-smokeping-debianubuntu","text":"This guide assumes you have already installed librenms , and is working with either Apache or nginx .","title":"Install and integrate Smokeping - Debian/Ubuntu"},{"location":"Extensions/Smokeping/#install-smokeping","text":"sudo apt update sudo apt install smokeping","title":"Install Smokeping"},{"location":"Extensions/Smokeping/#configure-smokeping","text":"Smokeping has several configuration files. By default, these are located in /etc/smokeping/config.d/ Edit the General configuration file's Owner and contact , and cgiurl hostname details: nano /etc/smokeping/config.d/General owner = LibreNMS-Admin contact = admin@ACME.xxx cgiurl = http://yourlibrenms/cgi-bin/smokeping.cgi","title":"Configure SmokePing"},{"location":"Extensions/Smokeping/#configure-smokeping-to-use-librenms-list-of-nodes","text":"Add the following line to /etc/smokeping/config config file: @include /opt/smokeping/etc/librenms.conf We will generate the conf file in the next step.","title":"Configure Smokeping to use LibreNMS list of nodes"},{"location":"Extensions/Smokeping/#generate-librenms-list-of-smokeping-nodes","text":"LibreNMS comes equipped with a script which exports our list of nodes from LibreNMS into a configuration file in the format required by Smokeping. To generate the config file once: php /opt/librenms/scripts/gen_smokeping.php /opt/smokeping/etc/librenms.conf However , it is more desirable to set up a cron job which regenerates our list of nodes and adds these into Smokeping. You can add the following to the end of your librenms cron job, e.g. nano /etc/cron.d/librenms Ubuntu 16.04 Sample cron (will run daily at 00:05) : 05 00 * * * root (echo + LibreNMS ; php -f /opt/librenms/scripts/gen_smokeping.php) /etc/smokeping/config.d/librenms.conf systemctl reload smokeping.service /dev/null 2 1 Ubuntu 14.04 Sample cron (will run daily at 00:05): 05 00 * * * root (echo + LibreNMS ; php -f /opt/librenms/scripts/gen_smokeping.php) /opt/smokeping/etc/librenms.conf /opt/smokeping/bin/smokeping --reload /dev/null 2 1 Why echo \"+ LibreNMS\" ? This is in the cron job because the gen_smokeping.php script contains menu = Top title = Network Latency Grapher Which can cause Smokeping to not start. echo \"+ LibreNMS\" appends this in our smokeping config file. We could remove the above from the gen_smokeping script, however this may cause issues with LibreNMS failing to update with daily.sh due config files being modified.","title":"Generate LibreNMS list of Smokeping Nodes"},{"location":"Extensions/Smokeping/#configure-librenms","text":"Edit /opt/librenms/config.php and add the following: Note: Make sure you point dir to the correct Smokeping data directory: $config['smokeping']['dir'] = '/var/lib/smokeping'; // Ubuntu 16.04 Location #$config['smokeping']['dir'] = '/opt/smokeping/data'; $config['smokeping']['pings'] = 20; // should be equal to pings in your smokeping config $config['smokeping']['integration'] = true;","title":"Configure LibreNMS"},{"location":"Extensions/Smokeping/#configure-web-server","text":"This section covers the required configuration for your web server of choice. This covers the required configuration for either Apache or Nginx.","title":"Configure web server"},{"location":"Extensions/Smokeping/#apache-configuration","text":"Smokeping should automatically install an Apache config file in /etc/apache2/conf-available/ . Verify this using : librenms@librenms:~/scripts$ ls /etc/apache2/conf-available/ | grep smokeping smokeping.conf If you don't see smokeping.conf listed, you'll need to create a symlink for it: ln -s /etc/smokeping/apache2.conf /etc/apache2/conf-available/smokeping.conf After creating the symlink, restart Apache with sudo systemctl apache2 restart You should be able to load the Smokeping web interface at http://yourhost/cgi-bin/smokeping.cgi","title":"Apache Configuration"},{"location":"Extensions/Smokeping/#nginx-configuration","text":"This section assumes you have configured LibreNMS with Nginx as specified in Configure Nginx . Add the following configuration to your /etc/nginx/conf.d/librenms config file. The following will configure Nginx to respond to http://yourlibrenms/smokeping : #Browsing to `http://librenms.xxx/smokeping/` should bring up the smokeping web interface location = /smokeping/ { fastcgi_intercept_errors on; fastcgi_param SCRIPT_FILENAME /usr/lib/cgi-bin/smokeping.cgi; fastcgi_param QUERY_STRING $query_string; fastcgi_param REQUEST_METHOD $request_method; fastcgi_param CONTENT_TYPE $content_type; fastcgi_param CONTENT_LENGTH $content_length; fastcgi_param REQUEST_URI $request_uri; fastcgi_param DOCUMENT_URI $document_uri; fastcgi_param DOCUMENT_ROOT $document_root; fastcgi_param SERVER_PROTOCOL $server_protocol; fastcgi_param GATEWAY_INTERFACE CGI/1.1; fastcgi_param SERVER_SOFTWARE nginx/$nginx_version; fastcgi_param REMOTE_ADDR $remote_addr; fastcgi_param REMOTE_PORT $remote_port; fastcgi_param SERVER_ADDR $server_addr; fastcgi_param SERVER_PORT $server_port; fastcgi_param SERVER_NAME $server_name; fastcgi_param HTTPS $https if_not_empty; fastcgi_pass unix:/var/run/fcgiwrap.socket; } location ^~ /smokeping/ { alias /usr/share/smokeping/www/; index smokeping.cgi; gzip off; } After saving the config file, verify your Nginx config file syntax is OK with sudo nginx -t , then restart Nginx with sudo systemctl restart nginx You should be able to load the Smokeping web interface at http://yourhost/smokeping","title":"Nginx Configuration"},{"location":"Extensions/Smokeping/#start-smokeping","text":"Use the below commands to start and verify smokeping is running. Ubuntu 14.04: sudo service smokeping start Verify: sudo service smokeping status Ubuntu 16.04: sudo systemctl start smokeping Verify: sudo systemctl status smokeping","title":"Start SmokePing"},{"location":"Extensions/Smokeping/#verify-in-librenms","text":"Within LibreNMS, you should now have a new device sub-tab called Ping.","title":"Verify in LibreNMS"},{"location":"Extensions/Smokeping/#pre-existing-smokeping-installation","text":"The following section covers the requirements for an existing SmokePing installation. The primary difference is this section does not cover using the LibreNMS Smokeping config script, and assumes an existing Smokeping server is set up and working correctly. In terms of configuration, simply add the location of where smokeping data such as RRD files are stored. If this is on a separate server, ensure there is a mount point reachable, along with the server's hostname. Note: The location should be the RRD root folder, NOT the sub-directory such as network. $config['smokeping']['dir'] = '/var/lib/smokeping'; // Ubuntu 16.04 Location #$config['smokeping']['dir'] = '/opt/smokeping/data'; $config['smokeping']['pings'] = 20; // should be equal to pings in your smokeping config $config['smokeping']['integration'] = true; You should now see a new tab in your device page called ping.","title":"Pre-Existing Smokeping Installation"},{"location":"Extensions/Smokeping/#issues","text":"","title":"Issues"},{"location":"Extensions/Smokeping/#error-etcsmokepingconfigdpathnames-line-1-file-usrsbinsendmail-does-not-exist","text":"If you got this error at the end of the installation, simply edit smokeping's config file like so: nano /etc/smokeping/config.d/pathnames -sendmail = /usr/sbin/sendmail +#sendmail = /usr/sbin/sendmail","title":"ERROR: /etc/smokeping/config.d/pathnames, line 1: File '/usr/sbin/sendmail' does not exist"},{"location":"Extensions/Smokeping/#smokeping-and-rrdcached","text":"If you are using the standard smokeping data dir (/opt/smokeping/data) then you may need to alter the rrdcached config slightly. In the standard configuration the -B argument may have been used to restrict rrdcached to read only from a single base dir. If this is true, when you try an open one of the smokeping graphs from within LibreNMS you will see something like this error at the end of the rrdcached command: ERROR: rrdcached: /var/lib/smokeping/ device name .rrd: Permission denied You will need to either change the dir in which smokeping saves its rrd files to be the same as the main librenms dir or you can remove the -B argument from the rrdcached config to allow it to read from more than one dir. To remove the -B switch: sudo nano /etc/default/rrdcached then find: BASE_OPTIONS= If -B is in the list of arguments delete it.","title":"Smokeping and RRDCached"},{"location":"Extensions/Sub-Directory/","text":"To run LibreNMS under a subdirectory on your Apache server, the directives for the LibreNMS directory are placed in the base server configuration, or in a virtual host container of your choosing. If using a virtual host, place the directives in the file where the virtual host is configured. If using the base server on RHEL distributions (CentOS, Scientific Linux, etc.) the directives can be placed in /etc/httpd/conf.d/librenms.conf . For Debian distributions (Ubuntu, etc.) place the directives in /etc/apache2/sites-available/default . #These directives can be inside a virtual host or in the base server configuration AllowEncodedSlashes On Alias /librenms /opt/librenms/html Directory /opt/librenms/html AllowOverride All Options FollowSymLinks MultiViews /Directory The RewriteBase directive in html/.htaccess must be rewritten to reference the subdirectory name. Assuming LibreNMS is running at http://example.com/librenms/, you will need to change RewriteBase / to RewriteBase /librenms . Finally, set APP_URL=/librenms/ in .env and $config[\"base_url\"] = '/librenms/'; in config.php.","title":"Sub-directory Support"},{"location":"Extensions/Syslog/","text":"Setting up syslog support This document will explain how to send syslog data to LibreNMS. Please also refer to the file Graylog.md for an alternate way of integrating syslog with LibreNMS. Syslog server installation syslog-ng For Debian / Ubuntu: apt-get install syslog-ng For CentOS / RedHat yum install syslog-ng Once syslog-ng is installed, edit the relevant config file (most likely /etc/syslog-ng/syslog-ng.conf) and paste the following: @version:3.5 @include scl.conf # syslog-ng configuration file. # # This should behave pretty much like the original syslog on RedHat. But # it could be configured a lot smarter. # # See syslog-ng(8) and syslog-ng.conf(5) for more information. # # Note: it also sources additional configuration files (*.conf) # located in /etc/syslog-ng/conf.d/ options { chain_hostnames(off); flush_lines(0); use_dns(no); use_fqdn(no); owner( root ); group( adm ); perm(0640); stats_freq(0); bad_hostname( ^gconfd$ ); }; source s_sys { system(); internal(); }; source s_net { tcp(port(514) flags(syslog-protocol)); udp(port(514) flags(syslog-protocol)); }; ######################## # Destinations ######################## destination d_librenms { program( /opt/librenms/syslog.php template ( $HOST||$FACILITY||$PRIORITY||$LEVEL||$TAG||$R_YEAR-$R_MONTH-$R_DAY $R_HOUR:$R_MIN:$R_SEC||$MSG||$PROGRAM\\n ) template-escape(yes)); }; filter f_kernel { facility(kern); }; filter f_default { level(info..emerg) and not (facility(mail) or facility(authpriv) or facility(cron)); }; filter f_auth { facility(authpriv); }; filter f_mail { facility(mail); }; filter f_emergency { level(emerg); }; filter f_news { facility(uucp) or (facility(news) and level(crit..emerg)); }; filter f_boot { facility(local7); }; filter f_cron { facility(cron); }; ######################## # Log paths ######################## log { source(s_net); source(s_sys); destination(d_librenms); }; # Source additional configuration files (.conf extension only) @include /etc/syslog-ng/conf.d/*.conf # vim:ft=syslog-ng:ai:si:ts=4:sw=4:et: Next start syslog-ng: service syslog-ng restart Add the following to your LibreNMS config.php file to enable the Syslog extension: $config['enable_syslog'] = 1; rsyslog If you prefer rsyslog, here are some hints on how to get it working. Add the following to your rsyslog config somewhere (could be at the top of the file in the step below, could be in rsyslog.conf if you are using remote logs for something else on this host) # Listen for syslog messages on UDP:514 $ModLoad imudp $UDPServerRun 514 Create a file called something like /etc/rsyslog.d/30-librenms.conf containing: # Feed syslog messages to librenms $ModLoad omprog $template librenms, %fromhost%||%syslogfacility%||%syslogpriority%||%syslogseverity%||%syslogtag%||%$year%-%$month%-%$day% %timegenerated:8:25%||%msg%||%programname%\\n *.* action(type= omprog binary= /opt/librenms/syslog.php template= librenms ) stop Ancient versions of rsyslog may require different syntax. This is an example for rsyslog 5 (default on Debian 7): # Feed syslog messages to librenms $ModLoad omprog $template librenms, %FROMHOST%||%syslogfacility-text%||%syslogpriority-text%||%syslogseverity%||%syslogtag%||%$YEAR%-%$MONTH%-%$DAY% %timegenerated:8:25%||%msg%||%programname%\\n $ActionOMProgBinary /opt/librenms/syslog.php *.* :omprog:;librenms If your rsyslog server is recieving messages relayed by another syslog server, you may try replacing %fromhost% with %hostname% , since fromhost is the host the message was received from, not the host that generated the message. The fromhost property is preferred as it avoids problems caused by devices sending incorrect hostnames in syslog messages. Add the following to your LibreNMS config.php file to enable the Syslog extension: $config['enable_syslog'] = 1; Syslog Clean Up Can be set inside of config.php $config['syslog_purge'] = 30; The cleanup is run by daily.sh and any entries over X days old are automatically purged. Values are in days. See here for more Clean Up Options Link Client configuration Below are sample configurations for a variety of clients. You should understand the config before using it as you may want to make some slight changes. Further configuration hints may be found in the file Graylog.md. Replace librenms.ip with IP or hostname of your LibreNMS install. Replace any variables in with the relevant information. syslog *.* @librenms.ip rsyslog *.* @librenms.ip:514 Cisco ASA logging enable logging timestamp logging buffer-size 200000 logging buffered debugging logging trap notifications logging host outside interface name librenms.ip Cisco IOS logging trap debugging logging facility local6 logging librenms.ip Cisco NXOS logging server librenms.ip 5 use-vrf default facility local6 Juniper Junos set system syslog host librenms.ip authorization any set system syslog host librenms.ip daemon any set system syslog host librenms.ip kernel any set system syslog host librenms.ip user any set system syslog host librenms.ip change-log any set system syslog host librenms.ip source-address management ip set system syslog host librenms.ip exclude-hostname set system syslog time-format Allied Telesis Alliedware Plus log date-format iso // Required so syslog-ng/LibreNMS can correctly interpret the log message formatting. log host x.x.x.x log host x.x.x.x level errors // Required. A log-level must be specified for syslog messages to send. log host x.x.x.x level notices program imish // Useful for seeing all commands executed by users. log host x.x.x.x level notices program imi // Required for Oxidized Syslog hook log message. log host source eth0 If you have permitted udp and tcp 514 through any firewall then that should be all you need. Logs should start appearing and displayed within the LibreNMS web UI. Windows By Default windows has no native way to send logs to a remote syslog server. Using this how to you can download Datagram-Syslog Agent to send logs to a remote syslog server (LibreNMS). Note keep in mind you can use any agent or program to send the logs. We are just using this Datagram-Syslog Agent for this example. Link to How to You will need to download and install \"Datagram-Syslog Agent\" for this how to Link to Download External hooks Trigger external scripts based on specific syslog patterns being matched with syslog hooks. Add the following to your LibreNMS config.php to enable hooks: $config['enable_syslog_hooks'] = 1; The below are some example hooks to call an external script in the event of a configuration change on Cisco ASA, IOS, NX-OS and IOS-XR devices. Add to your config.php file to enable. Cisco ASA $config['os']['asa']['syslog_hook'][] = Array('regex' = '/%ASA-(config-)?5-111005/', 'script' = '/opt/librenms/scripts/syslog-notify-oxidized.php'); Cisco IOS $config['os']['ios']['syslog_hook'][] = Array('regex' = '/%SYS-(SW[0-9]+-)?5-CONFIG_I/', 'script' = '/opt/librenms/scripts/syslog-notify-oxidized.php'); Cisco NXOS $config['os']['nxos']['syslog_hook'][] = Array('regex' = '/%VSHD-5-VSHD_SYSLOG_CONFIG_I/', 'script' = '/opt/librenms/scripts/syslog-notify-oxidized.php'); Cisco IOSXR $config['os']['iosxr']['syslog_hook'][] = Array('regex' = '/%GBL-CONFIG-6-DB_COMMIT/', 'script' = '/opt/librenms/scripts/syslog-notify-oxidized.php'); Juniper Junos $config['os']['junos']['syslog_hook'][] = Array('regex' = '/%UI_COMMIT:/', 'script' = '/opt/librenms/scripts/syslog-notify-oxidized.php'); Allied Telesis Alliedware Plus Note: At least software version 5.4.8-2.1 is required. log host x.x.x.x level notices program imi may also be required depending on configuration. This is to ensure the syslog hook log message gets sent to the syslog server. $config['os']['awplus']['syslog_hook'][] = Array('regex' = '/IMI.+.Startup-config saved on/', 'script' = '/opt/librenms/scripts/syslog-notify-oxidized.php');","title":"Setting up syslog support"},{"location":"Extensions/Syslog/#setting-up-syslog-support","text":"This document will explain how to send syslog data to LibreNMS. Please also refer to the file Graylog.md for an alternate way of integrating syslog with LibreNMS.","title":"Setting up syslog support"},{"location":"Extensions/Syslog/#syslog-server-installation","text":"","title":"Syslog server installation"},{"location":"Extensions/Syslog/#syslog-ng","text":"For Debian / Ubuntu: apt-get install syslog-ng For CentOS / RedHat yum install syslog-ng Once syslog-ng is installed, edit the relevant config file (most likely /etc/syslog-ng/syslog-ng.conf) and paste the following: @version:3.5 @include scl.conf # syslog-ng configuration file. # # This should behave pretty much like the original syslog on RedHat. But # it could be configured a lot smarter. # # See syslog-ng(8) and syslog-ng.conf(5) for more information. # # Note: it also sources additional configuration files (*.conf) # located in /etc/syslog-ng/conf.d/ options { chain_hostnames(off); flush_lines(0); use_dns(no); use_fqdn(no); owner( root ); group( adm ); perm(0640); stats_freq(0); bad_hostname( ^gconfd$ ); }; source s_sys { system(); internal(); }; source s_net { tcp(port(514) flags(syslog-protocol)); udp(port(514) flags(syslog-protocol)); }; ######################## # Destinations ######################## destination d_librenms { program( /opt/librenms/syslog.php template ( $HOST||$FACILITY||$PRIORITY||$LEVEL||$TAG||$R_YEAR-$R_MONTH-$R_DAY $R_HOUR:$R_MIN:$R_SEC||$MSG||$PROGRAM\\n ) template-escape(yes)); }; filter f_kernel { facility(kern); }; filter f_default { level(info..emerg) and not (facility(mail) or facility(authpriv) or facility(cron)); }; filter f_auth { facility(authpriv); }; filter f_mail { facility(mail); }; filter f_emergency { level(emerg); }; filter f_news { facility(uucp) or (facility(news) and level(crit..emerg)); }; filter f_boot { facility(local7); }; filter f_cron { facility(cron); }; ######################## # Log paths ######################## log { source(s_net); source(s_sys); destination(d_librenms); }; # Source additional configuration files (.conf extension only) @include /etc/syslog-ng/conf.d/*.conf # vim:ft=syslog-ng:ai:si:ts=4:sw=4:et: Next start syslog-ng: service syslog-ng restart Add the following to your LibreNMS config.php file to enable the Syslog extension: $config['enable_syslog'] = 1;","title":"syslog-ng"},{"location":"Extensions/Syslog/#rsyslog","text":"If you prefer rsyslog, here are some hints on how to get it working. Add the following to your rsyslog config somewhere (could be at the top of the file in the step below, could be in rsyslog.conf if you are using remote logs for something else on this host) # Listen for syslog messages on UDP:514 $ModLoad imudp $UDPServerRun 514 Create a file called something like /etc/rsyslog.d/30-librenms.conf containing: # Feed syslog messages to librenms $ModLoad omprog $template librenms, %fromhost%||%syslogfacility%||%syslogpriority%||%syslogseverity%||%syslogtag%||%$year%-%$month%-%$day% %timegenerated:8:25%||%msg%||%programname%\\n *.* action(type= omprog binary= /opt/librenms/syslog.php template= librenms ) stop Ancient versions of rsyslog may require different syntax. This is an example for rsyslog 5 (default on Debian 7): # Feed syslog messages to librenms $ModLoad omprog $template librenms, %FROMHOST%||%syslogfacility-text%||%syslogpriority-text%||%syslogseverity%||%syslogtag%||%$YEAR%-%$MONTH%-%$DAY% %timegenerated:8:25%||%msg%||%programname%\\n $ActionOMProgBinary /opt/librenms/syslog.php *.* :omprog:;librenms If your rsyslog server is recieving messages relayed by another syslog server, you may try replacing %fromhost% with %hostname% , since fromhost is the host the message was received from, not the host that generated the message. The fromhost property is preferred as it avoids problems caused by devices sending incorrect hostnames in syslog messages. Add the following to your LibreNMS config.php file to enable the Syslog extension: $config['enable_syslog'] = 1;","title":"rsyslog"},{"location":"Extensions/Syslog/#syslog-clean-up","text":"Can be set inside of config.php $config['syslog_purge'] = 30; The cleanup is run by daily.sh and any entries over X days old are automatically purged. Values are in days. See here for more Clean Up Options Link","title":"Syslog Clean Up"},{"location":"Extensions/Syslog/#client-configuration","text":"Below are sample configurations for a variety of clients. You should understand the config before using it as you may want to make some slight changes. Further configuration hints may be found in the file Graylog.md. Replace librenms.ip with IP or hostname of your LibreNMS install. Replace any variables in with the relevant information.","title":"Client configuration"},{"location":"Extensions/Syslog/#syslog","text":"*.* @librenms.ip","title":"syslog"},{"location":"Extensions/Syslog/#rsyslog_1","text":"*.* @librenms.ip:514","title":"rsyslog"},{"location":"Extensions/Syslog/#cisco-asa","text":"logging enable logging timestamp logging buffer-size 200000 logging buffered debugging logging trap notifications logging host outside interface name librenms.ip","title":"Cisco ASA"},{"location":"Extensions/Syslog/#cisco-ios","text":"logging trap debugging logging facility local6 logging librenms.ip","title":"Cisco IOS"},{"location":"Extensions/Syslog/#cisco-nxos","text":"logging server librenms.ip 5 use-vrf default facility local6","title":"Cisco NXOS"},{"location":"Extensions/Syslog/#juniper-junos","text":"set system syslog host librenms.ip authorization any set system syslog host librenms.ip daemon any set system syslog host librenms.ip kernel any set system syslog host librenms.ip user any set system syslog host librenms.ip change-log any set system syslog host librenms.ip source-address management ip set system syslog host librenms.ip exclude-hostname set system syslog time-format","title":"Juniper Junos"},{"location":"Extensions/Syslog/#allied-telesis-alliedware-plus","text":"log date-format iso // Required so syslog-ng/LibreNMS can correctly interpret the log message formatting. log host x.x.x.x log host x.x.x.x level errors // Required. A log-level must be specified for syslog messages to send. log host x.x.x.x level notices program imish // Useful for seeing all commands executed by users. log host x.x.x.x level notices program imi // Required for Oxidized Syslog hook log message. log host source eth0 If you have permitted udp and tcp 514 through any firewall then that should be all you need. Logs should start appearing and displayed within the LibreNMS web UI.","title":"Allied Telesis Alliedware Plus"},{"location":"Extensions/Syslog/#windows","text":"By Default windows has no native way to send logs to a remote syslog server. Using this how to you can download Datagram-Syslog Agent to send logs to a remote syslog server (LibreNMS).","title":"Windows"},{"location":"Extensions/Syslog/#note","text":"keep in mind you can use any agent or program to send the logs. We are just using this Datagram-Syslog Agent for this example. Link to How to You will need to download and install \"Datagram-Syslog Agent\" for this how to Link to Download","title":"Note"},{"location":"Extensions/Syslog/#external-hooks","text":"Trigger external scripts based on specific syslog patterns being matched with syslog hooks. Add the following to your LibreNMS config.php to enable hooks: $config['enable_syslog_hooks'] = 1; The below are some example hooks to call an external script in the event of a configuration change on Cisco ASA, IOS, NX-OS and IOS-XR devices. Add to your config.php file to enable.","title":"External hooks"},{"location":"Extensions/Syslog/#cisco-asa_1","text":"$config['os']['asa']['syslog_hook'][] = Array('regex' = '/%ASA-(config-)?5-111005/', 'script' = '/opt/librenms/scripts/syslog-notify-oxidized.php');","title":"Cisco ASA"},{"location":"Extensions/Syslog/#cisco-ios_1","text":"$config['os']['ios']['syslog_hook'][] = Array('regex' = '/%SYS-(SW[0-9]+-)?5-CONFIG_I/', 'script' = '/opt/librenms/scripts/syslog-notify-oxidized.php');","title":"Cisco IOS"},{"location":"Extensions/Syslog/#cisco-nxos_1","text":"$config['os']['nxos']['syslog_hook'][] = Array('regex' = '/%VSHD-5-VSHD_SYSLOG_CONFIG_I/', 'script' = '/opt/librenms/scripts/syslog-notify-oxidized.php');","title":"Cisco NXOS"},{"location":"Extensions/Syslog/#cisco-iosxr","text":"$config['os']['iosxr']['syslog_hook'][] = Array('regex' = '/%GBL-CONFIG-6-DB_COMMIT/', 'script' = '/opt/librenms/scripts/syslog-notify-oxidized.php');","title":"Cisco IOSXR"},{"location":"Extensions/Syslog/#juniper-junos_1","text":"$config['os']['junos']['syslog_hook'][] = Array('regex' = '/%UI_COMMIT:/', 'script' = '/opt/librenms/scripts/syslog-notify-oxidized.php');","title":"Juniper Junos"},{"location":"Extensions/Syslog/#allied-telesis-alliedware-plus_1","text":"Note: At least software version 5.4.8-2.1 is required. log host x.x.x.x level notices program imi may also be required depending on configuration. This is to ensure the syslog hook log message gets sent to the syslog server. $config['os']['awplus']['syslog_hook'][] = Array('regex' = '/IMI.+.Startup-config saved on/', 'script' = '/opt/librenms/scripts/syslog-notify-oxidized.php');","title":"Allied Telesis Alliedware Plus"},{"location":"Extensions/Two-Factor-Auth/","text":"About Over the last couple of years, the primary attack vector for internet accounts has been static passwords. Therefore static passwords are no longer sufficient to protect unauthorized access to accounts. Two Factor Authentication adds a variable part in authentication procedures. A user is now required to supply a changing 6-digit passcode in addition to it's password to obtain access to the account. LibreNMS has a RFC4226 conform implementation of both Time and Counter based One-Time-Passwords. It also allows the administrator to configure a throttle time to enforce after 3 failures exceeded. Unlike RFC4226 suggestions, this throttle time will not stack on the amount of failures. Types In general, these two types do not differ in algorithmic terms. The types only differ in the variable being used to derive the passcodes from. The underlying HMAC-SHA1 remains the same for both types, security advantages or disadvantages of each are discussed further down. Timebased One-Time-Password (TOTP) Like the name suggests, this type uses the current Time or a subset of it to generate the passcodes. These passcodes solely rely on the secrecy of their Secretkey in order to provide passcodes. An attacker only needs to guess that Secretkey and the other variable part is any given time, presumably the time upon login. RFC4226 suggests a resynchronization attempt in case the passcode mismatches, providing the attacker a range of up to +/- 3 Minutes to create passcodes. Counterbased One-Time-Password (TOTP) This type uses an internal counter that needs to be in sync with the server's counter to successfully authenticate the passcodes. The main advantage over timebased OTP is the attacker doesn't only need to know the Secretkey but also the server's Counter in order to create valid passcodes. RFC4226 suggests a resynchronization attempt in case the passcode mismatches, providing the attacker a range of up to +4 increments from the actual counter to create passcodes. Configuration Enable Two-Factor: $config['twofactor'] = true; Set throttle-time (in seconds): $config['twofactor_lock'] = 300; Usage These steps imply that TwoFactor has been enabled in your config.php Create a Two-Factor key: - Go to 'My Settings' (/preferences/) - Choose TwoFactor type - Click on 'Generate TwoFactor Secret Key' - If your browser didn't reload, reload manually - Scan provided QR or click on 'Manual' to see the Key Google Authenticator Installation guides for Google Authenticator can be found here . Usage: - Create a key like described above - Scan provided QR or click on 'Manual' and type down the Secret - On next login, enter the passcode that the App provides","title":"Two-Factor Auth"},{"location":"Extensions/Two-Factor-Auth/#about","text":"Over the last couple of years, the primary attack vector for internet accounts has been static passwords. Therefore static passwords are no longer sufficient to protect unauthorized access to accounts. Two Factor Authentication adds a variable part in authentication procedures. A user is now required to supply a changing 6-digit passcode in addition to it's password to obtain access to the account. LibreNMS has a RFC4226 conform implementation of both Time and Counter based One-Time-Passwords. It also allows the administrator to configure a throttle time to enforce after 3 failures exceeded. Unlike RFC4226 suggestions, this throttle time will not stack on the amount of failures.","title":"About"},{"location":"Extensions/Two-Factor-Auth/#types","text":"In general, these two types do not differ in algorithmic terms. The types only differ in the variable being used to derive the passcodes from. The underlying HMAC-SHA1 remains the same for both types, security advantages or disadvantages of each are discussed further down.","title":"Types"},{"location":"Extensions/Two-Factor-Auth/#timebased-one-time-password-totp","text":"Like the name suggests, this type uses the current Time or a subset of it to generate the passcodes. These passcodes solely rely on the secrecy of their Secretkey in order to provide passcodes. An attacker only needs to guess that Secretkey and the other variable part is any given time, presumably the time upon login. RFC4226 suggests a resynchronization attempt in case the passcode mismatches, providing the attacker a range of up to +/- 3 Minutes to create passcodes.","title":"Timebased One-Time-Password (TOTP)"},{"location":"Extensions/Two-Factor-Auth/#counterbased-one-time-password-totp","text":"This type uses an internal counter that needs to be in sync with the server's counter to successfully authenticate the passcodes. The main advantage over timebased OTP is the attacker doesn't only need to know the Secretkey but also the server's Counter in order to create valid passcodes. RFC4226 suggests a resynchronization attempt in case the passcode mismatches, providing the attacker a range of up to +4 increments from the actual counter to create passcodes.","title":"Counterbased One-Time-Password (TOTP)"},{"location":"Extensions/Two-Factor-Auth/#configuration","text":"Enable Two-Factor: $config['twofactor'] = true; Set throttle-time (in seconds): $config['twofactor_lock'] = 300;","title":"Configuration"},{"location":"Extensions/Two-Factor-Auth/#usage","text":"These steps imply that TwoFactor has been enabled in your config.php Create a Two-Factor key: - Go to 'My Settings' (/preferences/) - Choose TwoFactor type - Click on 'Generate TwoFactor Secret Key' - If your browser didn't reload, reload manually - Scan provided QR or click on 'Manual' to see the Key","title":"Usage"},{"location":"Extensions/Two-Factor-Auth/#google-authenticator","text":"Installation guides for Google Authenticator can be found here . Usage: - Create a key like described above - Scan provided QR or click on 'Manual' and type down the Secret - On next login, enter the passcode that the App provides","title":"Google Authenticator"},{"location":"Extensions/Varnish/","text":"Varnish Installation Guide This document explains how to install Varnish Reverse Proxy for LibreNMS. Varnish is caching software that sits logically between an HTTP client and an HTTP server. Varnish caches HTTP responses from the HTTP server. If an HTTP request can not be responded to by the Varnish cache it directs the request to the HTTP Server. This type of HTTP caching is called a reverse proxy server. Caching your HTTP server can decrease page load times significantly. Simplified block diagram of an Apache HTTP server with Varnish 4.0 Reverse Proxy. CentOS 7 Varnish Installation In this example we will assume your Apache 2.4.X HTTP server is working and configured to process HTTP requests on port 80. If not, please see Installing LibreNMS Install Varnish 4.0 RPM Enable the Varnish CentOS 7 repo and install rpm --nosignature -i https://repo.varnish-cache.org/redhat/varnish-4.0.el7.rpm yum install varnish By default Varnish listens for HTTP requests on port 6081. Temporarily add a firewalld rule for testing Varnish. firewall-cmd --zone=public --add-port=6081/tcp Test Varnish Start Varnish systemctl start varnish Using a web browser navigate to :6081 or 127.0.0.1:6081. You should see a Varnish error message, this shows that Varnish is working. Example error message: Error 503 Backend fetch failed Backend fetch failed Guru Meditation: XID: 3 Varnish cache server Edit Varnish Parameters Now we need to configure Varnish to listen to HTTP requests on port 80 and relay those requests to the Apache HTTP server on port 8080 (see block diagram). Stop Varnish. systemctl stop varnish Create a back-up of varnish.params just in case you make a mistake. cp /etc/varnish/varnish.params /etc/varnish/varnish.params.bak Edit the varnish.params config. vim /etc/varnish/varnish.params Set the VCL location, IP address, port, and cache location and size. malloc sets the cache location to RAM, and 512M sets the cache size to 512MB. VARNISH_LISTEN_ADDRESS=192.168.1.10 VARNISH_LISTEN_PORT=80 VARNISH_VCL_CONF=/etc/varnish/librenms.vcl VARNISH_STORAGE= malloc,512M Example varnish.params: # Set this to 1 to make systemd reload try to switch vcl without restart. RELOAD_VCL=1 # Main configuration file. You probably want to change it. VARNISH_VCL_CONF=/etc/varnish/librenms.vcl # Default address and port to bind to. Blank address means all IPv4 # and IPv6 interfaces, otherwise specify a host name, an IPv4 dotted # quad, or an IPv6 address in brackets. VARNISH_LISTEN_ADDRESS=192.168.1.10 VARNISH_LISTEN_PORT=80 # Admin interface listen address and port VARNISH_ADMIN_LISTEN_ADDRESS=127.0.0.1 VARNISH_ADMIN_LISTEN_PORT=6082 # Shared secret file for admin interface VARNISH_SECRET_FILE=/etc/varnish/secret # Backend storage specification, see Storage Types in the varnishd(5) # man page for details. VARNISH_STORAGE= malloc,512M # Default TTL used when the backend does not specify one VARNISH_TTL=120 # User and group for the varnishd worker processes VARNISH_USER=varnish VARNISH_GROUP=varnish # Other options, see the man page varnishd(1) DAEMON_OPTS= -p thread_pool_min=5 -p thread_pool_max=500 -p thread_pool_timeout=300 Configure Apache for Varnish Edit librenms.conf and modify the Apache Virtual Host listening port. Modify: VirtualHost *:80 to: VirtualHost *:8080 vim /etc/httpd/conf.d/librenms.conf Varnish can not share a port with Apache. Change the Apache listening port to 8080. Modify: Listen 80 to: Listen 8080 vim /etc/httpd/conf/httpd.conf Create the librenms.vcl cd /etc/varnish touch librenms.vcl Set ownership and permissions for Varnish files. chown varnish:varnish default.vcl varnish.params secret chmod 644 default.vcl varnish.params secret Edit the librenms.vcl. vim librenms.vcl Paste example VCL config, read config comments for more information. # # This is an example VCL file for Varnish. # # It does not do anything by default, delegating control to the # builtin VCL. The builtin VCL is called when there is no explicit # return statement. # # See the VCL chapters in the Users Guide at https://www.varnish-cache.org/docs/ # and http://varnish-cache.org/trac/wiki/VCLExamples for more examples. # Marker to tell the VCL compiler that this VCL has been adapted to the # new 4.0 format. vcl 4.0; # Default backend definition. Set this to point to your Apache server. backend librenms { .host = 127.0.0.1 ; .port = 8080 ; } # In this example our objective is to cache static content with Varnish and temporarily # cache dynamic content in the client web browser. sub vcl_recv { # HTTP requests from client web browser. # Here we remove any cookie HTTP requests for the 'librenms.domain.net' host # containing the matching file extensions. We don't have to match by host if you # only have LibreNMS running on Apache. # If the cookies are not removed from the HTTP request then Varnish will not cache # the files. 'else' function is set to 'pass', or don't cache anything that doesn't # match. if (req.http.host ~ ^librenms.domain.net ) { set req.backend_hint = librenms; if (req.url ~ \\.(png|gif|jpg|jpeg|ico|pdf|js|css|svg|eot|otf|woff|woff2|ttf)$ ) { unset req.http.Cookie; } else{ return(pass); } } } sub vcl_backend_response { # 'sub vcl_backend_response' is the same function as 'sub vcl_fetch' in Varnish 3, however, # the syntax is slightly different # This function happens after we read the response headers from the backend (Apache). # First function 'if (bereq.url ~ \\' removes cookies from the Apache HTTP responses # that match the file extensions that are between the quotes, and cache the files for 24 hours. # This assumes you update LibreNMS once a day, otherwise restart Varnish to clear cache. # Second function 'if (bereq.url ~ ^/' removes the Pragma no-cache statements and sets the age # of how long the client browser will cache the matching urls. # LibreNMS graphs are updated every 300 seconds, 'max-age=300' is set to match this behavior. # We could cache these URLs in Varnish but it would add to the complexity of the config. if (bereq.http.host ~ ^librenms.domain.net ) { if (bereq.url ~ \\.(png|gif|jpg|jpeg|ico|pdf|js|css|svg|eot|otf|woff|woff2|ttf)$ ) { unset beresp.http.Set-cookie; set beresp.ttl = 24h; } if (bereq.url ~ ^/graph.php || ^/device/ || ^/iftype/ || ^/customers/ || ^/health/ || ^/apps/ || ^/(plugin)$ || ^/(alert)$ || ^/eventlog/ || ^/graphs/ || ^/ports/ ) { unset beresp.http.Pragma; set beresp.http.Cache-Control = max-age=300 ; } } } sub vcl_deliver { # Happens when we have all the pieces we need, and are about to send the # response to the client. # You can do accounting or modifying the final object here. return (deliver); } Reload rules to remove the temporary port rule we added earlier. firewall-cmd --reload Varnish caching does not take effect immediately. You will need to browse the LibreNMS website to build up the cache. Use the command varnishstat to monitor Varnish caching. Over time you should see 'MAIN.cache_hit' and 'MAIN.client_req' increase. With the above VCL the hit to request ratio is approximately 84%. Session based VCL (coming soon) Testing and debugging VCL (coming soon)","title":"Varnish Installation Guide #"},{"location":"Extensions/Varnish/#varnish-installation-guide","text":"This document explains how to install Varnish Reverse Proxy for LibreNMS. Varnish is caching software that sits logically between an HTTP client and an HTTP server. Varnish caches HTTP responses from the HTTP server. If an HTTP request can not be responded to by the Varnish cache it directs the request to the HTTP Server. This type of HTTP caching is called a reverse proxy server. Caching your HTTP server can decrease page load times significantly.","title":"Varnish Installation Guide"},{"location":"Extensions/Varnish/#simplified-block-diagram-of-an-apache-http-server-with-varnish-40-reverse-proxy","text":"","title":"Simplified block diagram of an Apache HTTP server with Varnish 4.0 Reverse Proxy."},{"location":"Extensions/Varnish/#centos-7-varnish-installation","text":"In this example we will assume your Apache 2.4.X HTTP server is working and configured to process HTTP requests on port 80. If not, please see Installing LibreNMS","title":"CentOS 7 Varnish Installation"},{"location":"Extensions/Varnish/#install-varnish-40-rpm","text":"Enable the Varnish CentOS 7 repo and install rpm --nosignature -i https://repo.varnish-cache.org/redhat/varnish-4.0.el7.rpm yum install varnish By default Varnish listens for HTTP requests on port 6081. Temporarily add a firewalld rule for testing Varnish. firewall-cmd --zone=public --add-port=6081/tcp","title":"Install Varnish 4.0 RPM"},{"location":"Extensions/Varnish/#test-varnish","text":"Start Varnish systemctl start varnish Using a web browser navigate to :6081 or 127.0.0.1:6081. You should see a Varnish error message, this shows that Varnish is working. Example error message: Error 503 Backend fetch failed Backend fetch failed Guru Meditation: XID: 3 Varnish cache server","title":"Test Varnish"},{"location":"Extensions/Varnish/#edit-varnish-parameters","text":"Now we need to configure Varnish to listen to HTTP requests on port 80 and relay those requests to the Apache HTTP server on port 8080 (see block diagram). Stop Varnish. systemctl stop varnish Create a back-up of varnish.params just in case you make a mistake. cp /etc/varnish/varnish.params /etc/varnish/varnish.params.bak Edit the varnish.params config. vim /etc/varnish/varnish.params Set the VCL location, IP address, port, and cache location and size. malloc sets the cache location to RAM, and 512M sets the cache size to 512MB. VARNISH_LISTEN_ADDRESS=192.168.1.10 VARNISH_LISTEN_PORT=80 VARNISH_VCL_CONF=/etc/varnish/librenms.vcl VARNISH_STORAGE= malloc,512M Example varnish.params: # Set this to 1 to make systemd reload try to switch vcl without restart. RELOAD_VCL=1 # Main configuration file. You probably want to change it. VARNISH_VCL_CONF=/etc/varnish/librenms.vcl # Default address and port to bind to. Blank address means all IPv4 # and IPv6 interfaces, otherwise specify a host name, an IPv4 dotted # quad, or an IPv6 address in brackets. VARNISH_LISTEN_ADDRESS=192.168.1.10 VARNISH_LISTEN_PORT=80 # Admin interface listen address and port VARNISH_ADMIN_LISTEN_ADDRESS=127.0.0.1 VARNISH_ADMIN_LISTEN_PORT=6082 # Shared secret file for admin interface VARNISH_SECRET_FILE=/etc/varnish/secret # Backend storage specification, see Storage Types in the varnishd(5) # man page for details. VARNISH_STORAGE= malloc,512M # Default TTL used when the backend does not specify one VARNISH_TTL=120 # User and group for the varnishd worker processes VARNISH_USER=varnish VARNISH_GROUP=varnish # Other options, see the man page varnishd(1) DAEMON_OPTS= -p thread_pool_min=5 -p thread_pool_max=500 -p thread_pool_timeout=300","title":"Edit Varnish Parameters"},{"location":"Extensions/Varnish/#configure-apache-for-varnish","text":"Edit librenms.conf and modify the Apache Virtual Host listening port. Modify: VirtualHost *:80 to: VirtualHost *:8080 vim /etc/httpd/conf.d/librenms.conf Varnish can not share a port with Apache. Change the Apache listening port to 8080. Modify: Listen 80 to: Listen 8080 vim /etc/httpd/conf/httpd.conf Create the librenms.vcl cd /etc/varnish touch librenms.vcl Set ownership and permissions for Varnish files. chown varnish:varnish default.vcl varnish.params secret chmod 644 default.vcl varnish.params secret Edit the librenms.vcl. vim librenms.vcl Paste example VCL config, read config comments for more information. # # This is an example VCL file for Varnish. # # It does not do anything by default, delegating control to the # builtin VCL. The builtin VCL is called when there is no explicit # return statement. # # See the VCL chapters in the Users Guide at https://www.varnish-cache.org/docs/ # and http://varnish-cache.org/trac/wiki/VCLExamples for more examples. # Marker to tell the VCL compiler that this VCL has been adapted to the # new 4.0 format. vcl 4.0; # Default backend definition. Set this to point to your Apache server. backend librenms { .host = 127.0.0.1 ; .port = 8080 ; } # In this example our objective is to cache static content with Varnish and temporarily # cache dynamic content in the client web browser. sub vcl_recv { # HTTP requests from client web browser. # Here we remove any cookie HTTP requests for the 'librenms.domain.net' host # containing the matching file extensions. We don't have to match by host if you # only have LibreNMS running on Apache. # If the cookies are not removed from the HTTP request then Varnish will not cache # the files. 'else' function is set to 'pass', or don't cache anything that doesn't # match. if (req.http.host ~ ^librenms.domain.net ) { set req.backend_hint = librenms; if (req.url ~ \\.(png|gif|jpg|jpeg|ico|pdf|js|css|svg|eot|otf|woff|woff2|ttf)$ ) { unset req.http.Cookie; } else{ return(pass); } } } sub vcl_backend_response { # 'sub vcl_backend_response' is the same function as 'sub vcl_fetch' in Varnish 3, however, # the syntax is slightly different # This function happens after we read the response headers from the backend (Apache). # First function 'if (bereq.url ~ \\' removes cookies from the Apache HTTP responses # that match the file extensions that are between the quotes, and cache the files for 24 hours. # This assumes you update LibreNMS once a day, otherwise restart Varnish to clear cache. # Second function 'if (bereq.url ~ ^/' removes the Pragma no-cache statements and sets the age # of how long the client browser will cache the matching urls. # LibreNMS graphs are updated every 300 seconds, 'max-age=300' is set to match this behavior. # We could cache these URLs in Varnish but it would add to the complexity of the config. if (bereq.http.host ~ ^librenms.domain.net ) { if (bereq.url ~ \\.(png|gif|jpg|jpeg|ico|pdf|js|css|svg|eot|otf|woff|woff2|ttf)$ ) { unset beresp.http.Set-cookie; set beresp.ttl = 24h; } if (bereq.url ~ ^/graph.php || ^/device/ || ^/iftype/ || ^/customers/ || ^/health/ || ^/apps/ || ^/(plugin)$ || ^/(alert)$ || ^/eventlog/ || ^/graphs/ || ^/ports/ ) { unset beresp.http.Pragma; set beresp.http.Cache-Control = max-age=300 ; } } } sub vcl_deliver { # Happens when we have all the pieces we need, and are about to send the # response to the client. # You can do accounting or modifying the final object here. return (deliver); } Reload rules to remove the temporary port rule we added earlier. firewall-cmd --reload Varnish caching does not take effect immediately. You will need to browse the LibreNMS website to build up the cache. Use the command varnishstat to monitor Varnish caching. Over time you should see 'MAIN.cache_hit' and 'MAIN.client_req' increase. With the above VCL the hit to request ratio is approximately 84%. Session based VCL (coming soon) Testing and debugging VCL (coming soon)","title":"Configure Apache for Varnish"},{"location":"Extensions/Weathermap/","text":"Network-WeatherMap with LibreNMS Integrating LibreNMS with Network-Weathermap, allows you to build network maps to help visulaize network traffic flow rates. Link to Network-Wearthermap Offical Website Prerequisites Network-WeatherMap requires php pear to work. Installing Network-WeatherMap Step 1. Extract to your LibreNMS plugins directory /opt/librenms/html/plugins so you should see something like /opt/librenms/html/plugins/Weathermap/ The best way to do this is via git. Go to your install directory and then /opt/librenms/html/plugins Enter: git clone https://github.com/librenms-plugins/Weathermap.git Step 2. Inside the html/plugins directory, change the ownership of the Weathermap directory by typing chown -R librenms:librenms Weathermap/ Make the configs directory writeable chmod 775 /opt/librenms/html/plugins/Weathermap/configs Note if you are using SELinux you need to input the following command chcon -R -t httpd_cache_t Weathermap/ Step 3. Enable the cron process by editing your current LibreNMS cron file (typically /etc/cron.d/librenms) and add the following: LibreNMS: */5 * * * * librenms /opt/librenms/html/plugins/Weathermap/map-poller.php /dev/null 2 1 Step 4. Enable the plugin from LibreNMS Web UI in OverView - Plugins - Plugin Admin menu. Step 5. Now you should see Weathermap Overview - Plugins - Weathermap Create your maps, please note when you create a MAP, please click Map Style, ensure Overlib is selected for HTML Style and click submit. Also, ensure you set an output image filename and output HTML filename in Map Properties. I'd recommend you use the output folder as this is excluded from git updates (i.e enter output/mymap.png and output/mymap.html). Optional: If your install is in another directory than standard, set $basehref within map-poller.php . WeatherMapper Automatically generate weathermaps from a LibreNMS database using WeatherMapper Link Adding your Network Weathermaps to the Dashboards Once you have created your Network Weather Map you can add it to a dashboard page by doing the following. Step 1 When you create the Weathermap make sure to export as HTML and PNG you will need this for the out to the dashboard. In the Weathermap Plugin page, you will see the output maps. Right click on one of the maps and click on copy image address . Example URL: http://yourlibrenms.org/plugins/Weathermap/output/yourmap.html Step 2 Then go back to your Dashboard, create a new dashboard and give it a name. select the widget as External Images . Give the Widget a Title. The Image URL will need to be the address you copied but at the end remove the .html and replace it with .png Example Image URL http://yourlibrenms.org/plugins/Weathermap/output/yourmap.png The Target URL will be the URL you copied but with the .html at the end of the URL. Example Target URL http://yourlibrenms.org/plugins/Weathermap/output/yourmap.html Then Click on Set You should now be able to see the Weathermap you have created in your list of dashboards. You could also add this to existing dashboards.","title":"Network-WeatherMap with LibreNMS"},{"location":"Extensions/Weathermap/#network-weathermap-with-librenms","text":"Integrating LibreNMS with Network-Weathermap, allows you to build network maps to help visulaize network traffic flow rates. Link to Network-Wearthermap Offical Website","title":"Network-WeatherMap with LibreNMS"},{"location":"Extensions/Weathermap/#prerequisites","text":"Network-WeatherMap requires php pear to work.","title":"Prerequisites"},{"location":"Extensions/Weathermap/#installing-network-weathermap","text":"","title":"Installing Network-WeatherMap"},{"location":"Extensions/Weathermap/#step-1","text":"Extract to your LibreNMS plugins directory /opt/librenms/html/plugins so you should see something like /opt/librenms/html/plugins/Weathermap/ The best way to do this is via git. Go to your install directory and then /opt/librenms/html/plugins Enter: git clone https://github.com/librenms-plugins/Weathermap.git","title":"Step 1."},{"location":"Extensions/Weathermap/#step-2","text":"Inside the html/plugins directory, change the ownership of the Weathermap directory by typing chown -R librenms:librenms Weathermap/ Make the configs directory writeable chmod 775 /opt/librenms/html/plugins/Weathermap/configs Note if you are using SELinux you need to input the following command chcon -R -t httpd_cache_t Weathermap/","title":"Step 2."},{"location":"Extensions/Weathermap/#step-3","text":"Enable the cron process by editing your current LibreNMS cron file (typically /etc/cron.d/librenms) and add the following: LibreNMS: */5 * * * * librenms /opt/librenms/html/plugins/Weathermap/map-poller.php /dev/null 2 1","title":"Step 3."},{"location":"Extensions/Weathermap/#step-4","text":"Enable the plugin from LibreNMS Web UI in OverView - Plugins - Plugin Admin menu.","title":"Step 4."},{"location":"Extensions/Weathermap/#step-5","text":"Now you should see Weathermap Overview - Plugins - Weathermap Create your maps, please note when you create a MAP, please click Map Style, ensure Overlib is selected for HTML Style and click submit. Also, ensure you set an output image filename and output HTML filename in Map Properties. I'd recommend you use the output folder as this is excluded from git updates (i.e enter output/mymap.png and output/mymap.html). Optional: If your install is in another directory than standard, set $basehref within map-poller.php .","title":"Step 5."},{"location":"Extensions/Weathermap/#weathermapper","text":"Automatically generate weathermaps from a LibreNMS database using WeatherMapper Link","title":"WeatherMapper"},{"location":"Extensions/Weathermap/#adding-your-network-weathermaps-to-the-dashboards","text":"Once you have created your Network Weather Map you can add it to a dashboard page by doing the following.","title":"Adding your Network Weathermaps to the Dashboards"},{"location":"Extensions/Weathermap/#step-1_1","text":"When you create the Weathermap make sure to export as HTML and PNG you will need this for the out to the dashboard. In the Weathermap Plugin page, you will see the output maps. Right click on one of the maps and click on copy image address . Example URL: http://yourlibrenms.org/plugins/Weathermap/output/yourmap.html","title":"Step 1"},{"location":"Extensions/Weathermap/#step-2_1","text":"Then go back to your Dashboard, create a new dashboard and give it a name. select the widget as External Images . Give the Widget a Title. The Image URL will need to be the address you copied but at the end remove the .html and replace it with .png Example Image URL http://yourlibrenms.org/plugins/Weathermap/output/yourmap.png The Target URL will be the URL you copied but with the .html at the end of the URL. Example Target URL http://yourlibrenms.org/plugins/Weathermap/output/yourmap.html Then Click on Set You should now be able to see the Weathermap you have created in your list of dashboards. You could also add this to existing dashboards.","title":"Step 2"},{"location":"Extensions/World-Map/","text":"World Map Configuration LibreNMS comes with a configurable Geo Map based on World Map Widget to visualize where your equipment is located geographically. World Map Widget World Map Widget, requires you to have properly formatted addresses in sysLocation or sysLocation override. As part of the standard poller these addresses will be Geocoded by Google and stored in the database. Location resolution happens as follows If device['location'] contains [lat, lng] (note the square brackets), that is used If there is a location overide for the device in the WebUI and it contains [lat, lng] (note the square brackets), that is used. Attempt to resolve lat, lng using $config['geoloc']['engine'] Properly formatted addresses in sysLocation or sysLocation override, under device settings. Example: [40.424521, -86.912755] or 1100 Congress Ave, Austin, TX 78701 We have two current mapping engines available: Leaflet (default) Jquery-Mapael World Map Widget Settings Initial Latitude / Longitude : The map will be centered on those coordinates. Initial Zoom : Initial zoom of the map. More information about zoom levels . Grouping radius : Markers are grouped by area. This value define the maximum size of grouping areas. Show devices : Show devices based on there status. Example Settings: Offline OpenStreet Map If you can't access OpenStreet map directly you can run a local tile server . To specify a different url you can set: $config['leaflet']['tile_url'] = 'localhost.com'; Additional Leaflet config $config['map']['engine'] = leaflet ; $config['leaflet']['default_lat'] = 51.981074 ; $config['leaflet']['default_lng'] = 5.350342 ; $config['leaflet']['default_zoom'] = 8; $config['leaflet']['group_radius'] = 1; // Device grouping radius in KM default 80KM Geocode engine config $config['geoloc']['engine'] = google ;// Valid options are google or mapquest $config['geoloc']['api_key'] = abcdefghijklmnopqrstuvwxyz ; Jquery-Mapael config Further custom options are available to load different maps of the world, set default coordinates of where the map will zoom and the zoom level by default. An example of this is: $config['map']['engine'] = jquery-mapael ; $config['mapael']['default_map'] = 'mapael-maps/united_kingdom/united_kingdom.js'; $config['mapael']['map_width'] = 400; $config['mapael']['default_lat'] = '50.898482'; $config['mapael']['default_lng'] = '-3.401402'; $config['mapael']['default_zoom'] = 20; A list of maps can be found in html/js/maps/ or html/js/mapael-maps/ .","title":"World Map Configuration"},{"location":"Extensions/World-Map/#world-map-configuration","text":"LibreNMS comes with a configurable Geo Map based on World Map Widget to visualize where your equipment is located geographically.","title":"World Map Configuration"},{"location":"Extensions/World-Map/#world-map-widget","text":"World Map Widget, requires you to have properly formatted addresses in sysLocation or sysLocation override. As part of the standard poller these addresses will be Geocoded by Google and stored in the database. Location resolution happens as follows If device['location'] contains [lat, lng] (note the square brackets), that is used If there is a location overide for the device in the WebUI and it contains [lat, lng] (note the square brackets), that is used. Attempt to resolve lat, lng using $config['geoloc']['engine'] Properly formatted addresses in sysLocation or sysLocation override, under device settings. Example: [40.424521, -86.912755] or 1100 Congress Ave, Austin, TX 78701 We have two current mapping engines available: Leaflet (default) Jquery-Mapael","title":"World Map Widget"},{"location":"Extensions/World-Map/#world-map-widget-settings","text":"Initial Latitude / Longitude : The map will be centered on those coordinates. Initial Zoom : Initial zoom of the map. More information about zoom levels . Grouping radius : Markers are grouped by area. This value define the maximum size of grouping areas. Show devices : Show devices based on there status. Example Settings:","title":"World Map Widget Settings"},{"location":"Extensions/World-Map/#offline-openstreet-map","text":"If you can't access OpenStreet map directly you can run a local tile server . To specify a different url you can set: $config['leaflet']['tile_url'] = 'localhost.com';","title":"Offline OpenStreet Map"},{"location":"Extensions/World-Map/#additional-leaflet-config","text":"$config['map']['engine'] = leaflet ; $config['leaflet']['default_lat'] = 51.981074 ; $config['leaflet']['default_lng'] = 5.350342 ; $config['leaflet']['default_zoom'] = 8; $config['leaflet']['group_radius'] = 1; // Device grouping radius in KM default 80KM","title":"Additional Leaflet config"},{"location":"Extensions/World-Map/#geocode-engine-config","text":"$config['geoloc']['engine'] = google ;// Valid options are google or mapquest $config['geoloc']['api_key'] = abcdefghijklmnopqrstuvwxyz ;","title":"Geocode engine config"},{"location":"Extensions/World-Map/#jquery-mapael-config","text":"Further custom options are available to load different maps of the world, set default coordinates of where the map will zoom and the zoom level by default. An example of this is: $config['map']['engine'] = jquery-mapael ; $config['mapael']['default_map'] = 'mapael-maps/united_kingdom/united_kingdom.js'; $config['mapael']['map_width'] = 400; $config['mapael']['default_lat'] = '50.898482'; $config['mapael']['default_lng'] = '-3.401402'; $config['mapael']['default_zoom'] = 20; A list of maps can be found in html/js/maps/ or html/js/mapael-maps/ .","title":"Jquery-Mapael config"},{"location":"Extensions/metrics/Graphite/","text":"Enabling support for Graphite. This module sends all metrics to a remote graphite service. You need something like Grafana for graphing. What you don't get Pretty graphs, this is why at present you need Grafana. You need to build your own graphs within Grafana. RRD will continue to function as normal so LibreNMS itself should continue to function as normal. Configuration $config['graphite']['enable'] = true; $config['graphite']['host'] = 'your.graphite.server'; $config['graphite']['port'] = 2003; // this defaults to 2003 and is usually not needed $config['graphite']['prefix'] = 'your.metric.prefix'; Your metric path can be prefixed if required, otherwise the metric path for Graphite will be in the form of hostname.measurement.fieldname , interfaces will be stored as hostname.ports.ifName.fieldname . The same data then stored within rrd will be sent to Graphite and recorded. You can then create graphs within Grafana to display the information you need. Graphite Configuration As LibreNMS updates its metrics every 5 minutes, the following addition to your storage-schemas.conf is suggested. [network] pattern = your\\.metric\\.prefix\\..* retentions = 5m:30d,15m:90d,1h:1y","title":"Enabling support for Graphite."},{"location":"Extensions/metrics/Graphite/#enabling-support-for-graphite","text":"This module sends all metrics to a remote graphite service. You need something like Grafana for graphing.","title":"Enabling support for Graphite."},{"location":"Extensions/metrics/Graphite/#what-you-dont-get","text":"Pretty graphs, this is why at present you need Grafana. You need to build your own graphs within Grafana. RRD will continue to function as normal so LibreNMS itself should continue to function as normal.","title":"What you don't get"},{"location":"Extensions/metrics/Graphite/#configuration","text":"$config['graphite']['enable'] = true; $config['graphite']['host'] = 'your.graphite.server'; $config['graphite']['port'] = 2003; // this defaults to 2003 and is usually not needed $config['graphite']['prefix'] = 'your.metric.prefix'; Your metric path can be prefixed if required, otherwise the metric path for Graphite will be in the form of hostname.measurement.fieldname , interfaces will be stored as hostname.ports.ifName.fieldname . The same data then stored within rrd will be sent to Graphite and recorded. You can then create graphs within Grafana to display the information you need.","title":"Configuration"},{"location":"Extensions/metrics/Graphite/#graphite-configuration","text":"As LibreNMS updates its metrics every 5 minutes, the following addition to your storage-schemas.conf is suggested. [network] pattern = your\\.metric\\.prefix\\..* retentions = 5m:30d,15m:90d,1h:1y","title":"Graphite Configuration"},{"location":"Extensions/metrics/InfluxDB/","text":"Enabling support for InfluxDB. Before we get started it is important that you know and understand that InfluxDB support is currently alpha at best. All it provides is the sending of data to a InfluxDB install. Due to the current changes that are constantly being made to InfluxDB itself then we cannot guarantee that your data will be ok so enabling this support is at your own risk! Requirements InfluxDB = 0.94 Grafana PHP 5.5 for InfluxDB-PHP The setup of the above is completely out of scope here and we aren't really able to provide any help with this side of things. What you don't get Pretty graphs, this is why at present you need Grafana. You need to build your own graphs within Grafana. Support for InfluxDB or Grafana, we would highly recommend that you have some level of experience with these. RRD will continue to function as normal so LibreNMS itself should continue to function as normal. Configuration $config['influxdb']['enable'] = true; $config['influxdb']['transport'] = 'http'; # Default, other options: https, udp $config['influxdb']['host'] = '127.0.0.1'; $config['influxdb']['port'] = '8086'; $config['influxdb']['db'] = 'librenms'; $config['influxdb']['username'] = 'admin'; $config['influxdb']['password'] = 'admin'; $config['influxdb']['timeout'] = 0; # Optional $config['influxdb']['verifySSL'] = false; # Optional No credentials are needed if you don't use InfluxDB authentication. The same data then stored within rrd will be sent to InfluxDB and recorded. You can then create graphs within Grafana to display the information you need.","title":"Enabling support for InfluxDB."},{"location":"Extensions/metrics/InfluxDB/#enabling-support-for-influxdb","text":"Before we get started it is important that you know and understand that InfluxDB support is currently alpha at best. All it provides is the sending of data to a InfluxDB install. Due to the current changes that are constantly being made to InfluxDB itself then we cannot guarantee that your data will be ok so enabling this support is at your own risk!","title":"Enabling support for InfluxDB."},{"location":"Extensions/metrics/InfluxDB/#requirements","text":"InfluxDB = 0.94 Grafana PHP 5.5 for InfluxDB-PHP The setup of the above is completely out of scope here and we aren't really able to provide any help with this side of things.","title":"Requirements"},{"location":"Extensions/metrics/InfluxDB/#what-you-dont-get","text":"Pretty graphs, this is why at present you need Grafana. You need to build your own graphs within Grafana. Support for InfluxDB or Grafana, we would highly recommend that you have some level of experience with these. RRD will continue to function as normal so LibreNMS itself should continue to function as normal.","title":"What you don't get"},{"location":"Extensions/metrics/InfluxDB/#configuration","text":"$config['influxdb']['enable'] = true; $config['influxdb']['transport'] = 'http'; # Default, other options: https, udp $config['influxdb']['host'] = '127.0.0.1'; $config['influxdb']['port'] = '8086'; $config['influxdb']['db'] = 'librenms'; $config['influxdb']['username'] = 'admin'; $config['influxdb']['password'] = 'admin'; $config['influxdb']['timeout'] = 0; # Optional $config['influxdb']['verifySSL'] = false; # Optional No credentials are needed if you don't use InfluxDB authentication. The same data then stored within rrd will be sent to InfluxDB and recorded. You can then create graphs within Grafana to display the information you need.","title":"Configuration"},{"location":"Extensions/metrics/OpenTSDB/","text":"Enabling support for OpenTSDB. This module sends all metrics to OpenTSDB server. You need something like Grafana for graphing. Requirements OpenTSDB Grafana What you don't get Pretty graphs, this is why at present you need Grafana. You need to build your own graphs within Grafana. RRD will continue to function normally so LibreNMS itself should continue to function normally. You can add the following to config.php . Configuration // OpenTSDB default configuration $config['opentsdb']['enable'] = true; $config['opentsdb']['host'] = '127.0.0.1'; // your OpenTSDB server $config['opentsdb']['port'] = 4242; The same data than the one stored within rrd will be sent to OpenTSDB and recorded. You can then create graphs within Grafana to display the information you need.","title":"Enabling support for OpenTSDB."},{"location":"Extensions/metrics/OpenTSDB/#enabling-support-for-opentsdb","text":"This module sends all metrics to OpenTSDB server. You need something like Grafana for graphing.","title":"Enabling support for OpenTSDB."},{"location":"Extensions/metrics/OpenTSDB/#requirements","text":"OpenTSDB Grafana","title":"Requirements"},{"location":"Extensions/metrics/OpenTSDB/#what-you-dont-get","text":"Pretty graphs, this is why at present you need Grafana. You need to build your own graphs within Grafana. RRD will continue to function normally so LibreNMS itself should continue to function normally. You can add the following to config.php .","title":"What you don't get"},{"location":"Extensions/metrics/OpenTSDB/#configuration","text":"// OpenTSDB default configuration $config['opentsdb']['enable'] = true; $config['opentsdb']['host'] = '127.0.0.1'; // your OpenTSDB server $config['opentsdb']['port'] = 4242; The same data than the one stored within rrd will be sent to OpenTSDB and recorded. You can then create graphs within Grafana to display the information you need.","title":"Configuration"},{"location":"Extensions/metrics/Prometheus/","text":"Enabling support for Prometheus. Please be aware Prometheus support is alpha at best, It hasn't been extensively tested and is still in development All it provides is the sending of data to a a Prometheus PushGateway. Please be careful when enabling this support you use it at your own risk! Requirements (Older versions may work but haven't been tested Prometheus = 2.0 PushGateway = 0.4.0 Grafana PHP-CURL The setup of the above is completely out of scope here and we aren't really able to provide any help with this side of things. What you don't get Pretty graphs, this is why at present you need Grafana. You need to build your own graphs within Grafana. Support for Prometheus or Grafana, we would highly recommend that you have some level of experience with these. RRD will continue to function as normal so LibreNMS itself should continue to function as normal. Configuration $config['prometheus']['enable'] = true; $config['prometheus']['url'] = 'http://127.0.0.1:9091'; $config['prometheus']['job'] = 'librenms'; # Optional Sample Prometheus Scrape Config (for scraping the Push Gateway) - job_name: pushgateway scrape_interval: 300s honor_labels: true static_configs: - targets: ['127.0.0.1:9091'] The same data then stored within rrd will be sent to Prometheus and recorded. You can then create graphs within Grafana to display the information you need.","title":"Enabling support for Prometheus."},{"location":"Extensions/metrics/Prometheus/#enabling-support-for-prometheus","text":"Please be aware Prometheus support is alpha at best, It hasn't been extensively tested and is still in development All it provides is the sending of data to a a Prometheus PushGateway. Please be careful when enabling this support you use it at your own risk!","title":"Enabling support for Prometheus."},{"location":"Extensions/metrics/Prometheus/#requirements-older-versions-may-work-but-havent-been-tested","text":"Prometheus = 2.0 PushGateway = 0.4.0 Grafana PHP-CURL The setup of the above is completely out of scope here and we aren't really able to provide any help with this side of things.","title":"Requirements (Older versions may work but haven't been tested"},{"location":"Extensions/metrics/Prometheus/#what-you-dont-get","text":"Pretty graphs, this is why at present you need Grafana. You need to build your own graphs within Grafana. Support for Prometheus or Grafana, we would highly recommend that you have some level of experience with these. RRD will continue to function as normal so LibreNMS itself should continue to function as normal.","title":"What you don't get"},{"location":"Extensions/metrics/Prometheus/#configuration","text":"$config['prometheus']['enable'] = true; $config['prometheus']['url'] = 'http://127.0.0.1:9091'; $config['prometheus']['job'] = 'librenms'; # Optional","title":"Configuration"},{"location":"Extensions/metrics/Prometheus/#sample-prometheus-scrape-config-for-scraping-the-push-gateway","text":"- job_name: pushgateway scrape_interval: 300s honor_labels: true static_configs: - targets: ['127.0.0.1:9091'] The same data then stored within rrd will be sent to Prometheus and recorded. You can then create graphs within Grafana to display the information you need.","title":"Sample Prometheus Scrape Config (for scraping the Push Gateway)"},{"location":"General/Acknowledgement/","text":"LibreNMS wouldn't be what it is today without the use of some other amazing projects. We list below what we make use of including the license compliance. 3rd Party GPLv3 Compliant Bootstrap : MIT Font Awesome : MIT License Jquery Bootgrid : MIT License Pace : Open License Twitter typeahead : Open License Vis : MIT / Apache 2.0 TCPDF : LGPLv3 Bootstrap 3 Datepicker : MIT Bootstrap Dropdown Hover Plugin : MIT Bootstrap Switch : Apache 2.0 Handlebars : Open License Cycle2 : MIT/GPL Jquery : MIT Jquery UI : MIT Jquery QRCode : MIT Mktree : Open License Moment : MIT Tag Manager : MIT TW Sack : GPLv3 Gridster : MIT Pure PHP radius class : GPLv3 GeSHi - Generic Syntax Highlighter : GPLv2+ MalaysiaMap.svg - By Exiang [CC BY 3.0 (http://creativecommons.org/licenses/by/3.0)], via Wikimedia Commons Code for UBNT Devices Mark Gibbons Initial code base submitted via PR721 Jquery LazyLoad : MIT License influxdb-php : MIT License HTML Purifier : LGPL v2.1 Symfony Yaml : MIT PHPMailer : LGPL v2.1 pbin : GPLv2 (or later - see script header) CorsSlim : MIT Confluence HTTP Authenticator Graylog SSO Authentication Plugin Select2 : MIT License JustGage : MIT jQuery.extendext : MIT doT : MIT jQuery-queryBuilder : MIT sql-parser : MIT (Currently a custom build is used) 3rd Party GPLv3 Non-compliant JpGraph (html/includes/jpgraph): QPL 1.0 license MIBS (mibs): unknown/various html/graph-realtime.php: BSD (original?) html/includes/collectd/: GPLv2 only overLIB (html/js/overlib_mini.js): modified Artistic 1.0?","title":"Acknowledgements"},{"location":"General/Acknowledgement/#3rd-party-gplv3-compliant","text":"Bootstrap : MIT Font Awesome : MIT License Jquery Bootgrid : MIT License Pace : Open License Twitter typeahead : Open License Vis : MIT / Apache 2.0 TCPDF : LGPLv3 Bootstrap 3 Datepicker : MIT Bootstrap Dropdown Hover Plugin : MIT Bootstrap Switch : Apache 2.0 Handlebars : Open License Cycle2 : MIT/GPL Jquery : MIT Jquery UI : MIT Jquery QRCode : MIT Mktree : Open License Moment : MIT Tag Manager : MIT TW Sack : GPLv3 Gridster : MIT Pure PHP radius class : GPLv3 GeSHi - Generic Syntax Highlighter : GPLv2+ MalaysiaMap.svg - By Exiang [CC BY 3.0 (http://creativecommons.org/licenses/by/3.0)], via Wikimedia Commons Code for UBNT Devices Mark Gibbons Initial code base submitted via PR721 Jquery LazyLoad : MIT License influxdb-php : MIT License HTML Purifier : LGPL v2.1 Symfony Yaml : MIT PHPMailer : LGPL v2.1 pbin : GPLv2 (or later - see script header) CorsSlim : MIT Confluence HTTP Authenticator Graylog SSO Authentication Plugin Select2 : MIT License JustGage : MIT jQuery.extendext : MIT doT : MIT jQuery-queryBuilder : MIT sql-parser : MIT (Currently a custom build is used)","title":"3rd Party GPLv3 Compliant"},{"location":"General/Acknowledgement/#3rd-party-gplv3-non-compliant","text":"JpGraph (html/includes/jpgraph): QPL 1.0 license MIBS (mibs): unknown/various html/graph-realtime.php: BSD (original?) html/includes/collectd/: GPLv2 only overLIB (html/js/overlib_mini.js): modified Artistic 1.0?","title":"3rd Party GPLv3 Non-compliant"},{"location":"General/CODE_OF_CONDUCT/","text":"Our Pledge In the interest of fostering an open and welcoming environment, we as contributors and maintainers pledge to making participation in our project and our community a harassment-free experience for everyone, regardless of age, body size, disability, ethnicity, gender identity and expression, level of experience, nationality, personal appearance, race, religion, or sexual identity and orientation. Our Standards Examples of behavior that contributes to creating a positive environment include: Using welcoming and inclusive language Being respectful of differing viewpoints and experiences Gracefully accepting constructive criticism Focusing on what is best for the community Showing empathy towards other community members Examples of unacceptable behavior by participants include: The use of sexualized language or imagery and unwelcome sexual attention or advances Trolling, insulting/derogatory comments, and personal or political attacks Public or private harassment Publishing others' private information, such as a physical or electronic address, without explicit permission Other conduct which could reasonably be considered inappropriate in a professional setting Our Responsibilities Project maintainers are responsible for clarifying the standards of acceptable behavior and are expected to take appropriate and fair corrective action in response to any instances of unacceptable behavior. Project maintainers have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, or to ban temporarily or permanently any contributor for other behaviors that they deem inappropriate, threatening, offensive, or harmful. Scope This Code of Conduct applies both within project spaces and in public spaces when an individual is representing the project or its community. Examples of representing a project or community include using an official project e-mail address, posting via an official social media account, or acting as an appointed representative at an online or offline event. Representation of a project may be further defined and clarified by project maintainers. Enforcement Instances of abusive, harassing, or otherwise unacceptable behavior may be reported by contacting the project team at team@librenms.org. The project team will review and investigate all complaints, and will respond in a way that it deems appropriate to the circumstances. The project team is obligated to maintain confidentiality with regard to the reporter of an incident. Further details of specific enforcement policies may be posted separately. Project maintainers who do not follow or enforce the Code of Conduct in good faith may face temporary or permanent repercussions as determined by other members of the project's leadership. Attribution This Code of Conduct is adapted from the Contributor Covenant , version 1.4, available at http://contributor-covenant.org/version/1/4","title":"Code of Conduct"},{"location":"General/CODE_OF_CONDUCT/#our-pledge","text":"In the interest of fostering an open and welcoming environment, we as contributors and maintainers pledge to making participation in our project and our community a harassment-free experience for everyone, regardless of age, body size, disability, ethnicity, gender identity and expression, level of experience, nationality, personal appearance, race, religion, or sexual identity and orientation.","title":"Our Pledge"},{"location":"General/CODE_OF_CONDUCT/#our-standards","text":"Examples of behavior that contributes to creating a positive environment include: Using welcoming and inclusive language Being respectful of differing viewpoints and experiences Gracefully accepting constructive criticism Focusing on what is best for the community Showing empathy towards other community members Examples of unacceptable behavior by participants include: The use of sexualized language or imagery and unwelcome sexual attention or advances Trolling, insulting/derogatory comments, and personal or political attacks Public or private harassment Publishing others' private information, such as a physical or electronic address, without explicit permission Other conduct which could reasonably be considered inappropriate in a professional setting","title":"Our Standards"},{"location":"General/CODE_OF_CONDUCT/#our-responsibilities","text":"Project maintainers are responsible for clarifying the standards of acceptable behavior and are expected to take appropriate and fair corrective action in response to any instances of unacceptable behavior. Project maintainers have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, or to ban temporarily or permanently any contributor for other behaviors that they deem inappropriate, threatening, offensive, or harmful.","title":"Our Responsibilities"},{"location":"General/CODE_OF_CONDUCT/#scope","text":"This Code of Conduct applies both within project spaces and in public spaces when an individual is representing the project or its community. Examples of representing a project or community include using an official project e-mail address, posting via an official social media account, or acting as an appointed representative at an online or offline event. Representation of a project may be further defined and clarified by project maintainers.","title":"Scope"},{"location":"General/CODE_OF_CONDUCT/#enforcement","text":"Instances of abusive, harassing, or otherwise unacceptable behavior may be reported by contacting the project team at team@librenms.org. The project team will review and investigate all complaints, and will respond in a way that it deems appropriate to the circumstances. The project team is obligated to maintain confidentiality with regard to the reporter of an incident. Further details of specific enforcement policies may be posted separately. Project maintainers who do not follow or enforce the Code of Conduct in good faith may face temporary or permanent repercussions as determined by other members of the project's leadership.","title":"Enforcement"},{"location":"General/CODE_OF_CONDUCT/#attribution","text":"This Code of Conduct is adapted from the Contributor Covenant , version 1.4, available at http://contributor-covenant.org/version/1/4","title":"Attribution"},{"location":"General/Callback-Stats-and-Privacy/","text":"Stats data and your privacy This document has been put together to explain what LibreNMS does when it calls back home to report some anonymous statistics. Let's start off by saying, all of the code that processes the data and submits it is included in the standard LibreNMS branch you've installed, the code that accepts this data and in turn generates some pretty graphs is all open source and available on Git Hub. Please feel free to review the code, comment on it and suggest changes / improvements. Also, don't forget - by default installations DO NOT call back home, you need to opt into this. Above all we respect users privacy which is why this system has been designed like it has. Now onto the bit you're interested in, what is submitted and what we do with that data. What is submitted All data is anonymous. Generic statistics are taken from the database, these include things like device count, device type, device OS, port types, port speeds, port count and BGP peer count. Take a look at the code for full details. Pairs of sysDescr and sysObjectID from devices with a small amount of sanitation to prevent things like hostnames from being submitted. We record version numbers of php, mysql, net-snmp and rrdtool A random UUID is generated on your own install. That's it! Your IP isn't logged, even via our web service accepting the data. We don't need to know who you are so we don't ask. What we do with the data We store it, not for long - 3 months at the moment although this could change. We use it to generate pretty graphs for people to see. We use it to help prioritise issues and features that need to be worked on. We use sysDescr and sysObjectID to create unit tests and improve OS discovery Questions? Q. How often is data submitted? A. We submit the data once a day according to running daily.sh via cron. If you disable this then opting in will not have any affect. Q. Where can I see the data I submitted? A. You can't see the data raw, but we collate all of the data together and provide a dynamic site so you can see the results of all contributed stats here Q. I want my data removed. A. That's easy, simply press 'Clear remote stats' in the About LibreNMS page of your control panel, the next time the call back script is run it will remove all the data we have. Q. I clicked the 'Clear remote stats' button by accident. A. No problem, before daily.sh runs again - just opt back in, all of your existing data will stay. Hopefully this answers the questions you might have on why and what we are doing here, if not, please pop into our discord server or community forum and ask any questions you like. How do I enable stats submission? If you're happy with all of this - please consider switching the call back system on, you can do this within the About LibreNMS page within your control panel. In the Statistics section you will find a toggle switch to enable / disable the feature. If you've previously had it switched on and want to opt out and remove your data, click the 'Clear remote stats' button and on the next submission all the data you've sent us will be removed!","title":"Submitting stats"},{"location":"General/Callback-Stats-and-Privacy/#stats-data-and-your-privacy","text":"This document has been put together to explain what LibreNMS does when it calls back home to report some anonymous statistics. Let's start off by saying, all of the code that processes the data and submits it is included in the standard LibreNMS branch you've installed, the code that accepts this data and in turn generates some pretty graphs is all open source and available on Git Hub. Please feel free to review the code, comment on it and suggest changes / improvements. Also, don't forget - by default installations DO NOT call back home, you need to opt into this. Above all we respect users privacy which is why this system has been designed like it has. Now onto the bit you're interested in, what is submitted and what we do with that data.","title":"Stats data and your privacy"},{"location":"General/Callback-Stats-and-Privacy/#what-is-submitted","text":"All data is anonymous. Generic statistics are taken from the database, these include things like device count, device type, device OS, port types, port speeds, port count and BGP peer count. Take a look at the code for full details. Pairs of sysDescr and sysObjectID from devices with a small amount of sanitation to prevent things like hostnames from being submitted. We record version numbers of php, mysql, net-snmp and rrdtool A random UUID is generated on your own install. That's it! Your IP isn't logged, even via our web service accepting the data. We don't need to know who you are so we don't ask.","title":"What is submitted"},{"location":"General/Callback-Stats-and-Privacy/#what-we-do-with-the-data","text":"We store it, not for long - 3 months at the moment although this could change. We use it to generate pretty graphs for people to see. We use it to help prioritise issues and features that need to be worked on. We use sysDescr and sysObjectID to create unit tests and improve OS discovery","title":"What we do with the data"},{"location":"General/Callback-Stats-and-Privacy/#questions","text":"Q. How often is data submitted? A. We submit the data once a day according to running daily.sh via cron. If you disable this then opting in will not have any affect. Q. Where can I see the data I submitted? A. You can't see the data raw, but we collate all of the data together and provide a dynamic site so you can see the results of all contributed stats here Q. I want my data removed. A. That's easy, simply press 'Clear remote stats' in the About LibreNMS page of your control panel, the next time the call back script is run it will remove all the data we have. Q. I clicked the 'Clear remote stats' button by accident. A. No problem, before daily.sh runs again - just opt back in, all of your existing data will stay. Hopefully this answers the questions you might have on why and what we are doing here, if not, please pop into our discord server or community forum and ask any questions you like.","title":"Questions?"},{"location":"General/Callback-Stats-and-Privacy/#how-do-i-enable-stats-submission","text":"If you're happy with all of this - please consider switching the call back system on, you can do this within the About LibreNMS page within your control panel. In the Statistics section you will find a toggle switch to enable / disable the feature. If you've previously had it switched on and want to opt out and remove your data, click the 'Clear remote stats' button and on the next submission all the data you've sent us will be removed!","title":"How do I enable stats submission?"},{"location":"General/Changelog/","text":"1.44 (2018-10-17) A big thank you to the following 31 contributors this last month: murrant (63) TheGreatDoc (16) laf (14) PipoCanaja (8) Rosiak (4) SaaldjorMike (2) therealshibe (2) mattie47 (2) jozefrebjak (2) Cormoran96 (2) sjtarik (2) dlangille (2) cchance27 (1) crazy-max (1) CFUJoshWeepie (1) trs80 (1) DR3EVR8u8c (1) Atroskelis (1) Leapo (1) vowywowy (1) FTBZ (1) jarischaefer (1) pmusolino-rms (1) crcro (1) vitalisator (1) dupondje (1) Nesousx (1) lug-gh (1) backslash7 (1) cppmonkey (1) ciscoqid (1) Alerting Use correct ID for incident resolution in PagerDuty ( #9321 ) - laf Fixed bug of alerting by ping.php ( #9311 ) - DR3EVR8u8c Added ability to set a custom SQL query for alert rules. ( #9094 ) - laf Added support for allowing alerts to un-ack ( #9136 ) - laf Fixed PagerDuty alert to show rule name + device as summary ( #9213 ) - laf Modified timestamp sent to nagios-receiver in order to fix an issue w\u2026 ( #9140 ) - Nesousx Enable and catch exceptions for PHPMailer to gather error messages. ( #9132 ) - ciscoqid Additional debug output when sending/testing email ( #9120 ) - murrant Bug Use correct ID for incident resolution ( #9321 ) - laf Fixed bug of alerting by ping.php ( #9311 ) - DR3EVR8u8c Bind user before fetching ( #9312 ) - murrant Check if array exists for new alert rules and create if not ( #9303 ) - laf Fixed devices state filter when state = 0 ( #9277 ) - murrant Fixed eventlog when the device has been deleted. ( #9276 ) - murrant Config class collides with Config in model namespace ( #9249 ) - murrant Syslog fixes ( #9246 ) - murrant Disable used rules in template map for select them ( #9212 ) - TheGreatDoc Fixed edit dashboard permissions + moved to toastr ( #9236 ) - TheGreatDoc Fixed remember me ( #9233 ) - murrant Fixed PagerDuty alert to show rule name + device as summary ( #9213 ) - laf Fixed install.php redirect ( #9224 ) - murrant Allow trusted proxy via APP_TRUSTED_PROXIES ( #9196 ) - murrant Remove api rate limits ( #9211 ) - laf Fixed API auth issues ( #9185 ) - murrant Init and refresh the php session each page load ( #9186 ) - murrant Use UTC if date.timezone is not set ( #9181 ) - jarischaefer Fixed devices unpolled check ( #9199 ) - murrant Fixed anonymous bind ( #9195 ) - murrant Fixed auth user level not updated ( #9190 ) - murrant Fixed error in logout ( #9189 ) - murrant Fixed up ldap-authorizer, create non-existent users ( #9192 ) - murrant Ignore dns errors when fetching astext ( #9180 ) - murrant Fixed edit processors/storage/memory search query ( #9172 ) - TheGreatDoc Fixed remove alert rule from template ( #9173 ) - TheGreatDoc Fixed latency over 1s causes db update to fail ( #9157 ) - murrant Fixed PeeringDB module ( #9158 ) - TheGreatDoc Modified timestamp sent to nagios-receiver in order to fix an issue w\u2026 ( #9140 ) - Nesousx Fixed edgeswitch temperatures ( #9130 ) - murrant Fixed Total Chassis Power sensor_index for SmartAX MA5603T/MA5683T ( #9115 ) - TheGreatDoc Don't update ospf stats if there are none. ( #9133 ) - murrant Fixed web installer to allow users to change db creds if we can't connect ( #9126 ) - laf Fixed varchar comparision when using numeric and text sensor_index ( #9114 ) - TheGreatDoc Device Support for Glass Way EYDFA WDM Optical Amplifier ( #9125 ) - TheGreatDoc Added support for PBI Digital Decoder ( #9223 ) - jozefrebjak Added support for Teleste Luminato ( #9061 ) - jozefrebjak Fixing Sentry 3 and 4 Temperature Sensors ( #9177 ) - sjtarik Added specific support for APC Automatic Transfer Switch ( #9221 ) - FTBZ Added Allied Telesis oxidized syslog hook support ( #9219 ) - mattie47 Collect VRP Entity details in the Huawei MIB ( #8888 ) - PipoCanaja Initial support for CXR-Networks Terminal Server ( #9169 ) - PipoCanaja Fixed ES3510MA os info ( #9150 ) - murrant Edgeswitch fans ( #9162 ) - crcro Added HPE iLO Version Polling ( #9146 ) - Rosiak Added OpenBSD Carp State Sensor ( #9143 ) - Rosiak Added Comware Power Usage ( #9016 ) - Rosiak Added support for EdgeCore ES3510MA ( #9081 ) - backslash7 Fixed Total Chassis Power sensor_index for SmartAX MA5603T/MA5683T ( #9115 ) - TheGreatDoc Webui Don't force root url ( #9308 ) - murrant Allow zoom to be decimal and switch zoomSnap to 0.1 ( #9259 ) - cchance27 Don't call to legacy auth to get dashboards. ( #9297 ) - murrant Check if array exists for new alert rules and create if not ( #9303 ) - laf Force root url if set by user ( #9266 ) - murrant Fixed devices state filter when state = 0 ( #9277 ) - murrant Keeps the dashboard sessions from expiring. ( #9263 ) - murrant Allow login with GET variables ( #9268 ) - murrant Fixed eventlog when the device has been deleted. ( #9276 ) - murrant Eventlog WebUI/backend update ( #9252 ) - murrant Syslog fixes ( #9246 ) - murrant Disable used rules in template map for select them ( #9212 ) - TheGreatDoc Update syslog display and backend ( #9228 ) - murrant Fixed edit dashboard permissions + moved to toastr ( #9236 ) - TheGreatDoc Add support for allowing alerts to un-ack ( #9136 ) - laf Fixed remember me ( #9233 ) - murrant Fixed install.php redirect ( #9224 ) - murrant Use of generate_url in Oxidized page ( #9200 ) - PipoCanaja Allow trusted proxy via APP_TRUSTED_PROXIES ( #9196 ) - murrant Show sensors warnings values + moved to json and toastr ( #9210 ) - TheGreatDoc Don't output non-fatal errors from legacy web pages. ( #9208 ) - murrant Init and refresh the php session each page load ( #9186 ) - murrant Fixed devices unpolled check ( #9199 ) - murrant Fixed anonymous bind ( #9195 ) - murrant Fixed auth user level not updated ( #9190 ) - murrant Fixed error in logout ( #9189 ) - murrant Fixed up ldap-authorizer, create non-existent users ( #9192 ) - murrant Use Laravel authentication ( #8702 ) - murrant Fixed extra large login images ( #9183 ) - murrant WebGUI Oxidized - Add author+message + refresh button ( #9163 ) - PipoCanaja Added BGP Peer Descriptions ( #9165 ) - TheGreatDoc Oxidized Device List: Link to config and refreshDevice Btn ( #9129 ) - PipoCanaja Fixed PeeringDB module ( #9158 ) - TheGreatDoc Added support for Rancid GIT ( #9036 ) - dupondje Fixed web installer to allow users to change db creds if we can't connect ( #9126 ) - laf Documentation Doc about third-party installation supports created by the community ( #9274 ) - crazy-max Update Applications.MD ( #9280 ) - CFUJoshWeepie Added .env for subdirectory doc ( #9285 ) - murrant Missing {{ }} around $value in some examples ( #9272 ) - Atroskelis Altered EXIM Download instruction ( #9241 ) - cppmonkey Add universe repo for Ubuntu 18 install docs ( #9238 ) - therealshibe Fixed FAQ link and added delayed alerts FAQ ( #9239 ) - vowywowy Added Alliedware Plus syslog config docs ( #9220 ) - mattie47 Fixed format for snmpd configuration step ( #9203 ) - TheGreatDoc Updated example for new alerting engine ( #9193 ) - pmusolino-rms Added note to cron file advising not to disable daily.sh ( #9164 ) - murrant Added FAQ on where to update database credentials if they change ( #9127 ) - laf Added info for using macros as values ( #9156 ) - vitalisator Feature Updated file permissions check ( #9218 ) - murrant Api Remove api rate limits ( #9211 ) - laf Fixed API auth issues ( #9185 ) - murrant Use Laravel authentication ( #8702 ) - murrant Security Sanitize data in dashboard add/edit/delete ( #9171 ) - murrant 1.43 (2018-08-30) A big thank you to the following 29 contributors this last month: murrant (41) laf (15) TheGreatDoc (9) PipoCanaja (4) VanillaNinjaD (3) VVelox (2) zombah (2) DreadnaughtSec (2) metavrs (2) Evil2000 (2) dsgagi (2) gs-kamnas (1) cppmonkey (1) bonzai86 (1) dupondje (1) Landrash (1) bfarmerjr (1) theherodied (1) willhseitz (1) eastmane (1) MHammett (1) jepke (1) odvolk (1) nickhilliard (1) InsaneSplash (1) tomarch (1) crcro (1) Notre1 (1) LaZyDK (1) Bug Fixed url to graphs from date selector ( #9109 ) - laf Fixed slack options not showing in the webui ( #9107 ) - laf Set ip to null when a device is renamed ( #9112 ) - murrant SNMP v3 auth is no longer checked for case sensitivity + push pass v3 creds to front of queue ( #9102 ) - laf Fixed alert notes in templates ( #9093 ) - murrant Fixed sorting on PeeringDB AS Selection table ( #9096 ) - TheGreatDoc Fixed IN db queries ( #9077 ) - murrant Fixed port_id is null in ospf poller ( #9078 ) - murrant Fixed Device- Eventlog to show rows/pages and Syslog hostname filter ( #9060 ) - TheGreatDoc Fixed ldap fetching user_id as string ( #9067 ) - murrant Fixed port customers display ( #9048 ) - murrant Fixed OSPF duplicate DB entries ( #9051 ) - murrant Fixed dbFacile null parameters ( #9031 ) - murrant Added a check for a failed dns query in get_astext() ( #9020 ) - murrant Fixed invalid json in test data ( #9015 ) - murrant Reverted parse_mode in Telegram transport ( #9000 ) - laf Linux sensors - check if value is valid before use discovery_sensor ( #8956 ) - tomarch Remove non-existent PowerNet-MIB OIDs. ( #9005 ) - murrant Fixed incorrect heartbeat for ping rrds in rrdstep.php script ( #9004 ) - willhseitz Fixed the display of sysNames within the edit device permissions ( #8986 ) - InsaneSplash Correct config template for API transport ( #8991 ) - gs-kamnas Fixed Eventlog search ( #8981 ) - TheGreatDoc Webui Fixed url to graphs from date selector ( #9109 ) - laf Added dynamic graphs with RrdGraphJS by oetiker ( #9087 ) - bonzai86 Fixed PeeringDB AS Selection table ( #9096 ) - TheGreatDoc Fixed Device- Eventlog to show rows/pages and Syslog hostname filter ( #9060 ) - TheGreatDoc Fixed port customers display ( #9048 ) - murrant Convert old templates title as well as body ( #9034 ) - laf Use rrdtool_escape() for sensors instead of manually padding text ( #9029 ) - nickhilliard Added hiding of disabled ports in graph, device overview and device ports view. ( #9017 ) - Evil2000 Update Alerts widget - Also sort by timestamp, after sorting/grouping by severity. ( #8977 ) - dsgagi Display MAX rrd value in Service Graphs ( #9001 ) - PipoCanaja Updated Rockstor os and logo svgs ( #9002 ) - crcro Fixed the display of sysNames within the edit device permissions ( #8986 ) - InsaneSplash 'Disabled' and 'Down' state for devices/links rendered on NetworkMap ( #8926 ) - PipoCanaja Fix Eventlog search ( #8981 ) - TheGreatDoc Line up ping graph legend ( #8955 ) - murrant Alerting Fixed slack options not showing in the webui ( #9107 ) - laf Converted PagerDuty to new transport format ( #9092 ) - laf Fixed alert notes for templates ( #9093 ) - murrant New transport modules (Kayako Classic, SMSFeedback) ( #9027 ) - odvolk Correct config template for API transport ( #8991 ) - gs-kamnas Documentation Standardized install method for RaspberryPi App ( #9014 ) - cppmonkey SNMP v3 auth is no longer checked for case sensitivity + push pass v3 creds to front of queue ( #9102 ) - laf Added installation docs for Ubuntu 18.04 ( #8630 ) - bfarmerjr Added/Updated collectd information ( #9089 ) - theherodied Fixed Debian Stretch rrdcached Base_Path ( #8966 ) - MHammett Extended the templates documentation. ( #9055 ) - Evil2000 Update validate to check for mysqlnd ( #9043 ) - murrant Snmp configuration docs for vCenter 6.x and ESXi ( #9022 ) - DreadnaughtSec Update ReadMe (postfix) ( #9019 ) - DreadnaughtSec Correct smokeping integration example ( #8997 ) - eastmane Update Distributed-Poller.md to include daily.sh use ( #8988 ) - jepke Update Fast-Ping-Check.md to include config options ( #8987 ) - murrant Added another hardware setup ( #8983 ) - LaZyDK Api SNMP v3 auth is no longer checked for case sensitivity + push pass v3 creds to front of queue ( #9102 ) - laf Additional parameters for list_alerts and list_devices API calls ( #9040 ) - dsgagi Feature Added dynamic graphs with RrdGraphJS by oetiker ( #9087 ) - bonzai86 Added cli options debug and bill_id to poll-billing.php ( #9042 ) - murrant Display user id for auth_test.php -l ( #9066 ) - murrant Convert zfs over to use json_app_get ( #8573 ) - VVelox Add Juniper Junos syslog notification code ( #9006 ) - zombah Improved SNMPTrap handling ( #8898 ) - TheGreatDoc Log an event for each Service Status change ( #8968 ) - PipoCanaja Device Added fanspeed for EdgeSwitch ( #9013 ) - dupondje Small sysDescr_regex update for improved hiveos-wireless OS Detecttion ( #9046 ) - Notre1 Added basic Support for Arris D5 EdgeQAM ( #9083 ) - TheGreatDoc Added basic Support for Allworx VoIP Systems ( #9057 ) - VanillaNinjaD Added basic support for IBM i ( #9030 ) - VanillaNinjaD Improved SmartAX OS support. Added CPU Temperature for each card ( #9023 ) - TheGreatDoc Cleaned up Trango Apex Lynx OS code and added wireless sensors ( #9026 ) - metavrs Added support for older Airmux-400 ( #9024 ) - VanillaNinjaD Added support for Huawei iBMC ( #9011 ) - PipoCanaja Initial detection for SIAE Microelettronica ALFOplus2 microwave radio device ( #8953 ) - metavrs Update sonus-sbc detection ( #8978 ) - murrant Enhancement Isolate poller and discovery modules ( #9074 ) - murrant Check for incorrect heartbeats in rrdtstep.php script ( #9041 ) - murrant Security Fix xss in deluser ( #9079 ) - murrant Breaking Changes Fixed slack options not showing in the WebUI. This will cause a loss of options ( #9107 ) - laf 1.42 (2018-08-02) A big thank you to the following 25 contributors this last month: - murrant (20) - laf (11) - PipoCanaja (5) - pheinrichs (5) - mattie47 (3) - dsgagi (3) - TheGreatDoc (3) - Rosiak (3) - InsaneSplash (3) - siegsters (2) - MHammett (2) - vivia11 (2) - crazy-max (2) - marcuspink (1) - RyanMorash (1) - daryl-peterson (1) - barajus (1) - angryp (1) - normic (1) - costasd (1) - empi89 (1) - TheMysteriousX (1) - komeda-shinji (1) - jozefrebjak (1) - asteen-nexcess (1) Device VRF support on VRP devices (huawei) ( #8879 ) - PipoCanaja Add Citrix Netscaler HA sensors and alerts ( #8800 ) - siegsters Arris CMTS - C4/C4c remamed and Added C3 support ( #8883 ) - TheGreatDoc Added discovery of serverscheck flooding sensor ( #8923 ) - marcuspink Improve DCN Device Support ( #8878 ) - Rosiak Added detection for CoreOS devices ( #8899 ) - crazy-max Feature : Use IOS POE code for IOSXE ( #8853 ) - PipoCanaja Improved support for cambium cmm and added cmm4 ( #8737 ) - pheinrichs APC Environmental Manager Support ( #8872 ) - Rosiak Allied Telesis Wireless Support ( #8692 ) - mattie47 Removed nobulk option from routeros ( #8846 ) - laf Alerting Added new Alert Transports Mapping ( #8660 ) - vivia11 Fixed alert rules that use columns in value ( #8925 ) - laf Refactor alert templates to use Laravel Blade templating engine ( #8803 ) - laf Webui Corrected display of minigraph when using sysName as hostname ( #8842 ) - InsaneSplash Custom error page ( #8911 ) - murrant Stop allowing search text to be tagged for select2 ( #8915 ) - laf Fix plugin loading ( #8917 ) - murrant Fix errors in vars.inc.php ( #8913 ) - murrant GUI: Fix broken navigation on VRFs Page ( #8889 ) - PipoCanaja Sort alerts by severity on the Alerts widget ( #8895 ) - dsgagi Fix processor usage on edit page ( #8887 ) - murrant Fix up depth column in poller UI ( #8884 ) - TheMysteriousX Collectd graph bug fix ( #8855 ) - komeda-shinji Feature Allow ping checks to be ran separately from polling ( #8821 ) - murrant Poll service check only if the associated device is available ( #8757 ) - dsgagi Support for HTML tags in TELEGRAM transport ( #8929 ) - jozefrebjak Asterisk Application support ( #8914 ) - TheGreatDoc Added new Alert Transports Mapping ( #8660 ) - vivia11 Improved Logging and Debugging ( #8870 ) - murrant Support specifying submodules in poller and discovery for debug ( #8896 ) - murrant Add sysDescr and hardware for oxidized overrides ( #8885 ) - empi89 Added support for auto purging deleted ports ( #8861 ) - laf Documentation Adds missing hostname parameter ( #8961 ) - normic Update RRDCached.md ( #8959 ) - MHammett Update Smokeping.md ( #8860 ) - mattie47 Bug Fixed whitespace bug in ceraos temperature sensor ( #8948 ) - laf Remove testing data ( #8945 ) - pheinrichs Fix typo in clickatell ( #8937 ) - pheinrichs Match interface counter64 OIDs with unsigned bigint ( #8940 ) - siegsters Fix foldersize() recursion ( #8930 ) - murrant Fixed alert rules that use columns in value ( #8925 ) - laf Stop allowing search text to be tagged for select2 ( #8915 ) - laf Fix plugin loading ( #8917 ) - murrant Fix arista limits ( #8916 ) - murrant Fix errors in vars.inc.php ( #8913 ) - murrant Fix can_ping_device() logic ( #8906 ) - murrant GUI: Fix broken navigation on VRFs Page ( #8889 ) - PipoCanaja Don't exit(5) without new devices discovered ( #8893 ) - costasd Fix processor usage on edit page ( #8887 ) - murrant Fix api list devices query for normal users ( #8881 ) - murrant Fix up depth column in poller UI ( #8884 ) - TheMysteriousX Collectd graph bug fix ( #8855 ) - komeda-shinji Api Add sysDescr and hardware for oxidized overrides ( #8885 ) - empi89 Fix api list devices query for normal users ( #8881 ) - murrant 1.41 (2018-06-30) A big thank you to the following 23 contributors this last month: - murrant (8) - laf (5) - vivia11 (3) - InsaneSplash (3) - isarandi (2) - asteen-nexcess (2) - f0o (1) - salt-lick (1) - utelisysadmin (1) - TheGreatDoc (1) - KlaasT (1) - angryp (1) - xpatux (1) - cron410 (1) - skoef (1) - centralscrutiniser (1) - pheinrichs (1) - theherodied (1) - mattie47 (1) - wiad (1) - hanserasmus (1) - TomEvin (1) - serhatcan (1) Feature New python service ( #8455 ) - murrant Add option to ignore blockdevice regex ( #8797 ) - f0o Ability to enable debug output with wrappers ( #8830 ) - murrant Bug Only list polling as overdue when it is 20% over the rrd_step value. ( #8848 ) - murrant Sanitize oxidized geshi html output ( #8847 ) - InsaneSplash Checking for 'none' as the only device relationship ( #8837 ) - salt-lick Fixed incorrect divisor for #8746 ( #8836 ) - angryp HPE ILO power fix ( #8822 ) - TomEvin Change VRFs page to group together by RD and vrf_name ( #8799 ) - vivia11 Change max load from 5000 to 50000 ( #8769 ) - isarandi Fixed missing var declaration for description search in FDB tables ( #8802 ) - wiad Fix storing metrics for SMART ( #8807 ) - isarandi Webui Sanitize oxidized geshi html output ( #8847 ) - InsaneSplash Allow the hostname to resolve to the sysName, ie Dynamic DNS ( #8810 ) - InsaneSplash Disable autocomplete on SNMPv3 settings ( #8833 ) - KlaasT Change _POST to vars to get params by URL on FDB search. ( #8838 ) - xpatux Change VRFs page to group together by RD and vrf_name ( #8799 ) - vivia11 Alerting Revised Pushover title and severity level ( #8844 ) - InsaneSplash Add Discord transport ( #8748 ) - theherodied Device Added support for graphing pf related stats for pfsense devices ( #8643 ) - utelisysadmin Added detection for Netscaler SD-WAN devices ( #8825 ) - laf Added SNR Sensor to CMTS Arris ( #8840 ) - TheGreatDoc HPE ILO power fix ( #8822 ) - TomEvin Improved support for DNOS/FTOS M-Series ( #8749 ) - skoef Adding sensors to omnitron iconverter ( #8806 ) - vivia11 EfficientIP SOLIDserver Detections ( #8773 ) - centralscrutiniser Clean up old cambium code / migrate more data to wireless sensors ( #8725 ) - pheinrichs Added Juniper SRX Branch Session Graphing ( #8815 ) - asteen-nexcess Security Disable autocomplete on SNMPv3 settings ( #8833 ) - KlaasT Documentation Update Applications.md ( #8813 ) - mattie47 Add if label docs to os settings ( #8779 ) - murrant Added OpsGenie integration ( #8786 ) - serhatcan 1.40 (2018-05-30) A big thank you to the following 24 contributors this last month: - murrant (27) - laf (15) - PipoCanaja (7) - theherodied (3) - angryp (3) - centralscrutiniser (3) - vivia11 (2) - hanserasmus (2) - pheinrichs (2) - aldemira (2) - mattie47 (2) - Rosiak (2) - Cormoran96 (2) - salt-lick (1) - nwautomator (1) - remyj38 (1) - robje (1) - rbax82 (1) - TheGreatDoc (1) - oranenj (1) - k-y (1) - gs-kamnas (1) - DR3EVR8u8c (1) - githubuserx (1) Webui Allow Submenus in Plugin Menu by removing the scrollable-menu \u2026 ( #8762 ) - PipoCanaja Change alert rule triggered icon from X to ! ( #8760 ) - murrant Fix the all ports search for fSpeed - ifSpeed ( #8759 ) - laf Fix oxidized configuration fetch for empty group ( #8754 ) - oranenj Handle database exceptions properly ( #8720 ) - murrant Fix some issues with globals ( #8709 ) - murrant PoE graphs ( #8705 ) - PipoCanaja Fix device inventory page ( #8698 ) - murrant Fix two factor auth ( #8697 ) - murrant Version librenms.js to break cache ( #8696 ) - murrant Don't require mysql 5.5 or newer. ( #8695 ) - murrant Fix missing vlan name on port vlan page ( #8684 ) - murrant Add wireless sensors to about and stats.librenms.org ( #8676 ) - murrant Update for adding responsive ( #8652 ) - Cormoran96 Created a page to show all known VMs ( #8640 ) - aldemira Security Don't leak passwords deep linking to a graph and logging in on Apache httpd ( #8761 ) - murrant Api Map LibreNMS OS' to known Oxidized models ( #8758 ) - laf System endpoint, more health graphs ( #8730 ) - pheinrichs Device Use CISCO-VRF-MIB for vrfs on non MPLS cisco devices ( #8756 ) - vivia11 Added SFP sensor discovery for Procurve devices ( #8746 ) - angryp Adding VRP support for FDB table using HUAWEI-L2MAM-MIB ( #8719 ) - PipoCanaja Update Barracuda Spam Firewall product name with the current name (Barracuda Email Security Gateway) ( #8682 ) - salt-lick Update juniper junos chassis definitions ( #8678 ) - nwautomator Add Open Access Netspire OS support ( #8674 ) - vivia11 Rename awplus sensor state_name ( #8671 ) - mattie47 Blue Coat device updates ( #8664 ) - centralscrutiniser Fix Netguardian OS Polling Variable ( #8655 ) - Rosiak Fortinet FortiWeb Basic Support ( #8654 ) - Rosiak Update Discovery on Ceragon wireless ( #8647 ) - pheinrichs Added sysObjectID for Canon LBP printer series ( #8644 ) - githubuserx Change Dell iDrac from Server to Appliance ( #8642 ) - theherodied Bug Fix oxidized configuration fetch for empty group ( #8754 ) - oranenj Bug - Apc - Humidity sensor negative value filtering ( #8743 ) - PipoCanaja Fix Mimosa PtP frequency and power ( #8741 ) - murrant Fix hostname lookup for distributed poller on some platforms ( #8727 ) - murrant Fix install ( #8724 ) - murrant Fix some issues with globals ( #8709 ) - murrant Fix device inventory page ( #8698 ) - murrant Fix two factor auth ( #8697 ) - murrant Version librenms.js to break cache ( #8696 ) - murrant Don't require mysql 5.5 or newer. ( #8695 ) - murrant Ignore plugin hook calling errors ( #8693 ) - murrant Stop Eloquent from loading another DB conn for poller/discovery ( #8691 ) - laf Fixed AD when no email address is returned ( #8690 ) - laf Fix .env migration unescaped $ in passwords ( #8688 ) - murrant Remove buffering for legacy api ( #8687 ) - laf Fix missing vlan name on port vlan page ( #8684 ) - murrant Test plugin menu method should be static. ( #8681 ) - murrant Fix alerting with dynamic contacts for rules made with the new builder ( #8677 ) - murrant Restore OpenBSD version/features/hardware ( #8673 ) - murrant Rename awplus sensor state_name ( #8671 ) - mattie47 MySQL strict mode maintenance scheduling fix. ( #8659 ) - angryp Fix for get_alert API method. ( #8658 ) - angryp Ignore bad DNS config ( #8656 ) - murrant Fix Netguardian OS Polling Variable ( #8655 ) - Rosiak Do not fail validation when IPv6 is disabled by unloading the module. ( #8648 ) - gs-kamnas Add good_if to boss ( #8641 ) - murrant Documentation Update Weathermap.md ( #8747 ) - TheGreatDoc Updated installation instructions ( #8733 ) - hanserasmus Fixed a few formatting problems on applications.md ( #8716 ) - hanserasmus Updated MySQL entry. ( #8708 ) - theherodied Update Test-Units.md ( #8707 ) - mattie47 Reordering metrics list on Health-Information doc ( #8653 ) - k-y Update to add acl on list of necessary package ( #8639 ) - Cormoran96 Enhancement Added SFP sensor discovery for Procurve devices ( #8746 ) - angryp Alerting Updated variables available for templates ( #8713 ) - laf Updated parse_email() to use email_user config value ( #8706 ) - laf Added feature to filter delayed alerts on widget ( #8704 ) - DR3EVR8u8c Fix alerting with dynamic contacts for rules made with the new builder ( #8677 ) - murrant Feature PoE graphs ( #8705 ) - PipoCanaja Added feature to filter delayed alerts on widget ( #8704 ) - DR3EVR8u8c Also include adsl stats for vdsl ports ( #8670 ) - robje Plugins in the Port page ( #8665 ) - PipoCanaja Created a page to show all known VMs ( #8640 ) - aldemira 1.39 (2018-04-27) Features Added random entropy support for applications ( #8555 ) Added Prometheus PushGateway metric support ( #8437 ) Added random entropy monitoring ( #8555 ) Added support for syslog Oxidized notification for Hauwei VRP devices ( #8562 ) Bugfixes Fixed ePMP gps state ( #8575 ) Use email_user variable as from name for emails ( #8550 ) Apply divisor / multiplier to high / low values ( #8427 ) Documentation Remove clause of CLA ( #8596 ) Updated Oxidized.md to show use of arrays ( #8547 ) Refactoring Updated the oxidized script ( #8572 ) Allow _perc and _current columns to be string for alert rules ( #8532 ) Restrict storage discovery walks to OS ( #8528 ) Refactor Database and Config init ( #8527 ) Use snmp.version config to allow users to set versions available ( #8512 ) Exclude modules from json test data when empty ( #8533 ) Update include files for disco/poller to be dynamic ( #8597 ) Refactored the oxidized notify script ( #8572 ) Devices BDCOM use alternative MIBS ( #8610 ) Fixed polling for state sensor on ict-pdu ( #8558 ) Added detection for AeroHive AP130 Wireless. ( #8543 ) Added WTI-MPC OS and mib ( #8492 ) Added Dell Rack PDU support ( #8498 ) Added AeroHive Wireless + sensors support ( #8500 ) ( #8520 ) Added detection for 2N Helio IP devices ( #8490 ) Added additional wireless stats + CPU detection for Ruckus Wireless devices ( #8503 ) ( #8529 ) Added Last Mile CTM support ( #8478 ) Added basic Ubiquiti LTU airFiber support ( #8521 ) Added Tegile support (OS and Storage) ( #8464 ) Improved DCN support ( #8531 ) Updated Buffalo OS detection ( #8536 ) Added additional wireless support for PMP devices ( #8537 ) Added support for Dahua NVR ( #8542 ) ( #8570 ) Updated sensors and added more support for FiberHome OS ( #8549 ) ( #8569 ) Updated Cyberpower sensors and os support ( #8551 ) Added Mempools and Process support for ArubaOS ( #8548 ) Added additional sensor support for FiberHome devices ( #8561 ) Added detection for IBM DPI devices ( #8541 ) Avaya Avaya ERS and VSP to Extreme VOSS and BOSS ( #8469 ) Added detection for HWG Poseidon 4002 ( #8593 ) Rewrite state sensors to walk entire table for TIMOS ( #8588 ) Added detection for Corero CMS devices ( #8574 ) Added detection for Red Lion Sixnet devices ( #8576 ) WebUI Update Buffalo logo to new style and svg ( #8539 ) Use toastr for alert templates operational messages ([#8499]https://github.com/librenms/librenms/pull/8499) Improved FDB search page ( #8251 ) Updated Mikrotik logo ( #8584 ) Updated FiberHome logo ( #8601 ) Updated TPLink logo ( #8613 ) Added a 3rd graph to unbound application ( #8616 ) Alerting Improved VictorOps messages ( #8502 ) Added support for ack notes + alert notes ( #8433 ) API Added lat/lng to device(s) API calls ( #8515 ) Added support for returning images as base64 ( #8535 ) 1.38 (2018-03-29) Bugfixes Restored config items in sql queries ( #8443 ) Fixed sysname - sysName for device dependancy display ( #8343 ) MySQL query in alert_rules.json ( #8300 ) Change the column type from varchar(255) to TEXT for nagios-plugins perfdata ( #8322 ) Fixed etherlike graphs ( #8358 ) Fixed HP Proliant state sensors ( #8315 ) Change rootPort DB data type ( #8404 ) Fixed and improved toner discovery ( #8428 ) Documentation RRDCached-Security clearify security ( #8302 ) Improved pushover documentation ( #8330 ) Updated Graylog and Syslog documentation ( #8396 ) Devices Added detection for Cisco SPA devices ( #8446 ) Updated moxa-etherdevice hardware/software/version detection Added hardware and firmware detection for Hanwha Techwin devices ( #8468 ) Added additional detection for Calix B6 ( #8445 ) Added DEVELOP Support ( #8153 ) Added more Dell iDrac state sensors ( #8254 ) Improve Allied Telesis Chassis product support ( #8139 ) Added OID for Cisco FTD model 9300 Ref. #8212 ( #8285 ) Added more WirelessSensors and processor/mempools support for EWC ( #8294 ) Improved Lenovo CNOS Discovery/Logo ( #8332 ) Added detection of Axis Network Speaker ( #8336 ) Added Nimble storage volume utilization ( #8405 ) Added Radwin OS Wireless Sensors ( #8372 ) Added contact,relay,outlet discovery for AOS-EMU2 ( #8317 ) Added support for Moxa EDS-P510A-8PoE ( #8384 ) Added detection for Ciena 8700 (SAOS 8) ( #8442 ) Added better detection for HiveOS devices ( #8277 ) Added detection for Raritan KVM and EMX devices ( #8279 ) Improved detection for dlink and dlinkap devices ( #8447 ) Added serial number detection to xerox ( #8439 ) Added Phybridge OS support ( #8456 ) Improved Sentry4 sensor discovery ( #8407 ) Added Cambium pmp ap client count discovery ( #8487 ) WebUI Added override default device grouping radius ( #8485 ) Added auto width and height dimensions parameters for generic image widget ( #8314 ) Removed unused JS causing issues with typeahead ( #8307 ) S.M.A.R.T visualization improvements ( #8310 ) Added Oxidized reload node list button ( #8375 ) Added docs link to about page ( #8397 ) Active Directory: filter disabled users, allow nested group membership for AD auth ( #8222 ) Added borderless fullscreen geographical map, with just the nodes. ( #8337 ) Improved LDAP filters for getUserlist and getUserlevel ( #8398 ) Added LDAP debug output ( #8434 ) LDAP fall back to slow search if memberof is missing ( #8491 ) Allow full search on devices page ( #8364 ) Alerting Added a irc_alert_short option to only send the alert title ( #8312 ) Added Philips Hue as transport ( #8320 ) Added two html alert template examples ( #8360 ) Added alert_id to alerts for templates ( #8368 ) Added new alert rule builder UI ( #8293 ) Added support for disabling recovery notifications ( #8430 ) Change the default alert delay to 1m ( #8462 ) Documentation Use single quotes in example SNMP community per issue 8342 ( #8348 ) Update SNMP-Configuration-Examples.md to add VMWare example ( #8381 ) Misc Improve LDAP filter in the getUserlist() function ( #8253 ) Created check_graylog.inc.php service file ( #8334 ) Created check_haproxy.inc.php service file ( #8412 ) Module tests update: per module output, only store modules data that are run ( #8355 ) Updated APC PowerNet-MIB ( #8377 ) Print mysql errors in debug output ( #8414 ) Use custom phpcs ruleset for LibreNMS ( #8418 ) Updating the mibs file from vmware ( #8388 ) Small improvement to per port polling (speed boost) ( #8431 ) Fixed validation sql for primary keys and first columns ( #8453 ) Added ifAlias to tag influxdb port data ( #8461 ) Bumping CISCO-PRODUCTS-MIB to newest release ( #8483 ) Updated and improved manage_bills.php script ( #8467 ) 1.37 (2018-02-25) Features Added ironware syslog notify code ( #8268 ) Copy all email alerts to default contact ( #8178 ) Added GateOne Link ( #8189 ) Added ironware syslog notify code ( #8268 ) Bugfixes Switch detached head for daily updates ( #8194 ) Fixed arp-tables updates ( #8180 ) Fixed FusionSwitch portname for sensors ( #8188 ) Fixed cbgp peers data on some devices ( #8208 ) Awplus fix cpu ( #8215 ) Fixed linkify to work with with ip addresses ( #8226 ) Changed e-mail validation TLD max length to 18 ( #8236 ) Fixed the HTML Purifier config so allowed values work ( #8239 ) Fixed issues with new config init ( #8242 ) Mitigate Cisco IOS 15 Stack State Issue ( #8256 ) Fix bgp peers discovery cleanup ( #8263 ) Fixed Dell N1548 CPU graphs ( #8280 ) Documentation Changed err-msg to message for API docs ( #8182 ) Fix for syslog-ng config in the docs ( #8160 ) Refactoring Removed Unused Billing PDF reports ( #8235 ) Update awplus to new processor discovery ( #8204 ) Major Processors rewrite ( #8066 ) Remove composer deps from the repository ( #6920 ) Share code between all mysql based authorizers ( #8174 ) Use more secure password hashes ( #8213 ) Adding invalid hostnames is no longer fatal ( #8233 ) Correct unix socket handling to match poller-wrapper ( #8214 ) Move config loading into the Config class ( #8100 ) Generic snmp_translate() function ( #8156 ) Devices Added support for ScreenOS arp tables ( #8273 ) Added support for OpenBSD PF states ( #8211 ) Added support for F5 GTM ( #8161 ) Added support for Airos CPU, GPS, and Temp ( #8203 ) Updated support for XOS X480 and X650 desc and tests ( #8206 ) Updated Cisco Processor support ( #8216 ) Added OPNsense support ( #8199 ) Updated StoneOs support ( #8155 ) Added Allied Telesis Environmental Monitoring ( #8140 ) Update support for Brocade G620 description ( #8250 ) Added CeraOS wireless sensors ( #8167 ) WebUI Updated jquery_lazyload ( #8287 ) Updated datetime lib ( #8288 ) Allow sorting by toner and searching ( #8247 ) Updated vis js and moment js ( #8240 ) Added sysNames to pulldowns and the main page ( #8137 ) Adding invalid hostnames is no longer fatal. ( #8233 ) Allow administrators to edit devices sysName ( #8149 ) Allow frameborder attribute in notes widget ( #8219 ) Updated vis js and moment js ( #8240 ) API Added Billing Graphs Data ( #8245 ) Added History to Billing API Functions ( #8209 ) Alerting Case insensitive alert rule searching ( #8231 ) Updated email subject for failed updates to include hostname ( #8258 ) Set Content-type header in the API transport if the text to be sent is valid JSON ( #8282 ) 1.36 (2018-01-30) Features Added powerdns dnsdist application ( #7987 ) Added ZFS support for FreeBSD ( #7938 ) Added snmp_getnext_multio() function ( #8052 ) Clear OS defs cache on poller/discovery debug ( #8061 ) Script to rename mibs to proper names ( #8068 ) Bugfixes daily.sh Updated to resolve release version issues ( #8172 ) Make consistent with other authorisers ( #8151 ) Pushover message fix to enable templates ( #8118 ) Bgp-peers junos empty afi-safi names ( #8083 ) Fixed the default fping config + changed variable name ( #8060 ) Override -H for check_load service. Fixed backslash escaping. ( #8020 ) Fix can't find CPQHOST-MIB ( #8024 ) Bgp-peers add missing os junos safi values ( #8018 ) Cisco-vrf discovery for device os junos ( #8009 ) Stop stripping html tages from snmp creds ( #7951 ) Fixed bugs in bgp-peers poller ( #7976 ) Fix mark all unread notifications ( #7999 ) Fix deletion of services + select query ( #8030 ) Moved sysDescr snmp call to snmp_get_multi_oid() in core poller ( #8062 ) Fixed bad queries for top device widget ( #8105 ) Stop including disabled ports in traffic overview ( #8107 ) Specify table name for list_devices API call ( #8132 ) Fixed Palo Alto HA alert rule ( #8138 ) Fixed arp table duplicates ( #8147 ) Fixed normal user access to performance tab ( #8150 ) Changed is_file() to rrdtool_check_rrd_exists() ( #8152 ) Documentation Emphasize snmpsim is required for most tests ( #8059 ) Doc api fixes ( #7950 ) Added ports purge to cleanup options ( #7970 ) Refactoring Moved routeros sensors to yaml + fixed divisors ( #7946 ) Remove all old style snmp calls ( #7924 ) Fail2ban update and removal of FW checking ( #7936 ) Refactor freeradius appplication metrics ( #8002 ) Move ignore_storage call to discover_storage ( #7973 ) Updated poller/discovery to use numeric sysObjectID ( #7922 ) Move installs to php53 branch for php version 5.6.4 ( #8042 ) Rename cisco-vrf to vrf and enabled junos ( #8033 ) Updated BGP Peers ( #7972 ) Devices Added Support for cambium PTP 300, 500, 600 and 800 ( #7998 ) Added support for ArbOS ( #8055 ) Added processor and mempools for EdgeCore switch ( #7850 ) Updated Cisco ACS Detection ( #8013 ) Added Rittal IT Chiller / Carel pCOweb card ( #7826 ) Added cyberpower RMCARD 202 Support ( #7964 ) Added additional detection for CyberPower devices ( #7931 ) Added further detection for Sophos UTM devices ( #7953 ) Added Cambium cnPilot Support ( #7898 ) Added more sensor support for RouterOS (Mikrotik) + Test data ( #7930 ) Added Checkpoint Gaia Sensor ( #8088 ) Added Dell iDRAC Global System Sensor ( #8012 ) Added CheckPoint SecurePlatform support ( #8000 ) Fixed AirOS version and Hardware ( #8034 ) Fixed UniFi AP hardware and firmware revision ( #8005 ) Added Hillstone StoneOS detection ( #7982 ) Added Allied Telesis CPU support ( #8111 ) Updated legacy Allied Telesis hardware support ( #8071 ) Added EER and Water Florw Rate for Rittal Chillers ( #8104 ) Added memory and temp polling for Dlink ( #8076 ) Added Hardware/Version/Serial support for Synology ( #8087 ) Updated hardware for certain awplus devices ( #8123 ) Updated FortiManager support ( #8102 ) Added suspended state for panos ( #8125 ) WebUI Added back devices sort by status ( #8103 ) Small graylog cleanup ( #8057 ) Small eventlog cleanup ( #8056 ) Added OpenWRT icon ( #8054 ) Devices header cleanup ( #8039 ) Added validation for Oxidized API URL config ( #7978 ) Wireless pages refresh ( #7836 ) HPMSM added CPU,Memory to Overview ( #7949 ) Added Single server details widget ( #7923 ) Improved Services page ( #7628 ) Improved Alerts page ( #7765 ) Improved Eventlog page ( #7793 ) Improved Syslog page ( #7796 ) Improved Devices page ( #7809 ) Improved Ports page ( #7827 ) Improved Graylog page ( #7832 ) Improved Health / Sensors page ( #7834 ) Improved Wireless page ( #7836 ) Improved Applications page ( #7994 ) Added Oxidized config validator ( #7983 ) Added settings validations ( #8037 ) API Added add_service_for_host endpoint to API ( #8113 ) Added dependency info for devices/device api calls ( #8058 ) Added 404 fallback for bad / invalid calls ( #7952 ) Added routing and resources API calls ( #8017 ) Alerting Updated Pushover to use templates ( #8118 ) 1.35 (2017-12-20) Features Generic discovery and poller tests ( #7873 ) FreeRADIUS application monitoring ( #7818 ) Save application metrics to db for alerting ( #7828 ) Added Entity State polling ( #7625 ) Added manage_bills.php script to scripts directory ( #7633 ) Added Host dependencies support for alerting ( #7332 ) Bugfixes Agent tries to insert processes data that is too long ( #7891 ) Remove faulty memcached code (not related to distributed polling) ( #7881 ) Re-added peeringdb back into daily.sh ( #7884 ) Don't work around bad implementations in snmpwalk_group ( #7876 ) Some graphs broke due to stacked graphs, remove that change ( #7848 ) Fixed UPS time remaining in Mikrotik RouterOs ( #7803 ) Fixed get_all_ports() for api not returning ports on admin tokens ( #7829 ) Validate ifHighSpeed is 0 in selected port polling ( #7885 ) Added user level to getUser for LDAP authentication ( #7896 ) ipmi sensors sending the wrong tags to influxdb ( #7906 ) Documentation Minor fix to device sensors doc ( #7874 ) Create device sensor help doc. ( #7868 ) Updated sensor state doc ( #7822 ) Build new Cleanup Options doc ( #7798 ) Refactoring Stop sending emails to \"NOC\" for default_email target ( #7917 ) Refactor alert transports to classes ( #7844 ) Update all applications to store metrics ( #7853 ) Devices Added state sensor support for HPE MSA devices ( #7808 ) Added temp and humidity sesors + serial for websensor (renamed from cometsystem-p85xx) ( #7854 ) Added Mikrotik POE sensors ( #7883 ) Added Mikrotik LLDP discovery ( #7901 ) Update wireless sensors for Ray and Alcoma devices ( #7820 ) Added support EdgeCore ECS4120-28T ( #7880 ) Added Junos dwdm interface sensor support ( #7714 ) Added detection for Cisco FTD devices ( #7887 ) WebUI Timezone support for graylog ( #7799 ) Added support for stacked graphs ( #7725 ) Added ability to mark all notifications as read ( #7489 ) Disabled page refresh on Add services page ( #7804 ) Added diskusage to top devices widget ( #7903 ) API Added Retrieve BGP sessions by ID ( #7825 ) Fixed disabling tokens ( #7833 ) Added support for wireless sensors ( #7846 ) Added API method to rename devices ( #7895 ) Alerting Validate email addresses used in alerting ( #7830 ) Added generic alerting for state sensors ( #7812 ) 1.34 (2017-11-26) Features Added additional sensors for ups-nut Track rrdtool time for poller ( #7706 ) Implement snmp_getnext() ( #7678 ) LDAP auth update: alerts, api, remember me ( #7335 ) Support a wider range of link speeds in network maps ( #7533 ) Allow snmpget in os discovery yaml ( #7587 ) Check cli timezone from the validation webpage ( #7648 ) Selected ports polling per OS ( #7674 ) Added purge-port scipt to allow deleting of ports from the CLI. ( #7528 ) Extra fping checks in validation ( #7651 ) Added support for setting php memory_limit in config.php ( #7704 ) Script to collect port polling data and compare full walk vs selective port polling ( #7626 ) Allow discovery to check if devices are down before skipping ( #7780 ) Bugfixes Fixed precache data ( #7782 ) Authentication on CentOS6 ( #7771 ) Fixed empty group query for devices ( #7760 ) Notification read count doesn't decrement in menu bar ( #7750 ) Do not add invalid Cisco senors seen in IOS 15.6(3)M1 ( #7629 ) Revert to two gets for sysDescr and sysObjectID ( #7741 ) Fixed Brocade ironware processor precision ( #7730 ) Basic input validation for screen width and height ( #7713 ) Better sanity checks of fping options. Devices detected as ibmtl or generic ( #7618 ) Added primary key to perf_times to improve DELETE performance on replicas using ROW based replication ( #7493 ) Fail isPingable() if fping fails, take 2 ( #7585 ) Update ifIndex update on polling when ifIndex is not the port association mode ( #7574 ) ( #7575 ) Fix Services container alignment ( #7583 ) Availability-map showed ping devices as warning ( #7592 ) discovery.php -h all stops working after ping only device ( #7593 ) Improve poller validation ( #7586 ) Only show the neighbour tab if there are neighbors to show ( #7591 ) Updated hpe iPdu to remove power and fix load values ( #7596 ) Function snmp_get delete quotes in snmp query ( #7467 ) Better sanity check of hostname when adding device. ( #7582 ) github-apply sometimes fails on PRs with lots of commits ( #7604 ) PING fails on servers that don't set PATH in cron ( #7603 ) Correct sensor ID when removing device. ( #7611 ) Fixed status services up/down inverse values ( #7657 ) Better validation on callback url for Pagerduty integration ( #7658 ) Fixed number comparisons in alerts and device groups ( #7695 ) Fallback to snmpgetnext if db is unavailable ( #7698 ) Errors with missing posix extension ( #7666 ) Fixed component status log ( #7723 ) Fixed bgpPeers_cbgp discovery for junos ( #7743 ) Fixed incorrect mail validation if ( #7755 ) Fixed discovery-wrapper.py discovery.nodes can sometimes be None when not master ( #7747 ) Fixed bgp-peers fails when ip parsing fails ( #7773 ) Fixed poller-wrapper.py keeps running when a poller takes too long ( #7722 ) Use correct entity columns for sensors ( #7775 ) Discovery os changes weren't properly reflected if os changed ( #7779 ) Documentation Minor changes and fixes to Alert Rules ( #7789 ) Added Web UI rename device. ( #7769 ) SNMP config for Mac OSX ( #7767 ) Continue to reorganize docs ( #7762 ) Fix for rule mapping ( #7751 ) Added sudo guidelines for Proxmox ( #7739 ) Added sudo suggestion for SMART monitoring ( #7738 ) VM images recommended user update ( #7737 ) Install Docs Update for min PHP ver ( #7630 ) Added video link showing how to add ping only device ( #7711 ) Fix layout changes to dashboard. ( #7693 ) Create new docs on using dashboards ( #7688 ) Added Ping Only Device ( #7687 ) Added allow graphs without login ( #7675 ) Added device-troubleshooting page ( #7638 ) Added WebUI to Validate docs ( #7635 ) Minor spelling fix for device-troubleshooting ( #7689 ) Fix for VM images doc. ( #7740 ) Added syslog cleanup option ( #7581 ) How to add Weathermaps to Dashboards ( #7636 ) Added command to fetch shell script for DHCP Stats ( #7736 ) Added ports template to alert rules doc ( #7763 ) Refactoring Better default temperature sensor limits ( #7754 ) Switch to using discovery-wrapper.py by default ( #7661 ) Rewrite a bit of the irc bot ( #7667 ) Added the Nvidia SM average as app_status ( #7671 ) Refactored authorizers to classes ( #7497 ) Only update sensor/bgp tables when values are changed ( #7707 ) Devices Updated Checkpoint Gaia detection and added storage ( #7656 ) Added additional APC rPDU2 Sensors ( #7490 ) Initial detection for Arris Cable Modem devices ( #7677 ) Removed unused poller/discovery modules for Arista EOS ( #7709 ) Update hwg-ste and add hwg-ste-plus support ( #7610 ) Added state sensors for Palo Alto Networks firewall ( #7482 ) Added additional sensors for logmaster Os Added Temp and Humidity support for ServersCheck devices ( #7588 ) Added support for Avtech RoomAlert 32E/W and RoomAlert 11E ( #7614 ) Added support for Eltek enexus ( #7552 ) Added support for Stormshield devices ( #7646 ) Added support for Asentria SiteBoss ( #7655 ) Added humidity sensors for hwg-ste ( #7728 ) Addedd sensor support for UPS NUT devices ( #7622 ) WebUI Don't disable the applications check boxes in settings if the discovery module is disabled. ( #7615 ) Added toner support in health metrics list ( #7595 ) Hide rediscover button for ping only devices ( #7594 ) Added Health/sensor view for specific device/ports/port ( #7684 ) Updated poll-log page to honour force_ip_to_sysname ( #7712 ) Expose pollers link to show total poll time for all devices per poller ( #7699 ) Updated sensors overview header to be consistent with others ( #7761 ) Allow deletion of dead poller nodes ( #7721 ) API Added support for Oxidized asking for a single host ( #7705 ) Validate columns parameter against fields in table ( #7717 ) Stop list_logs skipping first row ( #7772 ) Alerting Added in dell server sensors alert rules to the collection ( #7647 ) 1.33 (2017-10-29) Features Support for up/down detection of ping only devices. Improve Device Neighbour WebUI ( #7487 ) Configurable 95th percentile ( #7442 ) Added AD support nested groups (resubmit #7175) ( #7259 ) Added configurable 95th percentile for graphs ( #7442 ) Added sysname as filtering group for oxidized ( #7485 ) CDP matching incorrect ports ( #7491 ) Issue warning notification if php version is less than 5.6.4 ( #7418 ) Added Web validation support ( #7474 ) Support for up/down detection of ping only devices ( #7323 ) Bugfixes rfc1628 state sensor translations ( #7416 ) snmpwalk_group tables not using entries ( #7427 ) Improve accuracy of is_valid_hostname() ( #7435 ) snmp_get_multi returns no data if the oid doesn't contain a period ( #7456 ) Fixed clickatell alert transport ( #7446 ) Escape sql credentials during install ( #7494 ) Fixed OEM ipmi sensors that returns unreadable values ( #7518 ) Fixed ospf polling not removing stale data ( #7503 ) LLDP discovery change local port resolution ( #7443 ) Documentation Include Freeswitch in applications doc ( #7556 ) Added more example hardware ( #7542 ) Update syslog docs to prevent dates in the future/past ( #7519 ) Alerts glues ( #7480 ) Improve CentOS 7 and Ubuntu 16 rrdcached installation instructions ( #7473 ) Re-organize install docs ( #7424 ) Added HipChat V2 WebUI Config Example ( #7486 ) Alert rules, added in the alert rules videos ( #7512 ) Updated references for ##librenms to discord ( #7523 ) Document discovery and poller module enable/disable support ( #7505 ) OpenManage including info for windows ( #7534 ) Added SSL config for CentOS 7 with Apache ( #7529 ) Added Dynamic Configuration UI for Network-Map.md ( #7540 ) New doc for weathermap ( #7536 ) Devices Always allow empty ifDescr on fortigate ( #7547 ) Added temperature sensor to datacom switches. ( #7522 ) Added more Procera interfaces ( #7422 ) Added firewall graphs for Palo Alto Networks firewall ( #7483 ) Added support for Alcoma wireless devices ( #7476 ) Added detection for SmartOptics T-Series devices ( #7433 ) Added more support for Avocent devices ( #7444 ) Added Dlink dap2660 add processors and mempools ( #7428 ) Added additional zywall-usg support ( #7405 ) Added Dlink dap2660 processors and mempools ( #7428 ) Added technicolor TG650S and TG670S ( #7420 ) Added support for alternate Equallogic SNMP sysObjectId ( #7394 ) Added zyxelnwa storage, mempools and wireless metrics ( #7441 ) Added Storage, Memory pools, new status (Array Controller, Logical Drive) for HP ILO4 ( #7436 ) Added Support for ApsoluteOS / Defense Pro Hw ( #7440 ) Added support for Huawei OceanStor devices ( #7445 ) Added detection for Racom OS RAy (# 7466 ) Improved Zhone MXK Discovery ( #7488 ) Added support for EATON-ATS devices ( #7448 ) Added support for Alcoma devices ( #7476 ) Added support for zywall usg vpn state and flash usage ( #7500 ) Added Brocade IronWare interface dBm sensor support ( #7434 ) Added Unifi AC HD detection ( #7516 ) Added initial detection for netmodule NB1600 ( #7514 ) Added support for new Fiberhome OLT Models ( #7499 ) Added support for logmaster(ups vendors) os/devices ( #7524 ) Added poller modules to ceraos ( #7470 ) Added more detection for IgniteNet FusionSwitch ( #7384 ) Added Mitel Standard Linux OS Support ( #7513 ) Updated Cisco WAP detection and merged in ciscosmblinux OS ( #7447 ) Added detection for Proxmox ( #7543 ) Alerting Added alert rules for RFC1628 UPS to the collection ( #7415 ) Added HP iLo and OS-updates rules to the collection ( #7423 ) Added more simple rules for the alert collection ( #7430 ) Refactor Discovery protocols re-write ( #7380 ) WebUI Show only authorized services in availability map ( #7498 ) Allow user to display ok/warning/critical alerts only ( #7484 ) Security Stop accepting other variables in install that we do not use ( #7511 ) source: General/Changelog.md 1.32 (2017-10-01) Features Added more rules to the collection of alert rules ( #7363 ) Allow ignore_mount, ignore_mount_string, ignore_mount_regex per OS ( #7304 ) Added script to generate config for new OS ( #7161 ) Added Syslog hook for ASA support ( #7268 ) Bugfixes If session save path is \"\", php will use /tmp ( #7359 ) rfc1628 runtime - allow os quirks ( #7340 ) Small error when checking ios for wireless rssi ( #7300 ) Use Netscaler vserver full names ( #7279 ) Slower hardware can hit the schema update response timeout ( #7296 ) Do not issue non-master warning if on the release update channel ( #7297 ) Fixed quotes breaking powerdns app data ( #7111 ) Updated graph_types table so graph_subtype has no default value ( #7285 ) Fixed IPv6 host renaming ( #7275 ) Fixed Comware Processor Discovery Hardware Info ( #7206 ) Added Extreme OS mapping to 'gen_rancid' ( #7261 ) Reverted previous active directory changes #7254 ( #7257 ) Fixed Avtech sensor discovery ( #7244 ) Corrected variable for timeout messages in unix-agent.inc.php ( #7246 ) Update notification for users with updates disabled ( #7253 ) Fixed the empty() vlan detection check ( #7241 ) Re-added changes for #6959 removed by accident in #7128 ( #7240 ) Issues with Geist Watchdog sensors Issues with Geist Watchdog miss-named variable in sensor pre-caching internal humidity and temperature was discovered twice humidity was mis-spelled in yaml discovery temperature and current had incorrect divisor in yaml Documentation Added new faq Why would alert un-mute itself? ( #7403 ) Added performance suggestion for 1min polling documentation Updated Distributed poller doc as rrdcached needs -R to work properly ( #7393 ) Updated docs to include installing xml php modules + updated validate ( #7349 ) Reorganize authentication documentation ( #7329 ) Update RRDCached.md to clarify version for client/server ( #7320 ) Elaborated on permission issues with dmidecode for snmp ( #7288 ) Update Distributed-Poller.md to remove distributed_poller_host Added debug to services.md ( #7238 ) Fixed API-Docs Link in webui ( #7242 ) Updated Services.md include chmod +x ( #7230 ) Refactoring Rewrite is_valid_port() ( #7360 ) rfc1628 sensor tidy up ( #7341 ) Added detection of vlan name changes ( #7348 ) Rewrite is_valid_port() ( #7337 ) Use the Config class includes/discovery ( #7299 ) Updated ldap auth to allow configurable uidnumber field ( #7302 ) Improve yaml state discovery ( #7221 ) Added IOS-XR Bundle-Ether shortened/corrected forms ( #7283 ) Devices Added basic detection for hanwha techwin devices ( #7397 ) Added sensor detection for APC In Row RD devices ( #7385 ) Added better hardware and version identification for SAF ( #7378 ) Added basic os for EricssonLG ES switches ( #7289 ) Updated Engenius OS detection ( #7365 ) Added detection for DPS Telecom NetGuardian ( #7326 ) Added support for Alpha FXM UPS devices ( #7324 ) Added detection for IgniteNet FusionSwitch devices Added support for A10 ACOS devices ( #7327 ) Added more detection for Cisco SB devices Added support for routeros to pull UPS info Added additional detection for Cisco small business switches ( #7317 ) Added sensor support for Himoinsa Gensets ( #7315 ) Added support for SmartOptics M-Series ( #7314 ) Added DHCP Leases Graph for Mikrotik ( #7333 ) Added support for Toshiba RemotEye4 devices ( #7312 ) Added additional Quanta detection ( #7316 ) Added additional detection for Calix devices ( #7325 ) Added detection for Himoinsa Gensets ( #7295 ) Added detection for ServerChecks ( #7308 ) Added support for Saf Integra Access points ( #7292 ) Added basic Open-E detection ( #7301 ) Updated Arista entity-physical support to use high/low values from device ( #7156 ) Added support for Mimosa A5 ( #7287 ) Updated state sensor code for Netonix Added support for Radware / AlteonOS OS/Mem/Proc ( #7220 ) Added support for DragonWave Horizon ( #7264 ) WebUI Updated alert rule collection to be table ( #7371 ) Show how long a device has been down if it is down ( #7336 ) Makes the .availability-label border-radius fit in with the border a bit better Added device description to overview page ( #7328 ) Greatly reduces application memory leak for dashboard ( #7215 ) API Added ability to supports CORS for API ( #7357 ) Added simple OSPF API route ( #7298 ) 1.31 (2017-08-26) Features Notify about failed updates, block detectable bad updates ( #7188 ) Improve install process ( #7223 ) Active Directory user in nested groups ( #7175 ) sysV init script for the IRC bot ( #7170 ) Create librenms-irc.service ( #7087 ) Forced OS Cache rebuild for unit tests ( #7163 ) New IP parsing classes. Removes usage of Pear Net_IPv4 and Net_IPv6. ( #7106 ) Added support to cisco sensors to link them to ports + macro/docs for alerting ( #6959 ) snmp exec support ( #7126 ) Bugfixes Updated dump_db_schema() to use default 0 if available ( #7225 ) Comware dBm Limits Comware Sensor Descr ( #7216 ) Update gen_rancid.php to the correct arista os name ( #7214 ) Use Correct Comware dBm Limits ( #7207 ) Correct memory calculation for screenos ( #7191 ) Cambium ePMP CPU reporting fix ( #7182 ) Send zero for fields without values for graphite ( #7176 ) Sanitize metric name before sending via graphite ( #7173 ) Fixed dump_db_schema / validate to work with newer versions of MariaDB ( #7162 ) Escape sensor_descr_fixed in dBm sensors graph ( #7146 ) Fixed issue with column size of ifTrunk ( #7125 ) Bug in ipv62snmp function ( #7135 ) Fixed Raspberry Pi sensors ( #7131 ) Check session directory is writable before install.php ( #7103 ) Raritan CPU temperature discovery ( #7130 ) Strip \" and / from snmpwalk_cache_oid() ( #7063 ) Fixed Raspberry Pi sensors support ( #7068 ) Added missing get_group_list() to ldap-authorization auth method ( #7102 ) Service warning/critical alert rules ( #7105 ) Added device status reason to up messages. ( #7085 ) Fix string quoting in snmp trim ( #7120 ) Fix missed call to removed is_ip function ( #7132 ) fix bugs introduced to address-search ( #7138 ) Update avaya-ers.inc.php ( #7139 ) Fix RPI frequency/voltage sensors ( #7144 ) Attempt to fix repeated sql issue we come across ( #7123 ) multiple fixes under agentStpSwitchConfigGroup in EdgeSwitch-SWITCHIN ( #7180 ) Fixed typo Predicated - Predicted (2 instances) ( #7222 ) Documentation Updated index page for new alerting structure ( #7226 ) Updated some old links for alerting ( #7211 ) Updated CentOS 7 + Nginx install docs ( #7209 ) Update CentOS 7 + Nginx install docs to set SCRIPT_FILENAME ( #7200 ) Update Component.md ( #7196 ) Update Two-Factor-Auth formatting ( #7194 ) Update IRC-Bot for systemd use ( #7084 ) Updated API docs formatting ( #7187 ) Updated alerting docs / formatting ( #7185 ) Swap mdx_del_ins with pymdownx.tilde ( #7186 ) Centralised the Metric storage docs ( #7109 ) Allow host renames with selinux enforcing for CentOS installs ( #7136 ) Update Using-Git.md ( #7178 ) Refactoring Use anonymous functions for debug error_handler and shutdown_function in index.php ( #7219 ) Updated validate.php to only warn users the install is out of date if 24 hours ( #7208 ) Udated edgecos OS polling ( #7149 ) Ability to edit default alert template ( #7121 ) Replace escapeshellcmd with Purifier in service checks ( #7118 ) Use ifName if ifDescr is blank #7079 Devices Stop discoverying frequencies on Raritan devices that do not exist + added voltage ( #7195 ) Added FDB and ARP support for edgeswitch devices ( #7199 ) Added additional sensor support for Sentry4 devices ( #7198 ) Added additional vlan support for Juniper devices ( #7203 ) Added Kemp LoadMaster Version Info ( #7205 ) Updated fans/temp detection for Brocade VDX devices( #7183 ) Added further sensor support for Geist Watchdog ( #7143 ) Added detection for Hitachi Data Systems SAN ( #7160 ) Udated edgecos OS polling to include more models Updated AKCP sensorProbe detection ( #7152 ) Added additional sensor support for Cisco ONS ( #7096 ) Added RSSI Support for Cisco IOS wireless devices ( #7147 ) Added support for Gude ETS devices ( #7145 ) Added support for Trango Apex Lynx OS ( #7142 ) Added dry contact state support for AKCP devices ( #7124 ) Added fan and temp sensor state discovery Avaya ERS ( #7134 ) Added support for Emerson energy systems ( #7128 ) Added detection for Alteon OS ( #7088 ) Added additional sensors for Microsemi PowerDsine PoE Switches ( #7114 ) Added detection for NEC Univerge devices ( #7108 ) Added VLAN discovery support for Avaya ERS devices ( #7098 ) Added ROS support for state sensors and system temps Removed check for switch model or firmware version for Avaya ERS switches Updated QNAP to include CPU temps ( #7110 ) Added basic VLAN disco support for Avaya-ERS switches ( #7098 ) Update ees.yaml to use correct overview graphs ( #7137 ) Update edgecos OS polling to include more models ( #7153 ) Added Raspbian Logo ( #7201 ) WebUI Added ability for users to configure selectable times for graphs ( #7193 ) Updated pi-hole graphs for better grouping ( #7179 ) Removed ability to use OR for generating rules ( #7150 ) Update avaya-ers to use ifName for displaying ( #7113 ) Security Security Patch to deal with reported vulnerabilties ( #7164 ) 1.30 (2017-07-27) Features Added script to test alerts ( #7050 ) Config helper to simplify config access ( #7066 ) Add timeout to AD auth, default is 5s ( #6967 ) Ignore web server log files ownership in validate ( #6943 ) Added new parallel snmp-scan.py to replace snmp-scan.php ( #6889 ) Add a new locking framework that uses flock. ( #6858 ) Support fdb table on generic devices ( #6902 ) Added support for sensors to be discovered from yaml ( #6859 ) Improved install experience ( #6915 ) Updated validate to detect lower case tables + added support for checking mariadb 10.2 timestamps ( #6928 ) Added support for sending metrics to OpenTSDB ( #7022 ) Further improvements and detection added to validate ( #6973 ) Added JIRA transport for alerts ( #7040 ) Log event if device polling takes too long ( #7065 ) Bugfixes Allow discovery of IAP radios on Aruba Virtual Controller Netbotz state sensors using wrong value ( #7027 ) Fixed Rittal LCP sensor divisors ( #7014 ) Set event type alert for alert log entries ( #7013 ) Fixed netman voltage and load divisor values ( #6905 ) Fixed the index for sentry3 current + updated mibs ( #6911 ) Fixed checks for $entPhysicalIndex/$hrDeviceIndex being numeric ( #6907 ) Fixed perf_times cleanup so it actually runs ( #6908 ) Updated sed commands to allow rrdstep.php to be used to increase and decrease values ( #6941 ) Fixed FabOS state sensors ( #6947 ) Fixed FDB tables multiple IPs and IPs from other devices adding extra rows ( #6930 ) Fixed bug get_graph_by_port_hostname() only searching hostnames ( #6936 ) Include state descriptions in eventlog ( #6977 ) Eltek Valere initial detection ( #6979 ) Fixed all mib errors in base mib directory ( #7002 ) Show fatal config.php errors on the web page. ( #7023 ) Define standard ups-mib divisors properly ( #6942 ) When force adding, use the provided snmp details rather than from $config ( #7004 ) Change .htaccess to compensate for Apache bug ( #6971 ) Use the correct high/high warn thresholds for junos dbm sensors ( #7056 ) Stop loading all oses when we have no db connection ( #7003 ) Restore old junos version code as a fallback ( #6945 ) Documentation Updated SNMP configuration Documentation ( #7017 ) A couple of small fixes to the dynamic sensor docs ( #6922 ) Update Rancid Integration Refactoring Use the new locks for schema updates ( #6931 ) Finish logic and definition separation for auth ( #6883 ) Added ability specify options for sensors yaml discovery ( #6985 ) Return more descriptive error when adding duplicate devices on sysName ( #7019 ) Devices Added additional PBN detection Added more support for APC sensors ( #7039 ) Added sensors for Mikrotik using mtxrOpticalTable + updated MIB ( #7037 ) Added additional sensors support for HP ILO4 ( #7053 ) Added wireless sensors for SAF Tehnika ( #6975 ) Added Calix AXOS/E5-16F Detection ( #6926 ) Added more sensor support for raritan devices ( #6929 ) Added ExtremeWireless support ( #6819 ) Added Rittal LCP Liquid Cooling Package ( #6626 ) Added Detect for Toshiba Tec e-Studio printers ( #6984 ) Added Valere system sensors and os detection ( #6981 ) Added Savin printer support ( #6982 ) Added sensor support for APC IRRP 100/500 devices ( #7024 ) Added additional sensors for APC IRRP100 Air Conditionner series ( #7006 ) Added detection for Gestetner printers ( #7038 ) Added FDB support for IOS-XE devices ( #7044 ) Added detection for Siemens Ruggedcom Switches ( #7052 ) Added CiscoSB Port Suspended Status Info ( #7064 ) Added CiscoSB DOM Support ( #7072 ) Added support for temp and processor discovery on Avaya ERS3500 ( #7070 ) Added detection for TSC Barcode printer ( #7074 ) Added state sensor for HPE MSL ( #7058 ) Added PBN AIMA3000 detection ( #7083 ) Updated UBNT Airos type to wireless ( #6867 ) Updated IOS-XE detection for 3000 series devices (like 3850) ( #6983 ) Updated JunOS os polling to detect version correctly ( #6904 ) Updated Radwin detection ( #6918 ) Updated Gamatronic ups use sysObjectID for os discovery ( #6940 ) Updated HPE MSM Support ( #7026 ) Updated powerwalker sensor discovery to use custom mib ( #7020 ) Updated Cisco IOS XE Version Parsing ( #7073 ) WebUI Facelift for alert templates, also added bootgrid ( #7041 ) Set correct button text when editing an alert template ( #6916 ) Minor visual changes in schedule maintenance window and its modal ( #6934 ) Fixed issues with http-auth when the guest user is created before the intended user ( #7000 ) Delhost: Added an empty option for device selection, and a minor db performance fix ( #7018 ) Loading speed improvement when viewing syslogs for specific device ( #7062 ) Security Enable support for secure cookies ( #6868 ) API Added api routes for eventlog, syslog, alertlog, authlog ( #7071 ) 1.29 (2017-06-24) Features New snmpwalk_group() function ( #6865 ) Added support for passing state to alert templates test Added option to specify transport when testing a template ( #6755 ) Added support to use IP addresses for NfSen filenames ( #6824 ) Added pi-hole application support ( #6782 ) Added some more coloring and make it easier to colorize messages for irc bot ( #6759 ) Added syslog auth failure to alert_rules.json ( #6847 ) Added support to use IP addresses for NfSen filenames ( #6824 ) Added Irc host authentication ( #6757 ) Added Syslog hooks for Oxidized integration (and more) ( #6785 ) Bugfixes config_to_json.php does not pull in database configuration settings ( #6884 ) Updated sysObjectId column in devices table to varchar(128) ( #6832 ) Strip \" from rPi temp sensor discovery ( #6815 ) Check for ifHCInOctets and ifHighSpeed before falling back to if\u2026 ( #6777 ) Updated Raspberry Pi Temp sensor discovery ( #6804 ) Fix bad Cisco dBm discovery on some IOS versions ( #6789 ) Ircbot - reformatted strikethrough for recovered alerts ( #6756 ) Ensure rrdtool web settings aren't overwrote by defaults ( #6698 ) Add column title under device bgp tab ( #6747 ) Custom config.php os settings ( #6850 ) Fix for syslog-messages from zywall (USG series) ( #6838 ) Documentation Reorganised alerting docs + added some clarifications ( #6869 ) Update Ubuntu and CentOS nginx install doc with a better nginx config ( #6836 ) Added note to configure mod_status for Apache application ( #6810 ) Updated ask people to contribute documentation ( #6739 ) Reorganize auto-discovery docs and add a little info ( #6875 ) Devices Added support for Radwin 5000 Series ( #6876 ) Added support for Chatsworth PDU (legacy old pdus not sure model number) ( #6833 ) Added detection for Microsemi PowerDsine PoE Midspans ( #6843 ) Added additional sensors to Axis camera ( #6827 ) Added Quanta lb6m device support ( #6816 ) Added hardware and version from AirOS 8.x ( #6802 ) Added support for processor and memory for 3com devices ( #6823 ) Added state sensors to HP Procurve ( #6814 ) Added detection for Atal Ethernetprobe ( #6778 ) Updated vmware vcsa hardware/version detection ( #6783 ) Added C.H.I.P. power monitor ( #6763 ) Updated cisco-iospri to check for numeric + named ifType and included new cisco mibs ( #6776 ) Added detection for Arris C4c ( #6662 ) Added Current Connections Graph for Cisco WSA ( #6734 ) Added detection for AXIS Audio Appliances ( #6830 ) Added basic support for CradlePoint WiPipe Cellular Broadband Routers ( #6695 ) Added Avaya VSP Temperature Support ( #6692 ) Added support for ADVA FSP150CC and FSP3000R7 Series ( #6696 ) Updated Oracle ILOM detection ( #6779 ) Added Cisco ASR, Nexus, etc. PSU State sensor ( #6790 ) Updated Cisco NX-OS detection ( #6796 ) Added more detection for Bintec smart devices ( #6780 ) Added support for Schneider PowerLogic ( #6809 ) Updated Cisco Unified CM detection and renamed to ucos ( #6813 ) Added basic Support for Benu OS ( #6857 ) WebUI Added \"system name\" for the \"Services list\" ( #6873 ) Allow editing and deleting of lapsed alert schedules ( #6878 ) Add bootgrid for authlog page, and fix poll-log searchbar layout on smaller screens ( #6805 ) Updated all tables to have the same set number of items showing ( #6798 ) Allow iframe in notes widget ( #6773 ) Load google maps js library only if globe map widget is used Added service alert rules ( #6772 ) Added syslog auth failure to alert_rules.json ( #6847 ) Fixed dashboard slowness with offline browser ( #6718 ) Update graphs to use safer RRD check ( #6781 ) Populate a sorted device list ( #6781 ) Alerts Added elasticsearch transport and docs ( #6797 ) Update irc transport to use templates ( #6758 ) API Added search by os to list_devices ( #6861 ) Refactor Discovery code cleanups ( #6856 ) 1.28 (2017-05-28) Features Update Juniper MSS Support ( #6565 ) Added ability to whitelist ifDescr values from being ignored with good_if ( #6584 ) Added additional Unbound chart for query cache info ( #6574 ) Wireless Sensors Overhaul ( #6471 ) Updated BIND application ( #6218 ) Added script (scripts/test-template.php) to test alert templates ( #6631 ) Improve Juniper MSS Support ( #6565 ) Bugfixes Added dell to mib_dir for windows / linux ( #6726 ) Fix marking invalid ports as deleted in discovery ( #6665 ) Improve authentication load time and security ( #6615 ) Page/graph load speed: part 1 ( #6611 ) Fixed radius debug mode ( #6623 ) Actives PRI calls on Cisco can be an array ( #6607 ) MySQL app graphs with rrdcached ( #6608 ) Fix issue with wireless sensors when there are too many oids ( #6578 ) Fix GE UPS voltage factor ( #6558 ) Try to fix load for eaton-mgeups ( #6566 ) Validate prefer capabilities over suid for fping ( #6644 ) When force adding devices with v3, actually store the details ( #6691 ) Fixed uptime detection ( #6705 ) Documentation Create code of conduct page ( #6640 ) Add all current wireless types. ( #6603 ) Added seconds is the time unit. ( #6589 ) Refactoring Added lock support to ./discovery.php -h new to prevent overlap ( #6568 ) OS discovery tests are now dynamic ( #6555 ) DB Updates will now file level lock to stop duplicate updates ( #6469 ) Increased speed of loading syslog pages ( #6433 ) Moved default alert rules into the collection ( #6621 ) Modest speedup to database config population ( #6636 ) Pretty mysql for alerts breaks regex rules ( #6614 ) Updated vlan discovery to support JunOS ( #6597 ) Devices Added Wireless Support For Cisco IOS-XE( #6724 ) Improve Aerohive Support ( #6721 ) Added support for Halon Gateway ( #6716 ) Added basic HPE OpenVMS detection ( #6706 ) Added additional sensor state sysCmSyncStatusId for F5 Added more health information for APC units ( #6619 ) Updated Lancom LCOS detection ( #6651 ) Added 3 Phase APC UPS Support #2733 #5504 ( #5558 ) Added FWSM recognition to PIX OS ( #6569 ) Aruba Instant AP wireless sensor support (Freq, NoiseFloor, Power, Util) ( #6564 ) Added CPU and Memory pool for BDCom Switchs ( #6523 ) Added support for Aruba ClearPass devices ( #6528 ) Added support for Cisco's AsyncOS ( #6545 ) Added support for AKCP SecurityProbe ( #6550 ) Added support for GE UPS (#6549) ( #6553 ) Improve Extremeware and XOS detection ( #6554 ) Added more sensors for Exalt ExtendAir devices ( #6531 ) Added support for Terra sti410C ( #6598 ) Make TiMOS detection more generic, rebrand to Nokia ( #6645 ) Added HPE RT3000 UPS support ( #6638 ) Added Enhance Barracuda NG Firewall Detection ( #6658 ) Added support for Geist PDU ( #6646 ) Improved Lancom LCOS detection, added LCOS-MIB ( #6651 ) Added Basic Cisco SCE Support ( #6666 ) Added support for MRV OptiDriver Optical Transport Platform ( #6656 ) Update comware version and serial number polling ( #6686 ) Added TiMOS temperature and power supply state sensors ( #6657 ) Added state support FAN and Power Supply for Avaya VSP ( #6693 ) Added detection for Cisco EPC devices ( #6690 ) Added Wireless Support For Cisco IOS-XE ( #6724 ) WebUI Make login form more mobile-friendly ( #6707 ) Updated link to peeringdb to use asn ( #6625 ) Disabled settings button for Shared (read) dashboards if you are not the owner ( #6596 ) Split apart max and min sensor limits, allows sorting ( #6592 ) Load device list for dropdowns using Ajax ( #6557 ) Updated remaining display options where we do not show sysName if hostname is IP ( #6585 ) Security Remove possibility of xss in Oxidized and RIPE searches ( #6595 ) Alerting Added option to enable/disable option for sending alerts to normal users ( #6590 ) Added HipChat v2 API + Color Changes ( #6669 ) 1.27 (2017-04-29) Features Added sdfsinfo application support ( #6494 ) Allow _except suffix in yaml os discovery ( #6444 ) Added check_mssql_health.inc.php for service checks ( #6415 ) Added rrdtool version check to compare installed version with defined version ( #6381 ) Added ability to validate database schema ( #6303 ) Support powerdns-recursor SNMP extend ( #6290 ) Added cisco-vpdn to poller modules ( #6300 ) Support non-standard unix socket ( #5724 ) Added multi DB support to the Postgres app ( #6222 ) Added opengridscheduler job tracker ( #6419 ) Added location map regex replace pattern only ( #6485 ) Added nfs-server application ( #6320 ) Added support for Active Directory bind user ( #6255 ) Bugfixes Actually reload oxidized when we should not when we think we should ( #6515 ) Don't run ipmitool without knowing a type ( #6504 ) Updated ipv4/ipv6 discovery to exclude IPs with invalid port_ids ( #6495 ) Updated enterasys mempools disco/polling to support multiple ram devices ( #6458 ) Service filenames are snipped when longer than 16 characters ( #6459 ) Updated use of ifNameDescr() to cleanPort() ( #6454 ) Allow line returns in snmprec files with the 4x data type ( #6443 ) Update Shebangs and daily.sh for FreeBSD compatibility ( #6413 ) Cisco Entity Sensor Threshold's returns 0 ( #6440 ) Updated enterasys proc discovery by setting correct index ( #6422 ) Allow unit tests without a sql server ( #6398 ) Fix broken mysql application polling ( #6317 ) Move user preferences dashboard and twofactor out of users table ( #6286 ) Fixed CPU/Mem polling for Cyberoam-UTM devices ( #6315 ) Fixed F5 ports not using hc counters ( #6294 ) Added semicolons in build.sql schema file ( #6284 ) Fixed height of widget boxes ( #6282 ) Update applications poller to use numeric oid instead of nsExtendOutputFull ( #6277 ) Compare existing device ip to host lookup like for like ( #6316 ) Fix whitespace display on RRDTool Command ( #6345 ) Vlan port mappings not removed ( #6423 ) Fix alerts not honouring interval over 5m ( #6438 ) Improve CiscoSB polling time ( #6447 ) Updated cisco and juniper component macros to exclude disabled sensors ( #6493 ) Added more safety checking into create_state_index() ( #6516 ) Fixed inconsistent device discovery ( #6518 ) Fixed notifications by email to Active Directory admins ( #6134 ) Fixed API token for Active Directory admins ( #6255 ) Documentation Added FAQ on what disabled/ignored means for devices Updated install docs + perf to support compressing file types and using http/2 ( #6466 ) Update install docs to remove deprecated GRANT usage Update to remove the old method of signing the CLA ( #6479 ) Updated Support-New-OS doc to provide clearer information ( #6492 ) Refactoring Use sysDescr to simplify the vyatta detection ( #6455 ) Move siklu os detection to yaml ( #6431 ) Move rfc1628_compat into os yaml ( #6424 ) Move Engenius discovery to yaml ( #6428 ) Move cometsystem-p85xx ( #6427 ) Update some snmpwalks for ports polling to improve speed ( #6341 ) Moved ifLabel - cleanPort and updated the usage ( #6288 ) Update ucd-diskio discovery to use index + descr as unique identifies #4670 ( #6270 ) Changed MGE UPS to APC UPS (mgeups - apc) ( #6260 ) Change Cisco UCM category from tele to collaboration ( #6297 ) Move aos discovery to yaml ( #6425 ) Move the rest of avaya os detection to yaml ( #6426 ) Move cometsystem-p85xx to yaml ( #6427 ) Move Engenius discovery to yaml ( #6428 ) Added 'Video' device group and moved Axis cameras to this group' ( #6397 ) Remove unecessary OS checks in proc / mem polling ( #6414 ) Only run pre-cache for the current OS ( #6453 ) Move ios detection to yaml using new sysDescr_except ( #6460 ) Eaton/MGE UPS reorganization ( #6388 ) Devices Added more health sensors for c c power commanders ( #6517 ) Added support for Tycon Systems TPDIN units ( #6506 ) Added basic detection for Packetflux SiteMonitor ( #6498 ) Added detection for Ericsson UPC devices ( #6472 ) Added basic detection for Geist Watchdog ( #6467 ) Added support for enLogic PDUs ( #6464 ) Added support for Eltex OLT devices ( #6457 ) Added Etherwan managed switches ( #6488 ) Added signal sensor for opengear devices ( #6401 ) Added support for Teradici PCoIP card ( #6347 ) Added basic support for Omnitron iConverters ( #6336 ) Added support for AvediaStream Encoder ( #6306 ) Added ArubaOS PowerConnect detection ( #6463 ) Added HPE iPDU detection ( #6334 ) Moved dnos health disco to powerconnect ( #6331 ) Added Nokia (Alcatel-Lucent) SAS-Sx 7210 support ( #6344 ) Added Opengear ACM7008 detection ( #6349 ) Added detection fro Juniper MSS ( #6335 ) Added sensors + additional info for HPE iPDU ( #6382 ) Added Basic Ciena (Cyan) Z-Series detection ( #6385 ) Added Coriant Network Hardware Page. ( #6187 ) Added support for Vanguard ApplicationsWare ( #6387 ) Added ICT Digital Power Supply support ( #6369 ) Added ICT DC Distribution Panel support ( #6379 ) Added more detection for Comware ( #6386 ) Added Multi-lane optics on Juniper equipment ( #6377 ) Added detection and sensor support for EMC OneFS v8 ( #6416 ) Added detection for IgniteNet HeliOS ( #6417 ) Added basic detection for Tandberg Magnum tape units ( #6421 ) Added detection for Ciena packet switches ( #6462 ) Added Cisco SG355-10P support ( #6477 ) Added mem/cpu support for TiMOS ( #6483 ) Added support for C C Commander Plus units ( #6478 ) Added Equallogic add disk status ( #6497 ) WebUI Updated bgp table to use bootstrap properly ( #6406 ) Update poller_modules_perf to not show OS disabled module graphs ( #6276 ) Select the correct dashboard when there are no defaults. ( #6339 ) Fix redirect on login for instances behind reverse proxies ( #6371 ) Fixed the display date for the current version ( #6474 ) API Allow cidr network searches of the ARP table ( #6378 ) 1.26 (2017-03-25) Features Added syslog alert transport ( #6246 ) Send collected data to graphite server ( #6201 ) Added SMART application support ( #6181 ) Peeringdb integration to show the Exchanges and peers for your AS' ( #6178 ) Added support for sending alerts to Telegram #2114 ( #6202 ) Added pbin.sh to upload text to p.libren.ms ( #6175 ) Added better BGP support for Arista ( #6046 ) Added rrd step conversion script ( #6081 ) Store the username in eventlog for any entries created through the Webui ( #6032 ) Added Nvidia GPU application support ( #6024 ) Added Squid application support ( #6011 ) Added FreeBSD NFS Client/Server application support ( #6008 ) Added get_disks function ( #6058 ) Updated Nfsen integration support ( #6003 ) Added Basic Oxidized Node List ( #6017 ) Added support for dynamic interfaces in ifAlias script ( #6005 ) Added support Postfix application ( #6002 ) Added Postgres application support ( #6004 ) Added ability to show links to fixes for validate ( #6054 ) Added FreeBSD NFS Client/Server application support ( #6008 ) Added Squid application support ( #6011 ) Added Nvidia GPU application support ( #6024 ) Added app_state support for applications #5068 ( #6061 ) Send default mail when no email destinations found ( #6165 ) Added new alert rules to collection ( #6166 ) Added SMART app support ( #6181 ) Added Application discovery ( #6143 ) Added syslog alert transport and docs ( #6246 ) Bugfixes Clear out stale alerts ( #6268 ) Remove min value for ntp* graphs #6240 Alerts that worsen or get better will now record updated info #4323 ( #6203 ) Do not show overview graphs when user only has port permissions for device ( #6230 ) Yaml files for edgeos and edgeswitch ( #6208 ) Fix Liebert humidity and temp sensors #6196 ( #6198 ) Graphs $auth check was too strict ( #6195 ) Alter the database to set the proper character set and collation ( #6189 ) Wrong NetBotz file location ( #6188 ) Change rfc1628 'state' (est. runtime and on battery) to runtime ( #6158 ) Fix the displaying of alert info for historical alerts #6092 ( #6107 ) Record actual sensor value for unix-agent hddtemp #5904 ( #6089 ) Ping perf is in milliseconds, not seconds ( #6140 ) SVG scaling issues in Internet Explorer ( #6021 ) Old / duplicate sensors would never be removed, this is fixed by setting the $type correctly #6044 ( #6079 ) Refactor ipoman cache code to use pre-cache in sensors #5881 ( #5983 ) Fixed the previous graphs for diskio/bits #6077 ( #6083 ) Update OSTicket transport to use the from email address #5739 ( #5927 ) Do not try and only include files once when they are needed again! ( #5881 ) Correct the use of GetContacts() #5012 ( #6059 ) Netonix: properly set default fanspeed limits ( #6144 ) Fix Generex load sensor divisor ( #6155 ) Sensors not being removed from database ( #6169 ) Updated http-auth to work with nginx http auth #6102 ( #6174 ) Change rfc1628 'state' (est. runtime and on battery) to runtime ( #6158 ) Documentation Renamed the mysql extend script to just mysql ( #6126 ) Refactoring Move some DNOS detection to PowerConnect #6150 ( #6206 ) Rename check_domain_expire.inc.php to check_domain.inc.php ( #6238 ) Further speed improvements to port poller ( #6037 ) Devices Added Rx levels on Ubiquiti Airfibre ( #6160 ) Added detection for Hirschmann Railswitch #6161 ( #6207 ) Support for Netscaler SDX appliances ( #6249 ) Added discovery of Cyclades ACS ( #6234 ) Added additional sensors for Liebert / Vertiv #5369 ( #6123 ) Added state detection for Dell TL4k #2752 Added support for Cyberpower PDU ( #6013 ) Added support for Digipower PDU ( #6014 ) Basic Lantronix UDS support ( #6042 ) Added detection for more Dell switches ( #6048 ) Added HPE Comware Processor Discovery ( #6029 ) Added Basic FortiWLC Support ( #6016 ) Added support for F5 Traffic Management Module mempool ( #6076 ) Added new Planet switch ( #6085 ) Added state detection for Dell TL4k ( #6094 ) Added extrahop detection ( #6097 ) Updated 3com switch detection ( #6114 ) Improved APC NetBotz Support ( #6157 ) Added state support for HP servers #5113 ( #6124 ) Added Coriant support ( #6026 ) Basic Zebra Print Server detection ( #6162 ) Added state sensor support for RFC1628 UPS ( #6153 ) Added APC NetBotz State Sensor Support ( #6167 ) Updated Sonus SBC os detection #6241 ( #6243 ) Added discovery of Cyclades ACS 6000 ( #6234 ) WebUI Do not show disabled devices in alerts list as they stale #6213 ( #6263 ) Create correct link for BGP peers #5958 Update device overview to not show hostname when certain conditions match #5984 ( #6091 ) Display sysnames/hostnames instead of ip addresses #4155 Fix BGP Icon for global search #6031 Generex: more helpful overview graphs ( #6154 ) Added ability to set warning percentage for CPU and mempools ( #5901 ) Stop autorefresh on bill edit page #6182 ( #6193 ) Allow remember_token to be null ( #6231 ) Set the from / to for graphs in the devices list #6262 ( #6264 ) Security Stop multiport_bits_separate graphs for showing regardless of auth #6101 ( #6109 ) API Expose ports in API requests for bills ( #6069 ) Added new route for multiport bit graphs + asn list_bgp filter ( #6129 ) 1.25 (2017-02-26) Features Add fail2ban application support ( #5924 ) Add additional service checks ( #5941 ) Added phpunit db setup tests ( #5594 ) Updated rrdcached stats app to support Fedora/Centos ( #5768 ) Added Cisco Spark Transport #3182 Rancid config file generator ( #5689 ) Added Rocket.Chat transport #5427 Added SMSEagle transport #5989 Added generic hardware rewrite function Collect sysDescr and sysObjectID for stats to improve os detection ( #5510 ) Update Debian's guestId for VMware ( #5669 ) Allow customisation of rrd step/heartbeat when creating new rrd files ( #5947 ) Added ability to output graphs as svg ( #5959 ) Improve ports polling when ports are still down or marked deleted ( #5805 ) Bugfixes Syslog, pull out pam program source ( #5942 ) Load wifi module for sub10 OS ( #5963 ) Show sysName on network map when ip_to_sysname enabled ( #5962 ) Exim queue graph ( #5945 ) Updated qnap sensor code to be more generic #5910 ( #5925 ) Remove the non-functional buttons for non-admins in devices/services ( #5856 ) Various variables will all be updated if they are blank #5811 ( #5836 ) Patch generic_multi graph to fix legend overflow #5766 Update lmsensors temp sensors to support 0c values so they do not get removed #5363 ( #5823 ) Update macros with / in to have spaces ( #5741 ) Added the service parameter to checks that were missing it ( #5753 ) Ignore ports where we only have two entries in the array, this signals bad data #1366 ( #5722 ) Fixed system temperature from ipmi descr including a space at the end Incorrect hostname in the mouse-over of the services in the availability-map #5734 Mono theme panel headers black ( #5705 ) Make about page toggle look better for zoomed in browsers #5219 ( #5680 ) Ignore toners with values -2 which is unknown #5637 ( #5654 ) Check lat/lng are numeric rather than !empty #5585 ( #5657 ) Fix device edit health update icons ( #5996 ) Service module has conflicted configuration files ( #5903 ) addhost.php throw proper exception when database add fails ( #5972 ) Fix snmpbulkwalk in ifAlias script ( #5547 ) Arista watts to dbm conversion ( #5773 ) Poll DCN stats using OIDS ( #5785 ) Updated qnap sensor code to be more generic ( #5229 ) Documentation Update Applications to use correct link for exim-stats ( #5876 ) Added info on using munin scripts #2916 ( #5871 ) Configuring SNMPv3 on Linux Updated example for using bad_if_regexp #1878 ( #5825 ) Update Oxidized integration to show example of SELinux setup Update Graylog docs to clarify ssl and hostname use Refactoring Centralise device up/down check and use in disco #5862 ( #5897 ) Convert Hikvision discovery to yaml ( #5781 ) Various Code Cleanup ( #5777 ) Updated storing of sensors data to be used in unix-agent #5904 Refactor sensor discovery ( #5550 ) Devices Add Eaton UPS Charge Sensor ( #6001 ) Added CPU and memory for Entera devices #5974 Added SEOS CPU discovery #5917 Added further detection for CiscoSB (ex Linksys) devices ( #5922 ) Updated ibmnos support for Lenovo branded devices #5894 ( #5920 ) Initial discovery for Vubiq Haulpass V60s #5745 Added further QNAP Turbo NAS detection #5229 ( #5804 ) Added support for Fujitsu NAS devices #5309 ( #5816 ) Added proc, mem and sensor support for FabricOS #5295 ( #5815 ) Added further support for Zynos / Zyxell devices #5292 ( #5814 ) Added more Netgear detection #5789 Updated DCN serial/hardware/version detection #5785 Add F5 Hardware and S/N detection ( #5797 ) Improved Xerox discovery ( #5780 ) Improved Mikrotik RouterOS and SwOS detection ( #5772 ) Improved Pulse Secure detection ( #5770 ) Improved Lancom device detection ( #5758 ) improved Brocade Network OS detection ( #5756 ) improved Dell PowerConnect discovery ( #5761 ) Improved HPE Procurve/OfficeConnect discovery ( #5763 ) Improved Zyxel IES detection ( #5751 ) Improved Fortinet Fortiswitch detection ( #5747 ) Improved Brocade Fabric OS detection ( #5746 ) Added support for HPE ILO 4 ( #5726 ) Added serial, model and version support for HPE MSL ( #5667 ) Added support for Kemp Loadbalancers ( #5668 ) Additional TPLink JetStream support ( #5909 ) Additional detection for Dasan devices ( #5711 ) Added initial support for Meinberg LANTIME OS v6 ( #5719 ) Added support for Zyxel XS ( #5730 ) Added support for Exterity AvediaPlayer ( #5732 ) Added detection for OpenGear ( #5744 ) Improved support for TiMOS (Alcatel-Lucent) switches ( #5533 ) Improved Raritan detection ( #5771 ) Added Kyocera Mita support ( #5782 ) Added detection for Toshiba TEC printer's ( #5792 ) Added support for Cyberoam UTM devices ( #5542 ) Improved hardware detection for Xerox ( #5831 ) Added further sensor support for APC units ( #2732 ) Added detction for Mellanox i5035 infiniband switch ( #5887 ) Added detection for Powerconnect M8024-k ( #5905 ) Added detection for HPE MSA storage ( #5907 ) WebUI Update services pages New Cumulus Logo ( #5954 ) Added link to APs for alert details #5878 ( #5898 ) Set the device logo and cell to have a max width ( #5700 ) New eventlog severity classification ( #5830 ) Update Zyxel image (os/logos to .svg) ( #5855 ) Remove the non-functional buttons for non-admins in services ( #5833 ) Remove the ability to activate statistics for non-admins ( #5829 ) Add SVG logo/os icon for Generex UPS ( #5827 ) urldecode device notes #5110 ( #5824 ) Replace Ntp with NTP in Apps menu ( #5791 ) Adding text logo to HPE logo ( #5728 ) Only show sysName once if force_ip_to_sysname is enabled #5600 ( #5656 ) Add $config['title_image'] in doc and use it also for login screen ( #5683 ) Update create bill link to list bill or list bills depending on if port exists in bills #5616 ( #5653 ) Remove ifIndex for ports list but add debug button to show port info ( #5679 ) API Added the ability to list devices by location in the api ( #5693 ) IP and Port API additions ( #5784 ) Limit get_graph_by_port_hostname() to one port and exclude deleted ( #5936 ) 1.24 (2017-01-28) Features Basic Draytek Support ( #5625 ) Added additional information to Radwin discovery. ( #5591 ) Added Serial number support for Mikrotik Devices ( #5590 ) Support large vendor logos ( #5573 ) Added pre-commit git script to support failing fast Added basic recurring maintenance for alerts #4480 Added check for if git executable ( #5444 ) Oxidized basic config search ( #5333 ) Add support for SVG images ( #5275 ) Add mysql failed query logging + fixed queries that break ONLY_FULL_GROUP_BY ( #5327 ) Bugfixes Logo scalling to support squarish logos ( #5647 ) top-devices widget now will honour for ip to sysName config #5388 ( #5643 ) Remove duplicate hostnames in arp search box #5631 ( #5641 ) Alert templates designer now fixed #5636 ( #5638 ) Update ifAlias script to deal with GRE interfaces ( #5546 ) Allow invalid hostnames during discovery when discovery_by_ip enabled #5525 Stop creating dashboards when user has a default that no longer exists #5610 ( #5613 ) Fix Riverbed optimization polling ( #5622 ) Html purify init wasn't done always when it was used ( #5626 ) Fixed FreeNAS detection #5518 ( #5608 ) Add extra check to Junos DOM discovery ( #5582 ) HTML Purifier would create tmp caches within the vendor folder, moved to users tmp dir #5561 ( #5596 ) PHP 7.1 function usages with too few parameters ( #5588 ) Fixed graphs for services not working ( #5569 ) Fix broken netstats ip forward polling ( #5575 ) Support hosts added by ipv6 without DNS #5567 Changing device type now is persistant ( #5529 ) Fixed JunOS bgpPeers_cbgp mistakenly removed + better support for mysql strict mode #5531 ( #5536 ) Allow overlib_link to accept a null class #5522 Stop flattening config options added in config.php ( #5493 ) Stop flattening config options added in config.php ( #5491 ) ospf polling, revert set_numeric use ( #5480 ) Updated prestiage detection #5453 ( #5470 ) Validate suid is set for fping ( #5474 ) Add missing ups-apcups application poller #5428 Linux detect by oid too ( #5439 ) APC -1 Humidity Sensor Value #5325 ( #5375 ) Fix sql errors due to incorrect cef table name #5362 Detection blank or unknown device types and update #5412 ( #5414 ) Unifi switch detection ( #5407 ) Detect device type changes and update #5271 ( #5390 ) Typo in IBM icon definition ( #5395 ) Don't support unifi clients that don't report data ( #5383 ) Fix Oxidized Config Search Output ( #5382 ) Added support for autotls in mail transport #5314 validate mysql queries ( #5365 ) OS type and group not being set ( #5357 ) Stop logging when a vm no longer is on the host being polled ( #5346 ) Dark/mono logo was incorrect ( #5342 ) Specify specific mkdocs version ( #5339 ) Correct icon for ciscosb ( #5331 ) Correction on addHost function to handle the force_add parameter in api ( #5329 ) Mikrotik cpu detection ( #5306 ) Do not use generic icon by default ( #5303 ) Update jpgraph source file to remove check for imageantialias() #5282 ( #5284 ) APC PDU2 Voltage Discovery ( #5276 ) Empty mac adds an entry to the arp table ( #5270 ) Restrict inventory api calls to the device requested ( #5267 ) Documentation Mikrotik SNMP configuration example ( #5628 ) Add logrotate config and update install docs ( #5520 ) Added an example hardware doc for people to show what they have ( #5532 ) Added faq info on realStorageUnits ( #5513 ) Update Installation-Ubuntu-1604-Nginx.md to remove default nginx site config Updated RRDCached doc for Debain Jessie installation ( #5380 ) Updated os update application Added more info in to the github issue template ( #5370 ) Update Installation-Ubuntu-1604-Nginx.md to correct snmpd.conf location Update installation documentation on Ubuntu 16.x and CentOS 7 to use systemd ( #5324 ) Update Centos 7 nginx install steps ( #5316 ) Added section on smokeping and rrdcached use Refactoring Update collectd functions.php to use non-conflict rrd_info function #5478 ( #5642 ) Updated some default disco/poller modules to be disabled/enabled ( #5564 ) Added config option for database port ( #5517 ) Move HTMLPurifier init to init.php so we only create one object. ( #5601 ) Disable unused Cisco WAAS modules ( #5574 ) Some more os definition changes ( #5527 ) Changed Redback to SEOS, and added logo and temperature discovery #5181 Move some os from linux and freebsd discovery files to yaml ( #5429 ) MySQL strict and query fixes ( #5338 ) Sophos discovery to yaml ( #5416 ) Move include based discovery after yaml discovery ( #5401 ) Moved simple os discovery into yaml config ( #5313 ) Move mib based polling into yaml config files ( #5234 ) Use Composer to manage php dependencies ( #5216 ) Devices Added further support for Canon printers #5637 ( #5650 ) Updated generex ups support #5634 ( #5640 ) Added detection for Exinda #5297 ( #5605 ) Added additional sensor support for PowerWalker devices #5080 ( #5552 ) Added support for Brocade 200E ( #5617 ) Improve CiscoSB detection #5511 Added further detection for DCN devices #5519 ( #5609 ) Added support for Zhone MXK devices #5554 ( #5611 ) Added more detection for Procurve devices #5422 ( #5607 ) Updated detection for Dasan NOS devices #5359 ( #5606 ) Added support MGEUPS EX2200 #3364 ( #5602 ) Improve Cisco ISE detection ( #5578 ) Updated akcp discovery definition #5396 ( #5501 ) Add detection for radwin devices Update zywall and zyxelnwa detection #5343 Added support for Ericsson ES devices #5195 ( #5479 ) Add support for DocuPrint M225 ( #5484 ) Added Dell B5460dn and B3460dn printer support ( #5482 ) Added signal support for RouterOS ( #5498 ) Added additional sensor support for Huawei VRP #4279 Added loadbalancer information from F5 LTM ( #5205 ) APC Environmental monitoring units #5140 Add support for KTI switches ( #5413 ) Detect all CTC Union devices ( #5489 ) Add addition riverbed information #5170 Added support for CTC Union devices ( #5402 ) Add wifi clients for Deliberant DLB APC Button, DLB APC Button AF and DLB APC 2mi #5456 Added Tomato and AsusWRT-Merlin OS #5254 ( #5398 ) Detect Fiberhome AN5516-04B Improve Checkpoint Discovery ( #5334 ) APC in-row coolers Added additional detection for Dell UPS ( #5322 ) added more support for dasan-nos ( #5298 ) Added support for Dasan NOS #5179 + disco change ( #5255 ) Edge core OS ECS3510-52T ( #5286 ) Basic Dell UPS Support #5258 Basic Fujitsu DX Support #5260 WebUI Final Font Awesome conversion ( #5652 ) Added ?ver=X to LibreNMS style sheets so we can force refreshes in future ( #5651 ) New generic os SVG icon ( #5645 ) New LibreNMS logo assets ( #5629 ) Center device icons. Keep device actions at two rows ( #5627 ) Additional Font Awesome icons ( #5572 ) Allows one to view a map of the SNMP location set for a device ( #5495 ) Update health menu icons Updated icons to use Font Awesome ( #5468 ) Allow billing to use un-auth graphs ( #5449 ) Update Font Awesome to 4.7.0 ( #5476 ) Update add/edit user page to use their instead of his #5457 ( #5460 ) Fix Ports Table AdminDown Search ( #5426 ) Disabled editing device notes for non-admin users ( #5341 ) Small Best Practice Fixes 1.23 (2017-01-01) Features Add nagios check_procs support ( #5214 ) Added support for sending email notifications to default_contact if updating fails ( #5026 ) Enable override of $config values set in includes/definitions.inc.php ( #5096 ) Add APC UPS battery replacement status #5088 Bugfixes APC PDU2 Voltage Discovery ( #5276 ) Empty mac adds an entry to the arp table ( #5270 ) Restrict inventory api calls to the device requested ( #5267 ) Update any IP fields using inet6_ntop() #5207 Fixed passing of data to load_all_os() function ( #5235 ) Support columns filter in get_port_stats_by_port_hostname api call ( #5230 ) Restore usage of -i -n in polling ( #5228 ) Empty routing menu where only CEF is present ( #5225 ) Added service params for check_smtp ( #5223 ) Misc warning fixes in mib polling ( #5222 ) Added service params for check_imap ( #5213 ) Execute commands using the numeric conventions of the C locale. ( #5192 ) Remove usage of -CI, it is not allowed for snmpbulkwalk #5164 Update F5 fanspeed discovery ( #5200 ) Fix state_indexes for state overview sensors ( #5191 ) Better Cisco hardware formatting ( #5184 ) Cisco hardware name detection ( #5167 ) Changed sql query for state sensors on device overview page to ignore null sensor_id ( #5180 ) daily.sh install path ( #5152 ) Cleanup printing ifAlias ( #4874 ) Fixed broken http-auth auth module #5053 ( #5146 ) Fix get_port_stats_by_port_hostname() to only return non-deleted ports #5131 Stop openbsd using snmpEngineTime ( #5111 ) Update raspberrypi sensor discover to check for sensor data ( #5114 ) Add check for differently named Cisco Power sensor ( #5119 ) Ability to detect Cisco ASA version when polling a security context ( #5098 ) Fixed setting userlevel for LDAP auth #5090 Arp-table uses array_column() breaking discovery on php =5.4 ( #5099 ) Allow html but not script, head and html tags in notes widget #4898 ( #5006 ) Documentation Updated rrdcached docs to include Ubuntu 16.x ( #5263 ) Updated Oxidized.md ( #5224 ) Removed mailing list in various places + small improvements to docs ( #5154 ) Added Remote monitoring using tinc VPN ( #5122 ) Added documentation on securing rrdcached. ( #5093 ) Adding how to configure HPE 3PAR to documentation ( #5087 ) Fixed example timezones ( #5083 ) Refactoring Removed and moved more mibs ( #5232 ) Move OS definitions into yaml files ( #5189 ) Updated Ups nut support Mibs E-G ( #5190 ) Moved / deleted mibs A-D ( #5173 ) Updated location of mibs starting with S ( #5142 ) Update some devices to disable poller/disco modules by default ( #5010 ) More Cisco ASA Polling Performance Improvements ( #5104 ) Moved mibs T-U (or removed) where possible ( #5013 ) Devices Lancom wireless devices ( #5237 ) Added additional detection for Cisco WAP 321 #5172 ( #5248 ) Added support for TPLink JetStream #5194 ( #5249 ) Added HPE MSL support #5072 ( #5239 ) Added support for DCN switches #5031 ( #5238 ) Added support for Cisco APIC devices ( #5236 ) Zyxel ZyWALL Improvement #5185 Added CPU detection for Zyxel GS2200-24 ( #5218 ) removed all references to 'multimatics' and instead added generex OS Added additional support for F5 BigIP LTM objects Added additional support for Synology dsm ( #5145 ) Add OS Detection support for Alcatel-Lucent/Nokia ESS 7450 Ethernet service switch #5187 Added Bluecoat ProxySG Support ( #5165 ) Added support for Arris CMTS ( #5143 ) Added os Discovery for Brocade NOS V4.X and below. ( #5158 ) Added support for Mirth OS #2639 Juniper SA support #4328 Added support for Zyxel MES3528 ( #5120 ) Add more Edge core switches Add support for Ubiquiti EdgePoint Switch models ( #5079 ) WebUI Standardised all rowCount parameters for tables ( #5067 ) Security Update PHPMailer to version 5.2.19 ( #5253 ) v1.22.01 (2016-11-30) Bugfixes arp-table uses array_column() breaking discovery on php =5.4 ( #5099 ) v1.22 (2016-11-25) Features validate list devices that have not been polled in the last 5 minutes or took more than 5 minutes to poll ( #5037 ) Add Microsoft Teams Alert Transport ( #5023 ) Added formatted uptime value for alert templates #4983 Adds support for enabling / disabling modules per OS ( #4963 ) Improve Dell OpenManage Discovery ( #4957 ) Added the option to select alert rules from a collection Bugfixes use password type for SMTP Auth #5051 Added alert init module to ajax_form #5058 eventlog type variable collision ( #5046 ) Fixed loaded modules for ajax search ( #5043 ) timos6-7 snmprec file error ( #5035 ) Strip out \" returned from Proxmox application #4908 ( #5003 ) Used correct variable for displaying total email count in alert capture ( #5022 ) Cisco ASA Sensor Discovery, use correct variable ( #5021 ) Stop service modal form disabling services for read-only admin ( #4994 ) dbUpdate calls now check if it is 0 or above ( #4996 ) Links on devices graphs page to take users straight to specific graph page ( #5001 ) Fixed poweralert discovery, check is now case insensitive ( #5000 ) Daily.sh log_dir failed when install_dir and log_dir were not set ( #4992 ) Merge pull request #4939 from laf/issue-4937 Remove service type from uniform display ( #4974 ) Fixed check for VRFs, so this runs on routers without any VRFs defined ( #4972 ) Api rate percent calculation incorrect ( #4956 ) Corrects path to proxmox script in docs ( #4949 ) Update debug output in service check ( #4933 ) Fujitsu PRIMERGY 10Gbe switches are now detected correctly ( #4923 ) Toner graphs with invalid chars Updated syslog table to use display() for msg output ( #4859 ) Added support for https links in alerts procedure url ( #4872 ) Updated check to use != in daily.sh ( #4916 ) Remove escape characters for services form / display #4891 Only update components if data exists in cimc entity-physical discovery #4902 Renamed hp3par os polling file to informos ( #4861 ) Updated Cisco ASA state sensors descr to be a bit more verbose Documentation Added FAQ on why EdgeRouters might not be detected ( #4985 ) Update freenode links ( #4935 ) Issue template to ask people to use irc / community for creating issues Refactoring Rewrite arp-table discovery ( #5048 ) Collection and output of db and snmp stats ( #5049 ) Disable modules for pbn-cp and multimatic os Centralize includes and initialization ( #4991 ) Remove inappropriate usages of truncate() ( #5028 ) Watchguard Fireware cleanup ( #5015 ) Tidy up mibs V-Z ( #4979 ) Limit perf array index length to 19 characters due to limitation in ds-name rrdtool ( #4731 ) Daily.sh updated ( #4920 ) Default to only using mysqli ( #4915 ) Start of cleaning up mibs Update wifi clients polling to support more than 2 radios ( #4913 ) Refactored and added support for $config['log_dir'] to daily.sh Improve Cisco ASA Polling Performance ( #4999 ) Devices Updated edge-core to edgecos and added further detection ( #5024 ) Added basic support for Ceragon devices Added support for Dell PowerConnect 6024 Added PBN-CP devices. Added support for Edgerouter devices #4936 Added support for Dell Remote consoles #4881 Added support for FortiSwitch #4852 ( #4858 ) WebUI Availability map compact view, use square tiles instead of rectangles ( #5038 ) Add link to recently added device ( #5032 ) Do not show Config tab for devices set to be excluded from oxidized #4592 ( #5029 ) Update Availability-Map Widget to use sysName when IPs used and config enabled ( #4968 ) Added support for skipping snmp check on edit snmp page for devices ( #4896 ) Update wifi_clients graph ( #4846 ) Further decouple the avail-map page from the widget ( #4887 ) v1.21 (2016-10-30) Features Added support for global max repeaters for snmp ( #4880 ) Added custom css and include directories which are ignored by git ( #4871 ) Add an option for ad authentication to have a default level ( #4801 ) Add ping and RxLevel for SAF devices ( #4840 ) Added ability to exclude devices from xDP disco based on sysdescr, sysname or platform Add Extra Mimosa Discovery ( #4831 ) Add support for NX-OS fan status ( #4824 ) Add osTicket Alert Transport ( #4791 ) Add SonicWALL Sessions #1686 Updated libvirt-vminfo to support oVirt Enhance Unifi Wireless Client count for multiple VAPs ( #4794 ) Added CEF Display page ( #3978 ) Added CPU detection for Synology DSM #2081 ( #4756 ) Added CPU detection for Synology DSM #2081 Stop displaying sensitive info in the settings page ( #4724 ) Added Cisco Integrated Management Console inventory and sensor support #4454 Added support for show faults array in recovery alerts ( #4708 ) Add description and notes to be used in alerts templates ( #4706 ) validate.php: check poller and discovery status ( #4663 ) Added GlobalProtect sessions to PANOS Bugfixes Replace \\\\l with \\l on GPRINT lines ( #4882 ) fix missing config entries on global settings page #4884 Fix the detection of NX-OS fan names ( #4864 ) API call to services only returned first one Change the wording for the create default rules button incomplete polling on aruba controllers Fixed wifi clients not reporting when value 0 ZyWALL Fixes for OS and mem polling #1652 Fix irc bot user level ( #4833 ) Updated min/max values for ubnt graphs ( #4811 ) Fix Riverbed temperature discovery ( #4832 ) only poll cipsec for cisco devices. ( #4819 ) Zywall Fixes #1652 do not show fail if running as the librenms user + slightly less false positives ( #4821 ) Do not create rrd folder when -r is specified for poller ( #4812 ) Delete all port_id references #4684 Used dos2unix on all mibs to prevent .index issue ( #4803 ) availability map multiple instances ( #4773 ) top widget multiple instances ( #4757 ) Updated bin/bash to use env in cronic script ( #4752 ) skip ip_exists function when we force add ( #4738 ) Stopped showing sub menus when empty #4713 Samsun ML typo, remove need for hex_string translation ( #4788 ) apc load, runtime and current sensors ( #4780 ) Prevent accidental anonymous binds ( #4784 ) Update brocade fanspeed description qnap temperature sensors #4586 Stop displaying sensitive info in the settings page ( #4724 ) Ignore meraki bad_uptime #4691 Fixed trying to map devices to alert rules Re-enable the edit device groups button ( #4726 ) Raise version size for packages table to 255 char ( #4656 ) Adjusted padding based on screen width to fit all icons ( #4711 ) fixed count test for cisco-otv poller module ( #4714 ) Fall back to ipNetToMediaPhysAddress when ipNetToPhysicalPhysAddress not available #4559 ipmi poller, run with USER rights and surround username and password with '' #4710 Wrapped ipmi user / pass in quotes #4686 and #4702 Use snmpv3 username even when NoAuthNoPriv is selected #4677 Documentation homepage headers: vertical align, match color, add spacing ( #4870 ) Added FAQ on moving install to another server Updated index page to make it look more attractive ( #4855 ) Adding setup of distro script for Linux (snmpd) configuration Added doc on security and vulnerabilities Update Graylog.md ( #4717 ) Refactoring populate native vlans in the ports_vlan table for cisco devices too ( #4805 ) Small poller improvements, removes unecessary queries / execs ( #4741 ) Cleanup poller include files ( #4751 ) Update alert rules to generate sql query and store in db ( #4748 ) toner support ( #4795 ) Updated and added more options for http proxy support ( #4718 ) small fixes for cisco-voice code ( #4719 ) Improve sensors polling for performance increase ( #4725 ) Improve sensors polling for performance increase Rewrite for qnap fanspeeds ( #4590 ) edituser page to allow user selection of a default dashboard ( #4551 ) snmp cleanup ( #4683 ) Devices Added support for Megatec NetAgent II Add UniFi Wireless MIB polling for Capacity #4266 Added support for Sinetica UPS \u00a24613 Added additional support for Synology DSM devices #2738 Add additional F5 sensor support ( #4642 ) Added Unifi Wireless Client statistics #4772 Additional support for Hikvision products More dnos additions #4745 ( #4749 ) Additional support for Hikvision products ( #4750 ) Add support for Moxa #4733 Add additional features to SAF Tehnika ( #4666 ) Add support for more Pulse Secure devices #4680 Add support for more DNOS devices #4627 Added support for Sinetica UPS Add support for Mimosa Wireless #4676 Add support for Mimosa Wireless #4676 WebUI Allow users to set their default dashboard from preferences page Updated devices view ( #4700 ) Disable page refresh on the search pages. Users can manually hit the refresh on the grid. ( #4787 ) Display vlans for all devices. #4349 , #3059 Added sorting and poller time support to top-devices widget #4668 Release: 201609 September 2016 Features Added alerts output to capture system ( #4574 ) Add support for ups-apcups via snmp Add snmpsim to Travis automated testing. Update to check new setting for true and isset use snmpsim for testing fallback feature so we don't have to run snmpsim on devel computers, should be adequate for now ./scripts/pre-commit.php -u -snmpsim will start an snmpsimd.py process automatically Improved readability for snmp debug output Add last changed, connected, and mtu to all ports data Add temp state sensors to Riverbed Added support for all OS tests Added Runtime support for APC ups Capture device troubleshooting info (discovery, poller, snmpwalk) Add temp state sensors to Riverbed Add more state sensors to Dell iDrac Allow scripts to be run from any working directory ( #4437 ) New app: ups-nut ( #4386 ) Added new discovery-wrapper.py script to replicate poller-wrapper.py ( #4351 ) Extended graphing for sla - icmp-jitter #4341 Added Cisco Stackwise Support #4301 Add Cisco WAAS Optimized TCP Connections Graph ( #4645 ) Bugfixes Toner nrg os capacity ( #4177 ) Fixed swos detection #4533 Updated edit snmp to set default poller_group ( #4694 ) Fixed SQL query for bgpPeers check to remove stale sessions ( #4697 ) Netonix version display ( #4672 ) FreeBSD variants ( #4661 ) unix-agent handling of reported time values from check_mk #4652 Add checks for devices with no uptime over snmp #4587 stop qnap discovery from running for every device Fixed the old port rrd migration code to work with new rrdtool functions ( #4616 ) Run cleanup for ipmi sensor discovery ( #4582 ) Numerous availability-map bug fixes AD auth stop alerts being generated Possible additional fix for non-terminating rrdtool processes. AD auth stop alerts being generated APC runtime graph missing in device health overview LibreNMS/Proc improvements Should fix sending rrdtool the quit command without a newline at the end. (not sure if this is an issue) Port ifLastChange polling now usable ( #4541 ) brother toner levels ( #4526 ) poweralert ups divisor Update Fortinet Logo Change CiscoSB devices to use ifEntry Disable refreshing on window resize when $no_refresh is set. Fix quota bills showing 0/0 for in/out ( #4462 ) This removes stale entries in the mac_ipv4 table ( #4444 ) Swos os discovery fixes #3593 Vyos discovery fix #4486 Toner descr that contain invalid characters #4464 Alert statics not showing data Ubnt bad edgeswitch uptime #4470 New installs would have multiple entries in dbSchema table ( #4460 ) Force add now ignores all snmp queries Clean up errors in the webui ( #4438 ) Reduce mib graph queries ( #4439 ) Ports page includes disabled, ignored, and deleted ports ( #4419 ) RRDTool call was always being done to check for local files ( #4427 ) MikroTik OS detection #3593 Added cisco886Va to bad_ifXEntry for cisco os ( #4374 ) Stop irc bot crashing on .reload #4353 Quanta blade switches are now being correctly detected as Quanta switches ( #4358 ) Added options to make temperature graphs display y-axis correctly #4350 Added options to make voltage graphs display y-axis correctly #4326 Calling rrdtool_pipe_open() instead of rrdtool_initialize(); ( #4343 ) Enterasys use ifname for port names #3263 Ricoh/nrg toner levels #4177 Availability map device box reverted to original size, fixes for device groups ( #4334 ) Remove Cisco remote access stats graph transparency ( #4331 ) Cisco remote access stats bugfix #4293 ( #4309 ) Added ability to force devices to use ifEntry instead of ifXEntry ( #4100 ) Don\u2019t add Cisco VSS sensors if VSS is not running #4111 Always validate the default dashboard_id to make sure it still exists NRG Toner detection #4250 Missing variable in services api call Added influxdb options to check-services.php Documentation Include PHP Install instructions for MySQL app Added FAQ for why interfaces are missing from overall traffic graphs ( #4696 ) Updated Applications to clarify apache setup Update apache applications to detail testing and additional requirements.md Updated release doc with more information on stable / dev branches Corrected the rsyslog documentation to be compatible with logrotate Fixed centos snmp path Updated to include info on how to use git hook to validate code ( #4484 ) Added info on how to perform unit testing Added faq to explain why devices show as warning ( #4449 ) Standardize snmp extend script location to /etc/snmp/ ( #4418 ) Added NFSen docs + update general config docs ( #4412 ) Clarify install docs to run validate as root #4286 Added example to alerting doc for using variables of similar name #4264 Added docs + file changes to support creating new releases/changelog Update snmpd setup in Installation-Ubuntu-1604 docs #4243 Refactoring Centralize MIB include directory specification ( #4603 ) OS discovery files (a-z) F5 device discovery cleanup + test unit Remove external uses of GenGroupSQL() consolidate snmpcmd generation consolidate snmpcmd generation I needed to generate an snmpcmd for an upcoming PR, so I figured I'd save a little code duplication. Refactored new helper functions for case sensitivity #4283 Final PSR2 cleanup Moved IRCBot class to LibreNMS namespace #4246 Update code in /includes to be psr2 compliant #4220 Devices Samsung Printer Discovery #4251 ( #4258 ) HP 1820 Discovery #3933 ( #4259 ) Added support for Cisco Callmanager Edge Core ES3528M - base support Added support for Cisco IPS ( #4561 ) Added MGE detection Netonix switch data collection update Eaton PowerXpert Added Datacom Dbm Support Updated Edgerouter lite detection Added support for Cisco Callmanager Procurve 5400R series #4375 hp online admin cpu and mem #4327 Added support for Foundry Networks #4311 Added Cisco Stackwise Support #4301 Added support for PLANET Networking Communication switches ( #4308 ) Added support for Fujitsu Primergy switches #4277 ( #4280 ) Added support for Lanier printers #4267 Added Temp and State support for EdgeSwitch OS #4265 Added support for DDN Storage #2737 ( #4261 ) Improved support for UBNT EdgeSwitch OS #4249 Improved support for Avaya VSP #4237 Added support for macOS Sierra ( #4557 ) Improve BDCOM detection ( #4329 ) WebUI top devices enhancement #4447 Individual devices now use bootgrid syslog ( #4584 ) added amazon server icon Update all glyphicon to font awesome Relocate Alerts menu Updated force add option for addhost.php to be present in all instances ( #4428 ) Add check to display make bill on port page only if billing is enabled ( #4361 ) Added Pagination and server side search via Ajax to NTP ( #4330 ) August 2016 Bug fixes WebUI Fix Infoblox dhcp messages graph ( PR3898 ) Fix version_info output in Safari ( PR3914 ) Added missing apps to Application page ( PR3964 ) Discovery / Polling Clear our stale IPSEC sessions from the DB ( PR3904 ) Fixed some InfluxDB bugs in check-services and ports ( PR4031 ) Fixed Promox and Ceph rrd's ( PR4038 , PR4037 , PR4047 , PR4041 ) Fixed LLDP Remote port in discovery-protocols module ( PR4070 ) Billing Check if ifSpeed is returned for calculating billing ( PR3921 ) Applications NFS-V3 stats fixed ( PR3963 ) Misc Dell Equallogic storage fix ( PR3956 ) Fix syslog bug where entries would log to the wrong device ( PR3996 ) Improvements Added / improved detection for: Cisco WAAS / WAVE ( PR3899 ) Maipu MyPower ( PR3909 ) TPLink Switches ( PR3919 ) Dell N3024 ( PR3941 ) Cisco FXOS ( PR3943 ) Brocade FABOS ( PR3959 , PR3988 ) JunOS ( PR3976 ) Dell PowerConnect ( PR3998 , PR4007 ) Comware ( PR3967 ) Calix E5 ( PR3864 ) Raisecom ( PR3992 ) Cisco ISE ( PR4063 ) Acano ( PR4064 ) McAfee SIEM Nitro ( PR4066 ) HP Bladesystem C3000/C7000 OA ( PR4035 ) Cisco VCS (Expressway) ( PR4086 ) Cisco Telepresence Conductor ( PR4087 ) Avaya VSP ( PR4048 ) Cisco/Tandberg Video Conferencing ( PR4065 ) Cisco Prime Infrastructure ( PR4088 ) HWGroup STE2 ( PR4116 ) HP 2530 Procurve / Arube ( PR4119 ) Brother Printers ( PR4141 ) Hytera Repeater ( PR4163 ) Sonus ( PR4176 ) Freeswitch ( PR4203 ) WebUI Improved OSPF display ( PR3908 ) Improved Apps overview page ( PR3954 ) Improved Syslog page ( PR3955 , PR3971 ) Rewrite availability map ( PR4043 ) Add predicted usage to billing overview ( PR4049 ) API Added services calls to API ( PR4215 ) Discovery / Polling Added CPU detection for Dell PowerConnect 8024F ( PR3966 ) Cisco VSS state discovery ( PR3977 ) Refactor of BGP Discovery and Polling (mainly JunOS) ( PR3938 ) Added Sensors for Brocade NOS ( PR3969 ) Cisco ASA HA States ( PR4012 ) Improved IPSLA Support ( PR4006 ) Added support for CISCO-NTP-MIB ( PR4005 ) Improved toner support for Ricoh devices ( PR4180 ) Documentation New doc site live http://docs.librenms.org/ Added rsyslog 5 example to syslog docs ( PR3912 ) Application doc updates ( PR3928 ) Applications App OS Updates support ( PR3935 ) PowerDNS Recursor improvements ( PR3932 ) Add DHCP Stats support ( PR3970 ) Added snmp support to Memcached ( PR3949 ) Added Unbound support ( PR4074 ) Added snmp support to Proxmox ( PR4052 ) Added Raspberry Pi Sensor support ( PR4057 ) Updated NTPD support ( PR4077 ) Misc Added cleanup of old RRD files to daily.sh ( PR3907 ) Refactored addHost event logs ( PR3929 , PR3997 ) Refactored RRD Functions ( PR3800 , PR4081 ) Added support for nets-exclude in snmp-scan ( PR4000 ) Refactored files in html (Libraries and PSR2 style ( PR4071 , PR4101 , PR4117 ) Various IRC updates and fixes ( PR4200 , PR4204 , PR4201 ) July 2016 Bug fixes API Stop outputting vrf lite and IP info when device doesn't exist ( PR3785 ) WebUI Added force refresh for generic image widget ( PR3817 ) Fixed NFSen tab not showing in all cases ( PR3857 ) Discovery / Polling Fixed incorrect IBM-AMM thresholds ( PR3866 ) Fixed Pulse OS whitespace in polling ( PR3883 ) Misc Fixed device group search ( PR3788 ) Fixed sporadic device delete ( PR3805 ) Retry creation of two tables ( PR3848 ) Improvements Added / improved detection for: Telco systems ( PR3773 , PR3804 ) Cisco ACS ( PR3786 ) Adtran AOS ( PR3787 , PR3799 ) Lantronix SLC ( PR3797 ) PBN Sensor support ( PR3820 ) Ironware VRF discovery ( PR3827 ) Comware sensors discovery ( PR3881 , PR3889 , PR3896 ) Brocade VDX detection ( PR3888 ) Checkpoint GAiA ( PR3890 ) Cisco ASA-X Hardware detection ( PR3897 ) WebUI Added sysName to global search if != hostname ( PR3815 ) Improved look of device SLA panel ( PR3831 ) Added more colours to Cisco CBQOS graphs ( PR3842 ) Improved look of Cisco IPSEC Tunnels page ( PR3874 ) Discovery / Polling Added ability to set Max repeaters per device ( PR3781 ) Applications Moved all application scripts to librenms/librenms-agent repo ( PR3865 , PR3886 ) Added NFS stats ( PR3792 , PR3853 ) Added PowerDNS Recursor ( PR3869 ) Alerting Updated format for Slack alerts ( PR3852 ) Added support for multiple emails in sysContact and users table ( PR3885 ) Added ability to use uptime in alert templates ( PR3893 ) Misc Added date to git version info ( PR3782 ) Added logging of versions when upgrading ( PR3807 ) Added ability to lookup device from IP for syslog ( PR3812 ) Updated component system ( PR3821 ) Improvements to validate script ( PR3840 , PR3868 ) June 2016 Bug fixes WebUI: Rename $ds to $ldap_connection for auth modules ( PR3596 ) Fix the display of custom snmp ports ( PR3646 ) Fix bugs in Create new / edit alert templates ( PR3651 ) Fixed ajax_ calls for use with base_url ( PR3661 ) Updated old frontpage to use new services format ( PR3691 ) Order alerts by state to indicate which alerts are open ( PR3692 ) Fixed maintenance windows showing as lapsed ( PR3704 ) Removed duplicated dbInsert from dashboard creation ( PR3761 ) Fixed 95th for graphs ( PR3762 ) Polling / Discovery: Updated Poweralert divisor to 10 for sensors ( PR3645 ) Fixed NX-OS version polling ( PR3688 ) Fixed STP log spam from Mikrotik device ( PR3689 ) Removed \" from ZyWall version number ( PR3693 ) Updated register_mib to use d_echo ( PR3739 ) Fixed invalid SQL for BGP Discovery ( PR3742 ) Alerting: Unacknowledged alerts will now continue to send alerts ( PR3667 ) Misc: Fix smokeping path in gen_smokeping ( PR3577 ) Fix full include path in includes/polling/functions.inc.php ( PR3614 ) Added port_id to tune_port.php query ( PR3753 ) Updated port schema to support 17.1 Gbs for _rate values ( PR3754 ) Improvements Added / improved detection for: HPE 3Par ( PR3578 ) Buffalo TeraStation ( PR3587 ) Samsung C printers ( PR3598 ) Roomalert3e ( PR3599 ) Avtech Switches ( PR3611 ) IBM Bladecenter switches ( PR3623 ) HWg support ( PR3624 ) IBM IMM ( PR3625 ) ServerTech Sentry4 PDUs ( PR3659 ) SwOS ( PR3662 ) Sophos (R3678, PR3679 , PR3736 ) OSX El Capitan ( PR3690 ) DNOS ( PR3703 , PR3730 ) Cisco SB SG200 ( PR3705 ) EMC FlareOS ( PR3712 ) Enhance Brocade Fabric OS ( PR3712 ) Huawei SmartAX ( PR3737 ) Polling / Discovery: Use lsb_release in distro script ( PR3580 ) Allow lmsensors fanspeeds of 0 to be discovered ( PR3616 ) Added support for rrdcached application monitoring ( PR3627 ) Improve the output of polling/debug to make it easier to see modules ( PR3694 ) WebUI: Resolve some reported security issues ( PR3586 ) With thanks to https://twitter.com/wireghoul Order apps list alphabetically ( PR3600 ) Network map improvements ( PR3602 ) Added support for varying hostname formats in Oxidized integration ( PR3617 ) Added device hw/location on hover in alerts table ( PR3621 ) Updated unpolled notification to link directly to those devices ( PR3696 ) Added ability to search via IP for Graylog integration ( PR3697 ) Optimised network map SQL ( PR3715 ) Added support for wildcards in custom graph groups ( PR3722 ) Added ability to override ifSpeed for ports ( PR3752 ) Added sysName to global search ( PR3757 ) Alerting: Added ability to use location in alert templates ( PR3652 ) Documentation: Added docs on Auto discovery ( PR3671 ) Updated InfluxDB docs ( PR3673 ) Updated distributed polling docs ( PR3675 ) Updated FAQs ( PR3677 ) Misc: Added pivot table for device groups ready for V2 ( PR3589 ) Added device_id column to eventlog ( PR3682 ) Cleanup sensors and related tables + added constraints ( PR3745 ) May 2016 Bug fixes WebUI: Fixed broken performance charts using VisJS ( PR3479 ) Fixed include path to file in create alert item ( PR3480 ) Updated services box on front page to utilise the new services ( PR3481 ) Potential fix for intermittent logouts ( PR3372 ) Updated sensors hostname to use correct variable ( PR3485 ) Polling / Discovery: Only poll AirMAX if device supports the MIB ( PR3486 ) Alerting: Don't alert unless the sensor value surpasses the threshold ( PR3507 ) Improvements Added / improved detection for: Microsemo timing devices ( PR3453 ) Bintec smart routers ( PR3454 ) PoweWalker support ( PR3456 ) BDCom support ( PR3459 ) Cisco WAPs ( PR3460 ) EMC Data domain ( PR3461 ) Xerox support ( PR3462 ) Calix support ( PR3463 ) Isilon OneFS ( PR3482 ) Ricoh printers ( PR3483 ) HP Virtual Connect ( PR3487 ) Equallogic arrays + Dell servers ( PR3519 ) Alcatel-Lucent SR + SAR ( PR3535 , PR3553 ) Xirrus Wireless Access Points ( PR3543 ) Polling / Discovery: Add config option to stop devices with duplicate sysName's being added ( PR3473 ) Enable discovery support of CDP neighbours by IP ( PR3561 ) Alerting: Added ability to use sysName in templates ( PR3470 ) Send Slack alerts as pure JSON ( PR3522 ) Apply colour to HipChat messages ( PR3539 ) WebUI: Added ability to filter alerts by state ( PR3471 ) Added support for using local openstreet map tiles ( PR3472 ) Added ability to show services on availability map ( PR3496 ) Added combined auth module for http auth and AD auth ( PR3531 ) List services alphabetically ( PR3538 ) Added support for scrollable widgets ( PR3565 ) Graphs: Added Hit/Misses for memcached graphs ( PR3499 ) API: Update get_graph_generic_by_hostname to use device_id as well ( PR3494 ) Docs: Added configuration for SNMP Proxy support ( PR3528 ) Misc: Added purge for alert log ( PR3469 ) April 2016 Bug fixes Discovery / Polling: Fix poweralert OS detection ( PR3414 ) WebUI: Fixed headers for varying ajax calls ( PR3432 , PR3433 , PR3434 , PR3435 ) Misc: Update syslog to support incorrect time ( PR3348 ) Fixed InfluxDB to send data as int/float ( PR3354 ) Small bug fixes to the services update ( PR3366 , PR3396 , PR3425 , PR3426 , PR3427 ) Fix bug with obtaining data for new bills in some scenarios ( PR3404 ) Improved PHP 7 support ( PR3417 ) Fix urls within billing section for sub dir support ( PR3442 ) Improvements WebUI: Update rancid file detection ( PR3341 ) Make graphs in widgets clickable ( PR3355 ) Add config option to set the typeahead results ( PR3363 ) Add config option to set min graph height ( PR3410 ) Discovery / Polling: Updated Infoblox mibs and logo ( PR3340 ) Updated arp discovery to support vrf lite ( PR3359 ) Added RSSI and MNC for Cisco WWAN routers ( PR3371 ) Updated DNOS and added CPU, Memory and Temp ( PR3391 , PR3393 , PR3395 ) Added PoE state support for Netonix devices ( PR3416 ) Added ability to exclude ports via ifName and ifAlias regex ( PR3439 ) Added detection for: Viprenet routers ( PR3365 ) FreeBSD via distro script ( PR3399 ) Documentation: Updated nginx install docs ( PR3397 ) Added FAQ on renaming hosts ( PR3444 ) API: Added call for IPsec tunnels ( PR3411 ) Misc: Added check_mk FreeBSD agent support ( PR3406 ) Added suggestion to fix files not owned by correct user to validate.php ( PR3415 ) Added detection for missing timezone to validate.php ( PR3428 ) Added detection for install_dir config and local git repo issues to validate.php ( PR3440 ) March 2016 Bug fixes WebUI: Skip authentication check in graph.php if unauth graphs is enabled ( PR3019 ) Stop double escaping notes for devices ( PR3149 ) Corrected aggregate graph on smokeping page ( PR3177 ) Fix non-admin syslog queries ( PR3191 ) Fix services SQL ( PR3205 ) Discovery / Polling: Revert arp discovery to pre-vrf lite support ( PR3126 ) Fix IOS-XR DBM sensors ( PR3291 ) Alerting: Fix alert failure response from transports ( PR3283 ) Misc: Fix data in bills if counters doesn't change ( PR3132 ) Improve performance of billing poller ( PR3129 ) Fix API tokens when using LDAP auth ( PR3178 ) Import notifications with original datetime ( PR3200 ) Add sysName for top-interfaces widget ( PR3201 ) Fix Cisco syslog parsing when logging timestamp enabled ( PR3203 ) Improvements WebUI: Added ability to show device group specific maps ( PR3018 ) Updated Billing UI ( PR3194 , PR3195 , PR3216 , PR3239 , PR3240 ) Added Juniper Added config option for HTML emails in mail transport ( PR3221 ) Discovery / Polling: Added Juniper state support ( PR3121 ) Added Ironware state support ( PR3160 ) Check sysObjectID before detecting ILO temp sensors ( PR3204 ) Improved Avtech support ( PR3207 ) Improved Dell NOS detection ( PR3213 ) Added Juniper alarm state monitoring ( PR3226 ) Updated Drac state support ( PR3228 ) Improved serial # detection for Brocade Ironware devices ( PR3292 ) Added detection for: Develop Ineo printers ( PR3224 ) Cumulus Linux ( PR3237 ) Deliberant WiFi ( PR3246 ) Juniper EX2500 ( PR3254 ) Cambium devices ( PR3279 ) Alerting: Added Canopsis alerting transport ( PR3299 ) Misc: Improved syslog support ( PR3171 , PR3172 , PR3173 ) Added Nginx install docs for Debian/Ubuntu ( PR3301 ) Updated InfluxDB php module ( PR3302 ) Updated Component API ( PR3304 ) February 2016 Bug fixes Discovery / Polling: Quote snmp v2c community ( PR2927 ) For entity-sensor, changed variable name again ( PR2948 ) Fix some issues with/introduced by port association mode configuration ( PR2923 ) Deal with 0 value sensors better ( PR2972 , PR2973 ) Reverted Fortigate CPU change from Dec 2015 ( PR2990 ) Reverted bgp code from vrf lite support ( PR3010 , PR3011 , PR3028 , PR3050 ) Add icon to database ( PR3076 ) Discovery updated to check for distributed polling group ( PR3086 ) WebUI: Fix ceph graps ( PR2909 , PR2942 ) BGP Overlib ( PR2915 ) Added application/json headers where json is returned ( PR2936 , PR2961 ) Stop realtime graph page from auto refreshing ( PR2939 ) Updated parsing of alert rules to allow | ( PR2917 ) Fix IP Display ( PR2951 ) Added missing from email config option ( PR2986 ) Ignore devices that do not provide an uptime statistic ( PR3009 ) Added unique id for alert widget ( PR3034 ) Misc: Updated device_by_id_cache() to convert IP column ( PR2940 ) Fixed auto updating if not enabled ( PR3063 ) Documentation: Removed devloping doc as none of the info is current ( PR2911 ) Improvements WebUI: Merged device option links to dropdown ( PR2955 ) Added ability to configure # results for global search ( PR2957 ) Added ability to show / hide line numbers for config for devices ( PR2988 ) Added support for showing diff for Oxidized configs ( PR2994 ) Updated visjs to 4.14.0 ( PR3031 ) Updated apps layout to use panels ( PR3117 ) Discovery / Polling: Added VRF Lite support ( PR2820 ) Added ability to ignore device sensors from entity mib ( PR2862 ) Added ifOperStatus_prev and ifAdminStatus_prev values to db ( PR2912 ) Improved bgpPolling efficiency ( PR2967 ) Use raw timeticks for uptime ( PR3021 ) Introduced state monitoring ( PR3102 ) Added detection for: Dell Networking N2048 ( PR2949 ) Calix E7 devices ( PR2958 ) Improved support for Netonix ( PR2959 ) Improved detection for Windows 10 ( PR2962 ) Improved support for FortiOS ( PR2991 ) Barracuda Spam firewall support ( PR2998 ) Improved sysDescr parsing for Unifi Switches ( PR3020 ) Canon iR ( PR3045 ) Cisco SF500 ( PR3057 ) Eaton UPS ( PR3066 , PR3067 , PR3070 , PR3071 ) ServerIron / ServerIron ADX ( PR3074 ) Additional Qnap sensors ( PR3088 , PR3089 ) Avtech environment sensors ( PR3091 ) Misc: Added check for rrd vadility ( PR2908 ) Add systemd unit file for the python poller service ( PR2913 ) Added more detection to validate for bad installs ( PR2985 ) Syslog cleanup ( PR3036 , PR3093 , PR3099 ) Documentation: Added description of AD configuration options ( PR2910 ) Add description to mibbases polling ( PR2919 ) January 2016 Bug fixes Discovery / Polling: Ignore HC Broadcast and Multicast counters for Cisco SB ( PR2552 ) Fix Cisco temperature discovery ( PR2765 ) WebUI: Fix ajax_search.php returning null instead of [] ( PR2695 ) Fix notification links ( PR2721 ) Fix wrong suggestion to install PEAR in Web installer ( PR2727 ) Fixed mysqli support for Web installer ( PR2730 ) Misc: Fix deleting device_perf entries ( PR2755 ) Fix for schema updates to device table when poller is running ( PR2825 ) Improvements WebUI: Converted arp pages to use bootgrid ( PR2669 ) Updated VMWare listing page ( PR2684 ) Updated typeahead.js ( PR2698 ) Added ability to set notes for ports ( PR2688 ) Use browser width to scale CPU and Bandwidth graphs ( PR2537 , PR2633 ) Removed onClick from ports list ( PR2744 ) Added support for showing sysName when hostname is IP ( PR2796 ) Updated rancid support for different hostnames ( PR2807 ) Added combined HTTP Auth and LDAP Auth authentication module ( PR2835 ) Added ability to filter alerts using widgets ( PR2834 ) Discovery / Polling: Print runtime info per poller/discovery modules ( PR2713 ) Improved polling/discovery vmware module performance ( PR2696 ) Added STP/RSTP support ( PR2690 ) Moved system poller module to core module ( PR2637 ) Added lookup of IP for devices with hostname ( PR2798 ) Centralised sensors module file structure ( PR2794 ) Graph poller module run times ( PR2849 ) Updated vlan support using IEEE8021-Q-BRIDGE-MIB ( PR2851 ) Added detection for: Added support for Samsung printers ( PR2680 ) Added support for Canon printers ( PR2687 ) Added support for Sub10 support ( PR2469 ) Added support for Zyxel GS range ( PR2729 ) Added support for HWGroup Poseidon ( PR2742 ) Added support for Samsung SCX printers ( PR2760 ) Added additional support for HP MSM ( PR2766 , PR2768 ) Added additional support for Cisco ASA and RouterOS ( PR2784 ) Added support for Lenovo EMC NAS ( PR2795 ) Added support for Infoblox ( PR2801 ) API: Added support for Oxidized groups ( PR2745 ) Misc: Added option to specify Smokeping ping value ( PR2676 ) Added backend support for InfluxDB ( PR2208 ) Alpha2 release of MIB Polling released ( PR2536 , PR2763 ) Centralised version info ( PR2697 ) Added username support for libvirt over SSH ( PR2728 ) Added Oxidized reload call when adding device ( PR2792 ) Added components system to centralize data in MySQL ( PR2623 ) December 2015 Bug fixes WebUI: Fixed regex for negative lat/lng coords ( PR2524 ) Fixed map page looping due to device connected to itself ( PR2545 ) Fixed PATH_INFO for nginx ( PR2551 ) urlencode the custom port types ( PR2597 ) Stop non-admin users from being able to get to settings pages ( PR2627 ) Fix JpGraph php version compare ( PR2631 ) Discovery / Polling: Pointed snmp calls for Huawei to correct MIB folder ( PR2541 ) Fixed Ceph unix-agent support. ( PR2588 ) Moved memory graphs from storage to memory polling ( PR2616 ) Mask alert_log mysql output when debug is enabled to stop console crashes ( PR2618 ) Stop Quanta devices being detected as Ubiquiti ( PR2632 ) Fix MySQL unix-agent graphs ( PR2645 ) Added MTA-MIB and NETWORK-SERVICES-MIB to stop warnings printed in poller debug ( PR2653 ) Services: Fix SSL check for PHP 7 ( PR2647 ) Alerting: Fix glue-expansion for alerts ( PR2522 ) Fix HipChat transport ( PR2586 ) Documentation: Removed duplicate mysql-client install from Debian/Ubuntu install docs ( PR2543 ) Misc: Update daily.sh to ignore issues writing to log file ( PR2595 ) Improvements WebUI: Converted sensors page to use bootgrid ( PR2531 ) Added new widgets for dashboard. Notes ( PR2582 ), Generic image ( PR2617 ) Added config option to disable lazy loading of images ( PR2589 ) Visual update to Navbar. ( PR2593 ) Update alert rules to show actual alert rule ID ( PR2603 ) Initial support added for per user default dashboard ( PR2620 ) Updated Worldmap to show clusters in red if one device is down ( PR2621 ) Cleaned up Billing pages ( PR2671 ) Discovery / Polling Added traffic bits as default for Cambium devices ( PR2525 ) Overwrite eth0 port data from UniFi MIBs for AirFibre devices ( PR2544 ) Added lastupdate column to sensors table for use with alerts ( PR2590 , PR2592 ) Updated auto discovery via lldp to check for devices that use mac address in lldpRemPortId ( PR2591 ) Updated auto discovery via lldp with absent lldpRemSysName ( PR2619 ) API: Added ability to filter devices by type and os for Oxidized API call ( PR2539 ) Added ability to update device information ( PR2585 ) Added support for returning device groups ( PR2611 ) Added ability to select port graphs based on ifDescr ( PR2648 ) Documentation: Improved alerting docs explaining more options ( PR2560 ) Added Docs for Ubuntu/Debian Smokeping integration ( PR2610 ) Added detection for: Updated Netonix switch MIBs ( PR2523 ) Updated Fotinet MIBs ( PR2529 , PR2534 ) Cisco SG500 ( PR2609 ) Updated processor support for Fortigate ( PR2613 ) Added CPU / Memory support for PBN ( PR2672 ) Misc: Updated validation to check for php extension and classes required ( PR2602 ) Added Radius Authentication support ( PR2615 ) Removed distinct() from alerts query to use indexes ( PR2649 ) November 2015 Bug fixes WebUI: getRates should return in and out average rates ( PR2375 ) Fix 95th percent lines in negative range ( PR2405 ) Fix percentage bar for billing pages ( PR2419 ) Use HC counters first in realtime graphs ( PR2420 ) Fix netcmd.php URI for sub dir installations ( PR2428 ) Fixed Oxidized fetch config with groups ( PR2501 ) Fixed background colour to white for some graphs ( PR2516 ) Added missing Service description on services page ( PR2679 ) API: Added missing quotes for MySQL queries ( PR2382 ) Discovery / Polling: Specified MIB used when polling ntpd-server ( PR2418 ) Added missing fields when inserting data into applications table ( PR2445 ) Fix auto-discovery failing ( PR2457 ) Juniper hardware inventory fix ( PR2466 ) Fix discovery of Cisco PIX running PixOS 8.0 ( PR2480 ) Fix bug in Proxmox support if only one VM was detected ( PR2490 , PR2547 ) Alerting: Strip and || from query for device-groups ( PR2476 ) Fix transports being triggered when empty keys set ( PR2491 ) Misc: Updated device_traffic_descr config to stop graphs failing ( PR2386 ) Improvements WebUI: Status column now sortable for /devices/ ( PR2397 ) Update Gridster library to be responsive ( PR2414 ) Improved rrdtool 1.4/1.5 compatibility ( PR2430 ) Use event_id in query for Eventlog ( PR2437 ) Add graph selector to devices overview ( PR2438 ) Improved Navbar for varying screen sizes ( PR2450 ) Added RIPE NCC API support for lookups ( PR2455 , PR2474 ) Improved ports page for device with large number of neighbours ( PR2460 ) Merged all CPU graphs into one on overview page ( PR2470 ) Added support for sorting by traffic on device port page ( PR2508 ) Added support for dynamic graph sizes based on browser size ( PR2510 ) Made device location clickable in device header ( PR2515 ) Visual improvements to bills page ( PR2519 ) Discovery / Polling: Updated Cisco SB discovery ( PR2396 ) Added Ceph support via Applications ( PR2412 ) Added support for per device unix-agent port ( PR2439 ) Added ability to select up/down devices on worldmap ( PR2441 ) Allow powerdns app to be set for Unix Agent ( PR2489 ) Added SLES detection to distro script ( PR2502 ) Added detection for: Added CPU + Memory usage for Ubiquiti UniFi ( PR2421 ) Added support for LigoWave Infinity AP's ( PR2456 ) Alerting: Added ability to globally disable sending alerts ( PR2385 ) Added support for Clickatell, PlaySMS and VictorOps ( PR24104 , PR2443 ) Documentation: Improved CentOS install docs ( PR2462 ) Improved Proxmox setup docs ( PR2483 ) Misc: Provide InnoDB config for buffer size issues ( PR2401 ) Added AD Authentication support ( PR2411 , PR2425 , PR2432 , PR2434 ) Added Features document ( PR2436 , PR2511 , PR2513 ) Centralised innodb buffer check and added to validate ( PR2482 ) Updated and improved daily.sh ( PR2487 ) October 2015 Bug fixes Discovery / Polling: Check file exists via rrdcached before creating new files on 1.5 ( PR2041 ) Fix Riverbed discovery ( PR2133 ) Fixes issue where snmp_get would not return the value 0 ( PR2134 ) Fixed powerdns snmp checks ( PR2176 ) De-dupe checks for hostname when adding hosts ( PR2189 ) WebUI: Soft fail if PHP Pear not installed ( PR2036 ) Escape quotes for ifAlias in overlib calls ( PR2072 ) Fix table name for access points ( PR2075 ) Removed STACK text in graphs ( PR2097 ) Enable multiple ifDescr overrides to be done per device ( PR2099 ) Removed ping + performance graphs and tab if skip ping check ( PR2175 ) Fixed services - Alerts menu link + page ( PR2173 ) Fix percent bar also for quota bills ( PR2198 ) Fix new Bill ( PR2199 ) Change default solver to hierarchicalRepulsion in vis.js ( PR2202 ) Fix: setting user port permissions fails ( PR2203 ) Updated devices Graphs links to use non-static time references ( PR2211 ) Removed ignored,deleted and disabled ports from query ( PR2213 ) API: Fixed API call for alert states ( PR2076 ) Fixed nginx rewrite for api ( PR2112 ) Change on the add_edit_rule to modify a rule without modify the name ( PR2159 ) Fixed list_bills function when using :bill_id ( PR2212 ) Improvements WebUI: Updated Bootstrap to 3.3.5 ( PR2015 ) Added billing graphs to graphs widget ( PR2027 ) Lock widgets by default so they can't be moved ( PR2042 ) Moved Device Groups menu ( PR2049 ) Show Config tab only if device isn't excluded from oxidized ( PR2118 ) Simplify adding config options to WebUI ( PR2120 ) Move red map markers to foreground ( PR2127 ) Styled the two factor auth token prompt ( PR2151 ) Update Font Awesome ( PR2167 ) Allow user to influence when devices are grouped on world map ( PR2170 ) Centralised the date selector for graphs for re-use ( PR2183 ) Don't show dashboard settings if /bare=yes/ ( PR2364 ) API: Added unmute alert function to API ( PR2082 ) Discovery / Polling: Added additional support for some UPS' based on Multimatic cards ( PR2046 ) Improved WatchGuard OS detection ( PR2048 ) Treat Dell branded Wifi controllers as ArubaOS ( PR2065 ) Added discovery option for OS or Device type ( PR2088 ) Updated pfSense to firewall type ( PR2096 ) Added ability to turn off icmp checks globally or per device ( PR2131 ) Reformat check a bit to make it easier for adding additional oids in ( PR2135 ) Updated to disable auto-discovery by ip ( PR2182 ) Updated to use env in distro script ( PR2204 ) Added detection for: Pulse Secure OS ( PR2053 ) Riverbed Steelhead support ( PR2107 ) OpenBSD sensors ( PR2113 ) Additional comware detection ( PR2162 ) Version from Synology MIB ( PR2163 ) VCSA as VMWare ( PR2185 ) SAF Lumina radios ( PR2361 ) TP-Link detection ( PR2362 ) Documentation: Improved RHEL/CentOS install docs ( PR2043 ) Update Varnish Docs ( PR2116 , PR2126 ) Added passworded channels for the IRC-Bot ( PR2122 ) Updated Two-Factor-Auth.md RE: Google Authenticator ( PR2146 ) General: Added colour support to IRC bot ( PR2059 ) Fixed IRC bot reconnect if socket dies ( PR2061 ) Updated default crons ( PR2177 ) Reverts: \"Removed what appears to be unnecessary STACK text\" ( PR2128 ) September 2015 Bug fixes Alerting: Process followups if there are changes ( PR1817 ) Typo in alert_window setting ( PR1841 ) Issue alert-trigger as test object ( PR1850 ) WebUI: Fix permissions for World-map widget ( PR1866 ) Clean up Global / World Map name mixup ( PR1874 ) Removed required flag for community when adding new hosts ( PR1961 ) Stop duplicate devices showing in map ( PR1963 ) Fix adduser bug storing users real name ( PR1990 ) Stop alerts top-menu being clickable ( PR1995 ) Services: Honour IP field for DNS checks ( PR1933 ) Discovery / Poller: Fix Huawei VRP os detection ( PR1931 ) Set empty processor descr for *nix processors ( PR1951 ) Ensure udp6/tcp6 snmp devices use fping6 ( PR1959 ) Fix RRD creation parameters ( PR2010 ) General: Remove 'sh' from cronjob ( PR1818 ) Remove MySQL Locks ( PR1822 , PR1826 , PR1829 , PR1836 ) Change DB config options to use single quotes to allow $ ( PR1948 ) Improvements WebUI: Ability to edit ifAlias ( PR1811 ) Honour Mouseout/Mouseleave on map widget ( PR1814 ) Make syslog/eventlog responsive ( PR1816 ) Reformat Proxmox UI ( PR1825 , PR1827 ) Misc Changes ( PR1828 , PR1830 , PR1875 , PR1885 , PR1886 , PR1887 , PR1891 , PR1896 , PR1901 , PR1913 , PR1944 ) Added support for Oxidized versioning ( PR1842 ) Added graph widget + settings for widgets ( PR1835 , PR1861 , PR1968 ) Added Support for multiple dashboards ( PR1869 ) Added settings page for Worldmap widget ( PR1872 ) Added uptime to availability widget ( PR1881 ) Added top devices and ports widgets ( PR1903 ) Added support for saving notes for devices ( PR1927 ) Added fullscreen mobile support ( PR2022 ) Added detection for: FortiOS ( PR1815 ) HP MSM ( PR1953 ) Discovery / Poller: Added Proxmox support ( PR1789 ) Added CPU/Mem support for SonicWALL ( PR1957 ) Updated distro script to support Arch Linux + fall back to lsb-release ( PR1978 ) Documentation: Add varnish docs ( PR1809 ) Added CentOS 7 RRCached docs ( PR1893 ) Improved description of fping options ( PR1952 ) Alerting: Added RegEx support for alert rules and device groups ( PR1998 ) General: Make installer more responsive ( PR1832 ) Update fping millisec option to 200 default ( PR1833 ) Reduced cleanup of device_perf ( PR1837 ) Added support for negative values in munin-plugins ( PR1907 ) Added default librenms user to config for use in validate.php ( PR1956 ) Added working memcache support ( PR2007 ) August 2015 Bug fixes WebUI: Fix web_mouseover not honoured on All Devices page ( PR1592 ) Fixed bug with edit/create alert template to clear out previous values ( PR1636 ) Initialise $port_count in devices list ( PR1640 ) Fixed Web installer due to code tidying update ( PR1644 ) Updated gridster variable names to make unique ( PR1646 ) Fixed issues with displaying devices with ' in location ( PR1655 ) Fixes updating snmpv3 details in webui ( PR1727 ) Check for user perms before listing neighbour ports ( PR1749 ) Fixed Test-Transport button ( PR1772 ) DB: Added proper indexes on device_perf table ( PR1621 ) Fixed multiple mysql strict issues ( PR1638 , PR1659 ) Convert bgpPeerRemoteAs to bigint ( PR1691 ) Discovery / Poller: Fixed Synology system temps ( PR1649 ) Fixed discovery-arp not running since code formatting update ( PR1671 ) Correct the DSM upgrade OID ( PR1696 ) Fix MySQL agent host variable usage ( PR1710 ) Pass snmp-auth parameters enclosed by single-quotes ( PR1730 ) Revert change which skips over down ports ( PR1742 ) Stop PoE polling for each port ( PR1747 ) Use ifHighSpeed if ifSpeed equals 0 ( PR1750 ) Keep PHP Backwards compatibility ( PR1766 ) False identification of Zyxel as Cisco ( PR1776 ) Fix MySQL statement in poller-service.py ( PR1794 ) Fix upstart script for poller-service.py ( PR1812 ) General: Fixed path to defaults.inc.php in config.php.default ( PR1673 ) Strip '::ffff:' from syslog input ( PR1734 ) Fix RRA ( PR1791 ) Improvements WebUI Updates: Added support for Google API key in Geo coding ( PR1594 ) Added ability to updated storage % warning ( PR1613 ) Updated eventlog page to allow filtering by type ( PR1623 ) Hide logo and plugins text on smaller windows ( PR1624 ) Added poller group name to poller groups table ( PR1634 ) Updated Customers page to use Bootgrid ( PR1658 ) Added basic Graylog integration support ( PR1665 ) Added support for running under sub-directory ( PR1667 ) Updated vis.js to latest version ( PR1708 ) Added border on availability map ( PR1713 ) Make new dashboard the default ( PR1719 ) Rearrange about page ( PR1735 , PR1743 ) Center/Cleanup graphs ( PR1736 ) Added Hover-Effect on devices table ( PR1738 ) Show Test-Transport result ( PR1777 ) Add arrows to the network map ( PR1787 ) Add errored ports to summary widget ( PR1788 ) Show message if no Device-Groups exist ( PR1796 ) Misc UI fixes (Titles, Headers, ...) ( PR1797 , PR1798 , PR1800 , PR1801 , PR1802 , PR1803 , PR1804 , PR1805 ) Move packages to overview dropdown ( PR1810 ) API Updates: Improved billing support in API ( PR1599 ) Extended support for list devices to support mac/ipv4 and ipv6 filtering ( PR1744 ) Added detection for: Perle Media convertors ( PR1607 ) Mac OSX 10 ( PR1774 ) Improved detection for: Windows devices ( PR1639 ) Zywall CPU, Version and Memory ( PR1660 , PR1784 ) Added LLDP support for PBN devices ( PR1705 ) Netgear GS110TP ( PR1751 ) Additional Sensors: Added Compressor state for PCOWEB ( PR1600 ) Added dbm support for IOS-XR ( PR1661 ) Added temperature support for DNOS ( PR1782 ) Discovery / Poller: Updated autodiscovery function to log new type ( PR1623 ) Improve application polling ( PR1724 ) Improve debug output ( PR1756 ) DB: Added MySQLi support ( PR1647 ) Documentation: Added docs on MySQL strict mode ( PR1635 ) Updated billing docs to use librenms user in cron ( PR1676 ) Updated LDAP docs to indicate php-ldap module needs installing ( PR1716 ) Typo/Spellchecks ( PR1731 , PR1806 ) Improved Alerting and Device-Groups ( PR1781 ) Alerting: Reformatted eventlog message to show state for alerts ( PR1685 ) Add basic Pushbullet transport ( PR1721 ) Allow custom titles ( PR1807 ) General: Added more debugging and checks to discovery-protocols ( PR1590 ) Cleanup debug statements ( PR1725 , PR1737 ) July 2015 Bug fixes WebUI: Fixed API not functioning. ( PR1367 ) Fixed API not storing alert rule names ( PR1372 ) Fixed datetimepicker use ( PR1376 ) Added 'running' status for BGP peers as up ( PR1412 ) Fixed the remove search link in devices ( PR1413 ) Fixed clicking anywhere in a search result will now take you to where you want ( PR1472 ) Fixed inventory page not displaying results ( PR1488 ) Fixed buggy alert templating in WebUI ( PR1527 ) Fixed bug in creating api tokens in Firefox ( PR1530 ) Discovery / Poller: Do not allow master to rejoin itself. ( PR1377 ) Fixed poller group query in discovery ( PR1433 ) Fixed ARMv5 detection ( PR1522 ) Fixed pfSense detection ( PR1567 ) Sensors: Fixed bug in EqualLogic sensors ( PR1513 ) Fixed bug in DRAC voltage sensor ( PR1521 ) Fixed bug in APC bank detection ( PR1560 ) Documentation: Fixed Nginx config file ( PR1389 ) General: Fixed a number of permission issues ( PR1411 ) Improvements Added detection for: Meraki ( PR1402 ) Brocade ( PR1404 ) Dell iDrac ( PR1419 , PR1420 , PR1423 , PR1427 ) Dell Networking OS ( PR1474 ) Netonix ( PR1476 ) IBM Tape Library ( PR1519 , PR1550 ) Aerohive ( PR1546 ) Cisco Voice Gateways ( PR1565 ) Improved detection for: RouterOS RB260GS ( PR1545 ) Dell PowerConnect ( PR1452 , PR1517 ) Brocade ( PR1548 ) Rielo UPS ( PR1381 ) Cisco IPSLAs ( PR1586 ) Additional Sensors: Added power, temperature and fan speed support for XOS ( PR1493 , PR1494 , PR1496 ) WebUI Updates: Added missing load and state icons ( PR1392 ) Added ability to update users passwords in WebUI ( PR1440 ) Default to two days performance data being shown ( PR1442 ) Improved sensors page for mobile view ( PR1454 ) Improvements to network map ( PR1455 , PR1470 , PR1486 , PR1528 , PR1557 ) Added availability map ( PR1464 ) Updated edit ports page to use Bootstrap ( PR1498 ) Added new World Map and support for lat/lng lookup ( PR1501 , PR1552 ) Added sysName to overview page for device ( PR1520 ) Added New Overview dashboard uilising Widgets ( PR1523 , PR1580 ) Added new config option to disable Device groups ( PR1569 ) Discovery / Poller Updates: Updated discovery of IP based devices ( PR1406 ) Added using cronic for poller-wrapper.py to allow cron to send emails ( PR1408 , PR1531 ) Updated Cisco MIBs to latest versions ( PR1436 ) Improve performance of unix-agent processes DB code ( PR1447 , PR1460 ) Added BGP discovery code ( PR1414 ) Use snmpEngineTime as a fallback to uptime ( PR1477 ) Added fallback support for devices not reporting ifAlias ( PR1479 ) Git pull and schema updates will now pause if InnoDB buffers overused ( PR1563 ) Documentation: Updated Unix-Agent docs to use LibreNMS repo for scripts ( PR1568 , PR1570 , PR1573 ) Added info on using MariaDB ( PR1585 ) Alerting: Added Boxcar (www.boxcar.io) transport for alerting ( PR1481 ) Removed old alerting code ( PR1581 ) General: Code cleanup and formatting ( PR1415 , PR1416 , PR1431 , PR1434 , PR1439 , PR1444 , PR1450 ) Added support for CollectD flush ( PR1463 ) Added support for LDAP pure DN member groups ( PR1516 ) Updated validate.php to check for distributed poller setup issues ( PR1526 ) Improved service check support ( PR1385 , PR1386 , PR1387 , PR1388 ) Added SNMP Scanner to discover devices within subnets and docs ( PR1577 ) June 2015 Bug fixes Fixed services list SQL issue ( PR1181 ) Fixed negative values for storage when volume is 2TB ( PR1185 ) Fixed visual display for input fields on /syslog/ ( PR1193 ) Fixed fatal php issue in shoutcast.php ( PR1203 ) Fixed percent bars in /bills/ ( PR1208 ) Fixed item count in memory and storage pages ( PR1210 ) Fixed syslog not loading ( PR1219 ) Fixed fatal on reload in IRC bot ( PR1218 ) Alter Windows CPU description when unknown ( PR1226 ) Fixed rfc1628 current calculation ( PR1256 ) Fixed alert mapping not working ( PR1280 ) Fixed legend ifLabels ( PR1296 ) Fixed bug causing map to not load when stale link data was present ( PR1297 ) Fixed javascript issue preventing removal of alert rules ( PR1312 ) Fixed removal of IPs before ports are deleted ( PR1329 ) Fixed JS issue when removing ports from bills ( PR1330 ) Fixed adding --daemon a second time to collectd Graphs ( PR1342 ) Fixed CollectD DS names ( PR1347 , PR1349 , PR1368 ) Fixed graphing issues when rrd contains special chars ( PR1350 ) Fixed regex for device groups ( PR1359 ) Added HOST-RESOURCES-MIB into Synology detection (RP1360) Fix health page graphs showing the first graph for all ( PR1363 ) Improvements Updated Syslog docs to include syslog-ng 3.5.1 updates ( PR1171 ) Added Pushover Transport ( PR1180 , PR1191 ) Converted processors and memory table to bootgrid ( PR1188 , PR1192 ) Issued alerts and transport now logged to eventlog ( PR1194 ) Added basic support for Enterasys devices ( PR1211 ) Added dynamic config to configure alerting ( PR1153 ) Added basic support for Multimatic USV ( PR1215 ) Disabled and ignored ports no longer show by default on /ports/ ( PR1228 , PR1301 ) Added additional graphs to menu on devices page ( PR1229 ) Added Docs on configuring Globe front page ( PR1231 ) Added robots.txt to html folder to disallow indexing ( PR1234 ) Added additional support for Synology units ( PR1235 , PR1244 , PR1269 ) Added IP check to autodiscovery code ( PR1248 ) Updated HP ProCurve detection ( PR1249 ) Added basic detection for Alcatel-Lucent OmniSwitch ( PR1253 , PR1282 ) Added additional metrics for rfc1628 UPS ( PR1258 , PR1268 ) Allow multiple discovery modules to be specified on command line ( PR1263 ) Updated docs on using libvirt ( PR1264 ) Updated Ruckus detection ( PR1267 ) Initial release of MIB based polling ( PR1273 ) Added support for CISCO-BGP4-MIB ( PR1184 ) Added support for Dell EqualLogic units ( PR1283 , PR1309 ) Added logging of success/ failure for alert transports ( PR1286 ) Updated VyOS detection ( PR1299 ) Added primary serial number detection for Cisco units ( PR1300 ) Added support for specifying MySQL port number in config.php ( PR1302 ) Updated alert subject to use rule name not ID ( PR1310 ) Added macro %macros.sensor ( PR1311 ) Added WebUI support for Pushover ( PR1313 ) Updated path check for Oxidized config ( PR1316 ) Added Multimatic UPS to rfc1628 detection ( PR1317 ) Added timeout for Unix agent ( PR1319 ) Added support for a poller to use more than one poller group ( PR1323 ) Added ability to use Plugins on device overview page ( PR1325 ) Added latency loss/avg/max/min results to DB and Graph ( PR1326 ) Added recording of device down (snmp/icmp) ( PR1326 ) Added debugging output for when invalid SNMPv3 options used ( PR1331 ) Added load and state output to device overview page ( PR1333 ) Added load sensors to RFC1628 Devices ( PR1336 ) Added support for WebPower Pro II UPS Cards ( PR1338 ) No longer rewrite server-status in .htaccess ( PR1339 ) Added docs for setting up Service extensions ( PR1354 ) Added additional info from pfsense devices ( PR1356 ) May 2015 Bug fixes Updated nested addHosts to use variables passed ( PR889 ) Fixed map drawing issue ( PR907 ) Fixed sensors issue where APC load sensors overwrote current ( PR912 ) Fixed devices location filtering ( PR917 , PR921 ) Minor fix to rrdcached_dir handling ( PR940 ) Now set defaults for AddHost on XDP discovery ( PR941 ) Fix web installer to generate config correctly if possible ( PR954 ) Fix inverse option for graphs ( PR955 ) Fix ifAlias parsing ( PR960 ) Rewrote rrdtool_escape to fix graph formatting issues ( PR961 , PR965 ) Updated ports check to include ifAdminStatus ( PR962 ) Fixed custom sensors high / low being overwritten on discovery ( PR977 ) Fixed APC powerbar phase limit discovery ( PR981 ) Fix for 4 digit cpu% for Datacom ( PR984 ) Fix SQL query for restricted users in /devices/ ( PR990 ) Fix for post-formatting time-macros ( PR1006 ) Honour disabling alerts for hosts ( PR1051 ) Make OSPF and ARP discovery independent xDP ( PR1053 ) Fixed ospf_nbrs lookup to use device_id ( PR1088 ) Removed trailing / from some urls ( PR1089 / PR1100 ) Fix to device search for Device type and location ( PR1101 ) Stop non-device boxes on overview appearing when device is down ( PR1106 ) Fixed nfsen directory checks ( PR1123 ) Removed lower limit for sensor graphs so negative values show ( PR1124 ) Added fallback for poller_group if empty when adding devices ( PR1126 ) Fixed processor graphs tooltips ( PR1127 ) Fixed /poll-log/ count ( PR1130 ) Fixed ARP search graph type reference ( PR1131 ) Fixed showing state=X in device list ( PR1144 ) Removed ability for demo user to delete users ( PR1151 ) Fixed user / port perms for top X front page boxes ( PR1156 ) Fixed truncating UTF-8 strings ( PR1166 ) Fixed attaching templates due to JS issue ( PR1167 ) Improvements Added loading bar to top nav ( PR893 ) Added load and current for APC units ( PR888 ) Improved web installer ( PR887 ) Updated alerts status box ( PR875 ) Updated syslog page ( PR862 ) Added temperature polling for IBM Flexsystem ( PR894 ) Updated typeahead libraries and relevant forms ( PR882 ) Added docs showing configuration options and how to use them ( PR910 ) Added docs on discovery / poller and how to debug ( PR911 ) Updated docs for MySQL / Nginx / Bind use in Unix agent ( PR916 ) Update development docs ( PR919 ) Updated install docs to advise about whitespace in config.php ( PR920 ) Added docs on authentication modules ( PR922 ) Added support for Oxidized config archival ( PR927 ) Added API to feed devices to Oxidized ( PR928 ) Added support for per OS bad_iftype, bad_if and bad_if_regexp ( PR930 ) Enable alerting on tables with relative / indirect glues ( PR932 ) Added bills support in rulesuggest and alert system ( PR934 ) Added detection for Sentry Smart CDU ( PR938 ) Added basic detection for Netgear devices ( PR942 ) addhost.php now uses distributed_poller_group config if set ( PR944 ) Added port rewrite function ( PR946 ) Added basic detection for Ubiquiti Edgeswitch ( PR947 ) Added support for retrieving email address from LDAP ( PR949 ) Updated JunOS logo ( PR952 ) Add aggregates on multi_bits_separate graphs ( PR956 ) Fix port name issue for recent snmp versions on Linux ( PR957 ) Added support for quick access to devices via url ( PR958 ) Added work around for PHP creating zombie processes on certain distros ( PR959 ) Added detection support for NetApp + disks + temperature ( PR967 , PR971 ) Define defaults for graphs ( PR968 ) Added docs for migrating from Observium ( PR974 ) Added iLo temperature support ( PR982 ) Added disk temperature for Synology DSM ( PR986 ) Added ICMP, TLS/SSL and Domain expiry service checks ( PR987 , PR1040 , PR1041 ) Added IPMI detection ( PR988 ) Mikrotik MIB update ( PR991 ) Set better timeperiod for caching graphs ( PR992 ) Added config option to disable port relationship in ports list ( PR996 ) Added support for custom customer description parse ( PR998 ) Added hardware and MySQL version stats to callback ( PR999 ) Added support for alerting to PagerDuty ( PR1004 ) Now send ack notifications for alerts that are acked ( PR1008 ) Updated contributing docs and added placeholder ( PR1024 , PR1025 ) Updated globe.php overview page with updated map support ( PR1029 ) Converted storage page to use Bootgrid ( PR1030 ) Added basic FibreHome detection ( PR1031 ) Show details of alerts in alert log ( PR1043 ) Allow a user-defined windows to add tolerance for alerting ( PR1044 ) Added inlet support for Raritan PX iPDU ( PR1045 ) Updated MIBS for Cisco SB ( PR1058 ) Added error checking for build-base on install ( PR1059 ) Added fan and raid state for Dell OpenManage ( PR1062 ) Updated MIBS for Ruckus ZoneDirectors ( PR1067 ) Added check for ./rename.php ( PR1069 ) Added install instructions to use librenms user ( PR1071 ) Honour sysContact over riding for alerts ( PR1073 ) Added services page for adding/deleting and editing services ( PR1076 ) Added more support for Mikrotik devices ( PR1080 ) Added better detection for Cisco ASA 5585-SSP40 ( PR1082 ) Added CPU dataplane support for JunOS ( PR1086 ) Removed requirement for hostnames on add device ( PR1087 ) Added config option to exclude sysContact from alerts ( PR1093 ) Added config option to regenerate contacts on alerts ( PR1109 ) Added validation tool to help fault find issues with installs ( PR1112 ) Added CPU support for EdgeOS ( PR1114 ) Added ability to customise transit/peering/core descriptions ( PR1125 ) Show ifName in ARP search if devices are set to use this ( PR1133 ) Added FibreHome CPU and Mempool support ( PR1134 ) Added config options for region and resolution on globe map ( PR1137 ) Added RRDCached example docs ( PR1148 ) Updated support for additional NetBotz models ( PR1152 ) Updated /iftype/ page to include speed/circuit/notes ( PR1155 ) Added detection for PowerConnect 55XX devices ( PR1165 ) Apr 2015 Bug fixes Fixed ack of worse/better alerts ( PR720 ) Fixed ORIG_PATH_INFO warnings ( PR727 ) Added missing CPU id for Cisco SB ( PR744 ) Changed Processors table name to lower case in processors discovery ( PR751 ) Fixed alerts path issue ( PR756 , PR760 ) Suppress further port alerts when interface goes down ( PR745 ) Fixed login so redirects via 303 when POST data sent ( PR775 ) Fixed missing link to errored or ignored ports ( PR787 ) Updated alert log query for performance improvements ( PR783 ) Honour alert_rules.disabled field ( PR784 ) Stop page debug if user not logged in ( PR785 ) Added text filtering for new tables ( PR797 ) Fixed VMWare VM detection + hardware / serial support ( PR799 ) Fix links from /health/processor ( PR810 ) Hide divider if no plugins installed ( PR811 ) Added Nginx fix for using debug option ( PR823 ) Bug fixes for device groups SQL ( PR840 ) Fixed path issue when using rrdcached ( PR839 ) Fixed JS issues when deleting alert maps / poller groups / device groups ( PR846 , PR848 , PR877 ) Fixed links and popover for /health/metric=storage/ ( PR847 ) Fixed lots of user permission issues ( PR855 ) Fixed search ip / arp / mac pages ( PR845 ) Added missing charge icon ( PR878 ) Improvements New theme support added (light,dark and mono) ( PR682 , PR683 , PR701 ) Tables being converted to Jquery Bootgrid ( PR693 , PR706 , PR716 ) Detect Cisco ASA Hardware and OS Version ( PR708 ) Update LDAP support ( PR707 ) Updated APC powernet MIB ( PR713 ) Update to Foritgate support ( PR709 ) Added support for UBNT AirOS and AirFibre ( PR721 , PR730 , PR731 ) Added support device groups + alerts to be mapped to devices or groups ( PR722 ) Added basic Cambium support ( PR738 ) Added basic F5 support ( PR670 ) Shorten interface names on map ( PR752 ) Added PowerCode support ( PR762 ) Added Autodiscovery via OSPF ( PR772 ) Added visual graph of alert log ( PR777 , PR809 ) Added Callback system to send anonymous stats ( PR768 ) More tables converted to use bootgrid ( PR729 , PR761 ) New Global Cache to store common queries added ( PR780 ) Added proxy support for submitting stats ( PR791 ) Minor APC Polling change ( PR800 ) Updated to HP switch detection ( PR802 ) Added Datacom basic detection ( PR816 ) Updated Cisco detection ( PR815 ) Added CSV export system + ability to export ports ( PR818 ) Added basic detection for PacketLogic devices ( PR773 ) Added fallback support for IBM switches for Serial / Version ( PR822 ) Added Juniper Inventory support ( PR825 ) Sharpen graphs produced ( PR826 ) Updated map to show device overview graphs and port graphs ( PR826 ) Added hostname to API call for list_alerts ( PR834 ) Added ability to schedule maintenance ( PR835 , PR841 ) Added ability to expand alert triggers for more details ( PR857 ) Added support for XTM/FBX Watchguard devices ( PR849 ) Updated Juniper MIBS and hardware rewrite ( PR838 ) Updated OpenBSD detection ( PR860 ) Added Macro support for alerting system ( PR863 ) Added support for tcp connections on rrdcached ( PR866 ) Added config option to enable / disable mouseover graphs ( PR873 ) General cleanup of files / folders permissions ( PR874 ) Added window size detection for map ( PR884 ) Added text to let users know refresh is disabled ( PR883 ) Mar 2015 Bug fixes Updates to alert rules split ( PR550 ) Updated get_graphs() for API to resolve graph names ( PR613 ) Fixed use of REMOTE_ADDR to use X_FORWARDED_FOR if available ( PR620 ) Added yocto support from entPhySensorScale ( PR632 ) Eventlog search fixed ( PR644 ) Added missing OS discovery to default list ( PR660 ) Fixed logging issue when description of a port was removed ( PR673 ) Fixed logging issue when ports changed status ( PR675 ) Shortened interface names for graph display ( PR676 ) Improvements Visual updates to alert logs ( PR541 ) Added temperature support for APC AC units ( PR545 ) Added ability to pause and resume page refresh ( PR557 ) Added polling support for NXOS ( PR562 ) Added discovery support for 3Com switches ( PR568 ) Updated Comware support ( PR583 ) Added new logo ( PR584 ) Added dynamic removal of device data when removing device ( PR592 ) Updated alerting to use fifo ( PR607 ) Added distributed poller support ( PR609 and PR610 ) Added PowerConnect 55xx ( PR635 ) Added inventory API endpoint ( PR640 ) Added serial number detection for ASA firewalls ( PR642 ) Added missing MKTree library for inventory support ( PR646 ) Added support for exporting Alert logs to PDF ( PR653 ) Added basic Ubiquiti support ( PR659 ) Numerous docs update ( PR662 , PR663 , PR677 , PR694 ) Added Polling information page ( PR664 ) Added HipChat notification support ( PR669 ) Implemented Jquery Bootgrid support ( PR671 ) Added new map to show xDP discovered links and devices ( PR679 + PR680 ) Feb 2015 Bug fixes Removed header redirect causing page load delays ( PR436 ) Fixed stale alerting data ( PR475 ) Fixed api call for port stats to use device_id / hostname ( PR478 ) Work started on ensuring MySQL strict mode is supported ( PR521 ) Improvements Added support for Cisco Wireless Controllers ( PR422 ) Updated IRC Bot to support alerting system ( PR434 ) Added new message box to alert when a device hasn't polled for 15 minutes or more ( PR435 ) Added quick links on device list page to quickly access common pages ( PR440 ) Alerting docs updated to cover new features ( PR446 ) IBM NOS Support added ( PR454 ) Added basic Barracuda Loadbalancer support ( PR456 ) Small change to the search results to add port desc / alias ( PR457 ) Added Device sub menu to access devices category directly ( PR465 ) Added basic Ruckus Wireless support ( PR466 ) Added support for a demo user ( PR471 ) Many small visual updates Added additional support for Cisco SB devices ( PR487 ) Added support to default home page for printing alerts ( PR488 ) Tidied up Alert menubar into sub menu ( PR489 ) Added historical alerts page ( PR495 ) Added battery charge monitoring for ( PR519 ) Added Slack support for alert system ( PR525 ) Added new debug for php / sql option to page footer ( PR484 ) Jan 2015 Bug fixes Reverted chmod to make poller.php executable again ( PR394 ) Fixed duplicate port listing ( PR396 ) Fixed create bill from port page ( PR404 ) Fixed autodiscovery to use $config['mydomain'] correctly ( PR423 ) Fixed mute bug for alerts ( PR428 ) Improvements Updated login page visually ( PR391 ) Added Hikvision support ( PR393 ) Added ability to search for packages using unix agent ( PR395 ) Updated ifAlias support for varying distributions ( PR398 ) Updated visually Global Settings page ( PR401 ) Added missing default nginx graphs ( PR403 ) Updated check_mk_agent to latest git version ( PR409 ) Added support for recording process list with unix agent ( PR410 ) Added support for named/bind9/TinyDNS application using unix agent ( PR413 , PR416 ) About page tidied up ( PR414 , PR425 ) Updated progress bars to use bootstrap ( PR42 ) Updated install docs to cover CentOS7 ( PR424 ) Alerting system updated with more features ( PR429 , PR430 ) Dec 2014 Bug fixes Fixed Global Search box bootstrap ( PR357 ) Fixed display issues when calculating CDR in billing system ( PR359 ) Fixed API route order to resolve get_port_graphs working ( PR364 ) Improvements Added new API route to retrieve list of graphs for a device ( PR355 ) Added new API route to retrieve list of port for a device ( PR356 ) Added new API route to retrieve billing info ( PR360 ) Added alerting system ( PR370 , PR369 , PR367 ) Added dbSchema version to about page ( PR377 ) Added git log link to about page ( PR378 ) Added Two factor authentication ( PR383 ) Nov 2014 Bug fixes Updated Alcatel-Lucent OmniSwitch detection ( PR340 ) Added fix for DLink port detection ( PR347 ) Fixed BGP session count ( PR334 ) Fixed errors with BGP polling and storing data in RRD ( PR346 ) Improvements Added option to clean old perf_times table entries ( PR343 ) Added nginx+php-fpm instructions ( PR345 ) Added BGP route to API ( PR335 ) Updated check_mk to new version + removed Observium branding ( PR311 ) Updated Edit SNMP settings page for device to only show relevant SNMP options ( PR317 ) Eventlog page now uses paged results ( PR336 ) Added new API route to show peering, transit and core graphs ( PR349 ) Added VyOS and EdgeOS detection ( PR351 / PR352 ) Documentation style and markdown updates ( PR353 ) Oct 2014 Bug fixes Fixed displaying device image in device list ( PR296 ) Fixed placement of popups ( PR297 ) Updated authToken response code in API to 401 ( PR310 ) Removed trailing / from v0 part of API url ( PR312 ) Added correct response code for API call get_vlans ( PR313 ) Updated yearly graphs to fix year variable being passed ( PR316 ) Updated transport list to be generated from $config ( PR318 ) Moved addhost button on add host page as it was hidden ( PR319 ) Added stripslashes to hrdevice page ( PR321 ) Fixed web installer issue due to variable name change ( PR325 ) Updated disabled field in api tokens ( PR327 ) Fixed daily.sh not running from outside install directory (cron) ( PR328 ) Removed --no-edit from daily.php git pull ( PR309 ) Improvements Added ability to create api tokens ( PR294 ) Added icmp and poller graphs for devices ( PR295 ) Added urldecode/urlencode support for interface names in API ( PR298 ) Added new library to support on screen notifications ( PR300 ) Added authlog purge function and improved efficiency in clearing syslog table ( PR301 ) Updated addhost page to show relevant snmp options ( PR303 ) Added limit $config for front page boxes ( PR305 ) Updated http-auth adding user to check if user already exists ( PR307 ) Added names to all API routes ( PR314 ) Added route to call list of API endpoints ( PR315 ) Added options to $config to specify fping retry and timeout ( PR323 ) Added icmp / snmp to device down alerts for debugging ( PR324 ) Added function to page results for large result pages ( PR333 ) Sep 2014 Bug fixes Updated vtpversion check to fix vlan discovery issues ( PR289 ) Fixed mac address change false positives ( PR292 ) Improvements Hide snmp passwords on edit snmp form ( PR290 ) Updates to API ( PR291 ) Aug 2014 Bug fixes Disk % not showing in health view ( PR284 ) Fixed layout issue for ports list ( PR286 ) Removed session regeneration ( PR287 ) Updated edit button on edit user screen ( PR288 ) Improvements Added email field for add user form ( PR278 ) V0 of API release ( PR282 ) Jul 2014 Bug fixes Fixed RRD creation using MAX twice ( PR266 ) Fixed variables leaking in poller run ( PR267 ) Fixed links to health graphs ( PR271 ) Fixed install docs to remove duplicate snmpd on install ( PR276 ) Improvements Added support for Cisco ASA connection graphs ( PR268 ) Updated delete device page ( PR270 ) Jun 2014 Bug fixes Fixed a couple of DB queries ( PR222 ) Fixes to make interface more mobile friendly ( PR227 ) Fixed link to device on overview apps page ( PR228 ) Fixed missing backticks on SQL queries ( PR253 / PR254 ) Fixed user permissions page ( PR265 ) Improvements Updated index page ( PR224 ) Updated global search visually ( PR223 ) Added contributors agreement ( PR225 ) Added ability to update health values ( PR226 ) Tidied up search box on devices list page ( PR229 ) Updated port search box and port table list ( PR230 ) Removed some unused javascript libraries ( PR231 ) Updated year and column for vertical status summary ( PR232 ) Tidied up the delete user page ( PR235 ) Added snmp port to $config ( PR237 ) Added documentation for lighttpd ( PR238 ) Updated all device edit pages ( PR239 ) Added IPv6 only host support ( PR241 ) Added public status page ( PR246 ) Added validate_device_id function ( PR257 ) Added auto detect of install location ( PR259 ) Mar 2014 Bug fixes Removed link to pdf in billing history ( PR146 ) librenms logs now saved in correct location ( PR163 ) Updated pfsense detection ( PR182 ) Fixed health page mini cpu ( PR195 ) Updated install docs to include php5-json ( PR196 ) Fixed Dlink interface names ( PR200 / PR203 ) Stop shortening IP in shorthost function ( PR210 ) Fixed status box overlapping ( PR211 ) Fixed top port overlay issue ( PR212 ) Updated docs and daily.sh to update DB schemas ( PR215 ) Updated hardware detection for RouterOS ( PR217 ) Restore _GET variables for logging in ( PR218 ) Improvements Updated inventory page to use bootstrap ( PR141 ) Updated mac / arp pages to use bootstrap ( PR147 ) Updated devices page to use bootstrap ( PR149 ) Updated delete host page to use bootstrap ( PR151 ) Updated print_error function to use bootstrap ( PR153 ) Updated install docs for Apache 2.3 ( PR161 ) Upgraded PHPMailer ( PR169 ) Added send_mail function using PHPMailer ( PR170 ) Added new and awesome IRC Bot ( PR171 ) Added Gentoo detection and logo ( PR174 / PR179 ) Added Engenius detection ( PR186 ) Updated edit user to enable editing ( PR187 ) Added EAP600 engenius support ( PR188 ) Added Plugin system ( PR189 ) MySQL calls updated to use dbFacile ( PR190 ) Added support for Dlink devices ( PR193 ) Added Windows 2012 polling support ( PR201 ) Added purge options for syslog / eventlog ( PR204 ) Added BGP to global search box ( PR205 ) Feb 2014 Bug fixes Set poller-wrapper.py to be executable ( PR89 ) Fix device/port down boxes ( PR99 ) Ports set to be ignored honoured for threshold alerts ( PR104 ) Added PasswordHash.php to adduser.php ( PR119 ) build-base.php update to run DB updates ( PR128 ) Improvements Added web based installer ( PR75 ) Updated login page design ( PR78 ) Ability to enable / disable topX boxes ( PR100 ) Added PHPPass support for MySQL auth logins ( PR101 ) Updated to Bootstrap 3.1 ( PR106 ) index.php tidied up ( PR107 ) Updated device overview page design ( PR113 ) Updated print_optionbar* to use bootstrap ( PR115 ) Updated device/port/services box to use bootstrap ( PR117 ) Updated eventlog / syslog to use bootstrap ( PR132 / PR134 ) Jan 2014 Bug fixes Moved location redirect for logout ( PR55 ) Remove debug statements from process_syslog ( PR57 ) Stop print-syslog.inc.php from shortening hostnames ( PR62 ) Moved some variables from defaults.inc.php to definitions.inc.php ( PR66 ) Fixed title being set correctly ( PR73 ) Added documentation to enable billing module ( PR74 ) Improvements Deleting devices now asks for confirmation ( PR53 ) Added ARP discovered device name and IP to eventlog ( PR54 ) Initial updated design release ( PR59 ) Added ifAlias script ( PR70 ) Added console ui ( PR72 ) Nov 2013 Bug fixes Updates to fix arp discovery Improvements Added poller-wrapper (f8debf4) Documentation####Improvements and additions Added auto update feature Visual updates License tidy up started Oct 2013 Initial release","title":"Changelog"},{"location":"General/Changelog/#144","text":"(2018-10-17) A big thank you to the following 31 contributors this last month: murrant (63) TheGreatDoc (16) laf (14) PipoCanaja (8) Rosiak (4) SaaldjorMike (2) therealshibe (2) mattie47 (2) jozefrebjak (2) Cormoran96 (2) sjtarik (2) dlangille (2) cchance27 (1) crazy-max (1) CFUJoshWeepie (1) trs80 (1) DR3EVR8u8c (1) Atroskelis (1) Leapo (1) vowywowy (1) FTBZ (1) jarischaefer (1) pmusolino-rms (1) crcro (1) vitalisator (1) dupondje (1) Nesousx (1) lug-gh (1) backslash7 (1) cppmonkey (1) ciscoqid (1)","title":"1.44"},{"location":"General/Changelog/#alerting","text":"Use correct ID for incident resolution in PagerDuty ( #9321 ) - laf Fixed bug of alerting by ping.php ( #9311 ) - DR3EVR8u8c Added ability to set a custom SQL query for alert rules. ( #9094 ) - laf Added support for allowing alerts to un-ack ( #9136 ) - laf Fixed PagerDuty alert to show rule name + device as summary ( #9213 ) - laf Modified timestamp sent to nagios-receiver in order to fix an issue w\u2026 ( #9140 ) - Nesousx Enable and catch exceptions for PHPMailer to gather error messages. ( #9132 ) - ciscoqid Additional debug output when sending/testing email ( #9120 ) - murrant","title":"Alerting"},{"location":"General/Changelog/#bug","text":"Use correct ID for incident resolution ( #9321 ) - laf Fixed bug of alerting by ping.php ( #9311 ) - DR3EVR8u8c Bind user before fetching ( #9312 ) - murrant Check if array exists for new alert rules and create if not ( #9303 ) - laf Fixed devices state filter when state = 0 ( #9277 ) - murrant Fixed eventlog when the device has been deleted. ( #9276 ) - murrant Config class collides with Config in model namespace ( #9249 ) - murrant Syslog fixes ( #9246 ) - murrant Disable used rules in template map for select them ( #9212 ) - TheGreatDoc Fixed edit dashboard permissions + moved to toastr ( #9236 ) - TheGreatDoc Fixed remember me ( #9233 ) - murrant Fixed PagerDuty alert to show rule name + device as summary ( #9213 ) - laf Fixed install.php redirect ( #9224 ) - murrant Allow trusted proxy via APP_TRUSTED_PROXIES ( #9196 ) - murrant Remove api rate limits ( #9211 ) - laf Fixed API auth issues ( #9185 ) - murrant Init and refresh the php session each page load ( #9186 ) - murrant Use UTC if date.timezone is not set ( #9181 ) - jarischaefer Fixed devices unpolled check ( #9199 ) - murrant Fixed anonymous bind ( #9195 ) - murrant Fixed auth user level not updated ( #9190 ) - murrant Fixed error in logout ( #9189 ) - murrant Fixed up ldap-authorizer, create non-existent users ( #9192 ) - murrant Ignore dns errors when fetching astext ( #9180 ) - murrant Fixed edit processors/storage/memory search query ( #9172 ) - TheGreatDoc Fixed remove alert rule from template ( #9173 ) - TheGreatDoc Fixed latency over 1s causes db update to fail ( #9157 ) - murrant Fixed PeeringDB module ( #9158 ) - TheGreatDoc Modified timestamp sent to nagios-receiver in order to fix an issue w\u2026 ( #9140 ) - Nesousx Fixed edgeswitch temperatures ( #9130 ) - murrant Fixed Total Chassis Power sensor_index for SmartAX MA5603T/MA5683T ( #9115 ) - TheGreatDoc Don't update ospf stats if there are none. ( #9133 ) - murrant Fixed web installer to allow users to change db creds if we can't connect ( #9126 ) - laf Fixed varchar comparision when using numeric and text sensor_index ( #9114 ) - TheGreatDoc","title":"Bug"},{"location":"General/Changelog/#device","text":"Support for Glass Way EYDFA WDM Optical Amplifier ( #9125 ) - TheGreatDoc Added support for PBI Digital Decoder ( #9223 ) - jozefrebjak Added support for Teleste Luminato ( #9061 ) - jozefrebjak Fixing Sentry 3 and 4 Temperature Sensors ( #9177 ) - sjtarik Added specific support for APC Automatic Transfer Switch ( #9221 ) - FTBZ Added Allied Telesis oxidized syslog hook support ( #9219 ) - mattie47 Collect VRP Entity details in the Huawei MIB ( #8888 ) - PipoCanaja Initial support for CXR-Networks Terminal Server ( #9169 ) - PipoCanaja Fixed ES3510MA os info ( #9150 ) - murrant Edgeswitch fans ( #9162 ) - crcro Added HPE iLO Version Polling ( #9146 ) - Rosiak Added OpenBSD Carp State Sensor ( #9143 ) - Rosiak Added Comware Power Usage ( #9016 ) - Rosiak Added support for EdgeCore ES3510MA ( #9081 ) - backslash7 Fixed Total Chassis Power sensor_index for SmartAX MA5603T/MA5683T ( #9115 ) - TheGreatDoc","title":"Device"},{"location":"General/Changelog/#webui","text":"Don't force root url ( #9308 ) - murrant Allow zoom to be decimal and switch zoomSnap to 0.1 ( #9259 ) - cchance27 Don't call to legacy auth to get dashboards. ( #9297 ) - murrant Check if array exists for new alert rules and create if not ( #9303 ) - laf Force root url if set by user ( #9266 ) - murrant Fixed devices state filter when state = 0 ( #9277 ) - murrant Keeps the dashboard sessions from expiring. ( #9263 ) - murrant Allow login with GET variables ( #9268 ) - murrant Fixed eventlog when the device has been deleted. ( #9276 ) - murrant Eventlog WebUI/backend update ( #9252 ) - murrant Syslog fixes ( #9246 ) - murrant Disable used rules in template map for select them ( #9212 ) - TheGreatDoc Update syslog display and backend ( #9228 ) - murrant Fixed edit dashboard permissions + moved to toastr ( #9236 ) - TheGreatDoc Add support for allowing alerts to un-ack ( #9136 ) - laf Fixed remember me ( #9233 ) - murrant Fixed install.php redirect ( #9224 ) - murrant Use of generate_url in Oxidized page ( #9200 ) - PipoCanaja Allow trusted proxy via APP_TRUSTED_PROXIES ( #9196 ) - murrant Show sensors warnings values + moved to json and toastr ( #9210 ) - TheGreatDoc Don't output non-fatal errors from legacy web pages. ( #9208 ) - murrant Init and refresh the php session each page load ( #9186 ) - murrant Fixed devices unpolled check ( #9199 ) - murrant Fixed anonymous bind ( #9195 ) - murrant Fixed auth user level not updated ( #9190 ) - murrant Fixed error in logout ( #9189 ) - murrant Fixed up ldap-authorizer, create non-existent users ( #9192 ) - murrant Use Laravel authentication ( #8702 ) - murrant Fixed extra large login images ( #9183 ) - murrant WebGUI Oxidized - Add author+message + refresh button ( #9163 ) - PipoCanaja Added BGP Peer Descriptions ( #9165 ) - TheGreatDoc Oxidized Device List: Link to config and refreshDevice Btn ( #9129 ) - PipoCanaja Fixed PeeringDB module ( #9158 ) - TheGreatDoc Added support for Rancid GIT ( #9036 ) - dupondje Fixed web installer to allow users to change db creds if we can't connect ( #9126 ) - laf","title":"Webui"},{"location":"General/Changelog/#documentation","text":"Doc about third-party installation supports created by the community ( #9274 ) - crazy-max Update Applications.MD ( #9280 ) - CFUJoshWeepie Added .env for subdirectory doc ( #9285 ) - murrant Missing {{ }} around $value in some examples ( #9272 ) - Atroskelis Altered EXIM Download instruction ( #9241 ) - cppmonkey Add universe repo for Ubuntu 18 install docs ( #9238 ) - therealshibe Fixed FAQ link and added delayed alerts FAQ ( #9239 ) - vowywowy Added Alliedware Plus syslog config docs ( #9220 ) - mattie47 Fixed format for snmpd configuration step ( #9203 ) - TheGreatDoc Updated example for new alerting engine ( #9193 ) - pmusolino-rms Added note to cron file advising not to disable daily.sh ( #9164 ) - murrant Added FAQ on where to update database credentials if they change ( #9127 ) - laf Added info for using macros as values ( #9156 ) - vitalisator","title":"Documentation"},{"location":"General/Changelog/#feature","text":"Updated file permissions check ( #9218 ) - murrant","title":"Feature"},{"location":"General/Changelog/#api","text":"Remove api rate limits ( #9211 ) - laf Fixed API auth issues ( #9185 ) - murrant Use Laravel authentication ( #8702 ) - murrant","title":"Api"},{"location":"General/Changelog/#security","text":"Sanitize data in dashboard add/edit/delete ( #9171 ) - murrant","title":"Security"},{"location":"General/Changelog/#143","text":"(2018-08-30) A big thank you to the following 29 contributors this last month: murrant (41) laf (15) TheGreatDoc (9) PipoCanaja (4) VanillaNinjaD (3) VVelox (2) zombah (2) DreadnaughtSec (2) metavrs (2) Evil2000 (2) dsgagi (2) gs-kamnas (1) cppmonkey (1) bonzai86 (1) dupondje (1) Landrash (1) bfarmerjr (1) theherodied (1) willhseitz (1) eastmane (1) MHammett (1) jepke (1) odvolk (1) nickhilliard (1) InsaneSplash (1) tomarch (1) crcro (1) Notre1 (1) LaZyDK (1)","title":"1.43"},{"location":"General/Changelog/#bug_1","text":"Fixed url to graphs from date selector ( #9109 ) - laf Fixed slack options not showing in the webui ( #9107 ) - laf Set ip to null when a device is renamed ( #9112 ) - murrant SNMP v3 auth is no longer checked for case sensitivity + push pass v3 creds to front of queue ( #9102 ) - laf Fixed alert notes in templates ( #9093 ) - murrant Fixed sorting on PeeringDB AS Selection table ( #9096 ) - TheGreatDoc Fixed IN db queries ( #9077 ) - murrant Fixed port_id is null in ospf poller ( #9078 ) - murrant Fixed Device- Eventlog to show rows/pages and Syslog hostname filter ( #9060 ) - TheGreatDoc Fixed ldap fetching user_id as string ( #9067 ) - murrant Fixed port customers display ( #9048 ) - murrant Fixed OSPF duplicate DB entries ( #9051 ) - murrant Fixed dbFacile null parameters ( #9031 ) - murrant Added a check for a failed dns query in get_astext() ( #9020 ) - murrant Fixed invalid json in test data ( #9015 ) - murrant Reverted parse_mode in Telegram transport ( #9000 ) - laf Linux sensors - check if value is valid before use discovery_sensor ( #8956 ) - tomarch Remove non-existent PowerNet-MIB OIDs. ( #9005 ) - murrant Fixed incorrect heartbeat for ping rrds in rrdstep.php script ( #9004 ) - willhseitz Fixed the display of sysNames within the edit device permissions ( #8986 ) - InsaneSplash Correct config template for API transport ( #8991 ) - gs-kamnas Fixed Eventlog search ( #8981 ) - TheGreatDoc","title":"Bug"},{"location":"General/Changelog/#webui_1","text":"Fixed url to graphs from date selector ( #9109 ) - laf Added dynamic graphs with RrdGraphJS by oetiker ( #9087 ) - bonzai86 Fixed PeeringDB AS Selection table ( #9096 ) - TheGreatDoc Fixed Device- Eventlog to show rows/pages and Syslog hostname filter ( #9060 ) - TheGreatDoc Fixed port customers display ( #9048 ) - murrant Convert old templates title as well as body ( #9034 ) - laf Use rrdtool_escape() for sensors instead of manually padding text ( #9029 ) - nickhilliard Added hiding of disabled ports in graph, device overview and device ports view. ( #9017 ) - Evil2000 Update Alerts widget - Also sort by timestamp, after sorting/grouping by severity. ( #8977 ) - dsgagi Display MAX rrd value in Service Graphs ( #9001 ) - PipoCanaja Updated Rockstor os and logo svgs ( #9002 ) - crcro Fixed the display of sysNames within the edit device permissions ( #8986 ) - InsaneSplash 'Disabled' and 'Down' state for devices/links rendered on NetworkMap ( #8926 ) - PipoCanaja Fix Eventlog search ( #8981 ) - TheGreatDoc Line up ping graph legend ( #8955 ) - murrant","title":"Webui"},{"location":"General/Changelog/#alerting_1","text":"Fixed slack options not showing in the webui ( #9107 ) - laf Converted PagerDuty to new transport format ( #9092 ) - laf Fixed alert notes for templates ( #9093 ) - murrant New transport modules (Kayako Classic, SMSFeedback) ( #9027 ) - odvolk Correct config template for API transport ( #8991 ) - gs-kamnas","title":"Alerting"},{"location":"General/Changelog/#documentation_1","text":"Standardized install method for RaspberryPi App ( #9014 ) - cppmonkey SNMP v3 auth is no longer checked for case sensitivity + push pass v3 creds to front of queue ( #9102 ) - laf Added installation docs for Ubuntu 18.04 ( #8630 ) - bfarmerjr Added/Updated collectd information ( #9089 ) - theherodied Fixed Debian Stretch rrdcached Base_Path ( #8966 ) - MHammett Extended the templates documentation. ( #9055 ) - Evil2000 Update validate to check for mysqlnd ( #9043 ) - murrant Snmp configuration docs for vCenter 6.x and ESXi ( #9022 ) - DreadnaughtSec Update ReadMe (postfix) ( #9019 ) - DreadnaughtSec Correct smokeping integration example ( #8997 ) - eastmane Update Distributed-Poller.md to include daily.sh use ( #8988 ) - jepke Update Fast-Ping-Check.md to include config options ( #8987 ) - murrant Added another hardware setup ( #8983 ) - LaZyDK","title":"Documentation"},{"location":"General/Changelog/#api_1","text":"SNMP v3 auth is no longer checked for case sensitivity + push pass v3 creds to front of queue ( #9102 ) - laf Additional parameters for list_alerts and list_devices API calls ( #9040 ) - dsgagi","title":"Api"},{"location":"General/Changelog/#feature_1","text":"Added dynamic graphs with RrdGraphJS by oetiker ( #9087 ) - bonzai86 Added cli options debug and bill_id to poll-billing.php ( #9042 ) - murrant Display user id for auth_test.php -l ( #9066 ) - murrant Convert zfs over to use json_app_get ( #8573 ) - VVelox Add Juniper Junos syslog notification code ( #9006 ) - zombah Improved SNMPTrap handling ( #8898 ) - TheGreatDoc Log an event for each Service Status change ( #8968 ) - PipoCanaja","title":"Feature"},{"location":"General/Changelog/#device_1","text":"Added fanspeed for EdgeSwitch ( #9013 ) - dupondje Small sysDescr_regex update for improved hiveos-wireless OS Detecttion ( #9046 ) - Notre1 Added basic Support for Arris D5 EdgeQAM ( #9083 ) - TheGreatDoc Added basic Support for Allworx VoIP Systems ( #9057 ) - VanillaNinjaD Added basic support for IBM i ( #9030 ) - VanillaNinjaD Improved SmartAX OS support. Added CPU Temperature for each card ( #9023 ) - TheGreatDoc Cleaned up Trango Apex Lynx OS code and added wireless sensors ( #9026 ) - metavrs Added support for older Airmux-400 ( #9024 ) - VanillaNinjaD Added support for Huawei iBMC ( #9011 ) - PipoCanaja Initial detection for SIAE Microelettronica ALFOplus2 microwave radio device ( #8953 ) - metavrs Update sonus-sbc detection ( #8978 ) - murrant","title":"Device"},{"location":"General/Changelog/#enhancement","text":"Isolate poller and discovery modules ( #9074 ) - murrant Check for incorrect heartbeats in rrdtstep.php script ( #9041 ) - murrant","title":"Enhancement"},{"location":"General/Changelog/#security_1","text":"Fix xss in deluser ( #9079 ) - murrant","title":"Security"},{"location":"General/Changelog/#breaking-changes","text":"Fixed slack options not showing in the WebUI. This will cause a loss of options ( #9107 ) - laf","title":"Breaking Changes"},{"location":"General/Changelog/#142","text":"(2018-08-02) A big thank you to the following 25 contributors this last month: - murrant (20) - laf (11) - PipoCanaja (5) - pheinrichs (5) - mattie47 (3) - dsgagi (3) - TheGreatDoc (3) - Rosiak (3) - InsaneSplash (3) - siegsters (2) - MHammett (2) - vivia11 (2) - crazy-max (2) - marcuspink (1) - RyanMorash (1) - daryl-peterson (1) - barajus (1) - angryp (1) - normic (1) - costasd (1) - empi89 (1) - TheMysteriousX (1) - komeda-shinji (1) - jozefrebjak (1) - asteen-nexcess (1)","title":"1.42"},{"location":"General/Changelog/#device_2","text":"VRF support on VRP devices (huawei) ( #8879 ) - PipoCanaja Add Citrix Netscaler HA sensors and alerts ( #8800 ) - siegsters Arris CMTS - C4/C4c remamed and Added C3 support ( #8883 ) - TheGreatDoc Added discovery of serverscheck flooding sensor ( #8923 ) - marcuspink Improve DCN Device Support ( #8878 ) - Rosiak Added detection for CoreOS devices ( #8899 ) - crazy-max Feature : Use IOS POE code for IOSXE ( #8853 ) - PipoCanaja Improved support for cambium cmm and added cmm4 ( #8737 ) - pheinrichs APC Environmental Manager Support ( #8872 ) - Rosiak Allied Telesis Wireless Support ( #8692 ) - mattie47 Removed nobulk option from routeros ( #8846 ) - laf","title":"Device"},{"location":"General/Changelog/#alerting_2","text":"Added new Alert Transports Mapping ( #8660 ) - vivia11 Fixed alert rules that use columns in value ( #8925 ) - laf Refactor alert templates to use Laravel Blade templating engine ( #8803 ) - laf","title":"Alerting"},{"location":"General/Changelog/#webui_2","text":"Corrected display of minigraph when using sysName as hostname ( #8842 ) - InsaneSplash Custom error page ( #8911 ) - murrant Stop allowing search text to be tagged for select2 ( #8915 ) - laf Fix plugin loading ( #8917 ) - murrant Fix errors in vars.inc.php ( #8913 ) - murrant GUI: Fix broken navigation on VRFs Page ( #8889 ) - PipoCanaja Sort alerts by severity on the Alerts widget ( #8895 ) - dsgagi Fix processor usage on edit page ( #8887 ) - murrant Fix up depth column in poller UI ( #8884 ) - TheMysteriousX Collectd graph bug fix ( #8855 ) - komeda-shinji","title":"Webui"},{"location":"General/Changelog/#feature_2","text":"Allow ping checks to be ran separately from polling ( #8821 ) - murrant Poll service check only if the associated device is available ( #8757 ) - dsgagi Support for HTML tags in TELEGRAM transport ( #8929 ) - jozefrebjak Asterisk Application support ( #8914 ) - TheGreatDoc Added new Alert Transports Mapping ( #8660 ) - vivia11 Improved Logging and Debugging ( #8870 ) - murrant Support specifying submodules in poller and discovery for debug ( #8896 ) - murrant Add sysDescr and hardware for oxidized overrides ( #8885 ) - empi89 Added support for auto purging deleted ports ( #8861 ) - laf","title":"Feature"},{"location":"General/Changelog/#documentation_2","text":"Adds missing hostname parameter ( #8961 ) - normic Update RRDCached.md ( #8959 ) - MHammett Update Smokeping.md ( #8860 ) - mattie47","title":"Documentation"},{"location":"General/Changelog/#bug_2","text":"Fixed whitespace bug in ceraos temperature sensor ( #8948 ) - laf Remove testing data ( #8945 ) - pheinrichs Fix typo in clickatell ( #8937 ) - pheinrichs Match interface counter64 OIDs with unsigned bigint ( #8940 ) - siegsters Fix foldersize() recursion ( #8930 ) - murrant Fixed alert rules that use columns in value ( #8925 ) - laf Stop allowing search text to be tagged for select2 ( #8915 ) - laf Fix plugin loading ( #8917 ) - murrant Fix arista limits ( #8916 ) - murrant Fix errors in vars.inc.php ( #8913 ) - murrant Fix can_ping_device() logic ( #8906 ) - murrant GUI: Fix broken navigation on VRFs Page ( #8889 ) - PipoCanaja Don't exit(5) without new devices discovered ( #8893 ) - costasd Fix processor usage on edit page ( #8887 ) - murrant Fix api list devices query for normal users ( #8881 ) - murrant Fix up depth column in poller UI ( #8884 ) - TheMysteriousX Collectd graph bug fix ( #8855 ) - komeda-shinji","title":"Bug"},{"location":"General/Changelog/#api_2","text":"Add sysDescr and hardware for oxidized overrides ( #8885 ) - empi89 Fix api list devices query for normal users ( #8881 ) - murrant","title":"Api"},{"location":"General/Changelog/#141","text":"(2018-06-30) A big thank you to the following 23 contributors this last month: - murrant (8) - laf (5) - vivia11 (3) - InsaneSplash (3) - isarandi (2) - asteen-nexcess (2) - f0o (1) - salt-lick (1) - utelisysadmin (1) - TheGreatDoc (1) - KlaasT (1) - angryp (1) - xpatux (1) - cron410 (1) - skoef (1) - centralscrutiniser (1) - pheinrichs (1) - theherodied (1) - mattie47 (1) - wiad (1) - hanserasmus (1) - TomEvin (1) - serhatcan (1)","title":"1.41"},{"location":"General/Changelog/#feature_3","text":"New python service ( #8455 ) - murrant Add option to ignore blockdevice regex ( #8797 ) - f0o Ability to enable debug output with wrappers ( #8830 ) - murrant","title":"Feature"},{"location":"General/Changelog/#bug_3","text":"Only list polling as overdue when it is 20% over the rrd_step value. ( #8848 ) - murrant Sanitize oxidized geshi html output ( #8847 ) - InsaneSplash Checking for 'none' as the only device relationship ( #8837 ) - salt-lick Fixed incorrect divisor for #8746 ( #8836 ) - angryp HPE ILO power fix ( #8822 ) - TomEvin Change VRFs page to group together by RD and vrf_name ( #8799 ) - vivia11 Change max load from 5000 to 50000 ( #8769 ) - isarandi Fixed missing var declaration for description search in FDB tables ( #8802 ) - wiad Fix storing metrics for SMART ( #8807 ) - isarandi","title":"Bug"},{"location":"General/Changelog/#webui_3","text":"Sanitize oxidized geshi html output ( #8847 ) - InsaneSplash Allow the hostname to resolve to the sysName, ie Dynamic DNS ( #8810 ) - InsaneSplash Disable autocomplete on SNMPv3 settings ( #8833 ) - KlaasT Change _POST to vars to get params by URL on FDB search. ( #8838 ) - xpatux Change VRFs page to group together by RD and vrf_name ( #8799 ) - vivia11","title":"Webui"},{"location":"General/Changelog/#alerting_3","text":"Revised Pushover title and severity level ( #8844 ) - InsaneSplash Add Discord transport ( #8748 ) - theherodied","title":"Alerting"},{"location":"General/Changelog/#device_3","text":"Added support for graphing pf related stats for pfsense devices ( #8643 ) - utelisysadmin Added detection for Netscaler SD-WAN devices ( #8825 ) - laf Added SNR Sensor to CMTS Arris ( #8840 ) - TheGreatDoc HPE ILO power fix ( #8822 ) - TomEvin Improved support for DNOS/FTOS M-Series ( #8749 ) - skoef Adding sensors to omnitron iconverter ( #8806 ) - vivia11 EfficientIP SOLIDserver Detections ( #8773 ) - centralscrutiniser Clean up old cambium code / migrate more data to wireless sensors ( #8725 ) - pheinrichs Added Juniper SRX Branch Session Graphing ( #8815 ) - asteen-nexcess","title":"Device"},{"location":"General/Changelog/#security_2","text":"Disable autocomplete on SNMPv3 settings ( #8833 ) - KlaasT","title":"Security"},{"location":"General/Changelog/#documentation_3","text":"Update Applications.md ( #8813 ) - mattie47 Add if label docs to os settings ( #8779 ) - murrant Added OpsGenie integration ( #8786 ) - serhatcan","title":"Documentation"},{"location":"General/Changelog/#140","text":"(2018-05-30) A big thank you to the following 24 contributors this last month: - murrant (27) - laf (15) - PipoCanaja (7) - theherodied (3) - angryp (3) - centralscrutiniser (3) - vivia11 (2) - hanserasmus (2) - pheinrichs (2) - aldemira (2) - mattie47 (2) - Rosiak (2) - Cormoran96 (2) - salt-lick (1) - nwautomator (1) - remyj38 (1) - robje (1) - rbax82 (1) - TheGreatDoc (1) - oranenj (1) - k-y (1) - gs-kamnas (1) - DR3EVR8u8c (1) - githubuserx (1)","title":"1.40"},{"location":"General/Changelog/#webui_4","text":"Allow Submenus in Plugin Menu by removing the scrollable-menu \u2026 ( #8762 ) - PipoCanaja Change alert rule triggered icon from X to ! ( #8760 ) - murrant Fix the all ports search for fSpeed - ifSpeed ( #8759 ) - laf Fix oxidized configuration fetch for empty group ( #8754 ) - oranenj Handle database exceptions properly ( #8720 ) - murrant Fix some issues with globals ( #8709 ) - murrant PoE graphs ( #8705 ) - PipoCanaja Fix device inventory page ( #8698 ) - murrant Fix two factor auth ( #8697 ) - murrant Version librenms.js to break cache ( #8696 ) - murrant Don't require mysql 5.5 or newer. ( #8695 ) - murrant Fix missing vlan name on port vlan page ( #8684 ) - murrant Add wireless sensors to about and stats.librenms.org ( #8676 ) - murrant Update for adding responsive ( #8652 ) - Cormoran96 Created a page to show all known VMs ( #8640 ) - aldemira","title":"Webui"},{"location":"General/Changelog/#security_3","text":"Don't leak passwords deep linking to a graph and logging in on Apache httpd ( #8761 ) - murrant","title":"Security"},{"location":"General/Changelog/#api_3","text":"Map LibreNMS OS' to known Oxidized models ( #8758 ) - laf System endpoint, more health graphs ( #8730 ) - pheinrichs","title":"Api"},{"location":"General/Changelog/#device_4","text":"Use CISCO-VRF-MIB for vrfs on non MPLS cisco devices ( #8756 ) - vivia11 Added SFP sensor discovery for Procurve devices ( #8746 ) - angryp Adding VRP support for FDB table using HUAWEI-L2MAM-MIB ( #8719 ) - PipoCanaja Update Barracuda Spam Firewall product name with the current name (Barracuda Email Security Gateway) ( #8682 ) - salt-lick Update juniper junos chassis definitions ( #8678 ) - nwautomator Add Open Access Netspire OS support ( #8674 ) - vivia11 Rename awplus sensor state_name ( #8671 ) - mattie47 Blue Coat device updates ( #8664 ) - centralscrutiniser Fix Netguardian OS Polling Variable ( #8655 ) - Rosiak Fortinet FortiWeb Basic Support ( #8654 ) - Rosiak Update Discovery on Ceragon wireless ( #8647 ) - pheinrichs Added sysObjectID for Canon LBP printer series ( #8644 ) - githubuserx Change Dell iDrac from Server to Appliance ( #8642 ) - theherodied","title":"Device"},{"location":"General/Changelog/#bug_4","text":"Fix oxidized configuration fetch for empty group ( #8754 ) - oranenj Bug - Apc - Humidity sensor negative value filtering ( #8743 ) - PipoCanaja Fix Mimosa PtP frequency and power ( #8741 ) - murrant Fix hostname lookup for distributed poller on some platforms ( #8727 ) - murrant Fix install ( #8724 ) - murrant Fix some issues with globals ( #8709 ) - murrant Fix device inventory page ( #8698 ) - murrant Fix two factor auth ( #8697 ) - murrant Version librenms.js to break cache ( #8696 ) - murrant Don't require mysql 5.5 or newer. ( #8695 ) - murrant Ignore plugin hook calling errors ( #8693 ) - murrant Stop Eloquent from loading another DB conn for poller/discovery ( #8691 ) - laf Fixed AD when no email address is returned ( #8690 ) - laf Fix .env migration unescaped $ in passwords ( #8688 ) - murrant Remove buffering for legacy api ( #8687 ) - laf Fix missing vlan name on port vlan page ( #8684 ) - murrant Test plugin menu method should be static. ( #8681 ) - murrant Fix alerting with dynamic contacts for rules made with the new builder ( #8677 ) - murrant Restore OpenBSD version/features/hardware ( #8673 ) - murrant Rename awplus sensor state_name ( #8671 ) - mattie47 MySQL strict mode maintenance scheduling fix. ( #8659 ) - angryp Fix for get_alert API method. ( #8658 ) - angryp Ignore bad DNS config ( #8656 ) - murrant Fix Netguardian OS Polling Variable ( #8655 ) - Rosiak Do not fail validation when IPv6 is disabled by unloading the module. ( #8648 ) - gs-kamnas Add good_if to boss ( #8641 ) - murrant","title":"Bug"},{"location":"General/Changelog/#documentation_4","text":"Update Weathermap.md ( #8747 ) - TheGreatDoc Updated installation instructions ( #8733 ) - hanserasmus Fixed a few formatting problems on applications.md ( #8716 ) - hanserasmus Updated MySQL entry. ( #8708 ) - theherodied Update Test-Units.md ( #8707 ) - mattie47 Reordering metrics list on Health-Information doc ( #8653 ) - k-y Update to add acl on list of necessary package ( #8639 ) - Cormoran96","title":"Documentation"},{"location":"General/Changelog/#enhancement_1","text":"Added SFP sensor discovery for Procurve devices ( #8746 ) - angryp","title":"Enhancement"},{"location":"General/Changelog/#alerting_4","text":"Updated variables available for templates ( #8713 ) - laf Updated parse_email() to use email_user config value ( #8706 ) - laf Added feature to filter delayed alerts on widget ( #8704 ) - DR3EVR8u8c Fix alerting with dynamic contacts for rules made with the new builder ( #8677 ) - murrant","title":"Alerting"},{"location":"General/Changelog/#feature_4","text":"PoE graphs ( #8705 ) - PipoCanaja Added feature to filter delayed alerts on widget ( #8704 ) - DR3EVR8u8c Also include adsl stats for vdsl ports ( #8670 ) - robje Plugins in the Port page ( #8665 ) - PipoCanaja Created a page to show all known VMs ( #8640 ) - aldemira","title":"Feature"},{"location":"General/Changelog/#139","text":"(2018-04-27)","title":"1.39"},{"location":"General/Changelog/#features","text":"Added random entropy support for applications ( #8555 ) Added Prometheus PushGateway metric support ( #8437 ) Added random entropy monitoring ( #8555 ) Added support for syslog Oxidized notification for Hauwei VRP devices ( #8562 )","title":"Features"},{"location":"General/Changelog/#bugfixes","text":"Fixed ePMP gps state ( #8575 ) Use email_user variable as from name for emails ( #8550 ) Apply divisor / multiplier to high / low values ( #8427 )","title":"Bugfixes"},{"location":"General/Changelog/#documentation_5","text":"Remove clause of CLA ( #8596 ) Updated Oxidized.md to show use of arrays ( #8547 )","title":"Documentation"},{"location":"General/Changelog/#refactoring","text":"Updated the oxidized script ( #8572 ) Allow _perc and _current columns to be string for alert rules ( #8532 ) Restrict storage discovery walks to OS ( #8528 ) Refactor Database and Config init ( #8527 ) Use snmp.version config to allow users to set versions available ( #8512 ) Exclude modules from json test data when empty ( #8533 ) Update include files for disco/poller to be dynamic ( #8597 ) Refactored the oxidized notify script ( #8572 )","title":"Refactoring"},{"location":"General/Changelog/#devices","text":"BDCOM use alternative MIBS ( #8610 ) Fixed polling for state sensor on ict-pdu ( #8558 ) Added detection for AeroHive AP130 Wireless. ( #8543 ) Added WTI-MPC OS and mib ( #8492 ) Added Dell Rack PDU support ( #8498 ) Added AeroHive Wireless + sensors support ( #8500 ) ( #8520 ) Added detection for 2N Helio IP devices ( #8490 ) Added additional wireless stats + CPU detection for Ruckus Wireless devices ( #8503 ) ( #8529 ) Added Last Mile CTM support ( #8478 ) Added basic Ubiquiti LTU airFiber support ( #8521 ) Added Tegile support (OS and Storage) ( #8464 ) Improved DCN support ( #8531 ) Updated Buffalo OS detection ( #8536 ) Added additional wireless support for PMP devices ( #8537 ) Added support for Dahua NVR ( #8542 ) ( #8570 ) Updated sensors and added more support for FiberHome OS ( #8549 ) ( #8569 ) Updated Cyberpower sensors and os support ( #8551 ) Added Mempools and Process support for ArubaOS ( #8548 ) Added additional sensor support for FiberHome devices ( #8561 ) Added detection for IBM DPI devices ( #8541 ) Avaya Avaya ERS and VSP to Extreme VOSS and BOSS ( #8469 ) Added detection for HWG Poseidon 4002 ( #8593 ) Rewrite state sensors to walk entire table for TIMOS ( #8588 ) Added detection for Corero CMS devices ( #8574 ) Added detection for Red Lion Sixnet devices ( #8576 )","title":"Devices"},{"location":"General/Changelog/#webui_5","text":"Update Buffalo logo to new style and svg ( #8539 ) Use toastr for alert templates operational messages ([#8499]https://github.com/librenms/librenms/pull/8499) Improved FDB search page ( #8251 ) Updated Mikrotik logo ( #8584 ) Updated FiberHome logo ( #8601 ) Updated TPLink logo ( #8613 ) Added a 3rd graph to unbound application ( #8616 )","title":"WebUI"},{"location":"General/Changelog/#alerting_5","text":"Improved VictorOps messages ( #8502 ) Added support for ack notes + alert notes ( #8433 )","title":"Alerting"},{"location":"General/Changelog/#api_4","text":"Added lat/lng to device(s) API calls ( #8515 ) Added support for returning images as base64 ( #8535 )","title":"API"},{"location":"General/Changelog/#138","text":"(2018-03-29)","title":"1.38"},{"location":"General/Changelog/#bugfixes_1","text":"Restored config items in sql queries ( #8443 ) Fixed sysname - sysName for device dependancy display ( #8343 ) MySQL query in alert_rules.json ( #8300 ) Change the column type from varchar(255) to TEXT for nagios-plugins perfdata ( #8322 ) Fixed etherlike graphs ( #8358 ) Fixed HP Proliant state sensors ( #8315 ) Change rootPort DB data type ( #8404 ) Fixed and improved toner discovery ( #8428 )","title":"Bugfixes"},{"location":"General/Changelog/#documentation_6","text":"RRDCached-Security clearify security ( #8302 ) Improved pushover documentation ( #8330 ) Updated Graylog and Syslog documentation ( #8396 )","title":"Documentation"},{"location":"General/Changelog/#devices_1","text":"Added detection for Cisco SPA devices ( #8446 ) Updated moxa-etherdevice hardware/software/version detection Added hardware and firmware detection for Hanwha Techwin devices ( #8468 ) Added additional detection for Calix B6 ( #8445 ) Added DEVELOP Support ( #8153 ) Added more Dell iDrac state sensors ( #8254 ) Improve Allied Telesis Chassis product support ( #8139 ) Added OID for Cisco FTD model 9300 Ref. #8212 ( #8285 ) Added more WirelessSensors and processor/mempools support for EWC ( #8294 ) Improved Lenovo CNOS Discovery/Logo ( #8332 ) Added detection of Axis Network Speaker ( #8336 ) Added Nimble storage volume utilization ( #8405 ) Added Radwin OS Wireless Sensors ( #8372 ) Added contact,relay,outlet discovery for AOS-EMU2 ( #8317 ) Added support for Moxa EDS-P510A-8PoE ( #8384 ) Added detection for Ciena 8700 (SAOS 8) ( #8442 ) Added better detection for HiveOS devices ( #8277 ) Added detection for Raritan KVM and EMX devices ( #8279 ) Improved detection for dlink and dlinkap devices ( #8447 ) Added serial number detection to xerox ( #8439 ) Added Phybridge OS support ( #8456 ) Improved Sentry4 sensor discovery ( #8407 ) Added Cambium pmp ap client count discovery ( #8487 )","title":"Devices"},{"location":"General/Changelog/#webui_6","text":"Added override default device grouping radius ( #8485 ) Added auto width and height dimensions parameters for generic image widget ( #8314 ) Removed unused JS causing issues with typeahead ( #8307 ) S.M.A.R.T visualization improvements ( #8310 ) Added Oxidized reload node list button ( #8375 ) Added docs link to about page ( #8397 ) Active Directory: filter disabled users, allow nested group membership for AD auth ( #8222 ) Added borderless fullscreen geographical map, with just the nodes. ( #8337 ) Improved LDAP filters for getUserlist and getUserlevel ( #8398 ) Added LDAP debug output ( #8434 ) LDAP fall back to slow search if memberof is missing ( #8491 ) Allow full search on devices page ( #8364 )","title":"WebUI"},{"location":"General/Changelog/#alerting_6","text":"Added a irc_alert_short option to only send the alert title ( #8312 ) Added Philips Hue as transport ( #8320 ) Added two html alert template examples ( #8360 ) Added alert_id to alerts for templates ( #8368 ) Added new alert rule builder UI ( #8293 ) Added support for disabling recovery notifications ( #8430 ) Change the default alert delay to 1m ( #8462 )","title":"Alerting"},{"location":"General/Changelog/#documentation_7","text":"Use single quotes in example SNMP community per issue 8342 ( #8348 ) Update SNMP-Configuration-Examples.md to add VMWare example ( #8381 )","title":"Documentation"},{"location":"General/Changelog/#misc","text":"Improve LDAP filter in the getUserlist() function ( #8253 ) Created check_graylog.inc.php service file ( #8334 ) Created check_haproxy.inc.php service file ( #8412 ) Module tests update: per module output, only store modules data that are run ( #8355 ) Updated APC PowerNet-MIB ( #8377 ) Print mysql errors in debug output ( #8414 ) Use custom phpcs ruleset for LibreNMS ( #8418 ) Updating the mibs file from vmware ( #8388 ) Small improvement to per port polling (speed boost) ( #8431 ) Fixed validation sql for primary keys and first columns ( #8453 ) Added ifAlias to tag influxdb port data ( #8461 ) Bumping CISCO-PRODUCTS-MIB to newest release ( #8483 ) Updated and improved manage_bills.php script ( #8467 )","title":"Misc"},{"location":"General/Changelog/#137","text":"(2018-02-25)","title":"1.37"},{"location":"General/Changelog/#features_1","text":"Added ironware syslog notify code ( #8268 ) Copy all email alerts to default contact ( #8178 ) Added GateOne Link ( #8189 ) Added ironware syslog notify code ( #8268 )","title":"Features"},{"location":"General/Changelog/#bugfixes_2","text":"Switch detached head for daily updates ( #8194 ) Fixed arp-tables updates ( #8180 ) Fixed FusionSwitch portname for sensors ( #8188 ) Fixed cbgp peers data on some devices ( #8208 ) Awplus fix cpu ( #8215 ) Fixed linkify to work with with ip addresses ( #8226 ) Changed e-mail validation TLD max length to 18 ( #8236 ) Fixed the HTML Purifier config so allowed values work ( #8239 ) Fixed issues with new config init ( #8242 ) Mitigate Cisco IOS 15 Stack State Issue ( #8256 ) Fix bgp peers discovery cleanup ( #8263 ) Fixed Dell N1548 CPU graphs ( #8280 )","title":"Bugfixes"},{"location":"General/Changelog/#documentation_8","text":"Changed err-msg to message for API docs ( #8182 ) Fix for syslog-ng config in the docs ( #8160 )","title":"Documentation"},{"location":"General/Changelog/#refactoring_1","text":"Removed Unused Billing PDF reports ( #8235 ) Update awplus to new processor discovery ( #8204 ) Major Processors rewrite ( #8066 ) Remove composer deps from the repository ( #6920 ) Share code between all mysql based authorizers ( #8174 ) Use more secure password hashes ( #8213 ) Adding invalid hostnames is no longer fatal ( #8233 ) Correct unix socket handling to match poller-wrapper ( #8214 ) Move config loading into the Config class ( #8100 ) Generic snmp_translate() function ( #8156 )","title":"Refactoring"},{"location":"General/Changelog/#devices_2","text":"Added support for ScreenOS arp tables ( #8273 ) Added support for OpenBSD PF states ( #8211 ) Added support for F5 GTM ( #8161 ) Added support for Airos CPU, GPS, and Temp ( #8203 ) Updated support for XOS X480 and X650 desc and tests ( #8206 ) Updated Cisco Processor support ( #8216 ) Added OPNsense support ( #8199 ) Updated StoneOs support ( #8155 ) Added Allied Telesis Environmental Monitoring ( #8140 ) Update support for Brocade G620 description ( #8250 ) Added CeraOS wireless sensors ( #8167 )","title":"Devices"},{"location":"General/Changelog/#webui_7","text":"Updated jquery_lazyload ( #8287 ) Updated datetime lib ( #8288 ) Allow sorting by toner and searching ( #8247 ) Updated vis js and moment js ( #8240 ) Added sysNames to pulldowns and the main page ( #8137 ) Adding invalid hostnames is no longer fatal. ( #8233 ) Allow administrators to edit devices sysName ( #8149 ) Allow frameborder attribute in notes widget ( #8219 ) Updated vis js and moment js ( #8240 )","title":"WebUI"},{"location":"General/Changelog/#api_5","text":"Added Billing Graphs Data ( #8245 ) Added History to Billing API Functions ( #8209 )","title":"API"},{"location":"General/Changelog/#alerting_7","text":"Case insensitive alert rule searching ( #8231 ) Updated email subject for failed updates to include hostname ( #8258 ) Set Content-type header in the API transport if the text to be sent is valid JSON ( #8282 )","title":"Alerting"},{"location":"General/Changelog/#136","text":"(2018-01-30)","title":"1.36"},{"location":"General/Changelog/#features_2","text":"Added powerdns dnsdist application ( #7987 ) Added ZFS support for FreeBSD ( #7938 ) Added snmp_getnext_multio() function ( #8052 ) Clear OS defs cache on poller/discovery debug ( #8061 ) Script to rename mibs to proper names ( #8068 )","title":"Features"},{"location":"General/Changelog/#bugfixes_3","text":"daily.sh Updated to resolve release version issues ( #8172 ) Make consistent with other authorisers ( #8151 ) Pushover message fix to enable templates ( #8118 ) Bgp-peers junos empty afi-safi names ( #8083 ) Fixed the default fping config + changed variable name ( #8060 ) Override -H for check_load service. Fixed backslash escaping. ( #8020 ) Fix can't find CPQHOST-MIB ( #8024 ) Bgp-peers add missing os junos safi values ( #8018 ) Cisco-vrf discovery for device os junos ( #8009 ) Stop stripping html tages from snmp creds ( #7951 ) Fixed bugs in bgp-peers poller ( #7976 ) Fix mark all unread notifications ( #7999 ) Fix deletion of services + select query ( #8030 ) Moved sysDescr snmp call to snmp_get_multi_oid() in core poller ( #8062 ) Fixed bad queries for top device widget ( #8105 ) Stop including disabled ports in traffic overview ( #8107 ) Specify table name for list_devices API call ( #8132 ) Fixed Palo Alto HA alert rule ( #8138 ) Fixed arp table duplicates ( #8147 ) Fixed normal user access to performance tab ( #8150 ) Changed is_file() to rrdtool_check_rrd_exists() ( #8152 )","title":"Bugfixes"},{"location":"General/Changelog/#documentation_9","text":"Emphasize snmpsim is required for most tests ( #8059 ) Doc api fixes ( #7950 ) Added ports purge to cleanup options ( #7970 )","title":"Documentation"},{"location":"General/Changelog/#refactoring_2","text":"Moved routeros sensors to yaml + fixed divisors ( #7946 ) Remove all old style snmp calls ( #7924 ) Fail2ban update and removal of FW checking ( #7936 ) Refactor freeradius appplication metrics ( #8002 ) Move ignore_storage call to discover_storage ( #7973 ) Updated poller/discovery to use numeric sysObjectID ( #7922 ) Move installs to php53 branch for php version 5.6.4 ( #8042 ) Rename cisco-vrf to vrf and enabled junos ( #8033 ) Updated BGP Peers ( #7972 )","title":"Refactoring"},{"location":"General/Changelog/#devices_3","text":"Added Support for cambium PTP 300, 500, 600 and 800 ( #7998 ) Added support for ArbOS ( #8055 ) Added processor and mempools for EdgeCore switch ( #7850 ) Updated Cisco ACS Detection ( #8013 ) Added Rittal IT Chiller / Carel pCOweb card ( #7826 ) Added cyberpower RMCARD 202 Support ( #7964 ) Added additional detection for CyberPower devices ( #7931 ) Added further detection for Sophos UTM devices ( #7953 ) Added Cambium cnPilot Support ( #7898 ) Added more sensor support for RouterOS (Mikrotik) + Test data ( #7930 ) Added Checkpoint Gaia Sensor ( #8088 ) Added Dell iDRAC Global System Sensor ( #8012 ) Added CheckPoint SecurePlatform support ( #8000 ) Fixed AirOS version and Hardware ( #8034 ) Fixed UniFi AP hardware and firmware revision ( #8005 ) Added Hillstone StoneOS detection ( #7982 ) Added Allied Telesis CPU support ( #8111 ) Updated legacy Allied Telesis hardware support ( #8071 ) Added EER and Water Florw Rate for Rittal Chillers ( #8104 ) Added memory and temp polling for Dlink ( #8076 ) Added Hardware/Version/Serial support for Synology ( #8087 ) Updated hardware for certain awplus devices ( #8123 ) Updated FortiManager support ( #8102 ) Added suspended state for panos ( #8125 )","title":"Devices"},{"location":"General/Changelog/#webui_8","text":"Added back devices sort by status ( #8103 ) Small graylog cleanup ( #8057 ) Small eventlog cleanup ( #8056 ) Added OpenWRT icon ( #8054 ) Devices header cleanup ( #8039 ) Added validation for Oxidized API URL config ( #7978 ) Wireless pages refresh ( #7836 ) HPMSM added CPU,Memory to Overview ( #7949 ) Added Single server details widget ( #7923 ) Improved Services page ( #7628 ) Improved Alerts page ( #7765 ) Improved Eventlog page ( #7793 ) Improved Syslog page ( #7796 ) Improved Devices page ( #7809 ) Improved Ports page ( #7827 ) Improved Graylog page ( #7832 ) Improved Health / Sensors page ( #7834 ) Improved Wireless page ( #7836 ) Improved Applications page ( #7994 ) Added Oxidized config validator ( #7983 ) Added settings validations ( #8037 )","title":"WebUI"},{"location":"General/Changelog/#api_6","text":"Added add_service_for_host endpoint to API ( #8113 ) Added dependency info for devices/device api calls ( #8058 ) Added 404 fallback for bad / invalid calls ( #7952 ) Added routing and resources API calls ( #8017 )","title":"API"},{"location":"General/Changelog/#alerting_8","text":"Updated Pushover to use templates ( #8118 )","title":"Alerting"},{"location":"General/Changelog/#135","text":"(2017-12-20)","title":"1.35"},{"location":"General/Changelog/#features_3","text":"Generic discovery and poller tests ( #7873 ) FreeRADIUS application monitoring ( #7818 ) Save application metrics to db for alerting ( #7828 ) Added Entity State polling ( #7625 ) Added manage_bills.php script to scripts directory ( #7633 ) Added Host dependencies support for alerting ( #7332 )","title":"Features"},{"location":"General/Changelog/#bugfixes_4","text":"Agent tries to insert processes data that is too long ( #7891 ) Remove faulty memcached code (not related to distributed polling) ( #7881 ) Re-added peeringdb back into daily.sh ( #7884 ) Don't work around bad implementations in snmpwalk_group ( #7876 ) Some graphs broke due to stacked graphs, remove that change ( #7848 ) Fixed UPS time remaining in Mikrotik RouterOs ( #7803 ) Fixed get_all_ports() for api not returning ports on admin tokens ( #7829 ) Validate ifHighSpeed is 0 in selected port polling ( #7885 ) Added user level to getUser for LDAP authentication ( #7896 ) ipmi sensors sending the wrong tags to influxdb ( #7906 )","title":"Bugfixes"},{"location":"General/Changelog/#documentation_10","text":"Minor fix to device sensors doc ( #7874 ) Create device sensor help doc. ( #7868 ) Updated sensor state doc ( #7822 ) Build new Cleanup Options doc ( #7798 )","title":"Documentation"},{"location":"General/Changelog/#refactoring_3","text":"Stop sending emails to \"NOC\" for default_email target ( #7917 ) Refactor alert transports to classes ( #7844 ) Update all applications to store metrics ( #7853 )","title":"Refactoring"},{"location":"General/Changelog/#devices_4","text":"Added state sensor support for HPE MSA devices ( #7808 ) Added temp and humidity sesors + serial for websensor (renamed from cometsystem-p85xx) ( #7854 ) Added Mikrotik POE sensors ( #7883 ) Added Mikrotik LLDP discovery ( #7901 ) Update wireless sensors for Ray and Alcoma devices ( #7820 ) Added support EdgeCore ECS4120-28T ( #7880 ) Added Junos dwdm interface sensor support ( #7714 ) Added detection for Cisco FTD devices ( #7887 )","title":"Devices"},{"location":"General/Changelog/#webui_9","text":"Timezone support for graylog ( #7799 ) Added support for stacked graphs ( #7725 ) Added ability to mark all notifications as read ( #7489 ) Disabled page refresh on Add services page ( #7804 ) Added diskusage to top devices widget ( #7903 )","title":"WebUI"},{"location":"General/Changelog/#api_7","text":"Added Retrieve BGP sessions by ID ( #7825 ) Fixed disabling tokens ( #7833 ) Added support for wireless sensors ( #7846 ) Added API method to rename devices ( #7895 )","title":"API"},{"location":"General/Changelog/#alerting_9","text":"Validate email addresses used in alerting ( #7830 ) Added generic alerting for state sensors ( #7812 )","title":"Alerting"},{"location":"General/Changelog/#134","text":"(2017-11-26)","title":"1.34"},{"location":"General/Changelog/#features_4","text":"Added additional sensors for ups-nut Track rrdtool time for poller ( #7706 ) Implement snmp_getnext() ( #7678 ) LDAP auth update: alerts, api, remember me ( #7335 ) Support a wider range of link speeds in network maps ( #7533 ) Allow snmpget in os discovery yaml ( #7587 ) Check cli timezone from the validation webpage ( #7648 ) Selected ports polling per OS ( #7674 ) Added purge-port scipt to allow deleting of ports from the CLI. ( #7528 ) Extra fping checks in validation ( #7651 ) Added support for setting php memory_limit in config.php ( #7704 ) Script to collect port polling data and compare full walk vs selective port polling ( #7626 ) Allow discovery to check if devices are down before skipping ( #7780 )","title":"Features"},{"location":"General/Changelog/#bugfixes_5","text":"Fixed precache data ( #7782 ) Authentication on CentOS6 ( #7771 ) Fixed empty group query for devices ( #7760 ) Notification read count doesn't decrement in menu bar ( #7750 ) Do not add invalid Cisco senors seen in IOS 15.6(3)M1 ( #7629 ) Revert to two gets for sysDescr and sysObjectID ( #7741 ) Fixed Brocade ironware processor precision ( #7730 ) Basic input validation for screen width and height ( #7713 ) Better sanity checks of fping options. Devices detected as ibmtl or generic ( #7618 ) Added primary key to perf_times to improve DELETE performance on replicas using ROW based replication ( #7493 ) Fail isPingable() if fping fails, take 2 ( #7585 ) Update ifIndex update on polling when ifIndex is not the port association mode ( #7574 ) ( #7575 ) Fix Services container alignment ( #7583 ) Availability-map showed ping devices as warning ( #7592 ) discovery.php -h all stops working after ping only device ( #7593 ) Improve poller validation ( #7586 ) Only show the neighbour tab if there are neighbors to show ( #7591 ) Updated hpe iPdu to remove power and fix load values ( #7596 ) Function snmp_get delete quotes in snmp query ( #7467 ) Better sanity check of hostname when adding device. ( #7582 ) github-apply sometimes fails on PRs with lots of commits ( #7604 ) PING fails on servers that don't set PATH in cron ( #7603 ) Correct sensor ID when removing device. ( #7611 ) Fixed status services up/down inverse values ( #7657 ) Better validation on callback url for Pagerduty integration ( #7658 ) Fixed number comparisons in alerts and device groups ( #7695 ) Fallback to snmpgetnext if db is unavailable ( #7698 ) Errors with missing posix extension ( #7666 ) Fixed component status log ( #7723 ) Fixed bgpPeers_cbgp discovery for junos ( #7743 ) Fixed incorrect mail validation if ( #7755 ) Fixed discovery-wrapper.py discovery.nodes can sometimes be None when not master ( #7747 ) Fixed bgp-peers fails when ip parsing fails ( #7773 ) Fixed poller-wrapper.py keeps running when a poller takes too long ( #7722 ) Use correct entity columns for sensors ( #7775 ) Discovery os changes weren't properly reflected if os changed ( #7779 )","title":"Bugfixes"},{"location":"General/Changelog/#documentation_11","text":"Minor changes and fixes to Alert Rules ( #7789 ) Added Web UI rename device. ( #7769 ) SNMP config for Mac OSX ( #7767 ) Continue to reorganize docs ( #7762 ) Fix for rule mapping ( #7751 ) Added sudo guidelines for Proxmox ( #7739 ) Added sudo suggestion for SMART monitoring ( #7738 ) VM images recommended user update ( #7737 ) Install Docs Update for min PHP ver ( #7630 ) Added video link showing how to add ping only device ( #7711 ) Fix layout changes to dashboard. ( #7693 ) Create new docs on using dashboards ( #7688 ) Added Ping Only Device ( #7687 ) Added allow graphs without login ( #7675 ) Added device-troubleshooting page ( #7638 ) Added WebUI to Validate docs ( #7635 ) Minor spelling fix for device-troubleshooting ( #7689 ) Fix for VM images doc. ( #7740 ) Added syslog cleanup option ( #7581 ) How to add Weathermaps to Dashboards ( #7636 ) Added command to fetch shell script for DHCP Stats ( #7736 ) Added ports template to alert rules doc ( #7763 )","title":"Documentation"},{"location":"General/Changelog/#refactoring_4","text":"Better default temperature sensor limits ( #7754 ) Switch to using discovery-wrapper.py by default ( #7661 ) Rewrite a bit of the irc bot ( #7667 ) Added the Nvidia SM average as app_status ( #7671 ) Refactored authorizers to classes ( #7497 ) Only update sensor/bgp tables when values are changed ( #7707 )","title":"Refactoring"},{"location":"General/Changelog/#devices_5","text":"Updated Checkpoint Gaia detection and added storage ( #7656 ) Added additional APC rPDU2 Sensors ( #7490 ) Initial detection for Arris Cable Modem devices ( #7677 ) Removed unused poller/discovery modules for Arista EOS ( #7709 ) Update hwg-ste and add hwg-ste-plus support ( #7610 ) Added state sensors for Palo Alto Networks firewall ( #7482 ) Added additional sensors for logmaster Os Added Temp and Humidity support for ServersCheck devices ( #7588 ) Added support for Avtech RoomAlert 32E/W and RoomAlert 11E ( #7614 ) Added support for Eltek enexus ( #7552 ) Added support for Stormshield devices ( #7646 ) Added support for Asentria SiteBoss ( #7655 ) Added humidity sensors for hwg-ste ( #7728 ) Addedd sensor support for UPS NUT devices ( #7622 )","title":"Devices"},{"location":"General/Changelog/#webui_10","text":"Don't disable the applications check boxes in settings if the discovery module is disabled. ( #7615 ) Added toner support in health metrics list ( #7595 ) Hide rediscover button for ping only devices ( #7594 ) Added Health/sensor view for specific device/ports/port ( #7684 ) Updated poll-log page to honour force_ip_to_sysname ( #7712 ) Expose pollers link to show total poll time for all devices per poller ( #7699 ) Updated sensors overview header to be consistent with others ( #7761 ) Allow deletion of dead poller nodes ( #7721 )","title":"WebUI"},{"location":"General/Changelog/#api_8","text":"Added support for Oxidized asking for a single host ( #7705 ) Validate columns parameter against fields in table ( #7717 ) Stop list_logs skipping first row ( #7772 )","title":"API"},{"location":"General/Changelog/#alerting_10","text":"Added in dell server sensors alert rules to the collection ( #7647 )","title":"Alerting"},{"location":"General/Changelog/#133","text":"(2017-10-29)","title":"1.33"},{"location":"General/Changelog/#features_5","text":"Support for up/down detection of ping only devices. Improve Device Neighbour WebUI ( #7487 ) Configurable 95th percentile ( #7442 ) Added AD support nested groups (resubmit #7175) ( #7259 ) Added configurable 95th percentile for graphs ( #7442 ) Added sysname as filtering group for oxidized ( #7485 ) CDP matching incorrect ports ( #7491 ) Issue warning notification if php version is less than 5.6.4 ( #7418 ) Added Web validation support ( #7474 ) Support for up/down detection of ping only devices ( #7323 )","title":"Features"},{"location":"General/Changelog/#bugfixes_6","text":"rfc1628 state sensor translations ( #7416 ) snmpwalk_group tables not using entries ( #7427 ) Improve accuracy of is_valid_hostname() ( #7435 ) snmp_get_multi returns no data if the oid doesn't contain a period ( #7456 ) Fixed clickatell alert transport ( #7446 ) Escape sql credentials during install ( #7494 ) Fixed OEM ipmi sensors that returns unreadable values ( #7518 ) Fixed ospf polling not removing stale data ( #7503 ) LLDP discovery change local port resolution ( #7443 )","title":"Bugfixes"},{"location":"General/Changelog/#documentation_12","text":"Include Freeswitch in applications doc ( #7556 ) Added more example hardware ( #7542 ) Update syslog docs to prevent dates in the future/past ( #7519 ) Alerts glues ( #7480 ) Improve CentOS 7 and Ubuntu 16 rrdcached installation instructions ( #7473 ) Re-organize install docs ( #7424 ) Added HipChat V2 WebUI Config Example ( #7486 ) Alert rules, added in the alert rules videos ( #7512 ) Updated references for ##librenms to discord ( #7523 ) Document discovery and poller module enable/disable support ( #7505 ) OpenManage including info for windows ( #7534 ) Added SSL config for CentOS 7 with Apache ( #7529 ) Added Dynamic Configuration UI for Network-Map.md ( #7540 ) New doc for weathermap ( #7536 )","title":"Documentation"},{"location":"General/Changelog/#devices_6","text":"Always allow empty ifDescr on fortigate ( #7547 ) Added temperature sensor to datacom switches. ( #7522 ) Added more Procera interfaces ( #7422 ) Added firewall graphs for Palo Alto Networks firewall ( #7483 ) Added support for Alcoma wireless devices ( #7476 ) Added detection for SmartOptics T-Series devices ( #7433 ) Added more support for Avocent devices ( #7444 ) Added Dlink dap2660 add processors and mempools ( #7428 ) Added additional zywall-usg support ( #7405 ) Added Dlink dap2660 processors and mempools ( #7428 ) Added technicolor TG650S and TG670S ( #7420 ) Added support for alternate Equallogic SNMP sysObjectId ( #7394 ) Added zyxelnwa storage, mempools and wireless metrics ( #7441 ) Added Storage, Memory pools, new status (Array Controller, Logical Drive) for HP ILO4 ( #7436 ) Added Support for ApsoluteOS / Defense Pro Hw ( #7440 ) Added support for Huawei OceanStor devices ( #7445 ) Added detection for Racom OS RAy (# 7466 ) Improved Zhone MXK Discovery ( #7488 ) Added support for EATON-ATS devices ( #7448 ) Added support for Alcoma devices ( #7476 ) Added support for zywall usg vpn state and flash usage ( #7500 ) Added Brocade IronWare interface dBm sensor support ( #7434 ) Added Unifi AC HD detection ( #7516 ) Added initial detection for netmodule NB1600 ( #7514 ) Added support for new Fiberhome OLT Models ( #7499 ) Added support for logmaster(ups vendors) os/devices ( #7524 ) Added poller modules to ceraos ( #7470 ) Added more detection for IgniteNet FusionSwitch ( #7384 ) Added Mitel Standard Linux OS Support ( #7513 ) Updated Cisco WAP detection and merged in ciscosmblinux OS ( #7447 ) Added detection for Proxmox ( #7543 )","title":"Devices"},{"location":"General/Changelog/#alerting_11","text":"Added alert rules for RFC1628 UPS to the collection ( #7415 ) Added HP iLo and OS-updates rules to the collection ( #7423 ) Added more simple rules for the alert collection ( #7430 )","title":"Alerting"},{"location":"General/Changelog/#refactor","text":"Discovery protocols re-write ( #7380 )","title":"Refactor"},{"location":"General/Changelog/#webui_11","text":"Show only authorized services in availability map ( #7498 ) Allow user to display ok/warning/critical alerts only ( #7484 )","title":"WebUI"},{"location":"General/Changelog/#security_4","text":"Stop accepting other variables in install that we do not use ( #7511 ) source: General/Changelog.md","title":"Security"},{"location":"General/Changelog/#132","text":"(2017-10-01)","title":"1.32"},{"location":"General/Changelog/#features_6","text":"Added more rules to the collection of alert rules ( #7363 ) Allow ignore_mount, ignore_mount_string, ignore_mount_regex per OS ( #7304 ) Added script to generate config for new OS ( #7161 ) Added Syslog hook for ASA support ( #7268 )","title":"Features"},{"location":"General/Changelog/#bugfixes_7","text":"If session save path is \"\", php will use /tmp ( #7359 ) rfc1628 runtime - allow os quirks ( #7340 ) Small error when checking ios for wireless rssi ( #7300 ) Use Netscaler vserver full names ( #7279 ) Slower hardware can hit the schema update response timeout ( #7296 ) Do not issue non-master warning if on the release update channel ( #7297 ) Fixed quotes breaking powerdns app data ( #7111 ) Updated graph_types table so graph_subtype has no default value ( #7285 ) Fixed IPv6 host renaming ( #7275 ) Fixed Comware Processor Discovery Hardware Info ( #7206 ) Added Extreme OS mapping to 'gen_rancid' ( #7261 ) Reverted previous active directory changes #7254 ( #7257 ) Fixed Avtech sensor discovery ( #7244 ) Corrected variable for timeout messages in unix-agent.inc.php ( #7246 ) Update notification for users with updates disabled ( #7253 ) Fixed the empty() vlan detection check ( #7241 ) Re-added changes for #6959 removed by accident in #7128 ( #7240 ) Issues with Geist Watchdog sensors Issues with Geist Watchdog miss-named variable in sensor pre-caching internal humidity and temperature was discovered twice humidity was mis-spelled in yaml discovery temperature and current had incorrect divisor in yaml","title":"Bugfixes"},{"location":"General/Changelog/#documentation_13","text":"Added new faq Why would alert un-mute itself? ( #7403 ) Added performance suggestion for 1min polling documentation Updated Distributed poller doc as rrdcached needs -R to work properly ( #7393 ) Updated docs to include installing xml php modules + updated validate ( #7349 ) Reorganize authentication documentation ( #7329 ) Update RRDCached.md to clarify version for client/server ( #7320 ) Elaborated on permission issues with dmidecode for snmp ( #7288 ) Update Distributed-Poller.md to remove distributed_poller_host Added debug to services.md ( #7238 ) Fixed API-Docs Link in webui ( #7242 ) Updated Services.md include chmod +x ( #7230 )","title":"Documentation"},{"location":"General/Changelog/#refactoring_5","text":"Rewrite is_valid_port() ( #7360 ) rfc1628 sensor tidy up ( #7341 ) Added detection of vlan name changes ( #7348 ) Rewrite is_valid_port() ( #7337 ) Use the Config class includes/discovery ( #7299 ) Updated ldap auth to allow configurable uidnumber field ( #7302 ) Improve yaml state discovery ( #7221 ) Added IOS-XR Bundle-Ether shortened/corrected forms ( #7283 )","title":"Refactoring"},{"location":"General/Changelog/#devices_7","text":"Added basic detection for hanwha techwin devices ( #7397 ) Added sensor detection for APC In Row RD devices ( #7385 ) Added better hardware and version identification for SAF ( #7378 ) Added basic os for EricssonLG ES switches ( #7289 ) Updated Engenius OS detection ( #7365 ) Added detection for DPS Telecom NetGuardian ( #7326 ) Added support for Alpha FXM UPS devices ( #7324 ) Added detection for IgniteNet FusionSwitch devices Added support for A10 ACOS devices ( #7327 ) Added more detection for Cisco SB devices Added support for routeros to pull UPS info Added additional detection for Cisco small business switches ( #7317 ) Added sensor support for Himoinsa Gensets ( #7315 ) Added support for SmartOptics M-Series ( #7314 ) Added DHCP Leases Graph for Mikrotik ( #7333 ) Added support for Toshiba RemotEye4 devices ( #7312 ) Added additional Quanta detection ( #7316 ) Added additional detection for Calix devices ( #7325 ) Added detection for Himoinsa Gensets ( #7295 ) Added detection for ServerChecks ( #7308 ) Added support for Saf Integra Access points ( #7292 ) Added basic Open-E detection ( #7301 ) Updated Arista entity-physical support to use high/low values from device ( #7156 ) Added support for Mimosa A5 ( #7287 ) Updated state sensor code for Netonix Added support for Radware / AlteonOS OS/Mem/Proc ( #7220 ) Added support for DragonWave Horizon ( #7264 )","title":"Devices"},{"location":"General/Changelog/#webui_12","text":"Updated alert rule collection to be table ( #7371 ) Show how long a device has been down if it is down ( #7336 ) Makes the .availability-label border-radius fit in with the border a bit better Added device description to overview page ( #7328 ) Greatly reduces application memory leak for dashboard ( #7215 )","title":"WebUI"},{"location":"General/Changelog/#api_9","text":"Added ability to supports CORS for API ( #7357 ) Added simple OSPF API route ( #7298 )","title":"API"},{"location":"General/Changelog/#131","text":"(2017-08-26)","title":"1.31"},{"location":"General/Changelog/#features_7","text":"Notify about failed updates, block detectable bad updates ( #7188 ) Improve install process ( #7223 ) Active Directory user in nested groups ( #7175 ) sysV init script for the IRC bot ( #7170 ) Create librenms-irc.service ( #7087 ) Forced OS Cache rebuild for unit tests ( #7163 ) New IP parsing classes. Removes usage of Pear Net_IPv4 and Net_IPv6. ( #7106 ) Added support to cisco sensors to link them to ports + macro/docs for alerting ( #6959 ) snmp exec support ( #7126 )","title":"Features"},{"location":"General/Changelog/#bugfixes_8","text":"Updated dump_db_schema() to use default 0 if available ( #7225 ) Comware dBm Limits Comware Sensor Descr ( #7216 ) Update gen_rancid.php to the correct arista os name ( #7214 ) Use Correct Comware dBm Limits ( #7207 ) Correct memory calculation for screenos ( #7191 ) Cambium ePMP CPU reporting fix ( #7182 ) Send zero for fields without values for graphite ( #7176 ) Sanitize metric name before sending via graphite ( #7173 ) Fixed dump_db_schema / validate to work with newer versions of MariaDB ( #7162 ) Escape sensor_descr_fixed in dBm sensors graph ( #7146 ) Fixed issue with column size of ifTrunk ( #7125 ) Bug in ipv62snmp function ( #7135 ) Fixed Raspberry Pi sensors ( #7131 ) Check session directory is writable before install.php ( #7103 ) Raritan CPU temperature discovery ( #7130 ) Strip \" and / from snmpwalk_cache_oid() ( #7063 ) Fixed Raspberry Pi sensors support ( #7068 ) Added missing get_group_list() to ldap-authorization auth method ( #7102 ) Service warning/critical alert rules ( #7105 ) Added device status reason to up messages. ( #7085 ) Fix string quoting in snmp trim ( #7120 ) Fix missed call to removed is_ip function ( #7132 ) fix bugs introduced to address-search ( #7138 ) Update avaya-ers.inc.php ( #7139 ) Fix RPI frequency/voltage sensors ( #7144 ) Attempt to fix repeated sql issue we come across ( #7123 ) multiple fixes under agentStpSwitchConfigGroup in EdgeSwitch-SWITCHIN ( #7180 ) Fixed typo Predicated - Predicted (2 instances) ( #7222 )","title":"Bugfixes"},{"location":"General/Changelog/#documentation_14","text":"Updated index page for new alerting structure ( #7226 ) Updated some old links for alerting ( #7211 ) Updated CentOS 7 + Nginx install docs ( #7209 ) Update CentOS 7 + Nginx install docs to set SCRIPT_FILENAME ( #7200 ) Update Component.md ( #7196 ) Update Two-Factor-Auth formatting ( #7194 ) Update IRC-Bot for systemd use ( #7084 ) Updated API docs formatting ( #7187 ) Updated alerting docs / formatting ( #7185 ) Swap mdx_del_ins with pymdownx.tilde ( #7186 ) Centralised the Metric storage docs ( #7109 ) Allow host renames with selinux enforcing for CentOS installs ( #7136 ) Update Using-Git.md ( #7178 )","title":"Documentation"},{"location":"General/Changelog/#refactoring_6","text":"Use anonymous functions for debug error_handler and shutdown_function in index.php ( #7219 ) Updated validate.php to only warn users the install is out of date if 24 hours ( #7208 ) Udated edgecos OS polling ( #7149 ) Ability to edit default alert template ( #7121 ) Replace escapeshellcmd with Purifier in service checks ( #7118 ) Use ifName if ifDescr is blank #7079","title":"Refactoring"},{"location":"General/Changelog/#devices_8","text":"Stop discoverying frequencies on Raritan devices that do not exist + added voltage ( #7195 ) Added FDB and ARP support for edgeswitch devices ( #7199 ) Added additional sensor support for Sentry4 devices ( #7198 ) Added additional vlan support for Juniper devices ( #7203 ) Added Kemp LoadMaster Version Info ( #7205 ) Updated fans/temp detection for Brocade VDX devices( #7183 ) Added further sensor support for Geist Watchdog ( #7143 ) Added detection for Hitachi Data Systems SAN ( #7160 ) Udated edgecos OS polling to include more models Updated AKCP sensorProbe detection ( #7152 ) Added additional sensor support for Cisco ONS ( #7096 ) Added RSSI Support for Cisco IOS wireless devices ( #7147 ) Added support for Gude ETS devices ( #7145 ) Added support for Trango Apex Lynx OS ( #7142 ) Added dry contact state support for AKCP devices ( #7124 ) Added fan and temp sensor state discovery Avaya ERS ( #7134 ) Added support for Emerson energy systems ( #7128 ) Added detection for Alteon OS ( #7088 ) Added additional sensors for Microsemi PowerDsine PoE Switches ( #7114 ) Added detection for NEC Univerge devices ( #7108 ) Added VLAN discovery support for Avaya ERS devices ( #7098 ) Added ROS support for state sensors and system temps Removed check for switch model or firmware version for Avaya ERS switches Updated QNAP to include CPU temps ( #7110 ) Added basic VLAN disco support for Avaya-ERS switches ( #7098 ) Update ees.yaml to use correct overview graphs ( #7137 ) Update edgecos OS polling to include more models ( #7153 ) Added Raspbian Logo ( #7201 )","title":"Devices"},{"location":"General/Changelog/#webui_13","text":"Added ability for users to configure selectable times for graphs ( #7193 ) Updated pi-hole graphs for better grouping ( #7179 ) Removed ability to use OR for generating rules ( #7150 ) Update avaya-ers to use ifName for displaying ( #7113 )","title":"WebUI"},{"location":"General/Changelog/#security_5","text":"Security Patch to deal with reported vulnerabilties ( #7164 )","title":"Security"},{"location":"General/Changelog/#130","text":"(2017-07-27)","title":"1.30"},{"location":"General/Changelog/#features_8","text":"Added script to test alerts ( #7050 ) Config helper to simplify config access ( #7066 ) Add timeout to AD auth, default is 5s ( #6967 ) Ignore web server log files ownership in validate ( #6943 ) Added new parallel snmp-scan.py to replace snmp-scan.php ( #6889 ) Add a new locking framework that uses flock. ( #6858 ) Support fdb table on generic devices ( #6902 ) Added support for sensors to be discovered from yaml ( #6859 ) Improved install experience ( #6915 ) Updated validate to detect lower case tables + added support for checking mariadb 10.2 timestamps ( #6928 ) Added support for sending metrics to OpenTSDB ( #7022 ) Further improvements and detection added to validate ( #6973 ) Added JIRA transport for alerts ( #7040 ) Log event if device polling takes too long ( #7065 )","title":"Features"},{"location":"General/Changelog/#bugfixes_9","text":"Allow discovery of IAP radios on Aruba Virtual Controller Netbotz state sensors using wrong value ( #7027 ) Fixed Rittal LCP sensor divisors ( #7014 ) Set event type alert for alert log entries ( #7013 ) Fixed netman voltage and load divisor values ( #6905 ) Fixed the index for sentry3 current + updated mibs ( #6911 ) Fixed checks for $entPhysicalIndex/$hrDeviceIndex being numeric ( #6907 ) Fixed perf_times cleanup so it actually runs ( #6908 ) Updated sed commands to allow rrdstep.php to be used to increase and decrease values ( #6941 ) Fixed FabOS state sensors ( #6947 ) Fixed FDB tables multiple IPs and IPs from other devices adding extra rows ( #6930 ) Fixed bug get_graph_by_port_hostname() only searching hostnames ( #6936 ) Include state descriptions in eventlog ( #6977 ) Eltek Valere initial detection ( #6979 ) Fixed all mib errors in base mib directory ( #7002 ) Show fatal config.php errors on the web page. ( #7023 ) Define standard ups-mib divisors properly ( #6942 ) When force adding, use the provided snmp details rather than from $config ( #7004 ) Change .htaccess to compensate for Apache bug ( #6971 ) Use the correct high/high warn thresholds for junos dbm sensors ( #7056 ) Stop loading all oses when we have no db connection ( #7003 ) Restore old junos version code as a fallback ( #6945 )","title":"Bugfixes"},{"location":"General/Changelog/#documentation_15","text":"Updated SNMP configuration Documentation ( #7017 ) A couple of small fixes to the dynamic sensor docs ( #6922 ) Update Rancid Integration","title":"Documentation"},{"location":"General/Changelog/#refactoring_7","text":"Use the new locks for schema updates ( #6931 ) Finish logic and definition separation for auth ( #6883 ) Added ability specify options for sensors yaml discovery ( #6985 ) Return more descriptive error when adding duplicate devices on sysName ( #7019 )","title":"Refactoring"},{"location":"General/Changelog/#devices_9","text":"Added additional PBN detection Added more support for APC sensors ( #7039 ) Added sensors for Mikrotik using mtxrOpticalTable + updated MIB ( #7037 ) Added additional sensors support for HP ILO4 ( #7053 ) Added wireless sensors for SAF Tehnika ( #6975 ) Added Calix AXOS/E5-16F Detection ( #6926 ) Added more sensor support for raritan devices ( #6929 ) Added ExtremeWireless support ( #6819 ) Added Rittal LCP Liquid Cooling Package ( #6626 ) Added Detect for Toshiba Tec e-Studio printers ( #6984 ) Added Valere system sensors and os detection ( #6981 ) Added Savin printer support ( #6982 ) Added sensor support for APC IRRP 100/500 devices ( #7024 ) Added additional sensors for APC IRRP100 Air Conditionner series ( #7006 ) Added detection for Gestetner printers ( #7038 ) Added FDB support for IOS-XE devices ( #7044 ) Added detection for Siemens Ruggedcom Switches ( #7052 ) Added CiscoSB Port Suspended Status Info ( #7064 ) Added CiscoSB DOM Support ( #7072 ) Added support for temp and processor discovery on Avaya ERS3500 ( #7070 ) Added detection for TSC Barcode printer ( #7074 ) Added state sensor for HPE MSL ( #7058 ) Added PBN AIMA3000 detection ( #7083 ) Updated UBNT Airos type to wireless ( #6867 ) Updated IOS-XE detection for 3000 series devices (like 3850) ( #6983 ) Updated JunOS os polling to detect version correctly ( #6904 ) Updated Radwin detection ( #6918 ) Updated Gamatronic ups use sysObjectID for os discovery ( #6940 ) Updated HPE MSM Support ( #7026 ) Updated powerwalker sensor discovery to use custom mib ( #7020 ) Updated Cisco IOS XE Version Parsing ( #7073 )","title":"Devices"},{"location":"General/Changelog/#webui_14","text":"Facelift for alert templates, also added bootgrid ( #7041 ) Set correct button text when editing an alert template ( #6916 ) Minor visual changes in schedule maintenance window and its modal ( #6934 ) Fixed issues with http-auth when the guest user is created before the intended user ( #7000 ) Delhost: Added an empty option for device selection, and a minor db performance fix ( #7018 ) Loading speed improvement when viewing syslogs for specific device ( #7062 )","title":"WebUI"},{"location":"General/Changelog/#security_6","text":"Enable support for secure cookies ( #6868 )","title":"Security"},{"location":"General/Changelog/#api_10","text":"Added api routes for eventlog, syslog, alertlog, authlog ( #7071 )","title":"API"},{"location":"General/Changelog/#129","text":"(2017-06-24)","title":"1.29"},{"location":"General/Changelog/#features_9","text":"New snmpwalk_group() function ( #6865 ) Added support for passing state to alert templates test Added option to specify transport when testing a template ( #6755 ) Added support to use IP addresses for NfSen filenames ( #6824 ) Added pi-hole application support ( #6782 ) Added some more coloring and make it easier to colorize messages for irc bot ( #6759 ) Added syslog auth failure to alert_rules.json ( #6847 ) Added support to use IP addresses for NfSen filenames ( #6824 ) Added Irc host authentication ( #6757 ) Added Syslog hooks for Oxidized integration (and more) ( #6785 )","title":"Features"},{"location":"General/Changelog/#bugfixes_10","text":"config_to_json.php does not pull in database configuration settings ( #6884 ) Updated sysObjectId column in devices table to varchar(128) ( #6832 ) Strip \" from rPi temp sensor discovery ( #6815 ) Check for ifHCInOctets and ifHighSpeed before falling back to if\u2026 ( #6777 ) Updated Raspberry Pi Temp sensor discovery ( #6804 ) Fix bad Cisco dBm discovery on some IOS versions ( #6789 ) Ircbot - reformatted strikethrough for recovered alerts ( #6756 ) Ensure rrdtool web settings aren't overwrote by defaults ( #6698 ) Add column title under device bgp tab ( #6747 ) Custom config.php os settings ( #6850 ) Fix for syslog-messages from zywall (USG series) ( #6838 )","title":"Bugfixes"},{"location":"General/Changelog/#documentation_16","text":"Reorganised alerting docs + added some clarifications ( #6869 ) Update Ubuntu and CentOS nginx install doc with a better nginx config ( #6836 ) Added note to configure mod_status for Apache application ( #6810 ) Updated ask people to contribute documentation ( #6739 ) Reorganize auto-discovery docs and add a little info ( #6875 )","title":"Documentation"},{"location":"General/Changelog/#devices_10","text":"Added support for Radwin 5000 Series ( #6876 ) Added support for Chatsworth PDU (legacy old pdus not sure model number) ( #6833 ) Added detection for Microsemi PowerDsine PoE Midspans ( #6843 ) Added additional sensors to Axis camera ( #6827 ) Added Quanta lb6m device support ( #6816 ) Added hardware and version from AirOS 8.x ( #6802 ) Added support for processor and memory for 3com devices ( #6823 ) Added state sensors to HP Procurve ( #6814 ) Added detection for Atal Ethernetprobe ( #6778 ) Updated vmware vcsa hardware/version detection ( #6783 ) Added C.H.I.P. power monitor ( #6763 ) Updated cisco-iospri to check for numeric + named ifType and included new cisco mibs ( #6776 ) Added detection for Arris C4c ( #6662 ) Added Current Connections Graph for Cisco WSA ( #6734 ) Added detection for AXIS Audio Appliances ( #6830 ) Added basic support for CradlePoint WiPipe Cellular Broadband Routers ( #6695 ) Added Avaya VSP Temperature Support ( #6692 ) Added support for ADVA FSP150CC and FSP3000R7 Series ( #6696 ) Updated Oracle ILOM detection ( #6779 ) Added Cisco ASR, Nexus, etc. PSU State sensor ( #6790 ) Updated Cisco NX-OS detection ( #6796 ) Added more detection for Bintec smart devices ( #6780 ) Added support for Schneider PowerLogic ( #6809 ) Updated Cisco Unified CM detection and renamed to ucos ( #6813 ) Added basic Support for Benu OS ( #6857 )","title":"Devices"},{"location":"General/Changelog/#webui_15","text":"Added \"system name\" for the \"Services list\" ( #6873 ) Allow editing and deleting of lapsed alert schedules ( #6878 ) Add bootgrid for authlog page, and fix poll-log searchbar layout on smaller screens ( #6805 ) Updated all tables to have the same set number of items showing ( #6798 ) Allow iframe in notes widget ( #6773 ) Load google maps js library only if globe map widget is used Added service alert rules ( #6772 ) Added syslog auth failure to alert_rules.json ( #6847 ) Fixed dashboard slowness with offline browser ( #6718 ) Update graphs to use safer RRD check ( #6781 ) Populate a sorted device list ( #6781 )","title":"WebUI"},{"location":"General/Changelog/#alerts","text":"Added elasticsearch transport and docs ( #6797 ) Update irc transport to use templates ( #6758 )","title":"Alerts"},{"location":"General/Changelog/#api_11","text":"Added search by os to list_devices ( #6861 )","title":"API"},{"location":"General/Changelog/#refactor_1","text":"Discovery code cleanups ( #6856 )","title":"Refactor"},{"location":"General/Changelog/#128","text":"(2017-05-28)","title":"1.28"},{"location":"General/Changelog/#features_10","text":"Update Juniper MSS Support ( #6565 ) Added ability to whitelist ifDescr values from being ignored with good_if ( #6584 ) Added additional Unbound chart for query cache info ( #6574 ) Wireless Sensors Overhaul ( #6471 ) Updated BIND application ( #6218 ) Added script (scripts/test-template.php) to test alert templates ( #6631 ) Improve Juniper MSS Support ( #6565 )","title":"Features"},{"location":"General/Changelog/#bugfixes_11","text":"Added dell to mib_dir for windows / linux ( #6726 ) Fix marking invalid ports as deleted in discovery ( #6665 ) Improve authentication load time and security ( #6615 ) Page/graph load speed: part 1 ( #6611 ) Fixed radius debug mode ( #6623 ) Actives PRI calls on Cisco can be an array ( #6607 ) MySQL app graphs with rrdcached ( #6608 ) Fix issue with wireless sensors when there are too many oids ( #6578 ) Fix GE UPS voltage factor ( #6558 ) Try to fix load for eaton-mgeups ( #6566 ) Validate prefer capabilities over suid for fping ( #6644 ) When force adding devices with v3, actually store the details ( #6691 ) Fixed uptime detection ( #6705 )","title":"Bugfixes"},{"location":"General/Changelog/#documentation_17","text":"Create code of conduct page ( #6640 ) Add all current wireless types. ( #6603 ) Added seconds is the time unit. ( #6589 )","title":"Documentation"},{"location":"General/Changelog/#refactoring_8","text":"Added lock support to ./discovery.php -h new to prevent overlap ( #6568 ) OS discovery tests are now dynamic ( #6555 ) DB Updates will now file level lock to stop duplicate updates ( #6469 ) Increased speed of loading syslog pages ( #6433 ) Moved default alert rules into the collection ( #6621 ) Modest speedup to database config population ( #6636 ) Pretty mysql for alerts breaks regex rules ( #6614 ) Updated vlan discovery to support JunOS ( #6597 )","title":"Refactoring"},{"location":"General/Changelog/#devices_11","text":"Added Wireless Support For Cisco IOS-XE( #6724 ) Improve Aerohive Support ( #6721 ) Added support for Halon Gateway ( #6716 ) Added basic HPE OpenVMS detection ( #6706 ) Added additional sensor state sysCmSyncStatusId for F5 Added more health information for APC units ( #6619 ) Updated Lancom LCOS detection ( #6651 ) Added 3 Phase APC UPS Support #2733 #5504 ( #5558 ) Added FWSM recognition to PIX OS ( #6569 ) Aruba Instant AP wireless sensor support (Freq, NoiseFloor, Power, Util) ( #6564 ) Added CPU and Memory pool for BDCom Switchs ( #6523 ) Added support for Aruba ClearPass devices ( #6528 ) Added support for Cisco's AsyncOS ( #6545 ) Added support for AKCP SecurityProbe ( #6550 ) Added support for GE UPS (#6549) ( #6553 ) Improve Extremeware and XOS detection ( #6554 ) Added more sensors for Exalt ExtendAir devices ( #6531 ) Added support for Terra sti410C ( #6598 ) Make TiMOS detection more generic, rebrand to Nokia ( #6645 ) Added HPE RT3000 UPS support ( #6638 ) Added Enhance Barracuda NG Firewall Detection ( #6658 ) Added support for Geist PDU ( #6646 ) Improved Lancom LCOS detection, added LCOS-MIB ( #6651 ) Added Basic Cisco SCE Support ( #6666 ) Added support for MRV OptiDriver Optical Transport Platform ( #6656 ) Update comware version and serial number polling ( #6686 ) Added TiMOS temperature and power supply state sensors ( #6657 ) Added state support FAN and Power Supply for Avaya VSP ( #6693 ) Added detection for Cisco EPC devices ( #6690 ) Added Wireless Support For Cisco IOS-XE ( #6724 )","title":"Devices"},{"location":"General/Changelog/#webui_16","text":"Make login form more mobile-friendly ( #6707 ) Updated link to peeringdb to use asn ( #6625 ) Disabled settings button for Shared (read) dashboards if you are not the owner ( #6596 ) Split apart max and min sensor limits, allows sorting ( #6592 ) Load device list for dropdowns using Ajax ( #6557 ) Updated remaining display options where we do not show sysName if hostname is IP ( #6585 )","title":"WebUI"},{"location":"General/Changelog/#security_7","text":"Remove possibility of xss in Oxidized and RIPE searches ( #6595 )","title":"Security"},{"location":"General/Changelog/#alerting_12","text":"Added option to enable/disable option for sending alerts to normal users ( #6590 ) Added HipChat v2 API + Color Changes ( #6669 )","title":"Alerting"},{"location":"General/Changelog/#127","text":"(2017-04-29)","title":"1.27"},{"location":"General/Changelog/#features_11","text":"Added sdfsinfo application support ( #6494 ) Allow _except suffix in yaml os discovery ( #6444 ) Added check_mssql_health.inc.php for service checks ( #6415 ) Added rrdtool version check to compare installed version with defined version ( #6381 ) Added ability to validate database schema ( #6303 ) Support powerdns-recursor SNMP extend ( #6290 ) Added cisco-vpdn to poller modules ( #6300 ) Support non-standard unix socket ( #5724 ) Added multi DB support to the Postgres app ( #6222 ) Added opengridscheduler job tracker ( #6419 ) Added location map regex replace pattern only ( #6485 ) Added nfs-server application ( #6320 ) Added support for Active Directory bind user ( #6255 )","title":"Features"},{"location":"General/Changelog/#bugfixes_12","text":"Actually reload oxidized when we should not when we think we should ( #6515 ) Don't run ipmitool without knowing a type ( #6504 ) Updated ipv4/ipv6 discovery to exclude IPs with invalid port_ids ( #6495 ) Updated enterasys mempools disco/polling to support multiple ram devices ( #6458 ) Service filenames are snipped when longer than 16 characters ( #6459 ) Updated use of ifNameDescr() to cleanPort() ( #6454 ) Allow line returns in snmprec files with the 4x data type ( #6443 ) Update Shebangs and daily.sh for FreeBSD compatibility ( #6413 ) Cisco Entity Sensor Threshold's returns 0 ( #6440 ) Updated enterasys proc discovery by setting correct index ( #6422 ) Allow unit tests without a sql server ( #6398 ) Fix broken mysql application polling ( #6317 ) Move user preferences dashboard and twofactor out of users table ( #6286 ) Fixed CPU/Mem polling for Cyberoam-UTM devices ( #6315 ) Fixed F5 ports not using hc counters ( #6294 ) Added semicolons in build.sql schema file ( #6284 ) Fixed height of widget boxes ( #6282 ) Update applications poller to use numeric oid instead of nsExtendOutputFull ( #6277 ) Compare existing device ip to host lookup like for like ( #6316 ) Fix whitespace display on RRDTool Command ( #6345 ) Vlan port mappings not removed ( #6423 ) Fix alerts not honouring interval over 5m ( #6438 ) Improve CiscoSB polling time ( #6447 ) Updated cisco and juniper component macros to exclude disabled sensors ( #6493 ) Added more safety checking into create_state_index() ( #6516 ) Fixed inconsistent device discovery ( #6518 ) Fixed notifications by email to Active Directory admins ( #6134 ) Fixed API token for Active Directory admins ( #6255 )","title":"Bugfixes"},{"location":"General/Changelog/#documentation_18","text":"Added FAQ on what disabled/ignored means for devices Updated install docs + perf to support compressing file types and using http/2 ( #6466 ) Update install docs to remove deprecated GRANT usage Update to remove the old method of signing the CLA ( #6479 ) Updated Support-New-OS doc to provide clearer information ( #6492 )","title":"Documentation"},{"location":"General/Changelog/#refactoring_9","text":"Use sysDescr to simplify the vyatta detection ( #6455 ) Move siklu os detection to yaml ( #6431 ) Move rfc1628_compat into os yaml ( #6424 ) Move Engenius discovery to yaml ( #6428 ) Move cometsystem-p85xx ( #6427 ) Update some snmpwalks for ports polling to improve speed ( #6341 ) Moved ifLabel - cleanPort and updated the usage ( #6288 ) Update ucd-diskio discovery to use index + descr as unique identifies #4670 ( #6270 ) Changed MGE UPS to APC UPS (mgeups - apc) ( #6260 ) Change Cisco UCM category from tele to collaboration ( #6297 ) Move aos discovery to yaml ( #6425 ) Move the rest of avaya os detection to yaml ( #6426 ) Move cometsystem-p85xx to yaml ( #6427 ) Move Engenius discovery to yaml ( #6428 ) Added 'Video' device group and moved Axis cameras to this group' ( #6397 ) Remove unecessary OS checks in proc / mem polling ( #6414 ) Only run pre-cache for the current OS ( #6453 ) Move ios detection to yaml using new sysDescr_except ( #6460 ) Eaton/MGE UPS reorganization ( #6388 )","title":"Refactoring"},{"location":"General/Changelog/#devices_12","text":"Added more health sensors for c c power commanders ( #6517 ) Added support for Tycon Systems TPDIN units ( #6506 ) Added basic detection for Packetflux SiteMonitor ( #6498 ) Added detection for Ericsson UPC devices ( #6472 ) Added basic detection for Geist Watchdog ( #6467 ) Added support for enLogic PDUs ( #6464 ) Added support for Eltex OLT devices ( #6457 ) Added Etherwan managed switches ( #6488 ) Added signal sensor for opengear devices ( #6401 ) Added support for Teradici PCoIP card ( #6347 ) Added basic support for Omnitron iConverters ( #6336 ) Added support for AvediaStream Encoder ( #6306 ) Added ArubaOS PowerConnect detection ( #6463 ) Added HPE iPDU detection ( #6334 ) Moved dnos health disco to powerconnect ( #6331 ) Added Nokia (Alcatel-Lucent) SAS-Sx 7210 support ( #6344 ) Added Opengear ACM7008 detection ( #6349 ) Added detection fro Juniper MSS ( #6335 ) Added sensors + additional info for HPE iPDU ( #6382 ) Added Basic Ciena (Cyan) Z-Series detection ( #6385 ) Added Coriant Network Hardware Page. ( #6187 ) Added support for Vanguard ApplicationsWare ( #6387 ) Added ICT Digital Power Supply support ( #6369 ) Added ICT DC Distribution Panel support ( #6379 ) Added more detection for Comware ( #6386 ) Added Multi-lane optics on Juniper equipment ( #6377 ) Added detection and sensor support for EMC OneFS v8 ( #6416 ) Added detection for IgniteNet HeliOS ( #6417 ) Added basic detection for Tandberg Magnum tape units ( #6421 ) Added detection for Ciena packet switches ( #6462 ) Added Cisco SG355-10P support ( #6477 ) Added mem/cpu support for TiMOS ( #6483 ) Added support for C C Commander Plus units ( #6478 ) Added Equallogic add disk status ( #6497 )","title":"Devices"},{"location":"General/Changelog/#webui_17","text":"Updated bgp table to use bootstrap properly ( #6406 ) Update poller_modules_perf to not show OS disabled module graphs ( #6276 ) Select the correct dashboard when there are no defaults. ( #6339 ) Fix redirect on login for instances behind reverse proxies ( #6371 ) Fixed the display date for the current version ( #6474 )","title":"WebUI"},{"location":"General/Changelog/#api_12","text":"Allow cidr network searches of the ARP table ( #6378 )","title":"API"},{"location":"General/Changelog/#126","text":"(2017-03-25)","title":"1.26"},{"location":"General/Changelog/#features_12","text":"Added syslog alert transport ( #6246 ) Send collected data to graphite server ( #6201 ) Added SMART application support ( #6181 ) Peeringdb integration to show the Exchanges and peers for your AS' ( #6178 ) Added support for sending alerts to Telegram #2114 ( #6202 ) Added pbin.sh to upload text to p.libren.ms ( #6175 ) Added better BGP support for Arista ( #6046 ) Added rrd step conversion script ( #6081 ) Store the username in eventlog for any entries created through the Webui ( #6032 ) Added Nvidia GPU application support ( #6024 ) Added Squid application support ( #6011 ) Added FreeBSD NFS Client/Server application support ( #6008 ) Added get_disks function ( #6058 ) Updated Nfsen integration support ( #6003 ) Added Basic Oxidized Node List ( #6017 ) Added support for dynamic interfaces in ifAlias script ( #6005 ) Added support Postfix application ( #6002 ) Added Postgres application support ( #6004 ) Added ability to show links to fixes for validate ( #6054 ) Added FreeBSD NFS Client/Server application support ( #6008 ) Added Squid application support ( #6011 ) Added Nvidia GPU application support ( #6024 ) Added app_state support for applications #5068 ( #6061 ) Send default mail when no email destinations found ( #6165 ) Added new alert rules to collection ( #6166 ) Added SMART app support ( #6181 ) Added Application discovery ( #6143 ) Added syslog alert transport and docs ( #6246 )","title":"Features"},{"location":"General/Changelog/#bugfixes_13","text":"Clear out stale alerts ( #6268 ) Remove min value for ntp* graphs #6240 Alerts that worsen or get better will now record updated info #4323 ( #6203 ) Do not show overview graphs when user only has port permissions for device ( #6230 ) Yaml files for edgeos and edgeswitch ( #6208 ) Fix Liebert humidity and temp sensors #6196 ( #6198 ) Graphs $auth check was too strict ( #6195 ) Alter the database to set the proper character set and collation ( #6189 ) Wrong NetBotz file location ( #6188 ) Change rfc1628 'state' (est. runtime and on battery) to runtime ( #6158 ) Fix the displaying of alert info for historical alerts #6092 ( #6107 ) Record actual sensor value for unix-agent hddtemp #5904 ( #6089 ) Ping perf is in milliseconds, not seconds ( #6140 ) SVG scaling issues in Internet Explorer ( #6021 ) Old / duplicate sensors would never be removed, this is fixed by setting the $type correctly #6044 ( #6079 ) Refactor ipoman cache code to use pre-cache in sensors #5881 ( #5983 ) Fixed the previous graphs for diskio/bits #6077 ( #6083 ) Update OSTicket transport to use the from email address #5739 ( #5927 ) Do not try and only include files once when they are needed again! ( #5881 ) Correct the use of GetContacts() #5012 ( #6059 ) Netonix: properly set default fanspeed limits ( #6144 ) Fix Generex load sensor divisor ( #6155 ) Sensors not being removed from database ( #6169 ) Updated http-auth to work with nginx http auth #6102 ( #6174 ) Change rfc1628 'state' (est. runtime and on battery) to runtime ( #6158 )","title":"Bugfixes"},{"location":"General/Changelog/#documentation_19","text":"Renamed the mysql extend script to just mysql ( #6126 )","title":"Documentation"},{"location":"General/Changelog/#refactoring_10","text":"Move some DNOS detection to PowerConnect #6150 ( #6206 ) Rename check_domain_expire.inc.php to check_domain.inc.php ( #6238 ) Further speed improvements to port poller ( #6037 )","title":"Refactoring"},{"location":"General/Changelog/#devices_13","text":"Added Rx levels on Ubiquiti Airfibre ( #6160 ) Added detection for Hirschmann Railswitch #6161 ( #6207 ) Support for Netscaler SDX appliances ( #6249 ) Added discovery of Cyclades ACS ( #6234 ) Added additional sensors for Liebert / Vertiv #5369 ( #6123 ) Added state detection for Dell TL4k #2752 Added support for Cyberpower PDU ( #6013 ) Added support for Digipower PDU ( #6014 ) Basic Lantronix UDS support ( #6042 ) Added detection for more Dell switches ( #6048 ) Added HPE Comware Processor Discovery ( #6029 ) Added Basic FortiWLC Support ( #6016 ) Added support for F5 Traffic Management Module mempool ( #6076 ) Added new Planet switch ( #6085 ) Added state detection for Dell TL4k ( #6094 ) Added extrahop detection ( #6097 ) Updated 3com switch detection ( #6114 ) Improved APC NetBotz Support ( #6157 ) Added state support for HP servers #5113 ( #6124 ) Added Coriant support ( #6026 ) Basic Zebra Print Server detection ( #6162 ) Added state sensor support for RFC1628 UPS ( #6153 ) Added APC NetBotz State Sensor Support ( #6167 ) Updated Sonus SBC os detection #6241 ( #6243 ) Added discovery of Cyclades ACS 6000 ( #6234 )","title":"Devices"},{"location":"General/Changelog/#webui_18","text":"Do not show disabled devices in alerts list as they stale #6213 ( #6263 ) Create correct link for BGP peers #5958 Update device overview to not show hostname when certain conditions match #5984 ( #6091 ) Display sysnames/hostnames instead of ip addresses #4155 Fix BGP Icon for global search #6031 Generex: more helpful overview graphs ( #6154 ) Added ability to set warning percentage for CPU and mempools ( #5901 ) Stop autorefresh on bill edit page #6182 ( #6193 ) Allow remember_token to be null ( #6231 ) Set the from / to for graphs in the devices list #6262 ( #6264 )","title":"WebUI"},{"location":"General/Changelog/#security_8","text":"Stop multiport_bits_separate graphs for showing regardless of auth #6101 ( #6109 )","title":"Security"},{"location":"General/Changelog/#api_13","text":"Expose ports in API requests for bills ( #6069 ) Added new route for multiport bit graphs + asn list_bgp filter ( #6129 )","title":"API"},{"location":"General/Changelog/#125","text":"(2017-02-26)","title":"1.25"},{"location":"General/Changelog/#features_13","text":"Add fail2ban application support ( #5924 ) Add additional service checks ( #5941 ) Added phpunit db setup tests ( #5594 ) Updated rrdcached stats app to support Fedora/Centos ( #5768 ) Added Cisco Spark Transport #3182 Rancid config file generator ( #5689 ) Added Rocket.Chat transport #5427 Added SMSEagle transport #5989 Added generic hardware rewrite function Collect sysDescr and sysObjectID for stats to improve os detection ( #5510 ) Update Debian's guestId for VMware ( #5669 ) Allow customisation of rrd step/heartbeat when creating new rrd files ( #5947 ) Added ability to output graphs as svg ( #5959 ) Improve ports polling when ports are still down or marked deleted ( #5805 )","title":"Features"},{"location":"General/Changelog/#bugfixes_14","text":"Syslog, pull out pam program source ( #5942 ) Load wifi module for sub10 OS ( #5963 ) Show sysName on network map when ip_to_sysname enabled ( #5962 ) Exim queue graph ( #5945 ) Updated qnap sensor code to be more generic #5910 ( #5925 ) Remove the non-functional buttons for non-admins in devices/services ( #5856 ) Various variables will all be updated if they are blank #5811 ( #5836 ) Patch generic_multi graph to fix legend overflow #5766 Update lmsensors temp sensors to support 0c values so they do not get removed #5363 ( #5823 ) Update macros with / in to have spaces ( #5741 ) Added the service parameter to checks that were missing it ( #5753 ) Ignore ports where we only have two entries in the array, this signals bad data #1366 ( #5722 ) Fixed system temperature from ipmi descr including a space at the end Incorrect hostname in the mouse-over of the services in the availability-map #5734 Mono theme panel headers black ( #5705 ) Make about page toggle look better for zoomed in browsers #5219 ( #5680 ) Ignore toners with values -2 which is unknown #5637 ( #5654 ) Check lat/lng are numeric rather than !empty #5585 ( #5657 ) Fix device edit health update icons ( #5996 ) Service module has conflicted configuration files ( #5903 ) addhost.php throw proper exception when database add fails ( #5972 ) Fix snmpbulkwalk in ifAlias script ( #5547 ) Arista watts to dbm conversion ( #5773 ) Poll DCN stats using OIDS ( #5785 ) Updated qnap sensor code to be more generic ( #5229 )","title":"Bugfixes"},{"location":"General/Changelog/#documentation_20","text":"Update Applications to use correct link for exim-stats ( #5876 ) Added info on using munin scripts #2916 ( #5871 ) Configuring SNMPv3 on Linux Updated example for using bad_if_regexp #1878 ( #5825 ) Update Oxidized integration to show example of SELinux setup Update Graylog docs to clarify ssl and hostname use","title":"Documentation"},{"location":"General/Changelog/#refactoring_11","text":"Centralise device up/down check and use in disco #5862 ( #5897 ) Convert Hikvision discovery to yaml ( #5781 ) Various Code Cleanup ( #5777 ) Updated storing of sensors data to be used in unix-agent #5904 Refactor sensor discovery ( #5550 )","title":"Refactoring"},{"location":"General/Changelog/#devices_14","text":"Add Eaton UPS Charge Sensor ( #6001 ) Added CPU and memory for Entera devices #5974 Added SEOS CPU discovery #5917 Added further detection for CiscoSB (ex Linksys) devices ( #5922 ) Updated ibmnos support for Lenovo branded devices #5894 ( #5920 ) Initial discovery for Vubiq Haulpass V60s #5745 Added further QNAP Turbo NAS detection #5229 ( #5804 ) Added support for Fujitsu NAS devices #5309 ( #5816 ) Added proc, mem and sensor support for FabricOS #5295 ( #5815 ) Added further support for Zynos / Zyxell devices #5292 ( #5814 ) Added more Netgear detection #5789 Updated DCN serial/hardware/version detection #5785 Add F5 Hardware and S/N detection ( #5797 ) Improved Xerox discovery ( #5780 ) Improved Mikrotik RouterOS and SwOS detection ( #5772 ) Improved Pulse Secure detection ( #5770 ) Improved Lancom device detection ( #5758 ) improved Brocade Network OS detection ( #5756 ) improved Dell PowerConnect discovery ( #5761 ) Improved HPE Procurve/OfficeConnect discovery ( #5763 ) Improved Zyxel IES detection ( #5751 ) Improved Fortinet Fortiswitch detection ( #5747 ) Improved Brocade Fabric OS detection ( #5746 ) Added support for HPE ILO 4 ( #5726 ) Added serial, model and version support for HPE MSL ( #5667 ) Added support for Kemp Loadbalancers ( #5668 ) Additional TPLink JetStream support ( #5909 ) Additional detection for Dasan devices ( #5711 ) Added initial support for Meinberg LANTIME OS v6 ( #5719 ) Added support for Zyxel XS ( #5730 ) Added support for Exterity AvediaPlayer ( #5732 ) Added detection for OpenGear ( #5744 ) Improved support for TiMOS (Alcatel-Lucent) switches ( #5533 ) Improved Raritan detection ( #5771 ) Added Kyocera Mita support ( #5782 ) Added detection for Toshiba TEC printer's ( #5792 ) Added support for Cyberoam UTM devices ( #5542 ) Improved hardware detection for Xerox ( #5831 ) Added further sensor support for APC units ( #2732 ) Added detction for Mellanox i5035 infiniband switch ( #5887 ) Added detection for Powerconnect M8024-k ( #5905 ) Added detection for HPE MSA storage ( #5907 )","title":"Devices"},{"location":"General/Changelog/#webui_19","text":"Update services pages New Cumulus Logo ( #5954 ) Added link to APs for alert details #5878 ( #5898 ) Set the device logo and cell to have a max width ( #5700 ) New eventlog severity classification ( #5830 ) Update Zyxel image (os/logos to .svg) ( #5855 ) Remove the non-functional buttons for non-admins in services ( #5833 ) Remove the ability to activate statistics for non-admins ( #5829 ) Add SVG logo/os icon for Generex UPS ( #5827 ) urldecode device notes #5110 ( #5824 ) Replace Ntp with NTP in Apps menu ( #5791 ) Adding text logo to HPE logo ( #5728 ) Only show sysName once if force_ip_to_sysname is enabled #5600 ( #5656 ) Add $config['title_image'] in doc and use it also for login screen ( #5683 ) Update create bill link to list bill or list bills depending on if port exists in bills #5616 ( #5653 ) Remove ifIndex for ports list but add debug button to show port info ( #5679 )","title":"WebUI"},{"location":"General/Changelog/#api_14","text":"Added the ability to list devices by location in the api ( #5693 ) IP and Port API additions ( #5784 ) Limit get_graph_by_port_hostname() to one port and exclude deleted ( #5936 )","title":"API"},{"location":"General/Changelog/#124","text":"(2017-01-28)","title":"1.24"},{"location":"General/Changelog/#features_14","text":"Basic Draytek Support ( #5625 ) Added additional information to Radwin discovery. ( #5591 ) Added Serial number support for Mikrotik Devices ( #5590 ) Support large vendor logos ( #5573 ) Added pre-commit git script to support failing fast Added basic recurring maintenance for alerts #4480 Added check for if git executable ( #5444 ) Oxidized basic config search ( #5333 ) Add support for SVG images ( #5275 ) Add mysql failed query logging + fixed queries that break ONLY_FULL_GROUP_BY ( #5327 )","title":"Features"},{"location":"General/Changelog/#bugfixes_15","text":"Logo scalling to support squarish logos ( #5647 ) top-devices widget now will honour for ip to sysName config #5388 ( #5643 ) Remove duplicate hostnames in arp search box #5631 ( #5641 ) Alert templates designer now fixed #5636 ( #5638 ) Update ifAlias script to deal with GRE interfaces ( #5546 ) Allow invalid hostnames during discovery when discovery_by_ip enabled #5525 Stop creating dashboards when user has a default that no longer exists #5610 ( #5613 ) Fix Riverbed optimization polling ( #5622 ) Html purify init wasn't done always when it was used ( #5626 ) Fixed FreeNAS detection #5518 ( #5608 ) Add extra check to Junos DOM discovery ( #5582 ) HTML Purifier would create tmp caches within the vendor folder, moved to users tmp dir #5561 ( #5596 ) PHP 7.1 function usages with too few parameters ( #5588 ) Fixed graphs for services not working ( #5569 ) Fix broken netstats ip forward polling ( #5575 ) Support hosts added by ipv6 without DNS #5567 Changing device type now is persistant ( #5529 ) Fixed JunOS bgpPeers_cbgp mistakenly removed + better support for mysql strict mode #5531 ( #5536 ) Allow overlib_link to accept a null class #5522 Stop flattening config options added in config.php ( #5493 ) Stop flattening config options added in config.php ( #5491 ) ospf polling, revert set_numeric use ( #5480 ) Updated prestiage detection #5453 ( #5470 ) Validate suid is set for fping ( #5474 ) Add missing ups-apcups application poller #5428 Linux detect by oid too ( #5439 ) APC -1 Humidity Sensor Value #5325 ( #5375 ) Fix sql errors due to incorrect cef table name #5362 Detection blank or unknown device types and update #5412 ( #5414 ) Unifi switch detection ( #5407 ) Detect device type changes and update #5271 ( #5390 ) Typo in IBM icon definition ( #5395 ) Don't support unifi clients that don't report data ( #5383 ) Fix Oxidized Config Search Output ( #5382 ) Added support for autotls in mail transport #5314 validate mysql queries ( #5365 ) OS type and group not being set ( #5357 ) Stop logging when a vm no longer is on the host being polled ( #5346 ) Dark/mono logo was incorrect ( #5342 ) Specify specific mkdocs version ( #5339 ) Correct icon for ciscosb ( #5331 ) Correction on addHost function to handle the force_add parameter in api ( #5329 ) Mikrotik cpu detection ( #5306 ) Do not use generic icon by default ( #5303 ) Update jpgraph source file to remove check for imageantialias() #5282 ( #5284 ) APC PDU2 Voltage Discovery ( #5276 ) Empty mac adds an entry to the arp table ( #5270 ) Restrict inventory api calls to the device requested ( #5267 )","title":"Bugfixes"},{"location":"General/Changelog/#documentation_21","text":"Mikrotik SNMP configuration example ( #5628 ) Add logrotate config and update install docs ( #5520 ) Added an example hardware doc for people to show what they have ( #5532 ) Added faq info on realStorageUnits ( #5513 ) Update Installation-Ubuntu-1604-Nginx.md to remove default nginx site config Updated RRDCached doc for Debain Jessie installation ( #5380 ) Updated os update application Added more info in to the github issue template ( #5370 ) Update Installation-Ubuntu-1604-Nginx.md to correct snmpd.conf location Update installation documentation on Ubuntu 16.x and CentOS 7 to use systemd ( #5324 ) Update Centos 7 nginx install steps ( #5316 ) Added section on smokeping and rrdcached use","title":"Documentation"},{"location":"General/Changelog/#refactoring_12","text":"Update collectd functions.php to use non-conflict rrd_info function #5478 ( #5642 ) Updated some default disco/poller modules to be disabled/enabled ( #5564 ) Added config option for database port ( #5517 ) Move HTMLPurifier init to init.php so we only create one object. ( #5601 ) Disable unused Cisco WAAS modules ( #5574 ) Some more os definition changes ( #5527 ) Changed Redback to SEOS, and added logo and temperature discovery #5181 Move some os from linux and freebsd discovery files to yaml ( #5429 ) MySQL strict and query fixes ( #5338 ) Sophos discovery to yaml ( #5416 ) Move include based discovery after yaml discovery ( #5401 ) Moved simple os discovery into yaml config ( #5313 ) Move mib based polling into yaml config files ( #5234 ) Use Composer to manage php dependencies ( #5216 )","title":"Refactoring"},{"location":"General/Changelog/#devices_15","text":"Added further support for Canon printers #5637 ( #5650 ) Updated generex ups support #5634 ( #5640 ) Added detection for Exinda #5297 ( #5605 ) Added additional sensor support for PowerWalker devices #5080 ( #5552 ) Added support for Brocade 200E ( #5617 ) Improve CiscoSB detection #5511 Added further detection for DCN devices #5519 ( #5609 ) Added support for Zhone MXK devices #5554 ( #5611 ) Added more detection for Procurve devices #5422 ( #5607 ) Updated detection for Dasan NOS devices #5359 ( #5606 ) Added support MGEUPS EX2200 #3364 ( #5602 ) Improve Cisco ISE detection ( #5578 ) Updated akcp discovery definition #5396 ( #5501 ) Add detection for radwin devices Update zywall and zyxelnwa detection #5343 Added support for Ericsson ES devices #5195 ( #5479 ) Add support for DocuPrint M225 ( #5484 ) Added Dell B5460dn and B3460dn printer support ( #5482 ) Added signal support for RouterOS ( #5498 ) Added additional sensor support for Huawei VRP #4279 Added loadbalancer information from F5 LTM ( #5205 ) APC Environmental monitoring units #5140 Add support for KTI switches ( #5413 ) Detect all CTC Union devices ( #5489 ) Add addition riverbed information #5170 Added support for CTC Union devices ( #5402 ) Add wifi clients for Deliberant DLB APC Button, DLB APC Button AF and DLB APC 2mi #5456 Added Tomato and AsusWRT-Merlin OS #5254 ( #5398 ) Detect Fiberhome AN5516-04B Improve Checkpoint Discovery ( #5334 ) APC in-row coolers Added additional detection for Dell UPS ( #5322 ) added more support for dasan-nos ( #5298 ) Added support for Dasan NOS #5179 + disco change ( #5255 ) Edge core OS ECS3510-52T ( #5286 ) Basic Dell UPS Support #5258 Basic Fujitsu DX Support #5260","title":"Devices"},{"location":"General/Changelog/#webui_20","text":"Final Font Awesome conversion ( #5652 ) Added ?ver=X to LibreNMS style sheets so we can force refreshes in future ( #5651 ) New generic os SVG icon ( #5645 ) New LibreNMS logo assets ( #5629 ) Center device icons. Keep device actions at two rows ( #5627 ) Additional Font Awesome icons ( #5572 ) Allows one to view a map of the SNMP location set for a device ( #5495 ) Update health menu icons Updated icons to use Font Awesome ( #5468 ) Allow billing to use un-auth graphs ( #5449 ) Update Font Awesome to 4.7.0 ( #5476 ) Update add/edit user page to use their instead of his #5457 ( #5460 ) Fix Ports Table AdminDown Search ( #5426 ) Disabled editing device notes for non-admin users ( #5341 ) Small Best Practice Fixes","title":"WebUI"},{"location":"General/Changelog/#123","text":"(2017-01-01)","title":"1.23"},{"location":"General/Changelog/#features_15","text":"Add nagios check_procs support ( #5214 ) Added support for sending email notifications to default_contact if updating fails ( #5026 ) Enable override of $config values set in includes/definitions.inc.php ( #5096 ) Add APC UPS battery replacement status #5088","title":"Features"},{"location":"General/Changelog/#bugfixes_16","text":"APC PDU2 Voltage Discovery ( #5276 ) Empty mac adds an entry to the arp table ( #5270 ) Restrict inventory api calls to the device requested ( #5267 ) Update any IP fields using inet6_ntop() #5207 Fixed passing of data to load_all_os() function ( #5235 ) Support columns filter in get_port_stats_by_port_hostname api call ( #5230 ) Restore usage of -i -n in polling ( #5228 ) Empty routing menu where only CEF is present ( #5225 ) Added service params for check_smtp ( #5223 ) Misc warning fixes in mib polling ( #5222 ) Added service params for check_imap ( #5213 ) Execute commands using the numeric conventions of the C locale. ( #5192 ) Remove usage of -CI, it is not allowed for snmpbulkwalk #5164 Update F5 fanspeed discovery ( #5200 ) Fix state_indexes for state overview sensors ( #5191 ) Better Cisco hardware formatting ( #5184 ) Cisco hardware name detection ( #5167 ) Changed sql query for state sensors on device overview page to ignore null sensor_id ( #5180 ) daily.sh install path ( #5152 ) Cleanup printing ifAlias ( #4874 ) Fixed broken http-auth auth module #5053 ( #5146 ) Fix get_port_stats_by_port_hostname() to only return non-deleted ports #5131 Stop openbsd using snmpEngineTime ( #5111 ) Update raspberrypi sensor discover to check for sensor data ( #5114 ) Add check for differently named Cisco Power sensor ( #5119 ) Ability to detect Cisco ASA version when polling a security context ( #5098 ) Fixed setting userlevel for LDAP auth #5090 Arp-table uses array_column() breaking discovery on php =5.4 ( #5099 ) Allow html but not script, head and html tags in notes widget #4898 ( #5006 )","title":"Bugfixes"},{"location":"General/Changelog/#documentation_22","text":"Updated rrdcached docs to include Ubuntu 16.x ( #5263 ) Updated Oxidized.md ( #5224 ) Removed mailing list in various places + small improvements to docs ( #5154 ) Added Remote monitoring using tinc VPN ( #5122 ) Added documentation on securing rrdcached. ( #5093 ) Adding how to configure HPE 3PAR to documentation ( #5087 ) Fixed example timezones ( #5083 )","title":"Documentation"},{"location":"General/Changelog/#refactoring_13","text":"Removed and moved more mibs ( #5232 ) Move OS definitions into yaml files ( #5189 ) Updated Ups nut support Mibs E-G ( #5190 ) Moved / deleted mibs A-D ( #5173 ) Updated location of mibs starting with S ( #5142 ) Update some devices to disable poller/disco modules by default ( #5010 ) More Cisco ASA Polling Performance Improvements ( #5104 ) Moved mibs T-U (or removed) where possible ( #5013 )","title":"Refactoring"},{"location":"General/Changelog/#devices_16","text":"Lancom wireless devices ( #5237 ) Added additional detection for Cisco WAP 321 #5172 ( #5248 ) Added support for TPLink JetStream #5194 ( #5249 ) Added HPE MSL support #5072 ( #5239 ) Added support for DCN switches #5031 ( #5238 ) Added support for Cisco APIC devices ( #5236 ) Zyxel ZyWALL Improvement #5185 Added CPU detection for Zyxel GS2200-24 ( #5218 ) removed all references to 'multimatics' and instead added generex OS Added additional support for F5 BigIP LTM objects Added additional support for Synology dsm ( #5145 ) Add OS Detection support for Alcatel-Lucent/Nokia ESS 7450 Ethernet service switch #5187 Added Bluecoat ProxySG Support ( #5165 ) Added support for Arris CMTS ( #5143 ) Added os Discovery for Brocade NOS V4.X and below. ( #5158 ) Added support for Mirth OS #2639 Juniper SA support #4328 Added support for Zyxel MES3528 ( #5120 ) Add more Edge core switches Add support for Ubiquiti EdgePoint Switch models ( #5079 )","title":"Devices"},{"location":"General/Changelog/#webui_21","text":"Standardised all rowCount parameters for tables ( #5067 )","title":"WebUI"},{"location":"General/Changelog/#security_9","text":"Update PHPMailer to version 5.2.19 ( #5253 )","title":"Security"},{"location":"General/Changelog/#v12201","text":"(2016-11-30)","title":"v1.22.01"},{"location":"General/Changelog/#bugfixes_17","text":"arp-table uses array_column() breaking discovery on php =5.4 ( #5099 )","title":"Bugfixes"},{"location":"General/Changelog/#v122","text":"(2016-11-25)","title":"v1.22"},{"location":"General/Changelog/#features_16","text":"validate list devices that have not been polled in the last 5 minutes or took more than 5 minutes to poll ( #5037 ) Add Microsoft Teams Alert Transport ( #5023 ) Added formatted uptime value for alert templates #4983 Adds support for enabling / disabling modules per OS ( #4963 ) Improve Dell OpenManage Discovery ( #4957 ) Added the option to select alert rules from a collection","title":"Features"},{"location":"General/Changelog/#bugfixes_18","text":"use password type for SMTP Auth #5051 Added alert init module to ajax_form #5058 eventlog type variable collision ( #5046 ) Fixed loaded modules for ajax search ( #5043 ) timos6-7 snmprec file error ( #5035 ) Strip out \" returned from Proxmox application #4908 ( #5003 ) Used correct variable for displaying total email count in alert capture ( #5022 ) Cisco ASA Sensor Discovery, use correct variable ( #5021 ) Stop service modal form disabling services for read-only admin ( #4994 ) dbUpdate calls now check if it is 0 or above ( #4996 ) Links on devices graphs page to take users straight to specific graph page ( #5001 ) Fixed poweralert discovery, check is now case insensitive ( #5000 ) Daily.sh log_dir failed when install_dir and log_dir were not set ( #4992 ) Merge pull request #4939 from laf/issue-4937 Remove service type from uniform display ( #4974 ) Fixed check for VRFs, so this runs on routers without any VRFs defined ( #4972 ) Api rate percent calculation incorrect ( #4956 ) Corrects path to proxmox script in docs ( #4949 ) Update debug output in service check ( #4933 ) Fujitsu PRIMERGY 10Gbe switches are now detected correctly ( #4923 ) Toner graphs with invalid chars Updated syslog table to use display() for msg output ( #4859 ) Added support for https links in alerts procedure url ( #4872 ) Updated check to use != in daily.sh ( #4916 ) Remove escape characters for services form / display #4891 Only update components if data exists in cimc entity-physical discovery #4902 Renamed hp3par os polling file to informos ( #4861 ) Updated Cisco ASA state sensors descr to be a bit more verbose","title":"Bugfixes"},{"location":"General/Changelog/#documentation_23","text":"Added FAQ on why EdgeRouters might not be detected ( #4985 ) Update freenode links ( #4935 ) Issue template to ask people to use irc / community for creating issues","title":"Documentation"},{"location":"General/Changelog/#refactoring_14","text":"Rewrite arp-table discovery ( #5048 ) Collection and output of db and snmp stats ( #5049 ) Disable modules for pbn-cp and multimatic os Centralize includes and initialization ( #4991 ) Remove inappropriate usages of truncate() ( #5028 ) Watchguard Fireware cleanup ( #5015 ) Tidy up mibs V-Z ( #4979 ) Limit perf array index length to 19 characters due to limitation in ds-name rrdtool ( #4731 ) Daily.sh updated ( #4920 ) Default to only using mysqli ( #4915 ) Start of cleaning up mibs Update wifi clients polling to support more than 2 radios ( #4913 ) Refactored and added support for $config['log_dir'] to daily.sh Improve Cisco ASA Polling Performance ( #4999 )","title":"Refactoring"},{"location":"General/Changelog/#devices_17","text":"Updated edge-core to edgecos and added further detection ( #5024 ) Added basic support for Ceragon devices Added support for Dell PowerConnect 6024 Added PBN-CP devices. Added support for Edgerouter devices #4936 Added support for Dell Remote consoles #4881 Added support for FortiSwitch #4852 ( #4858 )","title":"Devices"},{"location":"General/Changelog/#webui_22","text":"Availability map compact view, use square tiles instead of rectangles ( #5038 ) Add link to recently added device ( #5032 ) Do not show Config tab for devices set to be excluded from oxidized #4592 ( #5029 ) Update Availability-Map Widget to use sysName when IPs used and config enabled ( #4968 ) Added support for skipping snmp check on edit snmp page for devices ( #4896 ) Update wifi_clients graph ( #4846 ) Further decouple the avail-map page from the widget ( #4887 )","title":"WebUI"},{"location":"General/Changelog/#v121","text":"(2016-10-30)","title":"v1.21"},{"location":"General/Changelog/#features_17","text":"Added support for global max repeaters for snmp ( #4880 ) Added custom css and include directories which are ignored by git ( #4871 ) Add an option for ad authentication to have a default level ( #4801 ) Add ping and RxLevel for SAF devices ( #4840 ) Added ability to exclude devices from xDP disco based on sysdescr, sysname or platform Add Extra Mimosa Discovery ( #4831 ) Add support for NX-OS fan status ( #4824 ) Add osTicket Alert Transport ( #4791 ) Add SonicWALL Sessions #1686 Updated libvirt-vminfo to support oVirt Enhance Unifi Wireless Client count for multiple VAPs ( #4794 ) Added CEF Display page ( #3978 ) Added CPU detection for Synology DSM #2081 ( #4756 ) Added CPU detection for Synology DSM #2081 Stop displaying sensitive info in the settings page ( #4724 ) Added Cisco Integrated Management Console inventory and sensor support #4454 Added support for show faults array in recovery alerts ( #4708 ) Add description and notes to be used in alerts templates ( #4706 ) validate.php: check poller and discovery status ( #4663 ) Added GlobalProtect sessions to PANOS","title":"Features"},{"location":"General/Changelog/#bugfixes_19","text":"Replace \\\\l with \\l on GPRINT lines ( #4882 ) fix missing config entries on global settings page #4884 Fix the detection of NX-OS fan names ( #4864 ) API call to services only returned first one Change the wording for the create default rules button incomplete polling on aruba controllers Fixed wifi clients not reporting when value 0 ZyWALL Fixes for OS and mem polling #1652 Fix irc bot user level ( #4833 ) Updated min/max values for ubnt graphs ( #4811 ) Fix Riverbed temperature discovery ( #4832 ) only poll cipsec for cisco devices. ( #4819 ) Zywall Fixes #1652 do not show fail if running as the librenms user + slightly less false positives ( #4821 ) Do not create rrd folder when -r is specified for poller ( #4812 ) Delete all port_id references #4684 Used dos2unix on all mibs to prevent .index issue ( #4803 ) availability map multiple instances ( #4773 ) top widget multiple instances ( #4757 ) Updated bin/bash to use env in cronic script ( #4752 ) skip ip_exists function when we force add ( #4738 ) Stopped showing sub menus when empty #4713 Samsun ML typo, remove need for hex_string translation ( #4788 ) apc load, runtime and current sensors ( #4780 ) Prevent accidental anonymous binds ( #4784 ) Update brocade fanspeed description qnap temperature sensors #4586 Stop displaying sensitive info in the settings page ( #4724 ) Ignore meraki bad_uptime #4691 Fixed trying to map devices to alert rules Re-enable the edit device groups button ( #4726 ) Raise version size for packages table to 255 char ( #4656 ) Adjusted padding based on screen width to fit all icons ( #4711 ) fixed count test for cisco-otv poller module ( #4714 ) Fall back to ipNetToMediaPhysAddress when ipNetToPhysicalPhysAddress not available #4559 ipmi poller, run with USER rights and surround username and password with '' #4710 Wrapped ipmi user / pass in quotes #4686 and #4702 Use snmpv3 username even when NoAuthNoPriv is selected #4677","title":"Bugfixes"},{"location":"General/Changelog/#documentation_24","text":"homepage headers: vertical align, match color, add spacing ( #4870 ) Added FAQ on moving install to another server Updated index page to make it look more attractive ( #4855 ) Adding setup of distro script for Linux (snmpd) configuration Added doc on security and vulnerabilities Update Graylog.md ( #4717 )","title":"Documentation"},{"location":"General/Changelog/#refactoring_15","text":"populate native vlans in the ports_vlan table for cisco devices too ( #4805 ) Small poller improvements, removes unecessary queries / execs ( #4741 ) Cleanup poller include files ( #4751 ) Update alert rules to generate sql query and store in db ( #4748 ) toner support ( #4795 ) Updated and added more options for http proxy support ( #4718 ) small fixes for cisco-voice code ( #4719 ) Improve sensors polling for performance increase ( #4725 ) Improve sensors polling for performance increase Rewrite for qnap fanspeeds ( #4590 ) edituser page to allow user selection of a default dashboard ( #4551 ) snmp cleanup ( #4683 )","title":"Refactoring"},{"location":"General/Changelog/#devices_18","text":"Added support for Megatec NetAgent II Add UniFi Wireless MIB polling for Capacity #4266 Added support for Sinetica UPS \u00a24613 Added additional support for Synology DSM devices #2738 Add additional F5 sensor support ( #4642 ) Added Unifi Wireless Client statistics #4772 Additional support for Hikvision products More dnos additions #4745 ( #4749 ) Additional support for Hikvision products ( #4750 ) Add support for Moxa #4733 Add additional features to SAF Tehnika ( #4666 ) Add support for more Pulse Secure devices #4680 Add support for more DNOS devices #4627 Added support for Sinetica UPS Add support for Mimosa Wireless #4676 Add support for Mimosa Wireless #4676","title":"Devices"},{"location":"General/Changelog/#webui_23","text":"Allow users to set their default dashboard from preferences page Updated devices view ( #4700 ) Disable page refresh on the search pages. Users can manually hit the refresh on the grid. ( #4787 ) Display vlans for all devices. #4349 , #3059 Added sorting and poller time support to top-devices widget #4668","title":"WebUI"},{"location":"General/Changelog/#release-201609","text":"September 2016","title":"Release: 201609"},{"location":"General/Changelog/#features_18","text":"Added alerts output to capture system ( #4574 ) Add support for ups-apcups via snmp Add snmpsim to Travis automated testing. Update to check new setting for true and isset use snmpsim for testing fallback feature so we don't have to run snmpsim on devel computers, should be adequate for now ./scripts/pre-commit.php -u -snmpsim will start an snmpsimd.py process automatically Improved readability for snmp debug output Add last changed, connected, and mtu to all ports data Add temp state sensors to Riverbed Added support for all OS tests Added Runtime support for APC ups Capture device troubleshooting info (discovery, poller, snmpwalk) Add temp state sensors to Riverbed Add more state sensors to Dell iDrac Allow scripts to be run from any working directory ( #4437 ) New app: ups-nut ( #4386 ) Added new discovery-wrapper.py script to replicate poller-wrapper.py ( #4351 ) Extended graphing for sla - icmp-jitter #4341 Added Cisco Stackwise Support #4301 Add Cisco WAAS Optimized TCP Connections Graph ( #4645 )","title":"Features"},{"location":"General/Changelog/#bugfixes_20","text":"Toner nrg os capacity ( #4177 ) Fixed swos detection #4533 Updated edit snmp to set default poller_group ( #4694 ) Fixed SQL query for bgpPeers check to remove stale sessions ( #4697 ) Netonix version display ( #4672 ) FreeBSD variants ( #4661 ) unix-agent handling of reported time values from check_mk #4652 Add checks for devices with no uptime over snmp #4587 stop qnap discovery from running for every device Fixed the old port rrd migration code to work with new rrdtool functions ( #4616 ) Run cleanup for ipmi sensor discovery ( #4582 ) Numerous availability-map bug fixes AD auth stop alerts being generated Possible additional fix for non-terminating rrdtool processes. AD auth stop alerts being generated APC runtime graph missing in device health overview LibreNMS/Proc improvements Should fix sending rrdtool the quit command without a newline at the end. (not sure if this is an issue) Port ifLastChange polling now usable ( #4541 ) brother toner levels ( #4526 ) poweralert ups divisor Update Fortinet Logo Change CiscoSB devices to use ifEntry Disable refreshing on window resize when $no_refresh is set. Fix quota bills showing 0/0 for in/out ( #4462 ) This removes stale entries in the mac_ipv4 table ( #4444 ) Swos os discovery fixes #3593 Vyos discovery fix #4486 Toner descr that contain invalid characters #4464 Alert statics not showing data Ubnt bad edgeswitch uptime #4470 New installs would have multiple entries in dbSchema table ( #4460 ) Force add now ignores all snmp queries Clean up errors in the webui ( #4438 ) Reduce mib graph queries ( #4439 ) Ports page includes disabled, ignored, and deleted ports ( #4419 ) RRDTool call was always being done to check for local files ( #4427 ) MikroTik OS detection #3593 Added cisco886Va to bad_ifXEntry for cisco os ( #4374 ) Stop irc bot crashing on .reload #4353 Quanta blade switches are now being correctly detected as Quanta switches ( #4358 ) Added options to make temperature graphs display y-axis correctly #4350 Added options to make voltage graphs display y-axis correctly #4326 Calling rrdtool_pipe_open() instead of rrdtool_initialize(); ( #4343 ) Enterasys use ifname for port names #3263 Ricoh/nrg toner levels #4177 Availability map device box reverted to original size, fixes for device groups ( #4334 ) Remove Cisco remote access stats graph transparency ( #4331 ) Cisco remote access stats bugfix #4293 ( #4309 ) Added ability to force devices to use ifEntry instead of ifXEntry ( #4100 ) Don\u2019t add Cisco VSS sensors if VSS is not running #4111 Always validate the default dashboard_id to make sure it still exists NRG Toner detection #4250 Missing variable in services api call Added influxdb options to check-services.php","title":"Bugfixes"},{"location":"General/Changelog/#documentation_25","text":"Include PHP Install instructions for MySQL app Added FAQ for why interfaces are missing from overall traffic graphs ( #4696 ) Updated Applications to clarify apache setup Update apache applications to detail testing and additional requirements.md Updated release doc with more information on stable / dev branches Corrected the rsyslog documentation to be compatible with logrotate Fixed centos snmp path Updated to include info on how to use git hook to validate code ( #4484 ) Added info on how to perform unit testing Added faq to explain why devices show as warning ( #4449 ) Standardize snmp extend script location to /etc/snmp/ ( #4418 ) Added NFSen docs + update general config docs ( #4412 ) Clarify install docs to run validate as root #4286 Added example to alerting doc for using variables of similar name #4264 Added docs + file changes to support creating new releases/changelog Update snmpd setup in Installation-Ubuntu-1604 docs #4243","title":"Documentation"},{"location":"General/Changelog/#refactoring_16","text":"Centralize MIB include directory specification ( #4603 ) OS discovery files (a-z) F5 device discovery cleanup + test unit Remove external uses of GenGroupSQL() consolidate snmpcmd generation consolidate snmpcmd generation I needed to generate an snmpcmd for an upcoming PR, so I figured I'd save a little code duplication. Refactored new helper functions for case sensitivity #4283 Final PSR2 cleanup Moved IRCBot class to LibreNMS namespace #4246 Update code in /includes to be psr2 compliant #4220","title":"Refactoring"},{"location":"General/Changelog/#devices_19","text":"Samsung Printer Discovery #4251 ( #4258 ) HP 1820 Discovery #3933 ( #4259 ) Added support for Cisco Callmanager Edge Core ES3528M - base support Added support for Cisco IPS ( #4561 ) Added MGE detection Netonix switch data collection update Eaton PowerXpert Added Datacom Dbm Support Updated Edgerouter lite detection Added support for Cisco Callmanager Procurve 5400R series #4375 hp online admin cpu and mem #4327 Added support for Foundry Networks #4311 Added Cisco Stackwise Support #4301 Added support for PLANET Networking Communication switches ( #4308 ) Added support for Fujitsu Primergy switches #4277 ( #4280 ) Added support for Lanier printers #4267 Added Temp and State support for EdgeSwitch OS #4265 Added support for DDN Storage #2737 ( #4261 ) Improved support for UBNT EdgeSwitch OS #4249 Improved support for Avaya VSP #4237 Added support for macOS Sierra ( #4557 ) Improve BDCOM detection ( #4329 )","title":"Devices"},{"location":"General/Changelog/#webui_24","text":"top devices enhancement #4447 Individual devices now use bootgrid syslog ( #4584 ) added amazon server icon Update all glyphicon to font awesome Relocate Alerts menu Updated force add option for addhost.php to be present in all instances ( #4428 ) Add check to display make bill on port page only if billing is enabled ( #4361 ) Added Pagination and server side search via Ajax to NTP ( #4330 )","title":"WebUI"},{"location":"General/Changelog/#august-2016","text":"","title":"August 2016"},{"location":"General/Changelog/#bug-fixes","text":"WebUI Fix Infoblox dhcp messages graph ( PR3898 ) Fix version_info output in Safari ( PR3914 ) Added missing apps to Application page ( PR3964 ) Discovery / Polling Clear our stale IPSEC sessions from the DB ( PR3904 ) Fixed some InfluxDB bugs in check-services and ports ( PR4031 ) Fixed Promox and Ceph rrd's ( PR4038 , PR4037 , PR4047 , PR4041 ) Fixed LLDP Remote port in discovery-protocols module ( PR4070 ) Billing Check if ifSpeed is returned for calculating billing ( PR3921 ) Applications NFS-V3 stats fixed ( PR3963 ) Misc Dell Equallogic storage fix ( PR3956 ) Fix syslog bug where entries would log to the wrong device ( PR3996 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements","text":"Added / improved detection for: Cisco WAAS / WAVE ( PR3899 ) Maipu MyPower ( PR3909 ) TPLink Switches ( PR3919 ) Dell N3024 ( PR3941 ) Cisco FXOS ( PR3943 ) Brocade FABOS ( PR3959 , PR3988 ) JunOS ( PR3976 ) Dell PowerConnect ( PR3998 , PR4007 ) Comware ( PR3967 ) Calix E5 ( PR3864 ) Raisecom ( PR3992 ) Cisco ISE ( PR4063 ) Acano ( PR4064 ) McAfee SIEM Nitro ( PR4066 ) HP Bladesystem C3000/C7000 OA ( PR4035 ) Cisco VCS (Expressway) ( PR4086 ) Cisco Telepresence Conductor ( PR4087 ) Avaya VSP ( PR4048 ) Cisco/Tandberg Video Conferencing ( PR4065 ) Cisco Prime Infrastructure ( PR4088 ) HWGroup STE2 ( PR4116 ) HP 2530 Procurve / Arube ( PR4119 ) Brother Printers ( PR4141 ) Hytera Repeater ( PR4163 ) Sonus ( PR4176 ) Freeswitch ( PR4203 ) WebUI Improved OSPF display ( PR3908 ) Improved Apps overview page ( PR3954 ) Improved Syslog page ( PR3955 , PR3971 ) Rewrite availability map ( PR4043 ) Add predicted usage to billing overview ( PR4049 ) API Added services calls to API ( PR4215 ) Discovery / Polling Added CPU detection for Dell PowerConnect 8024F ( PR3966 ) Cisco VSS state discovery ( PR3977 ) Refactor of BGP Discovery and Polling (mainly JunOS) ( PR3938 ) Added Sensors for Brocade NOS ( PR3969 ) Cisco ASA HA States ( PR4012 ) Improved IPSLA Support ( PR4006 ) Added support for CISCO-NTP-MIB ( PR4005 ) Improved toner support for Ricoh devices ( PR4180 ) Documentation New doc site live http://docs.librenms.org/ Added rsyslog 5 example to syslog docs ( PR3912 ) Application doc updates ( PR3928 ) Applications App OS Updates support ( PR3935 ) PowerDNS Recursor improvements ( PR3932 ) Add DHCP Stats support ( PR3970 ) Added snmp support to Memcached ( PR3949 ) Added Unbound support ( PR4074 ) Added snmp support to Proxmox ( PR4052 ) Added Raspberry Pi Sensor support ( PR4057 ) Updated NTPD support ( PR4077 ) Misc Added cleanup of old RRD files to daily.sh ( PR3907 ) Refactored addHost event logs ( PR3929 , PR3997 ) Refactored RRD Functions ( PR3800 , PR4081 ) Added support for nets-exclude in snmp-scan ( PR4000 ) Refactored files in html (Libraries and PSR2 style ( PR4071 , PR4101 , PR4117 ) Various IRC updates and fixes ( PR4200 , PR4204 , PR4201 )","title":"Improvements"},{"location":"General/Changelog/#july-2016","text":"","title":"July 2016"},{"location":"General/Changelog/#bug-fixes_1","text":"API Stop outputting vrf lite and IP info when device doesn't exist ( PR3785 ) WebUI Added force refresh for generic image widget ( PR3817 ) Fixed NFSen tab not showing in all cases ( PR3857 ) Discovery / Polling Fixed incorrect IBM-AMM thresholds ( PR3866 ) Fixed Pulse OS whitespace in polling ( PR3883 ) Misc Fixed device group search ( PR3788 ) Fixed sporadic device delete ( PR3805 ) Retry creation of two tables ( PR3848 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_1","text":"Added / improved detection for: Telco systems ( PR3773 , PR3804 ) Cisco ACS ( PR3786 ) Adtran AOS ( PR3787 , PR3799 ) Lantronix SLC ( PR3797 ) PBN Sensor support ( PR3820 ) Ironware VRF discovery ( PR3827 ) Comware sensors discovery ( PR3881 , PR3889 , PR3896 ) Brocade VDX detection ( PR3888 ) Checkpoint GAiA ( PR3890 ) Cisco ASA-X Hardware detection ( PR3897 ) WebUI Added sysName to global search if != hostname ( PR3815 ) Improved look of device SLA panel ( PR3831 ) Added more colours to Cisco CBQOS graphs ( PR3842 ) Improved look of Cisco IPSEC Tunnels page ( PR3874 ) Discovery / Polling Added ability to set Max repeaters per device ( PR3781 ) Applications Moved all application scripts to librenms/librenms-agent repo ( PR3865 , PR3886 ) Added NFS stats ( PR3792 , PR3853 ) Added PowerDNS Recursor ( PR3869 ) Alerting Updated format for Slack alerts ( PR3852 ) Added support for multiple emails in sysContact and users table ( PR3885 ) Added ability to use uptime in alert templates ( PR3893 ) Misc Added date to git version info ( PR3782 ) Added logging of versions when upgrading ( PR3807 ) Added ability to lookup device from IP for syslog ( PR3812 ) Updated component system ( PR3821 ) Improvements to validate script ( PR3840 , PR3868 )","title":"Improvements"},{"location":"General/Changelog/#june-2016","text":"","title":"June 2016"},{"location":"General/Changelog/#bug-fixes_2","text":"WebUI: Rename $ds to $ldap_connection for auth modules ( PR3596 ) Fix the display of custom snmp ports ( PR3646 ) Fix bugs in Create new / edit alert templates ( PR3651 ) Fixed ajax_ calls for use with base_url ( PR3661 ) Updated old frontpage to use new services format ( PR3691 ) Order alerts by state to indicate which alerts are open ( PR3692 ) Fixed maintenance windows showing as lapsed ( PR3704 ) Removed duplicated dbInsert from dashboard creation ( PR3761 ) Fixed 95th for graphs ( PR3762 ) Polling / Discovery: Updated Poweralert divisor to 10 for sensors ( PR3645 ) Fixed NX-OS version polling ( PR3688 ) Fixed STP log spam from Mikrotik device ( PR3689 ) Removed \" from ZyWall version number ( PR3693 ) Updated register_mib to use d_echo ( PR3739 ) Fixed invalid SQL for BGP Discovery ( PR3742 ) Alerting: Unacknowledged alerts will now continue to send alerts ( PR3667 ) Misc: Fix smokeping path in gen_smokeping ( PR3577 ) Fix full include path in includes/polling/functions.inc.php ( PR3614 ) Added port_id to tune_port.php query ( PR3753 ) Updated port schema to support 17.1 Gbs for _rate values ( PR3754 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_2","text":"Added / improved detection for: HPE 3Par ( PR3578 ) Buffalo TeraStation ( PR3587 ) Samsung C printers ( PR3598 ) Roomalert3e ( PR3599 ) Avtech Switches ( PR3611 ) IBM Bladecenter switches ( PR3623 ) HWg support ( PR3624 ) IBM IMM ( PR3625 ) ServerTech Sentry4 PDUs ( PR3659 ) SwOS ( PR3662 ) Sophos (R3678, PR3679 , PR3736 ) OSX El Capitan ( PR3690 ) DNOS ( PR3703 , PR3730 ) Cisco SB SG200 ( PR3705 ) EMC FlareOS ( PR3712 ) Enhance Brocade Fabric OS ( PR3712 ) Huawei SmartAX ( PR3737 ) Polling / Discovery: Use lsb_release in distro script ( PR3580 ) Allow lmsensors fanspeeds of 0 to be discovered ( PR3616 ) Added support for rrdcached application monitoring ( PR3627 ) Improve the output of polling/debug to make it easier to see modules ( PR3694 ) WebUI: Resolve some reported security issues ( PR3586 ) With thanks to https://twitter.com/wireghoul Order apps list alphabetically ( PR3600 ) Network map improvements ( PR3602 ) Added support for varying hostname formats in Oxidized integration ( PR3617 ) Added device hw/location on hover in alerts table ( PR3621 ) Updated unpolled notification to link directly to those devices ( PR3696 ) Added ability to search via IP for Graylog integration ( PR3697 ) Optimised network map SQL ( PR3715 ) Added support for wildcards in custom graph groups ( PR3722 ) Added ability to override ifSpeed for ports ( PR3752 ) Added sysName to global search ( PR3757 ) Alerting: Added ability to use location in alert templates ( PR3652 ) Documentation: Added docs on Auto discovery ( PR3671 ) Updated InfluxDB docs ( PR3673 ) Updated distributed polling docs ( PR3675 ) Updated FAQs ( PR3677 ) Misc: Added pivot table for device groups ready for V2 ( PR3589 ) Added device_id column to eventlog ( PR3682 ) Cleanup sensors and related tables + added constraints ( PR3745 )","title":"Improvements"},{"location":"General/Changelog/#may-2016","text":"","title":"May 2016"},{"location":"General/Changelog/#bug-fixes_3","text":"WebUI: Fixed broken performance charts using VisJS ( PR3479 ) Fixed include path to file in create alert item ( PR3480 ) Updated services box on front page to utilise the new services ( PR3481 ) Potential fix for intermittent logouts ( PR3372 ) Updated sensors hostname to use correct variable ( PR3485 ) Polling / Discovery: Only poll AirMAX if device supports the MIB ( PR3486 ) Alerting: Don't alert unless the sensor value surpasses the threshold ( PR3507 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_3","text":"Added / improved detection for: Microsemo timing devices ( PR3453 ) Bintec smart routers ( PR3454 ) PoweWalker support ( PR3456 ) BDCom support ( PR3459 ) Cisco WAPs ( PR3460 ) EMC Data domain ( PR3461 ) Xerox support ( PR3462 ) Calix support ( PR3463 ) Isilon OneFS ( PR3482 ) Ricoh printers ( PR3483 ) HP Virtual Connect ( PR3487 ) Equallogic arrays + Dell servers ( PR3519 ) Alcatel-Lucent SR + SAR ( PR3535 , PR3553 ) Xirrus Wireless Access Points ( PR3543 ) Polling / Discovery: Add config option to stop devices with duplicate sysName's being added ( PR3473 ) Enable discovery support of CDP neighbours by IP ( PR3561 ) Alerting: Added ability to use sysName in templates ( PR3470 ) Send Slack alerts as pure JSON ( PR3522 ) Apply colour to HipChat messages ( PR3539 ) WebUI: Added ability to filter alerts by state ( PR3471 ) Added support for using local openstreet map tiles ( PR3472 ) Added ability to show services on availability map ( PR3496 ) Added combined auth module for http auth and AD auth ( PR3531 ) List services alphabetically ( PR3538 ) Added support for scrollable widgets ( PR3565 ) Graphs: Added Hit/Misses for memcached graphs ( PR3499 ) API: Update get_graph_generic_by_hostname to use device_id as well ( PR3494 ) Docs: Added configuration for SNMP Proxy support ( PR3528 ) Misc: Added purge for alert log ( PR3469 )","title":"Improvements"},{"location":"General/Changelog/#april-2016","text":"","title":"April 2016"},{"location":"General/Changelog/#bug-fixes_4","text":"Discovery / Polling: Fix poweralert OS detection ( PR3414 ) WebUI: Fixed headers for varying ajax calls ( PR3432 , PR3433 , PR3434 , PR3435 ) Misc: Update syslog to support incorrect time ( PR3348 ) Fixed InfluxDB to send data as int/float ( PR3354 ) Small bug fixes to the services update ( PR3366 , PR3396 , PR3425 , PR3426 , PR3427 ) Fix bug with obtaining data for new bills in some scenarios ( PR3404 ) Improved PHP 7 support ( PR3417 ) Fix urls within billing section for sub dir support ( PR3442 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_4","text":"WebUI: Update rancid file detection ( PR3341 ) Make graphs in widgets clickable ( PR3355 ) Add config option to set the typeahead results ( PR3363 ) Add config option to set min graph height ( PR3410 ) Discovery / Polling: Updated Infoblox mibs and logo ( PR3340 ) Updated arp discovery to support vrf lite ( PR3359 ) Added RSSI and MNC for Cisco WWAN routers ( PR3371 ) Updated DNOS and added CPU, Memory and Temp ( PR3391 , PR3393 , PR3395 ) Added PoE state support for Netonix devices ( PR3416 ) Added ability to exclude ports via ifName and ifAlias regex ( PR3439 ) Added detection for: Viprenet routers ( PR3365 ) FreeBSD via distro script ( PR3399 ) Documentation: Updated nginx install docs ( PR3397 ) Added FAQ on renaming hosts ( PR3444 ) API: Added call for IPsec tunnels ( PR3411 ) Misc: Added check_mk FreeBSD agent support ( PR3406 ) Added suggestion to fix files not owned by correct user to validate.php ( PR3415 ) Added detection for missing timezone to validate.php ( PR3428 ) Added detection for install_dir config and local git repo issues to validate.php ( PR3440 )","title":"Improvements"},{"location":"General/Changelog/#march-2016","text":"","title":"March 2016"},{"location":"General/Changelog/#bug-fixes_5","text":"WebUI: Skip authentication check in graph.php if unauth graphs is enabled ( PR3019 ) Stop double escaping notes for devices ( PR3149 ) Corrected aggregate graph on smokeping page ( PR3177 ) Fix non-admin syslog queries ( PR3191 ) Fix services SQL ( PR3205 ) Discovery / Polling: Revert arp discovery to pre-vrf lite support ( PR3126 ) Fix IOS-XR DBM sensors ( PR3291 ) Alerting: Fix alert failure response from transports ( PR3283 ) Misc: Fix data in bills if counters doesn't change ( PR3132 ) Improve performance of billing poller ( PR3129 ) Fix API tokens when using LDAP auth ( PR3178 ) Import notifications with original datetime ( PR3200 ) Add sysName for top-interfaces widget ( PR3201 ) Fix Cisco syslog parsing when logging timestamp enabled ( PR3203 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_5","text":"WebUI: Added ability to show device group specific maps ( PR3018 ) Updated Billing UI ( PR3194 , PR3195 , PR3216 , PR3239 , PR3240 ) Added Juniper Added config option for HTML emails in mail transport ( PR3221 ) Discovery / Polling: Added Juniper state support ( PR3121 ) Added Ironware state support ( PR3160 ) Check sysObjectID before detecting ILO temp sensors ( PR3204 ) Improved Avtech support ( PR3207 ) Improved Dell NOS detection ( PR3213 ) Added Juniper alarm state monitoring ( PR3226 ) Updated Drac state support ( PR3228 ) Improved serial # detection for Brocade Ironware devices ( PR3292 ) Added detection for: Develop Ineo printers ( PR3224 ) Cumulus Linux ( PR3237 ) Deliberant WiFi ( PR3246 ) Juniper EX2500 ( PR3254 ) Cambium devices ( PR3279 ) Alerting: Added Canopsis alerting transport ( PR3299 ) Misc: Improved syslog support ( PR3171 , PR3172 , PR3173 ) Added Nginx install docs for Debian/Ubuntu ( PR3301 ) Updated InfluxDB php module ( PR3302 ) Updated Component API ( PR3304 )","title":"Improvements"},{"location":"General/Changelog/#february-2016","text":"","title":"February 2016"},{"location":"General/Changelog/#bug-fixes_6","text":"Discovery / Polling: Quote snmp v2c community ( PR2927 ) For entity-sensor, changed variable name again ( PR2948 ) Fix some issues with/introduced by port association mode configuration ( PR2923 ) Deal with 0 value sensors better ( PR2972 , PR2973 ) Reverted Fortigate CPU change from Dec 2015 ( PR2990 ) Reverted bgp code from vrf lite support ( PR3010 , PR3011 , PR3028 , PR3050 ) Add icon to database ( PR3076 ) Discovery updated to check for distributed polling group ( PR3086 ) WebUI: Fix ceph graps ( PR2909 , PR2942 ) BGP Overlib ( PR2915 ) Added application/json headers where json is returned ( PR2936 , PR2961 ) Stop realtime graph page from auto refreshing ( PR2939 ) Updated parsing of alert rules to allow | ( PR2917 ) Fix IP Display ( PR2951 ) Added missing from email config option ( PR2986 ) Ignore devices that do not provide an uptime statistic ( PR3009 ) Added unique id for alert widget ( PR3034 ) Misc: Updated device_by_id_cache() to convert IP column ( PR2940 ) Fixed auto updating if not enabled ( PR3063 ) Documentation: Removed devloping doc as none of the info is current ( PR2911 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_6","text":"WebUI: Merged device option links to dropdown ( PR2955 ) Added ability to configure # results for global search ( PR2957 ) Added ability to show / hide line numbers for config for devices ( PR2988 ) Added support for showing diff for Oxidized configs ( PR2994 ) Updated visjs to 4.14.0 ( PR3031 ) Updated apps layout to use panels ( PR3117 ) Discovery / Polling: Added VRF Lite support ( PR2820 ) Added ability to ignore device sensors from entity mib ( PR2862 ) Added ifOperStatus_prev and ifAdminStatus_prev values to db ( PR2912 ) Improved bgpPolling efficiency ( PR2967 ) Use raw timeticks for uptime ( PR3021 ) Introduced state monitoring ( PR3102 ) Added detection for: Dell Networking N2048 ( PR2949 ) Calix E7 devices ( PR2958 ) Improved support for Netonix ( PR2959 ) Improved detection for Windows 10 ( PR2962 ) Improved support for FortiOS ( PR2991 ) Barracuda Spam firewall support ( PR2998 ) Improved sysDescr parsing for Unifi Switches ( PR3020 ) Canon iR ( PR3045 ) Cisco SF500 ( PR3057 ) Eaton UPS ( PR3066 , PR3067 , PR3070 , PR3071 ) ServerIron / ServerIron ADX ( PR3074 ) Additional Qnap sensors ( PR3088 , PR3089 ) Avtech environment sensors ( PR3091 ) Misc: Added check for rrd vadility ( PR2908 ) Add systemd unit file for the python poller service ( PR2913 ) Added more detection to validate for bad installs ( PR2985 ) Syslog cleanup ( PR3036 , PR3093 , PR3099 ) Documentation: Added description of AD configuration options ( PR2910 ) Add description to mibbases polling ( PR2919 )","title":"Improvements"},{"location":"General/Changelog/#january-2016","text":"","title":"January 2016"},{"location":"General/Changelog/#bug-fixes_7","text":"Discovery / Polling: Ignore HC Broadcast and Multicast counters for Cisco SB ( PR2552 ) Fix Cisco temperature discovery ( PR2765 ) WebUI: Fix ajax_search.php returning null instead of [] ( PR2695 ) Fix notification links ( PR2721 ) Fix wrong suggestion to install PEAR in Web installer ( PR2727 ) Fixed mysqli support for Web installer ( PR2730 ) Misc: Fix deleting device_perf entries ( PR2755 ) Fix for schema updates to device table when poller is running ( PR2825 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_7","text":"WebUI: Converted arp pages to use bootgrid ( PR2669 ) Updated VMWare listing page ( PR2684 ) Updated typeahead.js ( PR2698 ) Added ability to set notes for ports ( PR2688 ) Use browser width to scale CPU and Bandwidth graphs ( PR2537 , PR2633 ) Removed onClick from ports list ( PR2744 ) Added support for showing sysName when hostname is IP ( PR2796 ) Updated rancid support for different hostnames ( PR2807 ) Added combined HTTP Auth and LDAP Auth authentication module ( PR2835 ) Added ability to filter alerts using widgets ( PR2834 ) Discovery / Polling: Print runtime info per poller/discovery modules ( PR2713 ) Improved polling/discovery vmware module performance ( PR2696 ) Added STP/RSTP support ( PR2690 ) Moved system poller module to core module ( PR2637 ) Added lookup of IP for devices with hostname ( PR2798 ) Centralised sensors module file structure ( PR2794 ) Graph poller module run times ( PR2849 ) Updated vlan support using IEEE8021-Q-BRIDGE-MIB ( PR2851 ) Added detection for: Added support for Samsung printers ( PR2680 ) Added support for Canon printers ( PR2687 ) Added support for Sub10 support ( PR2469 ) Added support for Zyxel GS range ( PR2729 ) Added support for HWGroup Poseidon ( PR2742 ) Added support for Samsung SCX printers ( PR2760 ) Added additional support for HP MSM ( PR2766 , PR2768 ) Added additional support for Cisco ASA and RouterOS ( PR2784 ) Added support for Lenovo EMC NAS ( PR2795 ) Added support for Infoblox ( PR2801 ) API: Added support for Oxidized groups ( PR2745 ) Misc: Added option to specify Smokeping ping value ( PR2676 ) Added backend support for InfluxDB ( PR2208 ) Alpha2 release of MIB Polling released ( PR2536 , PR2763 ) Centralised version info ( PR2697 ) Added username support for libvirt over SSH ( PR2728 ) Added Oxidized reload call when adding device ( PR2792 ) Added components system to centralize data in MySQL ( PR2623 )","title":"Improvements"},{"location":"General/Changelog/#december-2015","text":"","title":"December 2015"},{"location":"General/Changelog/#bug-fixes_8","text":"WebUI: Fixed regex for negative lat/lng coords ( PR2524 ) Fixed map page looping due to device connected to itself ( PR2545 ) Fixed PATH_INFO for nginx ( PR2551 ) urlencode the custom port types ( PR2597 ) Stop non-admin users from being able to get to settings pages ( PR2627 ) Fix JpGraph php version compare ( PR2631 ) Discovery / Polling: Pointed snmp calls for Huawei to correct MIB folder ( PR2541 ) Fixed Ceph unix-agent support. ( PR2588 ) Moved memory graphs from storage to memory polling ( PR2616 ) Mask alert_log mysql output when debug is enabled to stop console crashes ( PR2618 ) Stop Quanta devices being detected as Ubiquiti ( PR2632 ) Fix MySQL unix-agent graphs ( PR2645 ) Added MTA-MIB and NETWORK-SERVICES-MIB to stop warnings printed in poller debug ( PR2653 ) Services: Fix SSL check for PHP 7 ( PR2647 ) Alerting: Fix glue-expansion for alerts ( PR2522 ) Fix HipChat transport ( PR2586 ) Documentation: Removed duplicate mysql-client install from Debian/Ubuntu install docs ( PR2543 ) Misc: Update daily.sh to ignore issues writing to log file ( PR2595 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_8","text":"WebUI: Converted sensors page to use bootgrid ( PR2531 ) Added new widgets for dashboard. Notes ( PR2582 ), Generic image ( PR2617 ) Added config option to disable lazy loading of images ( PR2589 ) Visual update to Navbar. ( PR2593 ) Update alert rules to show actual alert rule ID ( PR2603 ) Initial support added for per user default dashboard ( PR2620 ) Updated Worldmap to show clusters in red if one device is down ( PR2621 ) Cleaned up Billing pages ( PR2671 ) Discovery / Polling Added traffic bits as default for Cambium devices ( PR2525 ) Overwrite eth0 port data from UniFi MIBs for AirFibre devices ( PR2544 ) Added lastupdate column to sensors table for use with alerts ( PR2590 , PR2592 ) Updated auto discovery via lldp to check for devices that use mac address in lldpRemPortId ( PR2591 ) Updated auto discovery via lldp with absent lldpRemSysName ( PR2619 ) API: Added ability to filter devices by type and os for Oxidized API call ( PR2539 ) Added ability to update device information ( PR2585 ) Added support for returning device groups ( PR2611 ) Added ability to select port graphs based on ifDescr ( PR2648 ) Documentation: Improved alerting docs explaining more options ( PR2560 ) Added Docs for Ubuntu/Debian Smokeping integration ( PR2610 ) Added detection for: Updated Netonix switch MIBs ( PR2523 ) Updated Fotinet MIBs ( PR2529 , PR2534 ) Cisco SG500 ( PR2609 ) Updated processor support for Fortigate ( PR2613 ) Added CPU / Memory support for PBN ( PR2672 ) Misc: Updated validation to check for php extension and classes required ( PR2602 ) Added Radius Authentication support ( PR2615 ) Removed distinct() from alerts query to use indexes ( PR2649 )","title":"Improvements"},{"location":"General/Changelog/#november-2015","text":"","title":"November 2015"},{"location":"General/Changelog/#bug-fixes_9","text":"WebUI: getRates should return in and out average rates ( PR2375 ) Fix 95th percent lines in negative range ( PR2405 ) Fix percentage bar for billing pages ( PR2419 ) Use HC counters first in realtime graphs ( PR2420 ) Fix netcmd.php URI for sub dir installations ( PR2428 ) Fixed Oxidized fetch config with groups ( PR2501 ) Fixed background colour to white for some graphs ( PR2516 ) Added missing Service description on services page ( PR2679 ) API: Added missing quotes for MySQL queries ( PR2382 ) Discovery / Polling: Specified MIB used when polling ntpd-server ( PR2418 ) Added missing fields when inserting data into applications table ( PR2445 ) Fix auto-discovery failing ( PR2457 ) Juniper hardware inventory fix ( PR2466 ) Fix discovery of Cisco PIX running PixOS 8.0 ( PR2480 ) Fix bug in Proxmox support if only one VM was detected ( PR2490 , PR2547 ) Alerting: Strip and || from query for device-groups ( PR2476 ) Fix transports being triggered when empty keys set ( PR2491 ) Misc: Updated device_traffic_descr config to stop graphs failing ( PR2386 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_9","text":"WebUI: Status column now sortable for /devices/ ( PR2397 ) Update Gridster library to be responsive ( PR2414 ) Improved rrdtool 1.4/1.5 compatibility ( PR2430 ) Use event_id in query for Eventlog ( PR2437 ) Add graph selector to devices overview ( PR2438 ) Improved Navbar for varying screen sizes ( PR2450 ) Added RIPE NCC API support for lookups ( PR2455 , PR2474 ) Improved ports page for device with large number of neighbours ( PR2460 ) Merged all CPU graphs into one on overview page ( PR2470 ) Added support for sorting by traffic on device port page ( PR2508 ) Added support for dynamic graph sizes based on browser size ( PR2510 ) Made device location clickable in device header ( PR2515 ) Visual improvements to bills page ( PR2519 ) Discovery / Polling: Updated Cisco SB discovery ( PR2396 ) Added Ceph support via Applications ( PR2412 ) Added support for per device unix-agent port ( PR2439 ) Added ability to select up/down devices on worldmap ( PR2441 ) Allow powerdns app to be set for Unix Agent ( PR2489 ) Added SLES detection to distro script ( PR2502 ) Added detection for: Added CPU + Memory usage for Ubiquiti UniFi ( PR2421 ) Added support for LigoWave Infinity AP's ( PR2456 ) Alerting: Added ability to globally disable sending alerts ( PR2385 ) Added support for Clickatell, PlaySMS and VictorOps ( PR24104 , PR2443 ) Documentation: Improved CentOS install docs ( PR2462 ) Improved Proxmox setup docs ( PR2483 ) Misc: Provide InnoDB config for buffer size issues ( PR2401 ) Added AD Authentication support ( PR2411 , PR2425 , PR2432 , PR2434 ) Added Features document ( PR2436 , PR2511 , PR2513 ) Centralised innodb buffer check and added to validate ( PR2482 ) Updated and improved daily.sh ( PR2487 )","title":"Improvements"},{"location":"General/Changelog/#october-2015","text":"","title":"October 2015"},{"location":"General/Changelog/#bug-fixes_10","text":"Discovery / Polling: Check file exists via rrdcached before creating new files on 1.5 ( PR2041 ) Fix Riverbed discovery ( PR2133 ) Fixes issue where snmp_get would not return the value 0 ( PR2134 ) Fixed powerdns snmp checks ( PR2176 ) De-dupe checks for hostname when adding hosts ( PR2189 ) WebUI: Soft fail if PHP Pear not installed ( PR2036 ) Escape quotes for ifAlias in overlib calls ( PR2072 ) Fix table name for access points ( PR2075 ) Removed STACK text in graphs ( PR2097 ) Enable multiple ifDescr overrides to be done per device ( PR2099 ) Removed ping + performance graphs and tab if skip ping check ( PR2175 ) Fixed services - Alerts menu link + page ( PR2173 ) Fix percent bar also for quota bills ( PR2198 ) Fix new Bill ( PR2199 ) Change default solver to hierarchicalRepulsion in vis.js ( PR2202 ) Fix: setting user port permissions fails ( PR2203 ) Updated devices Graphs links to use non-static time references ( PR2211 ) Removed ignored,deleted and disabled ports from query ( PR2213 ) API: Fixed API call for alert states ( PR2076 ) Fixed nginx rewrite for api ( PR2112 ) Change on the add_edit_rule to modify a rule without modify the name ( PR2159 ) Fixed list_bills function when using :bill_id ( PR2212 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_10","text":"WebUI: Updated Bootstrap to 3.3.5 ( PR2015 ) Added billing graphs to graphs widget ( PR2027 ) Lock widgets by default so they can't be moved ( PR2042 ) Moved Device Groups menu ( PR2049 ) Show Config tab only if device isn't excluded from oxidized ( PR2118 ) Simplify adding config options to WebUI ( PR2120 ) Move red map markers to foreground ( PR2127 ) Styled the two factor auth token prompt ( PR2151 ) Update Font Awesome ( PR2167 ) Allow user to influence when devices are grouped on world map ( PR2170 ) Centralised the date selector for graphs for re-use ( PR2183 ) Don't show dashboard settings if /bare=yes/ ( PR2364 ) API: Added unmute alert function to API ( PR2082 ) Discovery / Polling: Added additional support for some UPS' based on Multimatic cards ( PR2046 ) Improved WatchGuard OS detection ( PR2048 ) Treat Dell branded Wifi controllers as ArubaOS ( PR2065 ) Added discovery option for OS or Device type ( PR2088 ) Updated pfSense to firewall type ( PR2096 ) Added ability to turn off icmp checks globally or per device ( PR2131 ) Reformat check a bit to make it easier for adding additional oids in ( PR2135 ) Updated to disable auto-discovery by ip ( PR2182 ) Updated to use env in distro script ( PR2204 ) Added detection for: Pulse Secure OS ( PR2053 ) Riverbed Steelhead support ( PR2107 ) OpenBSD sensors ( PR2113 ) Additional comware detection ( PR2162 ) Version from Synology MIB ( PR2163 ) VCSA as VMWare ( PR2185 ) SAF Lumina radios ( PR2361 ) TP-Link detection ( PR2362 ) Documentation: Improved RHEL/CentOS install docs ( PR2043 ) Update Varnish Docs ( PR2116 , PR2126 ) Added passworded channels for the IRC-Bot ( PR2122 ) Updated Two-Factor-Auth.md RE: Google Authenticator ( PR2146 ) General: Added colour support to IRC bot ( PR2059 ) Fixed IRC bot reconnect if socket dies ( PR2061 ) Updated default crons ( PR2177 ) Reverts: \"Removed what appears to be unnecessary STACK text\" ( PR2128 )","title":"Improvements"},{"location":"General/Changelog/#september-2015","text":"","title":"September 2015"},{"location":"General/Changelog/#bug-fixes_11","text":"Alerting: Process followups if there are changes ( PR1817 ) Typo in alert_window setting ( PR1841 ) Issue alert-trigger as test object ( PR1850 ) WebUI: Fix permissions for World-map widget ( PR1866 ) Clean up Global / World Map name mixup ( PR1874 ) Removed required flag for community when adding new hosts ( PR1961 ) Stop duplicate devices showing in map ( PR1963 ) Fix adduser bug storing users real name ( PR1990 ) Stop alerts top-menu being clickable ( PR1995 ) Services: Honour IP field for DNS checks ( PR1933 ) Discovery / Poller: Fix Huawei VRP os detection ( PR1931 ) Set empty processor descr for *nix processors ( PR1951 ) Ensure udp6/tcp6 snmp devices use fping6 ( PR1959 ) Fix RRD creation parameters ( PR2010 ) General: Remove 'sh' from cronjob ( PR1818 ) Remove MySQL Locks ( PR1822 , PR1826 , PR1829 , PR1836 ) Change DB config options to use single quotes to allow $ ( PR1948 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_11","text":"WebUI: Ability to edit ifAlias ( PR1811 ) Honour Mouseout/Mouseleave on map widget ( PR1814 ) Make syslog/eventlog responsive ( PR1816 ) Reformat Proxmox UI ( PR1825 , PR1827 ) Misc Changes ( PR1828 , PR1830 , PR1875 , PR1885 , PR1886 , PR1887 , PR1891 , PR1896 , PR1901 , PR1913 , PR1944 ) Added support for Oxidized versioning ( PR1842 ) Added graph widget + settings for widgets ( PR1835 , PR1861 , PR1968 ) Added Support for multiple dashboards ( PR1869 ) Added settings page for Worldmap widget ( PR1872 ) Added uptime to availability widget ( PR1881 ) Added top devices and ports widgets ( PR1903 ) Added support for saving notes for devices ( PR1927 ) Added fullscreen mobile support ( PR2022 ) Added detection for: FortiOS ( PR1815 ) HP MSM ( PR1953 ) Discovery / Poller: Added Proxmox support ( PR1789 ) Added CPU/Mem support for SonicWALL ( PR1957 ) Updated distro script to support Arch Linux + fall back to lsb-release ( PR1978 ) Documentation: Add varnish docs ( PR1809 ) Added CentOS 7 RRCached docs ( PR1893 ) Improved description of fping options ( PR1952 ) Alerting: Added RegEx support for alert rules and device groups ( PR1998 ) General: Make installer more responsive ( PR1832 ) Update fping millisec option to 200 default ( PR1833 ) Reduced cleanup of device_perf ( PR1837 ) Added support for negative values in munin-plugins ( PR1907 ) Added default librenms user to config for use in validate.php ( PR1956 ) Added working memcache support ( PR2007 )","title":"Improvements"},{"location":"General/Changelog/#august-2015","text":"","title":"August 2015"},{"location":"General/Changelog/#bug-fixes_12","text":"WebUI: Fix web_mouseover not honoured on All Devices page ( PR1592 ) Fixed bug with edit/create alert template to clear out previous values ( PR1636 ) Initialise $port_count in devices list ( PR1640 ) Fixed Web installer due to code tidying update ( PR1644 ) Updated gridster variable names to make unique ( PR1646 ) Fixed issues with displaying devices with ' in location ( PR1655 ) Fixes updating snmpv3 details in webui ( PR1727 ) Check for user perms before listing neighbour ports ( PR1749 ) Fixed Test-Transport button ( PR1772 ) DB: Added proper indexes on device_perf table ( PR1621 ) Fixed multiple mysql strict issues ( PR1638 , PR1659 ) Convert bgpPeerRemoteAs to bigint ( PR1691 ) Discovery / Poller: Fixed Synology system temps ( PR1649 ) Fixed discovery-arp not running since code formatting update ( PR1671 ) Correct the DSM upgrade OID ( PR1696 ) Fix MySQL agent host variable usage ( PR1710 ) Pass snmp-auth parameters enclosed by single-quotes ( PR1730 ) Revert change which skips over down ports ( PR1742 ) Stop PoE polling for each port ( PR1747 ) Use ifHighSpeed if ifSpeed equals 0 ( PR1750 ) Keep PHP Backwards compatibility ( PR1766 ) False identification of Zyxel as Cisco ( PR1776 ) Fix MySQL statement in poller-service.py ( PR1794 ) Fix upstart script for poller-service.py ( PR1812 ) General: Fixed path to defaults.inc.php in config.php.default ( PR1673 ) Strip '::ffff:' from syslog input ( PR1734 ) Fix RRA ( PR1791 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_12","text":"WebUI Updates: Added support for Google API key in Geo coding ( PR1594 ) Added ability to updated storage % warning ( PR1613 ) Updated eventlog page to allow filtering by type ( PR1623 ) Hide logo and plugins text on smaller windows ( PR1624 ) Added poller group name to poller groups table ( PR1634 ) Updated Customers page to use Bootgrid ( PR1658 ) Added basic Graylog integration support ( PR1665 ) Added support for running under sub-directory ( PR1667 ) Updated vis.js to latest version ( PR1708 ) Added border on availability map ( PR1713 ) Make new dashboard the default ( PR1719 ) Rearrange about page ( PR1735 , PR1743 ) Center/Cleanup graphs ( PR1736 ) Added Hover-Effect on devices table ( PR1738 ) Show Test-Transport result ( PR1777 ) Add arrows to the network map ( PR1787 ) Add errored ports to summary widget ( PR1788 ) Show message if no Device-Groups exist ( PR1796 ) Misc UI fixes (Titles, Headers, ...) ( PR1797 , PR1798 , PR1800 , PR1801 , PR1802 , PR1803 , PR1804 , PR1805 ) Move packages to overview dropdown ( PR1810 ) API Updates: Improved billing support in API ( PR1599 ) Extended support for list devices to support mac/ipv4 and ipv6 filtering ( PR1744 ) Added detection for: Perle Media convertors ( PR1607 ) Mac OSX 10 ( PR1774 ) Improved detection for: Windows devices ( PR1639 ) Zywall CPU, Version and Memory ( PR1660 , PR1784 ) Added LLDP support for PBN devices ( PR1705 ) Netgear GS110TP ( PR1751 ) Additional Sensors: Added Compressor state for PCOWEB ( PR1600 ) Added dbm support for IOS-XR ( PR1661 ) Added temperature support for DNOS ( PR1782 ) Discovery / Poller: Updated autodiscovery function to log new type ( PR1623 ) Improve application polling ( PR1724 ) Improve debug output ( PR1756 ) DB: Added MySQLi support ( PR1647 ) Documentation: Added docs on MySQL strict mode ( PR1635 ) Updated billing docs to use librenms user in cron ( PR1676 ) Updated LDAP docs to indicate php-ldap module needs installing ( PR1716 ) Typo/Spellchecks ( PR1731 , PR1806 ) Improved Alerting and Device-Groups ( PR1781 ) Alerting: Reformatted eventlog message to show state for alerts ( PR1685 ) Add basic Pushbullet transport ( PR1721 ) Allow custom titles ( PR1807 ) General: Added more debugging and checks to discovery-protocols ( PR1590 ) Cleanup debug statements ( PR1725 , PR1737 )","title":"Improvements"},{"location":"General/Changelog/#july-2015","text":"","title":"July 2015"},{"location":"General/Changelog/#bug-fixes_13","text":"WebUI: Fixed API not functioning. ( PR1367 ) Fixed API not storing alert rule names ( PR1372 ) Fixed datetimepicker use ( PR1376 ) Added 'running' status for BGP peers as up ( PR1412 ) Fixed the remove search link in devices ( PR1413 ) Fixed clicking anywhere in a search result will now take you to where you want ( PR1472 ) Fixed inventory page not displaying results ( PR1488 ) Fixed buggy alert templating in WebUI ( PR1527 ) Fixed bug in creating api tokens in Firefox ( PR1530 ) Discovery / Poller: Do not allow master to rejoin itself. ( PR1377 ) Fixed poller group query in discovery ( PR1433 ) Fixed ARMv5 detection ( PR1522 ) Fixed pfSense detection ( PR1567 ) Sensors: Fixed bug in EqualLogic sensors ( PR1513 ) Fixed bug in DRAC voltage sensor ( PR1521 ) Fixed bug in APC bank detection ( PR1560 ) Documentation: Fixed Nginx config file ( PR1389 ) General: Fixed a number of permission issues ( PR1411 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_13","text":"Added detection for: Meraki ( PR1402 ) Brocade ( PR1404 ) Dell iDrac ( PR1419 , PR1420 , PR1423 , PR1427 ) Dell Networking OS ( PR1474 ) Netonix ( PR1476 ) IBM Tape Library ( PR1519 , PR1550 ) Aerohive ( PR1546 ) Cisco Voice Gateways ( PR1565 ) Improved detection for: RouterOS RB260GS ( PR1545 ) Dell PowerConnect ( PR1452 , PR1517 ) Brocade ( PR1548 ) Rielo UPS ( PR1381 ) Cisco IPSLAs ( PR1586 ) Additional Sensors: Added power, temperature and fan speed support for XOS ( PR1493 , PR1494 , PR1496 ) WebUI Updates: Added missing load and state icons ( PR1392 ) Added ability to update users passwords in WebUI ( PR1440 ) Default to two days performance data being shown ( PR1442 ) Improved sensors page for mobile view ( PR1454 ) Improvements to network map ( PR1455 , PR1470 , PR1486 , PR1528 , PR1557 ) Added availability map ( PR1464 ) Updated edit ports page to use Bootstrap ( PR1498 ) Added new World Map and support for lat/lng lookup ( PR1501 , PR1552 ) Added sysName to overview page for device ( PR1520 ) Added New Overview dashboard uilising Widgets ( PR1523 , PR1580 ) Added new config option to disable Device groups ( PR1569 ) Discovery / Poller Updates: Updated discovery of IP based devices ( PR1406 ) Added using cronic for poller-wrapper.py to allow cron to send emails ( PR1408 , PR1531 ) Updated Cisco MIBs to latest versions ( PR1436 ) Improve performance of unix-agent processes DB code ( PR1447 , PR1460 ) Added BGP discovery code ( PR1414 ) Use snmpEngineTime as a fallback to uptime ( PR1477 ) Added fallback support for devices not reporting ifAlias ( PR1479 ) Git pull and schema updates will now pause if InnoDB buffers overused ( PR1563 ) Documentation: Updated Unix-Agent docs to use LibreNMS repo for scripts ( PR1568 , PR1570 , PR1573 ) Added info on using MariaDB ( PR1585 ) Alerting: Added Boxcar (www.boxcar.io) transport for alerting ( PR1481 ) Removed old alerting code ( PR1581 ) General: Code cleanup and formatting ( PR1415 , PR1416 , PR1431 , PR1434 , PR1439 , PR1444 , PR1450 ) Added support for CollectD flush ( PR1463 ) Added support for LDAP pure DN member groups ( PR1516 ) Updated validate.php to check for distributed poller setup issues ( PR1526 ) Improved service check support ( PR1385 , PR1386 , PR1387 , PR1388 ) Added SNMP Scanner to discover devices within subnets and docs ( PR1577 )","title":"Improvements"},{"location":"General/Changelog/#june-2015","text":"","title":"June 2015"},{"location":"General/Changelog/#bug-fixes_14","text":"Fixed services list SQL issue ( PR1181 ) Fixed negative values for storage when volume is 2TB ( PR1185 ) Fixed visual display for input fields on /syslog/ ( PR1193 ) Fixed fatal php issue in shoutcast.php ( PR1203 ) Fixed percent bars in /bills/ ( PR1208 ) Fixed item count in memory and storage pages ( PR1210 ) Fixed syslog not loading ( PR1219 ) Fixed fatal on reload in IRC bot ( PR1218 ) Alter Windows CPU description when unknown ( PR1226 ) Fixed rfc1628 current calculation ( PR1256 ) Fixed alert mapping not working ( PR1280 ) Fixed legend ifLabels ( PR1296 ) Fixed bug causing map to not load when stale link data was present ( PR1297 ) Fixed javascript issue preventing removal of alert rules ( PR1312 ) Fixed removal of IPs before ports are deleted ( PR1329 ) Fixed JS issue when removing ports from bills ( PR1330 ) Fixed adding --daemon a second time to collectd Graphs ( PR1342 ) Fixed CollectD DS names ( PR1347 , PR1349 , PR1368 ) Fixed graphing issues when rrd contains special chars ( PR1350 ) Fixed regex for device groups ( PR1359 ) Added HOST-RESOURCES-MIB into Synology detection (RP1360) Fix health page graphs showing the first graph for all ( PR1363 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_14","text":"Updated Syslog docs to include syslog-ng 3.5.1 updates ( PR1171 ) Added Pushover Transport ( PR1180 , PR1191 ) Converted processors and memory table to bootgrid ( PR1188 , PR1192 ) Issued alerts and transport now logged to eventlog ( PR1194 ) Added basic support for Enterasys devices ( PR1211 ) Added dynamic config to configure alerting ( PR1153 ) Added basic support for Multimatic USV ( PR1215 ) Disabled and ignored ports no longer show by default on /ports/ ( PR1228 , PR1301 ) Added additional graphs to menu on devices page ( PR1229 ) Added Docs on configuring Globe front page ( PR1231 ) Added robots.txt to html folder to disallow indexing ( PR1234 ) Added additional support for Synology units ( PR1235 , PR1244 , PR1269 ) Added IP check to autodiscovery code ( PR1248 ) Updated HP ProCurve detection ( PR1249 ) Added basic detection for Alcatel-Lucent OmniSwitch ( PR1253 , PR1282 ) Added additional metrics for rfc1628 UPS ( PR1258 , PR1268 ) Allow multiple discovery modules to be specified on command line ( PR1263 ) Updated docs on using libvirt ( PR1264 ) Updated Ruckus detection ( PR1267 ) Initial release of MIB based polling ( PR1273 ) Added support for CISCO-BGP4-MIB ( PR1184 ) Added support for Dell EqualLogic units ( PR1283 , PR1309 ) Added logging of success/ failure for alert transports ( PR1286 ) Updated VyOS detection ( PR1299 ) Added primary serial number detection for Cisco units ( PR1300 ) Added support for specifying MySQL port number in config.php ( PR1302 ) Updated alert subject to use rule name not ID ( PR1310 ) Added macro %macros.sensor ( PR1311 ) Added WebUI support for Pushover ( PR1313 ) Updated path check for Oxidized config ( PR1316 ) Added Multimatic UPS to rfc1628 detection ( PR1317 ) Added timeout for Unix agent ( PR1319 ) Added support for a poller to use more than one poller group ( PR1323 ) Added ability to use Plugins on device overview page ( PR1325 ) Added latency loss/avg/max/min results to DB and Graph ( PR1326 ) Added recording of device down (snmp/icmp) ( PR1326 ) Added debugging output for when invalid SNMPv3 options used ( PR1331 ) Added load and state output to device overview page ( PR1333 ) Added load sensors to RFC1628 Devices ( PR1336 ) Added support for WebPower Pro II UPS Cards ( PR1338 ) No longer rewrite server-status in .htaccess ( PR1339 ) Added docs for setting up Service extensions ( PR1354 ) Added additional info from pfsense devices ( PR1356 )","title":"Improvements"},{"location":"General/Changelog/#may-2015","text":"","title":"May 2015"},{"location":"General/Changelog/#bug-fixes_15","text":"Updated nested addHosts to use variables passed ( PR889 ) Fixed map drawing issue ( PR907 ) Fixed sensors issue where APC load sensors overwrote current ( PR912 ) Fixed devices location filtering ( PR917 , PR921 ) Minor fix to rrdcached_dir handling ( PR940 ) Now set defaults for AddHost on XDP discovery ( PR941 ) Fix web installer to generate config correctly if possible ( PR954 ) Fix inverse option for graphs ( PR955 ) Fix ifAlias parsing ( PR960 ) Rewrote rrdtool_escape to fix graph formatting issues ( PR961 , PR965 ) Updated ports check to include ifAdminStatus ( PR962 ) Fixed custom sensors high / low being overwritten on discovery ( PR977 ) Fixed APC powerbar phase limit discovery ( PR981 ) Fix for 4 digit cpu% for Datacom ( PR984 ) Fix SQL query for restricted users in /devices/ ( PR990 ) Fix for post-formatting time-macros ( PR1006 ) Honour disabling alerts for hosts ( PR1051 ) Make OSPF and ARP discovery independent xDP ( PR1053 ) Fixed ospf_nbrs lookup to use device_id ( PR1088 ) Removed trailing / from some urls ( PR1089 / PR1100 ) Fix to device search for Device type and location ( PR1101 ) Stop non-device boxes on overview appearing when device is down ( PR1106 ) Fixed nfsen directory checks ( PR1123 ) Removed lower limit for sensor graphs so negative values show ( PR1124 ) Added fallback for poller_group if empty when adding devices ( PR1126 ) Fixed processor graphs tooltips ( PR1127 ) Fixed /poll-log/ count ( PR1130 ) Fixed ARP search graph type reference ( PR1131 ) Fixed showing state=X in device list ( PR1144 ) Removed ability for demo user to delete users ( PR1151 ) Fixed user / port perms for top X front page boxes ( PR1156 ) Fixed truncating UTF-8 strings ( PR1166 ) Fixed attaching templates due to JS issue ( PR1167 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_15","text":"Added loading bar to top nav ( PR893 ) Added load and current for APC units ( PR888 ) Improved web installer ( PR887 ) Updated alerts status box ( PR875 ) Updated syslog page ( PR862 ) Added temperature polling for IBM Flexsystem ( PR894 ) Updated typeahead libraries and relevant forms ( PR882 ) Added docs showing configuration options and how to use them ( PR910 ) Added docs on discovery / poller and how to debug ( PR911 ) Updated docs for MySQL / Nginx / Bind use in Unix agent ( PR916 ) Update development docs ( PR919 ) Updated install docs to advise about whitespace in config.php ( PR920 ) Added docs on authentication modules ( PR922 ) Added support for Oxidized config archival ( PR927 ) Added API to feed devices to Oxidized ( PR928 ) Added support for per OS bad_iftype, bad_if and bad_if_regexp ( PR930 ) Enable alerting on tables with relative / indirect glues ( PR932 ) Added bills support in rulesuggest and alert system ( PR934 ) Added detection for Sentry Smart CDU ( PR938 ) Added basic detection for Netgear devices ( PR942 ) addhost.php now uses distributed_poller_group config if set ( PR944 ) Added port rewrite function ( PR946 ) Added basic detection for Ubiquiti Edgeswitch ( PR947 ) Added support for retrieving email address from LDAP ( PR949 ) Updated JunOS logo ( PR952 ) Add aggregates on multi_bits_separate graphs ( PR956 ) Fix port name issue for recent snmp versions on Linux ( PR957 ) Added support for quick access to devices via url ( PR958 ) Added work around for PHP creating zombie processes on certain distros ( PR959 ) Added detection support for NetApp + disks + temperature ( PR967 , PR971 ) Define defaults for graphs ( PR968 ) Added docs for migrating from Observium ( PR974 ) Added iLo temperature support ( PR982 ) Added disk temperature for Synology DSM ( PR986 ) Added ICMP, TLS/SSL and Domain expiry service checks ( PR987 , PR1040 , PR1041 ) Added IPMI detection ( PR988 ) Mikrotik MIB update ( PR991 ) Set better timeperiod for caching graphs ( PR992 ) Added config option to disable port relationship in ports list ( PR996 ) Added support for custom customer description parse ( PR998 ) Added hardware and MySQL version stats to callback ( PR999 ) Added support for alerting to PagerDuty ( PR1004 ) Now send ack notifications for alerts that are acked ( PR1008 ) Updated contributing docs and added placeholder ( PR1024 , PR1025 ) Updated globe.php overview page with updated map support ( PR1029 ) Converted storage page to use Bootgrid ( PR1030 ) Added basic FibreHome detection ( PR1031 ) Show details of alerts in alert log ( PR1043 ) Allow a user-defined windows to add tolerance for alerting ( PR1044 ) Added inlet support for Raritan PX iPDU ( PR1045 ) Updated MIBS for Cisco SB ( PR1058 ) Added error checking for build-base on install ( PR1059 ) Added fan and raid state for Dell OpenManage ( PR1062 ) Updated MIBS for Ruckus ZoneDirectors ( PR1067 ) Added check for ./rename.php ( PR1069 ) Added install instructions to use librenms user ( PR1071 ) Honour sysContact over riding for alerts ( PR1073 ) Added services page for adding/deleting and editing services ( PR1076 ) Added more support for Mikrotik devices ( PR1080 ) Added better detection for Cisco ASA 5585-SSP40 ( PR1082 ) Added CPU dataplane support for JunOS ( PR1086 ) Removed requirement for hostnames on add device ( PR1087 ) Added config option to exclude sysContact from alerts ( PR1093 ) Added config option to regenerate contacts on alerts ( PR1109 ) Added validation tool to help fault find issues with installs ( PR1112 ) Added CPU support for EdgeOS ( PR1114 ) Added ability to customise transit/peering/core descriptions ( PR1125 ) Show ifName in ARP search if devices are set to use this ( PR1133 ) Added FibreHome CPU and Mempool support ( PR1134 ) Added config options for region and resolution on globe map ( PR1137 ) Added RRDCached example docs ( PR1148 ) Updated support for additional NetBotz models ( PR1152 ) Updated /iftype/ page to include speed/circuit/notes ( PR1155 ) Added detection for PowerConnect 55XX devices ( PR1165 )","title":"Improvements"},{"location":"General/Changelog/#apr-2015","text":"","title":"Apr 2015"},{"location":"General/Changelog/#bug-fixes_16","text":"Fixed ack of worse/better alerts ( PR720 ) Fixed ORIG_PATH_INFO warnings ( PR727 ) Added missing CPU id for Cisco SB ( PR744 ) Changed Processors table name to lower case in processors discovery ( PR751 ) Fixed alerts path issue ( PR756 , PR760 ) Suppress further port alerts when interface goes down ( PR745 ) Fixed login so redirects via 303 when POST data sent ( PR775 ) Fixed missing link to errored or ignored ports ( PR787 ) Updated alert log query for performance improvements ( PR783 ) Honour alert_rules.disabled field ( PR784 ) Stop page debug if user not logged in ( PR785 ) Added text filtering for new tables ( PR797 ) Fixed VMWare VM detection + hardware / serial support ( PR799 ) Fix links from /health/processor ( PR810 ) Hide divider if no plugins installed ( PR811 ) Added Nginx fix for using debug option ( PR823 ) Bug fixes for device groups SQL ( PR840 ) Fixed path issue when using rrdcached ( PR839 ) Fixed JS issues when deleting alert maps / poller groups / device groups ( PR846 , PR848 , PR877 ) Fixed links and popover for /health/metric=storage/ ( PR847 ) Fixed lots of user permission issues ( PR855 ) Fixed search ip / arp / mac pages ( PR845 ) Added missing charge icon ( PR878 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_16","text":"New theme support added (light,dark and mono) ( PR682 , PR683 , PR701 ) Tables being converted to Jquery Bootgrid ( PR693 , PR706 , PR716 ) Detect Cisco ASA Hardware and OS Version ( PR708 ) Update LDAP support ( PR707 ) Updated APC powernet MIB ( PR713 ) Update to Foritgate support ( PR709 ) Added support for UBNT AirOS and AirFibre ( PR721 , PR730 , PR731 ) Added support device groups + alerts to be mapped to devices or groups ( PR722 ) Added basic Cambium support ( PR738 ) Added basic F5 support ( PR670 ) Shorten interface names on map ( PR752 ) Added PowerCode support ( PR762 ) Added Autodiscovery via OSPF ( PR772 ) Added visual graph of alert log ( PR777 , PR809 ) Added Callback system to send anonymous stats ( PR768 ) More tables converted to use bootgrid ( PR729 , PR761 ) New Global Cache to store common queries added ( PR780 ) Added proxy support for submitting stats ( PR791 ) Minor APC Polling change ( PR800 ) Updated to HP switch detection ( PR802 ) Added Datacom basic detection ( PR816 ) Updated Cisco detection ( PR815 ) Added CSV export system + ability to export ports ( PR818 ) Added basic detection for PacketLogic devices ( PR773 ) Added fallback support for IBM switches for Serial / Version ( PR822 ) Added Juniper Inventory support ( PR825 ) Sharpen graphs produced ( PR826 ) Updated map to show device overview graphs and port graphs ( PR826 ) Added hostname to API call for list_alerts ( PR834 ) Added ability to schedule maintenance ( PR835 , PR841 ) Added ability to expand alert triggers for more details ( PR857 ) Added support for XTM/FBX Watchguard devices ( PR849 ) Updated Juniper MIBS and hardware rewrite ( PR838 ) Updated OpenBSD detection ( PR860 ) Added Macro support for alerting system ( PR863 ) Added support for tcp connections on rrdcached ( PR866 ) Added config option to enable / disable mouseover graphs ( PR873 ) General cleanup of files / folders permissions ( PR874 ) Added window size detection for map ( PR884 ) Added text to let users know refresh is disabled ( PR883 )","title":"Improvements"},{"location":"General/Changelog/#mar-2015","text":"","title":"Mar 2015"},{"location":"General/Changelog/#bug-fixes_17","text":"Updates to alert rules split ( PR550 ) Updated get_graphs() for API to resolve graph names ( PR613 ) Fixed use of REMOTE_ADDR to use X_FORWARDED_FOR if available ( PR620 ) Added yocto support from entPhySensorScale ( PR632 ) Eventlog search fixed ( PR644 ) Added missing OS discovery to default list ( PR660 ) Fixed logging issue when description of a port was removed ( PR673 ) Fixed logging issue when ports changed status ( PR675 ) Shortened interface names for graph display ( PR676 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_17","text":"Visual updates to alert logs ( PR541 ) Added temperature support for APC AC units ( PR545 ) Added ability to pause and resume page refresh ( PR557 ) Added polling support for NXOS ( PR562 ) Added discovery support for 3Com switches ( PR568 ) Updated Comware support ( PR583 ) Added new logo ( PR584 ) Added dynamic removal of device data when removing device ( PR592 ) Updated alerting to use fifo ( PR607 ) Added distributed poller support ( PR609 and PR610 ) Added PowerConnect 55xx ( PR635 ) Added inventory API endpoint ( PR640 ) Added serial number detection for ASA firewalls ( PR642 ) Added missing MKTree library for inventory support ( PR646 ) Added support for exporting Alert logs to PDF ( PR653 ) Added basic Ubiquiti support ( PR659 ) Numerous docs update ( PR662 , PR663 , PR677 , PR694 ) Added Polling information page ( PR664 ) Added HipChat notification support ( PR669 ) Implemented Jquery Bootgrid support ( PR671 ) Added new map to show xDP discovered links and devices ( PR679 + PR680 )","title":"Improvements"},{"location":"General/Changelog/#feb-2015","text":"","title":"Feb 2015"},{"location":"General/Changelog/#bug-fixes_18","text":"Removed header redirect causing page load delays ( PR436 ) Fixed stale alerting data ( PR475 ) Fixed api call for port stats to use device_id / hostname ( PR478 ) Work started on ensuring MySQL strict mode is supported ( PR521 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_18","text":"Added support for Cisco Wireless Controllers ( PR422 ) Updated IRC Bot to support alerting system ( PR434 ) Added new message box to alert when a device hasn't polled for 15 minutes or more ( PR435 ) Added quick links on device list page to quickly access common pages ( PR440 ) Alerting docs updated to cover new features ( PR446 ) IBM NOS Support added ( PR454 ) Added basic Barracuda Loadbalancer support ( PR456 ) Small change to the search results to add port desc / alias ( PR457 ) Added Device sub menu to access devices category directly ( PR465 ) Added basic Ruckus Wireless support ( PR466 ) Added support for a demo user ( PR471 ) Many small visual updates Added additional support for Cisco SB devices ( PR487 ) Added support to default home page for printing alerts ( PR488 ) Tidied up Alert menubar into sub menu ( PR489 ) Added historical alerts page ( PR495 ) Added battery charge monitoring for ( PR519 ) Added Slack support for alert system ( PR525 ) Added new debug for php / sql option to page footer ( PR484 )","title":"Improvements"},{"location":"General/Changelog/#jan-2015","text":"","title":"Jan 2015"},{"location":"General/Changelog/#bug-fixes_19","text":"Reverted chmod to make poller.php executable again ( PR394 ) Fixed duplicate port listing ( PR396 ) Fixed create bill from port page ( PR404 ) Fixed autodiscovery to use $config['mydomain'] correctly ( PR423 ) Fixed mute bug for alerts ( PR428 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_19","text":"Updated login page visually ( PR391 ) Added Hikvision support ( PR393 ) Added ability to search for packages using unix agent ( PR395 ) Updated ifAlias support for varying distributions ( PR398 ) Updated visually Global Settings page ( PR401 ) Added missing default nginx graphs ( PR403 ) Updated check_mk_agent to latest git version ( PR409 ) Added support for recording process list with unix agent ( PR410 ) Added support for named/bind9/TinyDNS application using unix agent ( PR413 , PR416 ) About page tidied up ( PR414 , PR425 ) Updated progress bars to use bootstrap ( PR42 ) Updated install docs to cover CentOS7 ( PR424 ) Alerting system updated with more features ( PR429 , PR430 )","title":"Improvements"},{"location":"General/Changelog/#dec-2014","text":"","title":"Dec 2014"},{"location":"General/Changelog/#bug-fixes_20","text":"Fixed Global Search box bootstrap ( PR357 ) Fixed display issues when calculating CDR in billing system ( PR359 ) Fixed API route order to resolve get_port_graphs working ( PR364 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_20","text":"Added new API route to retrieve list of graphs for a device ( PR355 ) Added new API route to retrieve list of port for a device ( PR356 ) Added new API route to retrieve billing info ( PR360 ) Added alerting system ( PR370 , PR369 , PR367 ) Added dbSchema version to about page ( PR377 ) Added git log link to about page ( PR378 ) Added Two factor authentication ( PR383 )","title":"Improvements"},{"location":"General/Changelog/#nov-2014","text":"","title":"Nov 2014"},{"location":"General/Changelog/#bug-fixes_21","text":"Updated Alcatel-Lucent OmniSwitch detection ( PR340 ) Added fix for DLink port detection ( PR347 ) Fixed BGP session count ( PR334 ) Fixed errors with BGP polling and storing data in RRD ( PR346 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_21","text":"Added option to clean old perf_times table entries ( PR343 ) Added nginx+php-fpm instructions ( PR345 ) Added BGP route to API ( PR335 ) Updated check_mk to new version + removed Observium branding ( PR311 ) Updated Edit SNMP settings page for device to only show relevant SNMP options ( PR317 ) Eventlog page now uses paged results ( PR336 ) Added new API route to show peering, transit and core graphs ( PR349 ) Added VyOS and EdgeOS detection ( PR351 / PR352 ) Documentation style and markdown updates ( PR353 )","title":"Improvements"},{"location":"General/Changelog/#oct-2014","text":"","title":"Oct 2014"},{"location":"General/Changelog/#bug-fixes_22","text":"Fixed displaying device image in device list ( PR296 ) Fixed placement of popups ( PR297 ) Updated authToken response code in API to 401 ( PR310 ) Removed trailing / from v0 part of API url ( PR312 ) Added correct response code for API call get_vlans ( PR313 ) Updated yearly graphs to fix year variable being passed ( PR316 ) Updated transport list to be generated from $config ( PR318 ) Moved addhost button on add host page as it was hidden ( PR319 ) Added stripslashes to hrdevice page ( PR321 ) Fixed web installer issue due to variable name change ( PR325 ) Updated disabled field in api tokens ( PR327 ) Fixed daily.sh not running from outside install directory (cron) ( PR328 ) Removed --no-edit from daily.php git pull ( PR309 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_22","text":"Added ability to create api tokens ( PR294 ) Added icmp and poller graphs for devices ( PR295 ) Added urldecode/urlencode support for interface names in API ( PR298 ) Added new library to support on screen notifications ( PR300 ) Added authlog purge function and improved efficiency in clearing syslog table ( PR301 ) Updated addhost page to show relevant snmp options ( PR303 ) Added limit $config for front page boxes ( PR305 ) Updated http-auth adding user to check if user already exists ( PR307 ) Added names to all API routes ( PR314 ) Added route to call list of API endpoints ( PR315 ) Added options to $config to specify fping retry and timeout ( PR323 ) Added icmp / snmp to device down alerts for debugging ( PR324 ) Added function to page results for large result pages ( PR333 )","title":"Improvements"},{"location":"General/Changelog/#sep-2014","text":"","title":"Sep 2014"},{"location":"General/Changelog/#bug-fixes_23","text":"Updated vtpversion check to fix vlan discovery issues ( PR289 ) Fixed mac address change false positives ( PR292 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_23","text":"Hide snmp passwords on edit snmp form ( PR290 ) Updates to API ( PR291 )","title":"Improvements"},{"location":"General/Changelog/#aug-2014","text":"","title":"Aug 2014"},{"location":"General/Changelog/#bug-fixes_24","text":"Disk % not showing in health view ( PR284 ) Fixed layout issue for ports list ( PR286 ) Removed session regeneration ( PR287 ) Updated edit button on edit user screen ( PR288 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_24","text":"Added email field for add user form ( PR278 ) V0 of API release ( PR282 )","title":"Improvements"},{"location":"General/Changelog/#jul-2014","text":"","title":"Jul 2014"},{"location":"General/Changelog/#bug-fixes_25","text":"Fixed RRD creation using MAX twice ( PR266 ) Fixed variables leaking in poller run ( PR267 ) Fixed links to health graphs ( PR271 ) Fixed install docs to remove duplicate snmpd on install ( PR276 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_25","text":"Added support for Cisco ASA connection graphs ( PR268 ) Updated delete device page ( PR270 )","title":"Improvements"},{"location":"General/Changelog/#jun-2014","text":"","title":"Jun 2014"},{"location":"General/Changelog/#bug-fixes_26","text":"Fixed a couple of DB queries ( PR222 ) Fixes to make interface more mobile friendly ( PR227 ) Fixed link to device on overview apps page ( PR228 ) Fixed missing backticks on SQL queries ( PR253 / PR254 ) Fixed user permissions page ( PR265 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_26","text":"Updated index page ( PR224 ) Updated global search visually ( PR223 ) Added contributors agreement ( PR225 ) Added ability to update health values ( PR226 ) Tidied up search box on devices list page ( PR229 ) Updated port search box and port table list ( PR230 ) Removed some unused javascript libraries ( PR231 ) Updated year and column for vertical status summary ( PR232 ) Tidied up the delete user page ( PR235 ) Added snmp port to $config ( PR237 ) Added documentation for lighttpd ( PR238 ) Updated all device edit pages ( PR239 ) Added IPv6 only host support ( PR241 ) Added public status page ( PR246 ) Added validate_device_id function ( PR257 ) Added auto detect of install location ( PR259 )","title":"Improvements"},{"location":"General/Changelog/#mar-2014","text":"","title":"Mar 2014"},{"location":"General/Changelog/#bug-fixes_27","text":"Removed link to pdf in billing history ( PR146 ) librenms logs now saved in correct location ( PR163 ) Updated pfsense detection ( PR182 ) Fixed health page mini cpu ( PR195 ) Updated install docs to include php5-json ( PR196 ) Fixed Dlink interface names ( PR200 / PR203 ) Stop shortening IP in shorthost function ( PR210 ) Fixed status box overlapping ( PR211 ) Fixed top port overlay issue ( PR212 ) Updated docs and daily.sh to update DB schemas ( PR215 ) Updated hardware detection for RouterOS ( PR217 ) Restore _GET variables for logging in ( PR218 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_27","text":"Updated inventory page to use bootstrap ( PR141 ) Updated mac / arp pages to use bootstrap ( PR147 ) Updated devices page to use bootstrap ( PR149 ) Updated delete host page to use bootstrap ( PR151 ) Updated print_error function to use bootstrap ( PR153 ) Updated install docs for Apache 2.3 ( PR161 ) Upgraded PHPMailer ( PR169 ) Added send_mail function using PHPMailer ( PR170 ) Added new and awesome IRC Bot ( PR171 ) Added Gentoo detection and logo ( PR174 / PR179 ) Added Engenius detection ( PR186 ) Updated edit user to enable editing ( PR187 ) Added EAP600 engenius support ( PR188 ) Added Plugin system ( PR189 ) MySQL calls updated to use dbFacile ( PR190 ) Added support for Dlink devices ( PR193 ) Added Windows 2012 polling support ( PR201 ) Added purge options for syslog / eventlog ( PR204 ) Added BGP to global search box ( PR205 )","title":"Improvements"},{"location":"General/Changelog/#feb-2014","text":"","title":"Feb 2014"},{"location":"General/Changelog/#bug-fixes_28","text":"Set poller-wrapper.py to be executable ( PR89 ) Fix device/port down boxes ( PR99 ) Ports set to be ignored honoured for threshold alerts ( PR104 ) Added PasswordHash.php to adduser.php ( PR119 ) build-base.php update to run DB updates ( PR128 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_28","text":"Added web based installer ( PR75 ) Updated login page design ( PR78 ) Ability to enable / disable topX boxes ( PR100 ) Added PHPPass support for MySQL auth logins ( PR101 ) Updated to Bootstrap 3.1 ( PR106 ) index.php tidied up ( PR107 ) Updated device overview page design ( PR113 ) Updated print_optionbar* to use bootstrap ( PR115 ) Updated device/port/services box to use bootstrap ( PR117 ) Updated eventlog / syslog to use bootstrap ( PR132 / PR134 )","title":"Improvements"},{"location":"General/Changelog/#jan-2014","text":"","title":"Jan 2014"},{"location":"General/Changelog/#bug-fixes_29","text":"Moved location redirect for logout ( PR55 ) Remove debug statements from process_syslog ( PR57 ) Stop print-syslog.inc.php from shortening hostnames ( PR62 ) Moved some variables from defaults.inc.php to definitions.inc.php ( PR66 ) Fixed title being set correctly ( PR73 ) Added documentation to enable billing module ( PR74 )","title":"Bug fixes"},{"location":"General/Changelog/#improvements_29","text":"Deleting devices now asks for confirmation ( PR53 ) Added ARP discovered device name and IP to eventlog ( PR54 ) Initial updated design release ( PR59 ) Added ifAlias script ( PR70 ) Added console ui ( PR72 )","title":"Improvements"},{"location":"General/Changelog/#nov-2013","text":"","title":"Nov 2013"},{"location":"General/Changelog/#bug-fixes_30","text":"Updates to fix arp discovery","title":"Bug fixes"},{"location":"General/Changelog/#improvements_30","text":"Added poller-wrapper (f8debf4) Documentation####Improvements and additions Added auto update feature Visual updates License tidy up started","title":"Improvements"},{"location":"General/Changelog/#oct-2013","text":"Initial release","title":"Oct 2013"},{"location":"General/Contributing/","text":"","title":"Contributing"},{"location":"General/Credits/","text":"","title":"Credits"},{"location":"General/Releases/","text":"Introduction We try to ensure that breaking changes aren't introduced by utilising various automated code testing, syntax testing and unit testing along with manual code review. However bugs can and do get introduced as well as major refactoring to improve the quality of the code base. We have two branches available for you to use. The default is the master branch. Development branch Our master branch is our dev branch, this is actively commited to and it's not uncommon for multiple commits to be merged in daily. As such sometimes changes will be introduced which will cause unintended issues. If this happens we are usually quick to fix or revert those changes. We appreciate everyone that runs this branch as you are in essence secondary testers to the automation and manually testing that is done during the merge stages. You can configure your install (this is the default) to use this branch by setting $config['update_channel'] = 'master'; in config.php and ensuring you switch to the master branch with: cd /opt/librenms git checkout master Stable branch With this in mind, we provide a monthly stable release which is released on or around the last Sunday of the month. Code pull requests (aside from Bug fixes) are stopped days leading up to the release to ensure that we have a clean working branch at that point. The changelog is also updated and will reference the release number and date so you can see what changes have been made since the last release. To switch to using stable branches you can set $config['update_channel'] = 'release'; in config.php and then switch to the latest release branch with: cd /opt/librenms git fetch --tags git checkout $(git describe --tags $(git rev-list --tags --max-count=1))","title":"Choosing a release"},{"location":"General/Releases/#introduction","text":"We try to ensure that breaking changes aren't introduced by utilising various automated code testing, syntax testing and unit testing along with manual code review. However bugs can and do get introduced as well as major refactoring to improve the quality of the code base. We have two branches available for you to use. The default is the master branch.","title":"Introduction"},{"location":"General/Releases/#development-branch","text":"Our master branch is our dev branch, this is actively commited to and it's not uncommon for multiple commits to be merged in daily. As such sometimes changes will be introduced which will cause unintended issues. If this happens we are usually quick to fix or revert those changes. We appreciate everyone that runs this branch as you are in essence secondary testers to the automation and manually testing that is done during the merge stages. You can configure your install (this is the default) to use this branch by setting $config['update_channel'] = 'master'; in config.php and ensuring you switch to the master branch with: cd /opt/librenms git checkout master","title":"Development branch"},{"location":"General/Releases/#stable-branch","text":"With this in mind, we provide a monthly stable release which is released on or around the last Sunday of the month. Code pull requests (aside from Bug fixes) are stopped days leading up to the release to ensure that we have a clean working branch at that point. The changelog is also updated and will reference the release number and date so you can see what changes have been made since the last release. To switch to using stable branches you can set $config['update_channel'] = 'release'; in config.php and then switch to the latest release branch with: cd /opt/librenms git fetch --tags git checkout $(git describe --tags $(git rev-list --tags --max-count=1))","title":"Stable branch"},{"location":"General/Security/","text":"General Like any good software we take security seriously. However, bugs do make it into the software along with the history of the code base we inherited. It's how we deal with identified vulnerabilities that should show that we take things seriously. Securing your install As with any system of this nature, we highly recommend that you restrict access to the install via a firewall or VPN. It is also highly recommended that the Web interface is protected with an SSL certificate such as ones provided by LetsEncrypt . When using HTTPS, it is recommended that you use secure, encrypted cookies to prevent session hijacking attacks. Set $config['secure_cookies'] = true; in config.php to enable these. Please ensure you keep your install up to date . Reporting vulnerabilities Like anyone, we appreciate the work people put in to find flaws in software and welcome anyone to do so with LibreNMS, this will lead to better quality and more secure software for everyone. If you think you've found a vulnerability and want to discuss it with some of the core team then you can email us at team@librenms.org and we will endeavour to get back to as quick as we can, this is usually within 24 hours. We are happy to attribute credit to the findings but we ask that we're given a chance to patch any vulnerability before public disclosure so that our users can update as soon as a fix is available.","title":"Security information"},{"location":"General/Security/#general","text":"Like any good software we take security seriously. However, bugs do make it into the software along with the history of the code base we inherited. It's how we deal with identified vulnerabilities that should show that we take things seriously.","title":"General"},{"location":"General/Security/#securing-your-install","text":"As with any system of this nature, we highly recommend that you restrict access to the install via a firewall or VPN. It is also highly recommended that the Web interface is protected with an SSL certificate such as ones provided by LetsEncrypt . When using HTTPS, it is recommended that you use secure, encrypted cookies to prevent session hijacking attacks. Set $config['secure_cookies'] = true; in config.php to enable these. Please ensure you keep your install up to date .","title":"Securing your install"},{"location":"General/Security/#reporting-vulnerabilities","text":"Like anyone, we appreciate the work people put in to find flaws in software and welcome anyone to do so with LibreNMS, this will lead to better quality and more secure software for everyone. If you think you've found a vulnerability and want to discuss it with some of the core team then you can email us at team@librenms.org and we will endeavour to get back to as quick as we can, this is usually within 24 hours. We are happy to attribute credit to the findings but we ask that we're given a chance to patch any vulnerability before public disclosure so that our users can update as soon as a fix is available.","title":"Reporting vulnerabilities"},{"location":"General/Updating/","text":"By default, LibreNMS is set to automatically update. If you have disabled this feature then you can perform a manual update. Manual update If you would like to perform a manual update then you can do this by running the following command as the librenms user: ./daily.sh This will update both the core LibreNMS files but also update the database structure if updates are available. Advanced users If you absolutely must update manually without using ./daily.sh then you can do so by running the following commands: cd /opt/librenms git pull composer install --no-dev ./build-base.php ./validate.php You should continue to run daily.sh. This does database cleanup and other processes in addition to updating. You can disable the daily.sh update process as described below. Disabling automatic updates LibreNMS by default performs updates on a daily basis. This can be disabled by setting: $config['update'] = 0;","title":"Updating an install"},{"location":"General/Updating/#manual-update","text":"If you would like to perform a manual update then you can do this by running the following command as the librenms user: ./daily.sh This will update both the core LibreNMS files but also update the database structure if updates are available.","title":"Manual update"},{"location":"General/Updating/#advanced-users","text":"If you absolutely must update manually without using ./daily.sh then you can do so by running the following commands: cd /opt/librenms git pull composer install --no-dev ./build-base.php ./validate.php You should continue to run daily.sh. This does database cleanup and other processes in addition to updating. You can disable the daily.sh update process as described below.","title":"Advanced users"},{"location":"General/Updating/#disabling-automatic-updates","text":"LibreNMS by default performs updates on a daily basis. This can be disabled by setting: $config['update'] = 0;","title":"Disabling automatic updates"},{"location":"General/Welcome-to-Observium-users/","text":"LibreNMS is a fork of Observium. The reason for the fork has nothing to do with Observium's move to community vs. paid versions . It is simply that we have different priorities and values to the Observium development team. We decided to fork (reluctantly) because we like using Observium, but we want to collaborate on a community-based project with like-minded IT professionals. See README.md and the references there for more information about the kind of community we're trying to promote. LibreNMS was forked from the last GPL-licensed version of Observium . Thanks to one of our users, Dan Brown, who has written a migration script , you can easily move your Observium install over to LibreNMS. This also takes care of moving from one CPU architecture to another. Give it a try :) How LibreNMS will be different from Observium: We will have an inclusive community, where it's OK to ask stupid questions, and OK to ask for things that aren't on the roadmap. If you'd like to see something added, add or comment on the relevant issue in our Community forum . Development decisions will be community-driven. We want to make software that fulfills its users' needs. There are no plans for a paid version, and we don't anticipate this ever changing. There are no current plans for paid support, but this may be added later if there is sufficient demand. We use git for version control and GitHub for hosting to make it as easy and painless as possible to create forked or private versions. Reasons why you might want to use Observium instead of LibreNMS: You have a financial investment in Observium and aren't concerned about community contributions. You don't like the GNU General Public License, version 3 or the philosophy of Free Software/copyleft in general. Reasons why you might want to use LibreNMS instead of Observium: You want to work with others on the project, knowing that your investment of time and effort will not be wasted . You want to add and experiment with features that are not a priority for the Observium developers. See CONTRIBUTING for more details. You want to make use of the additional features LibreNMS can offer.","title":"Welcome to Observium users"},{"location":"Installation/","text":"Installing LibreNMS Images We have some pre-built VirtualBox images you can use to get started. Please note that these images are pre-built for VirtualBox, hence they might not work with other hypervisors without converting them: Ubuntu 16.04 CentOS 7 Manually If you want to install manually then we have some documentation which should make it easy. Please note the minimum supported PHP version is 5.6.4 Ubuntu 18.04 Apache Ubuntu 18.04 Nginx RHEL / CentOS 7 Apache RHEL / CentOS 7 Nginx Old Install Docs If the above are missing or incomplete then you can try our old docs below. Ubuntu 16.04 Apache Ubuntu 16.04 Nginx Debian/Ubuntu RHEL/CentOS Debian/Ubuntu Lighttpd Debian/Ubuntu Nginx Third-party Third-party installation supports have been created by the community. Docker images crazymax/librenms based on Alpine Linux by CrazyMax jarischaefer/docker-librenms based on Ubuntu by Jari Sch\u00e4fer","title":"Installing LibreNMS"},{"location":"Installation/#installing-librenms","text":"","title":"Installing LibreNMS"},{"location":"Installation/#images","text":"We have some pre-built VirtualBox images you can use to get started. Please note that these images are pre-built for VirtualBox, hence they might not work with other hypervisors without converting them: Ubuntu 16.04 CentOS 7","title":"Images"},{"location":"Installation/#manually","text":"If you want to install manually then we have some documentation which should make it easy. Please note the minimum supported PHP version is 5.6.4 Ubuntu 18.04 Apache Ubuntu 18.04 Nginx RHEL / CentOS 7 Apache RHEL / CentOS 7 Nginx","title":"Manually"},{"location":"Installation/#old-install-docs","text":"If the above are missing or incomplete then you can try our old docs below. Ubuntu 16.04 Apache Ubuntu 16.04 Nginx Debian/Ubuntu RHEL/CentOS Debian/Ubuntu Lighttpd Debian/Ubuntu Nginx","title":"Old Install Docs"},{"location":"Installation/#third-party","text":"Third-party installation supports have been created by the community.","title":"Third-party"},{"location":"Installation/#docker-images","text":"crazymax/librenms based on Alpine Linux by CrazyMax jarischaefer/docker-librenms based on Ubuntu by Jari Sch\u00e4fer","title":"Docker images"},{"location":"Installation/CentOS-image/","text":"NOTE: We highly advice that you change all passwords on this image when you deploy it!! NOTE: Read the above note again! We have available for download a pre-built image based on CentOS 7. Details of the image are below: The image is built with VirtualBox, a vmdk is provided along with an ova which was exported using OFV 1.0 version. These should be supported in VMWare Fusion, Workstation, Player and VirtualBox. NOTE: It's highly recommended that you update by doing the following. cd /opt/librenms ./daily.sh Any issues and or help with these images should be reported via Community Fourm or our Discord server Setup UK Keyboard Etc/UTC Timezone 4 Poller Wrapper threads Software PHP 7 MariaDB Syslog-ng Features Oxidized install but not configured Weathermap plugin enabled Billing enabled RRDCached enabled Service checks enabled Syslog enabled Download OVA Image - 1.1G md5sum: 53f0c06c26255e859144e471ae85eedc sha256sum: 9d902e8452ec8f88ab96180b46113ab5c8ef9213b16cebbbf3f88df37670ebd4 VMDK Image - 2.8G md5sum: 8c54cb929ba9e16bc9a985a292b8f9d9 sha256sum: 944d1164f0664334fdb50e425049819a18da5568c56b6b49681a9ebe13ae9489 Credentials Please note the second character of the SSH password is a CAPITAL EYE SSH username: librenms password: CIne3fwdfds Please note the second character of the SSH password is a CAPITAL EYE MySQL/MariaDB username: root password: NIfceu3fqfd username: librenms password: D42nf23rewD WebUI username: librenms password: D32fwefwef","title":"CentOS VM Image"},{"location":"Installation/CentOS-image/#setup","text":"UK Keyboard Etc/UTC Timezone 4 Poller Wrapper threads","title":"Setup"},{"location":"Installation/CentOS-image/#software","text":"PHP 7 MariaDB Syslog-ng","title":"Software"},{"location":"Installation/CentOS-image/#features","text":"Oxidized install but not configured Weathermap plugin enabled Billing enabled RRDCached enabled Service checks enabled Syslog enabled","title":"Features"},{"location":"Installation/CentOS-image/#download","text":"OVA Image - 1.1G md5sum: 53f0c06c26255e859144e471ae85eedc sha256sum: 9d902e8452ec8f88ab96180b46113ab5c8ef9213b16cebbbf3f88df37670ebd4 VMDK Image - 2.8G md5sum: 8c54cb929ba9e16bc9a985a292b8f9d9 sha256sum: 944d1164f0664334fdb50e425049819a18da5568c56b6b49681a9ebe13ae9489","title":"Download"},{"location":"Installation/CentOS-image/#credentials","text":"Please note the second character of the SSH password is a CAPITAL EYE SSH username: librenms password: CIne3fwdfds Please note the second character of the SSH password is a CAPITAL EYE MySQL/MariaDB username: root password: NIfceu3fqfd username: librenms password: D42nf23rewD WebUI username: librenms password: D32fwefwef","title":"Credentials"},{"location":"Installation/Installation-(Debian-Ubuntu)/","text":"","title":"Installation (Debian Ubuntu)"},{"location":"Installation/Installation-(RHEL-CentOS)/","text":"","title":"Installation (RHEL CentOS)"},{"location":"Installation/Installation-CentOS-6-Apache-Nginx/","text":"NOTE: These instructions assume you are the root user. If you are not, prepend sudo to the shell commands (the ones that aren't at mysql prompts) or temporarily become a user with root privileges with sudo -s or sudo -i . Please note the minimum supported PHP version is 5.6.4 On the DB Server This host is where the MySQL database runs. It could be the same machine as your network management server (this is the most common initial deployment scenario). ** Whilst we are working on ensuring LibreNMS is compatible with MySQL strict mode, for now, please disable this after mysql is installed. You are free to choose between using MySQL or MariaDB: MySQL yum install net-snmp mysql-server mysql-client chkconfig mysqld on service mysqld start MariaDB yum install net-snmp mariadb-server mariadb-client chkconfig mariadb on service mariadb start Now continue with the installation: chkconfig snmpd on service snmpd start mysql_secure_installation mysql -uroot -p Enter the MySQL/MariaDB root password to enter the command-line interface. Create database. CREATE DATABASE librenms CHARACTER SET utf8 COLLATE utf8_unicode_ci; CREATE USER 'librenms'@'localhost' IDENTIFIED BY 'password'; GRANT ALL PRIVILEGES ON librenms.* TO 'librenms'@'localhost'; FLUSH PRIVILEGES; exit Replace ip above with the IP of the server running LibreNMS. If your database is on the same server as LibreNMS, use localhost as the IP address. Edit the mysql/mariadb configuration file: vim /etc/my.cnf Add the following line: innodb_file_per_table=1 If you are deploying a separate database server, you also need to specify the bind-address . If your MySQL database resides on the same server as LibreNMS, you should skip this step. bind-address = ip If you see a line that starts sql-mode then change this to sql-mode=\"\" . Save, and restart MySQL/MariaDB to apply your changes: service mysqld restart or service mariadb restart On the NMS Install necessary software. The packages listed below are an all-inclusive list of packages that were necessary on a clean install of CentOS 6.x. It also requires the EPEL repository. Net_IPv6 is required even if your network environment does not support IPv6. Note if not using HTTPd (Apache): RHEL requires httpd to be installed regardless of of nginx 's (or any other web-server's) presence. yum install epel-release yum install php php-cli php-gd php-mysql php-snmp php-pear php-curl httpd net-snmp graphviz graphviz-php mysql ImageMagick jwhois nmap mtr rrdtool MySQL-python net-snmp-utils vixie-cron php-mcrypt fping git pear install Net_IPv4-1.3.4 pear install Net_IPv6-1.2.2b2 Configure SNMPD on localhost Edit /etc/snmp/snmpd.conf to enable self-polling. An absolute minimal config for snmpd is: rocommunity public 127.0.0.1 You may either edit the default configuration file to your liking, or backup the default config file and replace it entirely with your own. To apply your changes, run service snmpd restart for Centos 6.x. If you have deployed a separate database server, you will likely want to configure snmpd on that host as well. Adding the librenms-user for Apache useradd librenms -d /opt/librenms -M -r usermod -a -G librenms apache Adding the librenms-user for Nginx useradd librenms -d /opt/librenms -M -r usermod -a -G librenms nginx Using HTTPd (Apache2) Set httpd to start on system boot. chkconfig --levels 235 httpd on In /etc/php.ini , ensure date.timezone is set to your preferred time zone. See http://php.net/manual/en/timezones.php for a list of supported timezones. Valid examples are: \"America/New York\", \"Australia/Brisbane\", \"Etc/UTC\". Please also ensure that allow_url_fopen is enabled. Other functions needed for LibreNMS include exec,passthru,shell_exec,escapeshellarg,escapeshellcmd,proc_close,proc_open,popen . Next, add the following to /etc/httpd/conf.d/librenms.conf If you are running Apache below version 2.2.18: VirtualHost *:80 DocumentRoot /opt/librenms/html/ ServerName librenms.example.com CustomLog /opt/librenms/logs/access_log combined ErrorLog /opt/librenms/logs/error_log AllowEncodedSlashes On Directory /opt/librenms/html/ AllowOverride All Options FollowSymLinks MultiViews /Directory /VirtualHost If you are running Apache 2.2.18 or higher: VirtualHost *:80 DocumentRoot /opt/librenms/html/ ServerName librenms.example.com CustomLog /opt/librenms/logs/access_log combined ErrorLog /opt/librenms/logs/error_log AllowEncodedSlashes NoDecode Directory /opt/librenms/html/ AllowOverride All Options FollowSymLinks MultiViews Require all granted /Directory /VirtualHost If the file /etc/httpd/conf.d/welcome.conf exists, you will want to remove that as well unless you're familiar with Name-based Virtual Hosts . rn /etc/httpd/conf.d/welcome.conf /etc/httpd/conf.d/welcome.conf.bak Using Nginx and PHP-FPM If you choose to run Nginx, you will need to install necessary extra software and let it start on system boot. yum install nginx php-fpm chkconfig nginx on chkconfig php-fpm on Modify permissions and configuration for php-fpm to use nginx credentials. mkdir /var/lib/php/session chown root:nginx /var/lib/php -R vim /etc/php-fpm.d/www.conf # At line #12: Change `listen` to `/var/run/php5-fpm.sock` # At line #39-41: Change the `user` and `group` to `nginx` Add configuration for nginx at /etc/nginx/conf.d/librenms.conf with the following content: server { listen 80; server_name librenms.example.com; root /opt/librenms/html; index index.php; access_log /opt/librenms/logs/access_log; error_log /opt/librenms/logs/error_log; location / { try_files $uri $uri/ @librenms; } location ~ \\.php { fastcgi_param PATH_INFO $fastcgi_path_info; include fastcgi.conf; fastcgi_split_path_info ^(.+\\.php)(/.+)$; fastcgi_pass unix:/var/run/php5-fpm.sock; } location ~ /\\.ht { deny all; } location @librenms { rewrite api/v0(.*)$ /api_v0.php/$1 last; rewrite ^(.+)$ /index.php/$1 last; } } Cloning You can clone the repository via HTTPS or SSH. In either case, you need to ensure the appropriate port (443 for HTTPS, 22 for SSH) is open in the outbound direction for your server. cd /opt git clone https://github.com/librenms/librenms.git librenms cd /opt/librenms NOTE: The recommended method of cloning a git repository is HTTPS. If you would like to clone via SSH instead, use the command git clone git@github.com:librenms/librenms.git librenms instead. Prepare the Web Interface To prepare the web interface, you'll need to create and chown a directory as well as create an Apache vhost. First, create and chown the rrd directory and create the logs directory mkdir rrd logs chown -R librenms:librenms /opt/librenms chmod 775 rrd If you're planing on running rrdcached, make sure that the path is also chmod'ed to 775 and chown'ed to librenms:librenms. SELinux if you're using SELinux you need to allow web server user to write into logs directory. semanage tool is a part of policycoreutils-python, so if don't have it, you can install it Please note that running LibreNMS with SELinux is still experimental and we cannot guarantee that everything will be working fine for now. yum install policycoreutils-python semanage fcontext -a -t httpd_sys_content_t '/opt/librenms/logs(/.*)?' semanage fcontext -a -t httpd_sys_rw_content_t '/opt/librenms/logs(/.*)?' restorecon -RFvv /opt/librenms/logs/ Set selinux to allow httpd to sendmail setsebool -P httpd_can_sendmail=1 Start the web-server: # For HTTPd (Apache): service httpd restart # For Nginx: service nginx restart Web Installer At this stage you can launch the web installer by going to http://IP/install.php and follow the on-screen instructions. Alternatively if you want to continue the setup manually then perform the manual install steps. If you cannot reach the installer, stop here and solve that problem before proceeding. Afterwards, Add the following line to the end of config.php : $config['fping'] = \"/usr/sbin/fping\"; Manual Install You may skip this section if the web installer succeeded. cp config.php.default config.php vi config.php Change the values to the right of the equal sign for lines beginning with $config[db_] to match your database information as previously configured. Change the value of $config['snmp']['community'] from public to whatever your default read-only SNMP community is. If you have multiple existing communities in your environment, set it to the most common. Add the following line to the end of config.php : $config['fping'] = \"/usr/sbin/fping\"; Important: Be sure you have no characters (including whitespace like: newlines, spaces, tabs, etc) outside of the ?php? blocks. Your graphs will break otherwise and there will be no error messages to indicate otherwise! Initialize the database Initiate the follow database with the following command: php build-base.php Create admin user Create the admin user - priv should be 10 php adduser.php name pass 10 email Substitute your desired username, password and email address--and leave the angled brackets off. Validate your install After performing the manual install or web install, be sure to run validate.php as root in the librenms directory: php validate.php This will check your install to verify it is set up correctly. Add localhost php addhost.php localhost public v2c Replace public to match what you set in /etc/snmp/snmpd.conf . This command also assumes you are using SNMP v2c. If you're using v3, there are additional steps (NOTE: instructions for SNMPv3 to come). Discover localhost: php discovery.php -h all Create cronjob The polling method used by LibreNMS is poller-wrapper.py , which was placed in the public domain by its author. By default, the LibreNMS cronjob runs poller-wrapper.py with 16 threads. The current LibreNMS recommendation is to use 4 threads per core. The default if no thread count is 16 threads . If the thread count needs to be changed, you can do so by editing the cron file ( /etc/cron.d/librenms ). Just add a number after poller-wrapper.py , as in the below example: /opt/librenms/poller-wrapper.py 12 /dev/null 2 1 Create the cronjob cp librenms.nonroot.cron /etc/cron.d/librenms Copy logrotate config LibreNMS keeps logs in /opt/librenms/logs . Over time these can become large and be rotated out. To rotate out the old logs you can use the provided logrotate config file: cp misc/librenms.logrotate /etc/logrotate.d/librenms Daily Updates LibreNMS performs daily updates by default. At 00:15 system time every day, a git pull --no-edit --quiet is performed. You can override this default by editing your config.php file. Remove the comment (the # mark) on the line: #$config['update'] = 0; so that it looks like this: $config['update'] = 0; Install complete Please allow for 2-3 runs of the poller-wrapper for data to start appearing in the WebUI. If you don't see data after this, please refer to the FAQ for assistance. That's it! You now should be able to log in to http://librenms.example.com/. Please note that we have not covered HTTPS setup in this example, so your LibreNMS install is not secure by default. Please do not expose it to the public Internet unless you have configured HTTPS and taken appropriate web server hardening steps. It would be great if you would consider opting into the stats system we have, please see this page on what it is and how to enable it.","title":"Installation CentOS 6 Apache Nginx"},{"location":"Installation/Installation-CentOS-6-Apache-Nginx/#on-the-db-server","text":"This host is where the MySQL database runs. It could be the same machine as your network management server (this is the most common initial deployment scenario). ** Whilst we are working on ensuring LibreNMS is compatible with MySQL strict mode, for now, please disable this after mysql is installed. You are free to choose between using MySQL or MariaDB: MySQL yum install net-snmp mysql-server mysql-client chkconfig mysqld on service mysqld start MariaDB yum install net-snmp mariadb-server mariadb-client chkconfig mariadb on service mariadb start Now continue with the installation: chkconfig snmpd on service snmpd start mysql_secure_installation mysql -uroot -p Enter the MySQL/MariaDB root password to enter the command-line interface. Create database. CREATE DATABASE librenms CHARACTER SET utf8 COLLATE utf8_unicode_ci; CREATE USER 'librenms'@'localhost' IDENTIFIED BY 'password'; GRANT ALL PRIVILEGES ON librenms.* TO 'librenms'@'localhost'; FLUSH PRIVILEGES; exit Replace ip above with the IP of the server running LibreNMS. If your database is on the same server as LibreNMS, use localhost as the IP address. Edit the mysql/mariadb configuration file: vim /etc/my.cnf Add the following line: innodb_file_per_table=1 If you are deploying a separate database server, you also need to specify the bind-address . If your MySQL database resides on the same server as LibreNMS, you should skip this step. bind-address = ip If you see a line that starts sql-mode then change this to sql-mode=\"\" . Save, and restart MySQL/MariaDB to apply your changes: service mysqld restart or service mariadb restart","title":"On the DB Server"},{"location":"Installation/Installation-CentOS-6-Apache-Nginx/#on-the-nms","text":"Install necessary software. The packages listed below are an all-inclusive list of packages that were necessary on a clean install of CentOS 6.x. It also requires the EPEL repository. Net_IPv6 is required even if your network environment does not support IPv6. Note if not using HTTPd (Apache): RHEL requires httpd to be installed regardless of of nginx 's (or any other web-server's) presence. yum install epel-release yum install php php-cli php-gd php-mysql php-snmp php-pear php-curl httpd net-snmp graphviz graphviz-php mysql ImageMagick jwhois nmap mtr rrdtool MySQL-python net-snmp-utils vixie-cron php-mcrypt fping git pear install Net_IPv4-1.3.4 pear install Net_IPv6-1.2.2b2","title":"On the NMS"},{"location":"Installation/Installation-CentOS-6-Apache-Nginx/#configure-snmpd-on-localhost","text":"Edit /etc/snmp/snmpd.conf to enable self-polling. An absolute minimal config for snmpd is: rocommunity public 127.0.0.1 You may either edit the default configuration file to your liking, or backup the default config file and replace it entirely with your own. To apply your changes, run service snmpd restart for Centos 6.x. If you have deployed a separate database server, you will likely want to configure snmpd on that host as well.","title":"Configure SNMPD on localhost"},{"location":"Installation/Installation-CentOS-6-Apache-Nginx/#adding-the-librenms-user-for-apache","text":"useradd librenms -d /opt/librenms -M -r usermod -a -G librenms apache","title":"Adding the librenms-user for Apache"},{"location":"Installation/Installation-CentOS-6-Apache-Nginx/#adding-the-librenms-user-for-nginx","text":"useradd librenms -d /opt/librenms -M -r usermod -a -G librenms nginx","title":"Adding the librenms-user for Nginx"},{"location":"Installation/Installation-CentOS-6-Apache-Nginx/#using-httpd-apache2","text":"Set httpd to start on system boot. chkconfig --levels 235 httpd on In /etc/php.ini , ensure date.timezone is set to your preferred time zone. See http://php.net/manual/en/timezones.php for a list of supported timezones. Valid examples are: \"America/New York\", \"Australia/Brisbane\", \"Etc/UTC\". Please also ensure that allow_url_fopen is enabled. Other functions needed for LibreNMS include exec,passthru,shell_exec,escapeshellarg,escapeshellcmd,proc_close,proc_open,popen . Next, add the following to /etc/httpd/conf.d/librenms.conf If you are running Apache below version 2.2.18: VirtualHost *:80 DocumentRoot /opt/librenms/html/ ServerName librenms.example.com CustomLog /opt/librenms/logs/access_log combined ErrorLog /opt/librenms/logs/error_log AllowEncodedSlashes On Directory /opt/librenms/html/ AllowOverride All Options FollowSymLinks MultiViews /Directory /VirtualHost If you are running Apache 2.2.18 or higher: VirtualHost *:80 DocumentRoot /opt/librenms/html/ ServerName librenms.example.com CustomLog /opt/librenms/logs/access_log combined ErrorLog /opt/librenms/logs/error_log AllowEncodedSlashes NoDecode Directory /opt/librenms/html/ AllowOverride All Options FollowSymLinks MultiViews Require all granted /Directory /VirtualHost If the file /etc/httpd/conf.d/welcome.conf exists, you will want to remove that as well unless you're familiar with Name-based Virtual Hosts . rn /etc/httpd/conf.d/welcome.conf /etc/httpd/conf.d/welcome.conf.bak","title":"Using HTTPd (Apache2)"},{"location":"Installation/Installation-CentOS-6-Apache-Nginx/#using-nginx-and-php-fpm","text":"If you choose to run Nginx, you will need to install necessary extra software and let it start on system boot. yum install nginx php-fpm chkconfig nginx on chkconfig php-fpm on Modify permissions and configuration for php-fpm to use nginx credentials. mkdir /var/lib/php/session chown root:nginx /var/lib/php -R vim /etc/php-fpm.d/www.conf # At line #12: Change `listen` to `/var/run/php5-fpm.sock` # At line #39-41: Change the `user` and `group` to `nginx` Add configuration for nginx at /etc/nginx/conf.d/librenms.conf with the following content: server { listen 80; server_name librenms.example.com; root /opt/librenms/html; index index.php; access_log /opt/librenms/logs/access_log; error_log /opt/librenms/logs/error_log; location / { try_files $uri $uri/ @librenms; } location ~ \\.php { fastcgi_param PATH_INFO $fastcgi_path_info; include fastcgi.conf; fastcgi_split_path_info ^(.+\\.php)(/.+)$; fastcgi_pass unix:/var/run/php5-fpm.sock; } location ~ /\\.ht { deny all; } location @librenms { rewrite api/v0(.*)$ /api_v0.php/$1 last; rewrite ^(.+)$ /index.php/$1 last; } }","title":"Using Nginx and PHP-FPM"},{"location":"Installation/Installation-CentOS-6-Apache-Nginx/#cloning","text":"You can clone the repository via HTTPS or SSH. In either case, you need to ensure the appropriate port (443 for HTTPS, 22 for SSH) is open in the outbound direction for your server. cd /opt git clone https://github.com/librenms/librenms.git librenms cd /opt/librenms NOTE: The recommended method of cloning a git repository is HTTPS. If you would like to clone via SSH instead, use the command git clone git@github.com:librenms/librenms.git librenms instead.","title":"Cloning"},{"location":"Installation/Installation-CentOS-6-Apache-Nginx/#prepare-the-web-interface","text":"To prepare the web interface, you'll need to create and chown a directory as well as create an Apache vhost. First, create and chown the rrd directory and create the logs directory mkdir rrd logs chown -R librenms:librenms /opt/librenms chmod 775 rrd If you're planing on running rrdcached, make sure that the path is also chmod'ed to 775 and chown'ed to librenms:librenms. SELinux if you're using SELinux you need to allow web server user to write into logs directory. semanage tool is a part of policycoreutils-python, so if don't have it, you can install it Please note that running LibreNMS with SELinux is still experimental and we cannot guarantee that everything will be working fine for now. yum install policycoreutils-python semanage fcontext -a -t httpd_sys_content_t '/opt/librenms/logs(/.*)?' semanage fcontext -a -t httpd_sys_rw_content_t '/opt/librenms/logs(/.*)?' restorecon -RFvv /opt/librenms/logs/ Set selinux to allow httpd to sendmail setsebool -P httpd_can_sendmail=1","title":"Prepare the Web Interface"},{"location":"Installation/Installation-CentOS-6-Apache-Nginx/#start-the-web-server","text":"# For HTTPd (Apache): service httpd restart # For Nginx: service nginx restart","title":"Start the web-server:"},{"location":"Installation/Installation-CentOS-6-Apache-Nginx/#web-installer","text":"At this stage you can launch the web installer by going to http://IP/install.php and follow the on-screen instructions. Alternatively if you want to continue the setup manually then perform the manual install steps. If you cannot reach the installer, stop here and solve that problem before proceeding. Afterwards, Add the following line to the end of config.php : $config['fping'] = \"/usr/sbin/fping\";","title":"Web Installer"},{"location":"Installation/Installation-CentOS-6-Apache-Nginx/#manual-install","text":"You may skip this section if the web installer succeeded. cp config.php.default config.php vi config.php Change the values to the right of the equal sign for lines beginning with $config[db_] to match your database information as previously configured. Change the value of $config['snmp']['community'] from public to whatever your default read-only SNMP community is. If you have multiple existing communities in your environment, set it to the most common. Add the following line to the end of config.php : $config['fping'] = \"/usr/sbin/fping\"; Important: Be sure you have no characters (including whitespace like: newlines, spaces, tabs, etc) outside of the ?php? blocks. Your graphs will break otherwise and there will be no error messages to indicate otherwise! Initialize the database Initiate the follow database with the following command: php build-base.php Create admin user Create the admin user - priv should be 10 php adduser.php name pass 10 email Substitute your desired username, password and email address--and leave the angled brackets off.","title":"Manual Install"},{"location":"Installation/Installation-CentOS-6-Apache-Nginx/#validate-your-install","text":"After performing the manual install or web install, be sure to run validate.php as root in the librenms directory: php validate.php This will check your install to verify it is set up correctly.","title":"Validate your install"},{"location":"Installation/Installation-CentOS-6-Apache-Nginx/#add-localhost","text":"php addhost.php localhost public v2c Replace public to match what you set in /etc/snmp/snmpd.conf . This command also assumes you are using SNMP v2c. If you're using v3, there are additional steps (NOTE: instructions for SNMPv3 to come). Discover localhost: php discovery.php -h all","title":"Add localhost"},{"location":"Installation/Installation-CentOS-6-Apache-Nginx/#create-cronjob","text":"The polling method used by LibreNMS is poller-wrapper.py , which was placed in the public domain by its author. By default, the LibreNMS cronjob runs poller-wrapper.py with 16 threads. The current LibreNMS recommendation is to use 4 threads per core. The default if no thread count is 16 threads . If the thread count needs to be changed, you can do so by editing the cron file ( /etc/cron.d/librenms ). Just add a number after poller-wrapper.py , as in the below example: /opt/librenms/poller-wrapper.py 12 /dev/null 2 1 Create the cronjob cp librenms.nonroot.cron /etc/cron.d/librenms","title":"Create cronjob"},{"location":"Installation/Installation-CentOS-6-Apache-Nginx/#copy-logrotate-config","text":"LibreNMS keeps logs in /opt/librenms/logs . Over time these can become large and be rotated out. To rotate out the old logs you can use the provided logrotate config file: cp misc/librenms.logrotate /etc/logrotate.d/librenms","title":"Copy logrotate config"},{"location":"Installation/Installation-CentOS-6-Apache-Nginx/#daily-updates","text":"LibreNMS performs daily updates by default. At 00:15 system time every day, a git pull --no-edit --quiet is performed. You can override this default by editing your config.php file. Remove the comment (the # mark) on the line: #$config['update'] = 0; so that it looks like this: $config['update'] = 0;","title":"Daily Updates"},{"location":"Installation/Installation-CentOS-6-Apache-Nginx/#install-complete","text":"Please allow for 2-3 runs of the poller-wrapper for data to start appearing in the WebUI. If you don't see data after this, please refer to the FAQ for assistance. That's it! You now should be able to log in to http://librenms.example.com/. Please note that we have not covered HTTPS setup in this example, so your LibreNMS install is not secure by default. Please do not expose it to the public Internet unless you have configured HTTPS and taken appropriate web server hardening steps. It would be great if you would consider opting into the stats system we have, please see this page on what it is and how to enable it.","title":"Install complete"},{"location":"Installation/Installation-CentOS-7-Apache/","text":"NOTE: These instructions assume you are the root user. If you are not, prepend sudo to the shell commands (the ones that aren't at mysql prompts) or temporarily become a user with root privileges with sudo -s or sudo -i . Please note the minimum supported PHP version is 5.6.4 Install Required Packages yum install epel-release rpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm yum install composer cronie fping git httpd ImageMagick jwhois mariadb mariadb-server mtr MySQL-python net-snmp net-snmp-utils nmap php72w php72w-cli php72w-common php72w-curl php72w-gd php72w-mbstring php72w-mysqlnd php72w-process php72w-snmp php72w-xml php72w-zip python-memcached rrdtool Add librenms user useradd librenms -d /opt/librenms -M -r usermod -a -G librenms apache Install LibreNMS cd /opt composer create-project --no-dev --keep-vcs librenms/librenms librenms dev-master DB Server Configure MySQL systemctl start mariadb mysql -u root NOTE: Please change the 'password' below to something secure. CREATE DATABASE librenms CHARACTER SET utf8 COLLATE utf8_unicode_ci; CREATE USER 'librenms'@'localhost' IDENTIFIED BY 'password'; GRANT ALL PRIVILEGES ON librenms.* TO 'librenms'@'localhost'; FLUSH PRIVILEGES; exit vi /etc/my.cnf Within the [mysqld] section please add: innodb_file_per_table=1 lower_case_table_names=0 systemctl enable mariadb systemctl restart mariadb Web Server Configure PHP Ensure date.timezone is set in php.ini to your preferred time zone. See http://php.net/manual/en/timezones.php for a list of supported timezones. Valid examples are: \"America/New_York\", \"Australia/Brisbane\", \"Etc/UTC\". vi /etc/php.ini Configure Apache vi /etc/httpd/conf.d/librenms.conf Add the following config, edit ServerName as required: VirtualHost *:80 DocumentRoot /opt/librenms/html/ ServerName librenms.example.com AllowEncodedSlashes NoDecode Directory /opt/librenms/html/ Require all granted AllowOverride All Options FollowSymLinks MultiViews /Directory /VirtualHost NOTE: If this is the only site you are hosting on this server (it should be :)) then you will need to disable the default site. rm -f /etc/httpd/conf.d/welcome.conf systemctl enable httpd systemctl restart httpd SELinux Install the policy tool for SELinux: yum install policycoreutils-python Configure the contexts needed by LibreNMS: semanage fcontext -a -t httpd_sys_content_t '/opt/librenms/logs(/.*)?' semanage fcontext -a -t httpd_sys_rw_content_t '/opt/librenms/logs(/.*)?' restorecon -RFvv /opt/librenms/logs/ semanage fcontext -a -t httpd_sys_content_t '/opt/librenms/rrd(/.*)?' semanage fcontext -a -t httpd_sys_rw_content_t '/opt/librenms/rrd(/.*)?' restorecon -RFvv /opt/librenms/rrd/ semanage fcontext -a -t httpd_sys_content_t '/opt/librenms/storage(/.*)?' semanage fcontext -a -t httpd_sys_rw_content_t '/opt/librenms/storage(/.*)?' restorecon -RFvv /opt/librenms/storage/ semanage fcontext -a -t httpd_sys_content_t '/opt/librenms/bootstrap/cache(/.*)?' semanage fcontext -a -t httpd_sys_rw_content_t '/opt/librenms/bootstrap/cache(/.*)?' restorecon -RFvv /opt/librenms/bootstrap/cache/ setsebool -P httpd_can_sendmail=1 Allow fping Create the file http_fping.tt with the following contents. You can create this file anywhere, as it is a throw-away file. The last step in this install procedure will install the module in the proper location. module http_fping 1.0; require { type httpd_t; class capability net_raw; class rawip_socket { getopt create setopt write read }; } #============= httpd_t ============== allow httpd_t self:capability net_raw; allow httpd_t self:rawip_socket { getopt create setopt write read }; Then run these commands checkmodule -M -m -o http_fping.mod http_fping.tt semodule_package -o http_fping.pp -m http_fping.mod semodule -i http_fping.pp Allow access through firewall firewall-cmd --zone public --add-service http firewall-cmd --permanent --zone public --add-service http firewall-cmd --zone public --add-service https firewall-cmd --permanent --zone public --add-service https Configure snmpd Copy the example snmpd.conf from the LibreNMS install. cp /opt/librenms/snmpd.conf.example /etc/snmp/snmpd.conf vi /etc/snmp/snmpd.conf Edit the text which says RANDOMSTRINGGOESHERE and set your own community string. curl -o /usr/bin/distro https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/distro chmod +x /usr/bin/distro systemctl enable snmpd systemctl restart snmpd Cron job cp /opt/librenms/librenms.nonroot.cron /etc/cron.d/librenms Copy logrotate config LibreNMS keeps logs in /opt/librenms/logs . Over time these can become large and be rotated out. To rotate out the old logs you can use the provided logrotate config file: cp /opt/librenms/misc/librenms.logrotate /etc/logrotate.d/librenms Set permissions chown -R librenms:librenms /opt/librenms setfacl -d -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/ setfacl -R -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/ Web installer Now head to the web installer and follow the on-screen instructions. http://librenms.example.com/install.php The web installer might prompt you to create a config.php file in your librenms install location manually, copying the content displayed on-screen to the file. If you have to do this, please remember to set the permissions on config.php after you copied the on-screen contents to the file. Run: chown librenms:librenms /opt/librenms/config.php Final steps That's it! You now should be able to log in to http://librenms.example.com/. Please note that we have not covered HTTPS setup in this example, so your LibreNMS install is not secure by default. Please do not expose it to the public Internet unless you have configured HTTPS and taken appropriate web server hardening steps. Add the first device We now suggest that you add localhost as your first device from within the WebUI. Troubleshooting If you ever have issues with your install, run validate.php as root in the librenms directory: cd /opt/librenms ./validate.php There are various options for getting help listed on the LibreNMS web site: https://www.librenms.org/#support What next? Now that you've installed LibreNMS, we'd suggest that you have a read of a few other docs to get you going: Performance tuning Alerting Device Groups Auto discovery Closing We hope you enjoy using LibreNMS. If you do, it would be great if you would consider opting into the stats system we have, please see this page on what it is and how to enable it. If you would like to help make LibreNMS better there are many ways to help . You can also back LibreNMS on Open Collective .","title":"CentOS 7 (Apache)"},{"location":"Installation/Installation-CentOS-7-Apache/#install-required-packages","text":"yum install epel-release rpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm yum install composer cronie fping git httpd ImageMagick jwhois mariadb mariadb-server mtr MySQL-python net-snmp net-snmp-utils nmap php72w php72w-cli php72w-common php72w-curl php72w-gd php72w-mbstring php72w-mysqlnd php72w-process php72w-snmp php72w-xml php72w-zip python-memcached rrdtool","title":"Install Required Packages"},{"location":"Installation/Installation-CentOS-7-Apache/#add-librenms-user","text":"useradd librenms -d /opt/librenms -M -r usermod -a -G librenms apache","title":"Add librenms user"},{"location":"Installation/Installation-CentOS-7-Apache/#install-librenms","text":"cd /opt composer create-project --no-dev --keep-vcs librenms/librenms librenms dev-master","title":"Install LibreNMS"},{"location":"Installation/Installation-CentOS-7-Apache/#db-server","text":"","title":"DB Server"},{"location":"Installation/Installation-CentOS-7-Apache/#configure-mysql","text":"systemctl start mariadb mysql -u root NOTE: Please change the 'password' below to something secure. CREATE DATABASE librenms CHARACTER SET utf8 COLLATE utf8_unicode_ci; CREATE USER 'librenms'@'localhost' IDENTIFIED BY 'password'; GRANT ALL PRIVILEGES ON librenms.* TO 'librenms'@'localhost'; FLUSH PRIVILEGES; exit vi /etc/my.cnf Within the [mysqld] section please add: innodb_file_per_table=1 lower_case_table_names=0 systemctl enable mariadb systemctl restart mariadb","title":"Configure MySQL"},{"location":"Installation/Installation-CentOS-7-Apache/#web-server","text":"","title":"Web Server"},{"location":"Installation/Installation-CentOS-7-Apache/#configure-php","text":"Ensure date.timezone is set in php.ini to your preferred time zone. See http://php.net/manual/en/timezones.php for a list of supported timezones. Valid examples are: \"America/New_York\", \"Australia/Brisbane\", \"Etc/UTC\". vi /etc/php.ini","title":"Configure PHP"},{"location":"Installation/Installation-CentOS-7-Apache/#configure-apache","text":"vi /etc/httpd/conf.d/librenms.conf Add the following config, edit ServerName as required: VirtualHost *:80 DocumentRoot /opt/librenms/html/ ServerName librenms.example.com AllowEncodedSlashes NoDecode Directory /opt/librenms/html/ Require all granted AllowOverride All Options FollowSymLinks MultiViews /Directory /VirtualHost NOTE: If this is the only site you are hosting on this server (it should be :)) then you will need to disable the default site. rm -f /etc/httpd/conf.d/welcome.conf systemctl enable httpd systemctl restart httpd","title":"Configure Apache"},{"location":"Installation/Installation-CentOS-7-Apache/#selinux","text":"Install the policy tool for SELinux: yum install policycoreutils-python","title":"SELinux"},{"location":"Installation/Installation-CentOS-7-Apache/#configure-the-contexts-needed-by-librenms","text":"semanage fcontext -a -t httpd_sys_content_t '/opt/librenms/logs(/.*)?' semanage fcontext -a -t httpd_sys_rw_content_t '/opt/librenms/logs(/.*)?' restorecon -RFvv /opt/librenms/logs/ semanage fcontext -a -t httpd_sys_content_t '/opt/librenms/rrd(/.*)?' semanage fcontext -a -t httpd_sys_rw_content_t '/opt/librenms/rrd(/.*)?' restorecon -RFvv /opt/librenms/rrd/ semanage fcontext -a -t httpd_sys_content_t '/opt/librenms/storage(/.*)?' semanage fcontext -a -t httpd_sys_rw_content_t '/opt/librenms/storage(/.*)?' restorecon -RFvv /opt/librenms/storage/ semanage fcontext -a -t httpd_sys_content_t '/opt/librenms/bootstrap/cache(/.*)?' semanage fcontext -a -t httpd_sys_rw_content_t '/opt/librenms/bootstrap/cache(/.*)?' restorecon -RFvv /opt/librenms/bootstrap/cache/ setsebool -P httpd_can_sendmail=1","title":"Configure the contexts needed by LibreNMS:"},{"location":"Installation/Installation-CentOS-7-Apache/#allow-fping","text":"Create the file http_fping.tt with the following contents. You can create this file anywhere, as it is a throw-away file. The last step in this install procedure will install the module in the proper location. module http_fping 1.0; require { type httpd_t; class capability net_raw; class rawip_socket { getopt create setopt write read }; } #============= httpd_t ============== allow httpd_t self:capability net_raw; allow httpd_t self:rawip_socket { getopt create setopt write read }; Then run these commands checkmodule -M -m -o http_fping.mod http_fping.tt semodule_package -o http_fping.pp -m http_fping.mod semodule -i http_fping.pp","title":"Allow fping"},{"location":"Installation/Installation-CentOS-7-Apache/#allow-access-through-firewall","text":"firewall-cmd --zone public --add-service http firewall-cmd --permanent --zone public --add-service http firewall-cmd --zone public --add-service https firewall-cmd --permanent --zone public --add-service https","title":"Allow access through firewall"},{"location":"Installation/Installation-CentOS-7-Apache/#configure-snmpd","text":"Copy the example snmpd.conf from the LibreNMS install. cp /opt/librenms/snmpd.conf.example /etc/snmp/snmpd.conf vi /etc/snmp/snmpd.conf Edit the text which says RANDOMSTRINGGOESHERE and set your own community string. curl -o /usr/bin/distro https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/distro chmod +x /usr/bin/distro systemctl enable snmpd systemctl restart snmpd","title":"Configure snmpd"},{"location":"Installation/Installation-CentOS-7-Apache/#cron-job","text":"cp /opt/librenms/librenms.nonroot.cron /etc/cron.d/librenms","title":"Cron job"},{"location":"Installation/Installation-CentOS-7-Apache/#copy-logrotate-config","text":"LibreNMS keeps logs in /opt/librenms/logs . Over time these can become large and be rotated out. To rotate out the old logs you can use the provided logrotate config file: cp /opt/librenms/misc/librenms.logrotate /etc/logrotate.d/librenms","title":"Copy logrotate config"},{"location":"Installation/Installation-CentOS-7-Apache/#set-permissions","text":"chown -R librenms:librenms /opt/librenms setfacl -d -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/ setfacl -R -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/","title":"Set permissions"},{"location":"Installation/Installation-CentOS-7-Apache/#web-installer","text":"Now head to the web installer and follow the on-screen instructions. http://librenms.example.com/install.php The web installer might prompt you to create a config.php file in your librenms install location manually, copying the content displayed on-screen to the file. If you have to do this, please remember to set the permissions on config.php after you copied the on-screen contents to the file. Run: chown librenms:librenms /opt/librenms/config.php","title":"Web installer"},{"location":"Installation/Installation-CentOS-7-Apache/#final-steps","text":"That's it! You now should be able to log in to http://librenms.example.com/. Please note that we have not covered HTTPS setup in this example, so your LibreNMS install is not secure by default. Please do not expose it to the public Internet unless you have configured HTTPS and taken appropriate web server hardening steps.","title":"Final steps"},{"location":"Installation/Installation-CentOS-7-Apache/#add-the-first-device","text":"We now suggest that you add localhost as your first device from within the WebUI.","title":"Add the first device"},{"location":"Installation/Installation-CentOS-7-Apache/#troubleshooting","text":"If you ever have issues with your install, run validate.php as root in the librenms directory: cd /opt/librenms ./validate.php There are various options for getting help listed on the LibreNMS web site: https://www.librenms.org/#support","title":"Troubleshooting"},{"location":"Installation/Installation-CentOS-7-Apache/#what-next","text":"Now that you've installed LibreNMS, we'd suggest that you have a read of a few other docs to get you going: Performance tuning Alerting Device Groups Auto discovery","title":"What next?"},{"location":"Installation/Installation-CentOS-7-Apache/#closing","text":"We hope you enjoy using LibreNMS. If you do, it would be great if you would consider opting into the stats system we have, please see this page on what it is and how to enable it. If you would like to help make LibreNMS better there are many ways to help . You can also back LibreNMS on Open Collective .","title":"Closing"},{"location":"Installation/Installation-CentOS-7-Nginx/","text":"NOTE: These instructions assume you are the root user. If you are not, prepend sudo to the shell commands (the ones that aren't at mysql prompts) or temporarily become a user with root privileges with sudo -s or sudo -i . Please note the minimum supported PHP version is 5.6.4 Install Required Packages yum install epel-release rpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm yum install composer cronie fping git ImageMagick jwhois mariadb mariadb-server mtr MySQL-python net-snmp net-snmp-utils nginx nmap php72w php72w-cli php72w-common php72w-curl php72w-fpm php72w-gd php72w-mbstring php72w-mysqlnd php72w-process php72w-snmp php72w-xml php72w-zip python-memcached rrdtool Add librenms user useradd librenms -d /opt/librenms -M -r usermod -a -G librenms nginx Download LibreNMS cd /opt composer create-project --no-dev --keep-vcs librenms/librenms librenms dev-master DB Server Configure MySQL systemctl start mariadb mysql -u root NOTE: Please change the 'password' below to something secure. CREATE DATABASE librenms CHARACTER SET utf8 COLLATE utf8_unicode_ci; CREATE USER 'librenms'@'localhost' IDENTIFIED BY 'password'; GRANT ALL PRIVILEGES ON librenms.* TO 'librenms'@'localhost'; FLUSH PRIVILEGES; exit vi /etc/my.cnf Within the [mysqld] section please add: innodb_file_per_table=1 lower_case_table_names=0 systemctl enable mariadb systemctl restart mariadb Web Server Configure and Start PHP-FPM Ensure date.timezone is set in php.ini to your preferred time zone. See http://php.net/manual/en/timezones.php for a list of supported timezones. Valid examples are: \"America/New_York\", \"Australia/Brisbane\", \"Etc/UTC\". vi /etc/php.ini In /etc/php-fpm.d/www.conf make these changes: vi /etc/php-fpm.d/www.conf ;user = apache user = nginx group = apache ; keep group as apache ;listen = 127.0.0.1:9000 listen = /var/run/php-fpm/php7.2-fpm.sock listen.owner = nginx listen.group = nginx listen.mode = 0660 systemctl enable php-fpm systemctl restart php-fpm Configure NGINX vi /etc/nginx/conf.d/librenms.conf Add the following config, edit server_name as required: server { listen 80; server_name librenms.example.com; root /opt/librenms/html; index index.php; charset utf-8; gzip on; gzip_types text/css application/javascript text/javascript application/x-javascript image/svg+xml text/plain text/xsd text/xsl text/xml image/x-icon; location / { try_files $uri $uri/ /index.php?$query_string; } location /api/v0 { try_files $uri $uri/ /api_v0.php?$query_string; } location ~ \\.php { include fastcgi.conf; fastcgi_split_path_info ^(.+\\.php)(/.+)$; fastcgi_pass unix:/var/run/php-fpm/php7.2-fpm.sock; } location ~ /\\.ht { deny all; } } NOTE: If this is the only site you are hosting on this server (it should be :)) then you will need to disable the default site. Delete the server section from /etc/nginx/nginx.conf systemctl enable nginx systemctl restart nginx SELinux Install the policy tool for SELinux: yum install policycoreutils-python Configure the contexts needed by LibreNMS: semanage fcontext -a -t httpd_sys_content_t '/opt/librenms/logs(/.*)?' semanage fcontext -a -t httpd_sys_rw_content_t '/opt/librenms/logs(/.*)?' restorecon -RFvv /opt/librenms/logs/ semanage fcontext -a -t httpd_sys_content_t '/opt/librenms/rrd(/.*)?' semanage fcontext -a -t httpd_sys_rw_content_t '/opt/librenms/rrd(/.*)?' restorecon -RFvv /opt/librenms/rrd/ semanage fcontext -a -t httpd_sys_content_t '/opt/librenms/storage(/.*)?' semanage fcontext -a -t httpd_sys_rw_content_t '/opt/librenms/storage(/.*)?' restorecon -RFvv /opt/librenms/storage/ semanage fcontext -a -t httpd_sys_content_t '/opt/librenms/bootstrap/cache(/.*)?' semanage fcontext -a -t httpd_sys_rw_content_t '/opt/librenms/bootstrap/cache(/.*)?' restorecon -RFvv /opt/librenms/bootstrap/cache/ setsebool -P httpd_can_sendmail=1 setsebool -P httpd_execmem 1 Allow fping Create the file http_fping.tt with the following contents. You can create this file anywhere, as it is a throw-away file. The last step in this install procedure will install the module in the proper location. module http_fping 1.0; require { type httpd_t; class capability net_raw; class rawip_socket { getopt create setopt write read }; } #============= httpd_t ============== allow httpd_t self:capability net_raw; allow httpd_t self:rawip_socket { getopt create setopt write read }; Then run these commands checkmodule -M -m -o http_fping.mod http_fping.tt semodule_package -o http_fping.pp -m http_fping.mod semodule -i http_fping.pp Allow access through firewall firewall-cmd --zone public --add-service http firewall-cmd --permanent --zone public --add-service http firewall-cmd --zone public --add-service https firewall-cmd --permanent --zone public --add-service https Configure snmpd cp /opt/librenms/snmpd.conf.example /etc/snmp/snmpd.conf vi /etc/snmp/snmpd.conf Edit the text which says RANDOMSTRINGGOESHERE and set your own community string. curl -o /usr/bin/distro https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/distro chmod +x /usr/bin/distro systemctl enable snmpd systemctl restart snmpd Cron job cp /opt/librenms/librenms.nonroot.cron /etc/cron.d/librenms Copy logrotate config LibreNMS keeps logs in /opt/librenms/logs . Over time these can become large and be rotated out. To rotate out the old logs you can use the provided logrotate config file: cp /opt/librenms/misc/librenms.logrotate /etc/logrotate.d/librenms Set permissions chown -R librenms:librenms /opt/librenms setfacl -d -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/ setfacl -R -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/ Web installer Now head to the web installer and follow the on-screen instructions. http://librenms.example.com/install.php The web installer might prompt you to create a config.php file in your librenms install location manually, copying the content displayed on-screen to the file. If you have to do this, please remember to set the permissions on config.php after you copied the on-screen contents to the file. Run: chown librenms:librenms /opt/librenms/config.php Final steps That's it! You now should be able to log in to http://librenms.example.com/. Please note that we have not covered HTTPS setup in this example, so your LibreNMS install is not secure by default. Please do not expose it to the public Internet unless you have configured HTTPS and taken appropriate web server hardening steps. Add the first device We now suggest that you add localhost as your first device from within the WebUI. Troubleshooting If you ever have issues with your install, run validate.php as root in the librenms directory: cd /opt/librenms ./validate.php There are various options for getting help listed on the LibreNMS web site: https://www.librenms.org/#support What next? Now that you've installed LibreNMS, we'd suggest that you have a read of a few other docs to get you going: Performance tuning Alerting Device Groups Auto discovery Closing We hope you enjoy using LibreNMS. If you do, it would be great if you would consider opting into the stats system we have, please see this page on what it is and how to enable it. If you would like to help make LibreNMS better there are many ways to help . You can also back LibreNMS on Open Collective .","title":"CentOS 7 (Nginx)"},{"location":"Installation/Installation-CentOS-7-Nginx/#install-required-packages","text":"yum install epel-release rpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm yum install composer cronie fping git ImageMagick jwhois mariadb mariadb-server mtr MySQL-python net-snmp net-snmp-utils nginx nmap php72w php72w-cli php72w-common php72w-curl php72w-fpm php72w-gd php72w-mbstring php72w-mysqlnd php72w-process php72w-snmp php72w-xml php72w-zip python-memcached rrdtool","title":"Install Required Packages"},{"location":"Installation/Installation-CentOS-7-Nginx/#add-librenms-user","text":"useradd librenms -d /opt/librenms -M -r usermod -a -G librenms nginx","title":"Add librenms user"},{"location":"Installation/Installation-CentOS-7-Nginx/#download-librenms","text":"cd /opt composer create-project --no-dev --keep-vcs librenms/librenms librenms dev-master","title":"Download LibreNMS"},{"location":"Installation/Installation-CentOS-7-Nginx/#db-server","text":"","title":"DB Server"},{"location":"Installation/Installation-CentOS-7-Nginx/#configure-mysql","text":"systemctl start mariadb mysql -u root NOTE: Please change the 'password' below to something secure. CREATE DATABASE librenms CHARACTER SET utf8 COLLATE utf8_unicode_ci; CREATE USER 'librenms'@'localhost' IDENTIFIED BY 'password'; GRANT ALL PRIVILEGES ON librenms.* TO 'librenms'@'localhost'; FLUSH PRIVILEGES; exit vi /etc/my.cnf Within the [mysqld] section please add: innodb_file_per_table=1 lower_case_table_names=0 systemctl enable mariadb systemctl restart mariadb","title":"Configure MySQL"},{"location":"Installation/Installation-CentOS-7-Nginx/#web-server","text":"","title":"Web Server"},{"location":"Installation/Installation-CentOS-7-Nginx/#configure-and-start-php-fpm","text":"Ensure date.timezone is set in php.ini to your preferred time zone. See http://php.net/manual/en/timezones.php for a list of supported timezones. Valid examples are: \"America/New_York\", \"Australia/Brisbane\", \"Etc/UTC\". vi /etc/php.ini In /etc/php-fpm.d/www.conf make these changes: vi /etc/php-fpm.d/www.conf ;user = apache user = nginx group = apache ; keep group as apache ;listen = 127.0.0.1:9000 listen = /var/run/php-fpm/php7.2-fpm.sock listen.owner = nginx listen.group = nginx listen.mode = 0660 systemctl enable php-fpm systemctl restart php-fpm","title":"Configure and Start PHP-FPM"},{"location":"Installation/Installation-CentOS-7-Nginx/#configure-nginx","text":"vi /etc/nginx/conf.d/librenms.conf Add the following config, edit server_name as required: server { listen 80; server_name librenms.example.com; root /opt/librenms/html; index index.php; charset utf-8; gzip on; gzip_types text/css application/javascript text/javascript application/x-javascript image/svg+xml text/plain text/xsd text/xsl text/xml image/x-icon; location / { try_files $uri $uri/ /index.php?$query_string; } location /api/v0 { try_files $uri $uri/ /api_v0.php?$query_string; } location ~ \\.php { include fastcgi.conf; fastcgi_split_path_info ^(.+\\.php)(/.+)$; fastcgi_pass unix:/var/run/php-fpm/php7.2-fpm.sock; } location ~ /\\.ht { deny all; } } NOTE: If this is the only site you are hosting on this server (it should be :)) then you will need to disable the default site. Delete the server section from /etc/nginx/nginx.conf systemctl enable nginx systemctl restart nginx","title":"Configure NGINX"},{"location":"Installation/Installation-CentOS-7-Nginx/#selinux","text":"Install the policy tool for SELinux: yum install policycoreutils-python","title":"SELinux"},{"location":"Installation/Installation-CentOS-7-Nginx/#configure-the-contexts-needed-by-librenms","text":"semanage fcontext -a -t httpd_sys_content_t '/opt/librenms/logs(/.*)?' semanage fcontext -a -t httpd_sys_rw_content_t '/opt/librenms/logs(/.*)?' restorecon -RFvv /opt/librenms/logs/ semanage fcontext -a -t httpd_sys_content_t '/opt/librenms/rrd(/.*)?' semanage fcontext -a -t httpd_sys_rw_content_t '/opt/librenms/rrd(/.*)?' restorecon -RFvv /opt/librenms/rrd/ semanage fcontext -a -t httpd_sys_content_t '/opt/librenms/storage(/.*)?' semanage fcontext -a -t httpd_sys_rw_content_t '/opt/librenms/storage(/.*)?' restorecon -RFvv /opt/librenms/storage/ semanage fcontext -a -t httpd_sys_content_t '/opt/librenms/bootstrap/cache(/.*)?' semanage fcontext -a -t httpd_sys_rw_content_t '/opt/librenms/bootstrap/cache(/.*)?' restorecon -RFvv /opt/librenms/bootstrap/cache/ setsebool -P httpd_can_sendmail=1 setsebool -P httpd_execmem 1","title":"Configure the contexts needed by LibreNMS:"},{"location":"Installation/Installation-CentOS-7-Nginx/#allow-fping","text":"Create the file http_fping.tt with the following contents. You can create this file anywhere, as it is a throw-away file. The last step in this install procedure will install the module in the proper location. module http_fping 1.0; require { type httpd_t; class capability net_raw; class rawip_socket { getopt create setopt write read }; } #============= httpd_t ============== allow httpd_t self:capability net_raw; allow httpd_t self:rawip_socket { getopt create setopt write read }; Then run these commands checkmodule -M -m -o http_fping.mod http_fping.tt semodule_package -o http_fping.pp -m http_fping.mod semodule -i http_fping.pp","title":"Allow fping"},{"location":"Installation/Installation-CentOS-7-Nginx/#allow-access-through-firewall","text":"firewall-cmd --zone public --add-service http firewall-cmd --permanent --zone public --add-service http firewall-cmd --zone public --add-service https firewall-cmd --permanent --zone public --add-service https","title":"Allow access through firewall"},{"location":"Installation/Installation-CentOS-7-Nginx/#configure-snmpd","text":"cp /opt/librenms/snmpd.conf.example /etc/snmp/snmpd.conf vi /etc/snmp/snmpd.conf Edit the text which says RANDOMSTRINGGOESHERE and set your own community string. curl -o /usr/bin/distro https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/distro chmod +x /usr/bin/distro systemctl enable snmpd systemctl restart snmpd","title":"Configure snmpd"},{"location":"Installation/Installation-CentOS-7-Nginx/#cron-job","text":"cp /opt/librenms/librenms.nonroot.cron /etc/cron.d/librenms","title":"Cron job"},{"location":"Installation/Installation-CentOS-7-Nginx/#copy-logrotate-config","text":"LibreNMS keeps logs in /opt/librenms/logs . Over time these can become large and be rotated out. To rotate out the old logs you can use the provided logrotate config file: cp /opt/librenms/misc/librenms.logrotate /etc/logrotate.d/librenms","title":"Copy logrotate config"},{"location":"Installation/Installation-CentOS-7-Nginx/#set-permissions","text":"chown -R librenms:librenms /opt/librenms setfacl -d -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/ setfacl -R -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/","title":"Set permissions"},{"location":"Installation/Installation-CentOS-7-Nginx/#web-installer","text":"Now head to the web installer and follow the on-screen instructions. http://librenms.example.com/install.php The web installer might prompt you to create a config.php file in your librenms install location manually, copying the content displayed on-screen to the file. If you have to do this, please remember to set the permissions on config.php after you copied the on-screen contents to the file. Run: chown librenms:librenms /opt/librenms/config.php","title":"Web installer"},{"location":"Installation/Installation-CentOS-7-Nginx/#final-steps","text":"That's it! You now should be able to log in to http://librenms.example.com/. Please note that we have not covered HTTPS setup in this example, so your LibreNMS install is not secure by default. Please do not expose it to the public Internet unless you have configured HTTPS and taken appropriate web server hardening steps.","title":"Final steps"},{"location":"Installation/Installation-CentOS-7-Nginx/#add-the-first-device","text":"We now suggest that you add localhost as your first device from within the WebUI.","title":"Add the first device"},{"location":"Installation/Installation-CentOS-7-Nginx/#troubleshooting","text":"If you ever have issues with your install, run validate.php as root in the librenms directory: cd /opt/librenms ./validate.php There are various options for getting help listed on the LibreNMS web site: https://www.librenms.org/#support","title":"Troubleshooting"},{"location":"Installation/Installation-CentOS-7-Nginx/#what-next","text":"Now that you've installed LibreNMS, we'd suggest that you have a read of a few other docs to get you going: Performance tuning Alerting Device Groups Auto discovery","title":"What next?"},{"location":"Installation/Installation-CentOS-7-Nginx/#closing","text":"We hope you enjoy using LibreNMS. If you do, it would be great if you would consider opting into the stats system we have, please see this page on what it is and how to enable it. If you would like to help make LibreNMS better there are many ways to help . You can also back LibreNMS on Open Collective .","title":"Closing"},{"location":"Installation/Installation-Ubuntu-1404-Apache/","text":"NOTE: These instructions assume you are the root user. If you are not, prepend sudo to the shell commands (the ones that aren't at mysql prompts) or temporarily become a user with root privileges with sudo -s or sudo -i . Please note the minimum supported PHP version is 5.6.4 On the DB Server This host is where the MySQL database runs. It could be the same machine as your network management server (this is the most common initial deployment scenario). ** Whilst we are working on ensuring LibreNMS is compatible with MySQL strict mode, for now, please disable this after mysql is installed. You are free to choose between using MySQL or MariaDB: MySQL apt-get install mysql-server mysql-client mysql -uroot -p MariaDB apt-get install mariadb-server mariadb-client mysql -uroot -p Input the MySQL root password to enter the MySQL command-line interface. Create the database: CREATE DATABASE librenms CHARACTER SET utf8 COLLATE utf8_unicode_ci; CREATE USER 'librenms'@'localhost' IDENTIFIED BY 'password'; GRANT ALL PRIVILEGES ON librenms.* TO 'librenms'@'localhost'; FLUSH PRIVILEGES; exit Replace ip above with the IP or DNS name of the server running LibreNMS. If your database is on the same server as LibreNMS, you can use localhost . If you are deploying a separate database server, you need to change the bind-address . If your MySQL database resides on the same server as LibreNMS, you should skip this step. vim /etc/mysql/my.cnf Within the [mysqld] section please add: innodb_file_per_table=1 Find the line: bind-address = 127.0.0.1 Change 127.0.0.1 to the IP address that your MySQL server should listen on. Restart MySQL: If you see a line that starts sql-mode then change this to sql-mode=\"\" . service mysql restart On the NMS This host is where the web server and SNMP poller run. It could be the same machine as your database server. Install the required software: apt-get install libapache2-mod-php5 php5-cli php5-mysql php5-gd php5-snmp php-pear php5-curl snmp graphviz php5-mcrypt php5-json apache2 fping imagemagick whois mtr-tiny nmap python-mysqldb snmpd php-net-ipv4 php-net-ipv6 rrdtool git The packages listed above are an all-inclusive list of packages that were necessary on a clean install of Ubuntu 12.04/14.04. You need to configure snmpd appropriately if you have not already done so. An absolute minimal config for snmpd is: rocommunity public 127.0.0.1 Adding the above line to /etc/snmp/snmpd.conf and running service snmpd restart will activate this config. In /etc/php5/apache2/php.ini and /etc/php5/cli/php.ini , ensure date.timezone is set to your preferred time zone. See http://php.net/manual/en/timezones.php for a list of supported timezones. Valid examples are: \"America/New York\", \"Australia/Brisbane\", \"Etc/UTC\". Please also ensure that allow_url_fopen is enabled. Other functions needed for LibreNMS include exec,passthru,shell_exec,escapeshellarg,escapeshellcmd,proc_close,proc_open,popen . Adding the librenms-user useradd librenms -d /opt/librenms -M -r usermod -a -G librenms www-data Cloning LibreNMS is installed using git. If you're not familiar with git, check out the git book or the tips at git ready . The initial install from github.com is called a git clone ; subsequent updates are done through git pull . You can clone the repository via HTTPS or SSH. In either case, you need to ensure that the appropriate port (443 for HTTPS, 22 for SSH) is open in the outbound direction for your server. cd /opt git clone https://github.com/librenms/librenms.git librenms cd /opt/librenms The recommended method of cloning a git repository is HTTPS. If you would like to clone via SSH instead, use the command git clone git@github.com:librenms/librenms.git librenms instead. Sometimes the initial clone can take quite a while (nearly 3 minutes on a 10 Mbps fibre connection in Australia is a recent example). If it's a big problem to you, you can save about 50% of the bandwidth by not pulling down the full git history. This comes with some limitations (namely that you can't use it as the basis for further git repos), but if you're not planning to develop for LibreNMS it's an acceptable option. To perform the initial clone without full history, run the following instead: cd /opt git clone --depth 1 https://github.com/librenms/librenms.git librenms cd /opt/librenms Web Interface To prepare the web interface (and adding devices shortly), you'll need to create and chown a directory as well as create an Apache vhost. First, create and chown the rrd directory and create the logs directory: mkdir rrd logs chown -R librenms:librenms /opt/librenms chmod 775 rrd NOTE: If you're not running Ubuntu or Debian, you will need to change www-data to the user and group which run the Apache web server. If you're planing on running rrdcached, make sure that the path is also chmod'ed to 775 and chown'ed to librenms:librenms. Next, add the following to /etc/apache2/sites-available/librenms.conf : VirtualHost *:80 DocumentRoot /opt/librenms/html/ ServerName librenms.example.com CustomLog /opt/librenms/logs/access_log combined ErrorLog /opt/librenms/logs/error_log AllowEncodedSlashes On Directory /opt/librenms/html/ AllowOverride All Options FollowSymLinks MultiViews /Directory /VirtualHost If you are running Apache 2.2.18 or higher then change AllowEncodedSlashes On to AllowEncodedSlashes NoDecode If you have Apache 2.3 or newer then please add the following line before AllowOverride All : Require all granted On at least Ubuntu 14.04 (and possibly other distributions and versions as well), mcrypt is not enabled on install. Run the following to enable it: php5enmod mcrypt Change librenms.example.com to the appropriate hostname for your domain, then enable the vhost and restart Apache: a2ensite librenms.conf a2enmod rewrite service apache2 restart If this is the only site you are hosting on this server (it should be :)) then you will need to disable the default site setup in Ubuntu: a2dissite 000-default (To get to your LibreNMS install externally, you'll also need add it to your DNS or hosts file.) Manual vs. web installer At this stage you can either launch the web installer by going to http://librenms.example.com/install.php, follow the onscreen instructions then skip to the 'Add localhost' section. Alternatively if you want to continue the setup manually then just keep following these instructions. cp config.php.default config.php vim config.php Change the values to the right of the equal sign for lines beginning with $config[db_] to match your database information as setup above. Change the value of $config['snmp']['community'] from public to whatever your read-only SNMP community is. If you have multiple communities, set it to the most common. Be sure you have no characters (including whitespace like: newlines, spaces, tabs, etc) outside of the ?php? blocks. Your graphs will break otherwise. Initialise the database Initiate the follow database with the following command: php build-base.php Create admin user Create the admin user - priv should be 10 php adduser.php name pass 10 email Substitute your desired username, password and email address--and leave the angled brackets off. Validate your install Run validate.php as root in the librenms directory php validate.php This will check your install to verify it is set up correctly. Add localhost php addhost.php localhost public v2c This assumes you haven't made community changes--if you have, replace public with your community. It also assumes SNMP v2c. If you're using v3, there are additional steps (NOTE: instructions for SNMPv3 to come). Discover localhost:: php discovery.php -h all Create cronjob LibreNMS uses Job Snijders' poller-wrapper.py . By default, the cron job runs poller-wrapper.py with 16 threads. The current recommendation is to use 4 threads per core as a rule of thumb. If the thread count needs to be changed, you can do so by editing the cron file ( /etc/cron.d/librenms ). Just add a number after poller-wrapper.py , as in the example below: /opt/librenms/poller-wrapper.py 12 /dev/null 2 1 Create the cronjob cp librenms.nonroot.cron /etc/cron.d/librenms Copy logrotate config LibreNMS keeps logs in /opt/librenms/logs . Over time these can become large and be rotated out. To rotate out the old logs you can use the provided logrotate config file: cp misc/librenms.logrotate /etc/logrotate.d/librenms Daily Updates LibreNMS performs daily updates by default. At 00:15 system time every day, a git pull --no-edit --quiet is performed. You can override this default by editing your config.php file. Remove the comment (the # mark) on the line: #$config['update'] = 0; so that it looks like this: $config['update'] = 0; Install complete Please allow for 2-3 runs of the poller-wrapper for data to start appearing in the WebUI. If you don't see data after this, please refer to the FAQ for assistance. That's it! You now should be able to log in to http://librenms.example.com/. Please note that we have not covered HTTPS setup in this example, so your LibreNMS install is not secure by default. Please do not expose it to the public Internet unless you have configured HTTPS and taken appropriate web server hardening steps. It would be great if you would consider opting into the stats system we have, please see this page on what it is and how to enable it.","title":"Installation Ubuntu 1404 Apache"},{"location":"Installation/Installation-Ubuntu-1404-Apache/#on-the-db-server","text":"This host is where the MySQL database runs. It could be the same machine as your network management server (this is the most common initial deployment scenario). ** Whilst we are working on ensuring LibreNMS is compatible with MySQL strict mode, for now, please disable this after mysql is installed. You are free to choose between using MySQL or MariaDB: MySQL apt-get install mysql-server mysql-client mysql -uroot -p MariaDB apt-get install mariadb-server mariadb-client mysql -uroot -p Input the MySQL root password to enter the MySQL command-line interface. Create the database: CREATE DATABASE librenms CHARACTER SET utf8 COLLATE utf8_unicode_ci; CREATE USER 'librenms'@'localhost' IDENTIFIED BY 'password'; GRANT ALL PRIVILEGES ON librenms.* TO 'librenms'@'localhost'; FLUSH PRIVILEGES; exit Replace ip above with the IP or DNS name of the server running LibreNMS. If your database is on the same server as LibreNMS, you can use localhost . If you are deploying a separate database server, you need to change the bind-address . If your MySQL database resides on the same server as LibreNMS, you should skip this step. vim /etc/mysql/my.cnf Within the [mysqld] section please add: innodb_file_per_table=1 Find the line: bind-address = 127.0.0.1 Change 127.0.0.1 to the IP address that your MySQL server should listen on. Restart MySQL: If you see a line that starts sql-mode then change this to sql-mode=\"\" . service mysql restart","title":"On the DB Server"},{"location":"Installation/Installation-Ubuntu-1404-Apache/#on-the-nms","text":"This host is where the web server and SNMP poller run. It could be the same machine as your database server. Install the required software: apt-get install libapache2-mod-php5 php5-cli php5-mysql php5-gd php5-snmp php-pear php5-curl snmp graphviz php5-mcrypt php5-json apache2 fping imagemagick whois mtr-tiny nmap python-mysqldb snmpd php-net-ipv4 php-net-ipv6 rrdtool git The packages listed above are an all-inclusive list of packages that were necessary on a clean install of Ubuntu 12.04/14.04. You need to configure snmpd appropriately if you have not already done so. An absolute minimal config for snmpd is: rocommunity public 127.0.0.1 Adding the above line to /etc/snmp/snmpd.conf and running service snmpd restart will activate this config. In /etc/php5/apache2/php.ini and /etc/php5/cli/php.ini , ensure date.timezone is set to your preferred time zone. See http://php.net/manual/en/timezones.php for a list of supported timezones. Valid examples are: \"America/New York\", \"Australia/Brisbane\", \"Etc/UTC\". Please also ensure that allow_url_fopen is enabled. Other functions needed for LibreNMS include exec,passthru,shell_exec,escapeshellarg,escapeshellcmd,proc_close,proc_open,popen .","title":"On the NMS"},{"location":"Installation/Installation-Ubuntu-1404-Apache/#adding-the-librenms-user","text":"useradd librenms -d /opt/librenms -M -r usermod -a -G librenms www-data","title":"Adding the librenms-user"},{"location":"Installation/Installation-Ubuntu-1404-Apache/#cloning","text":"LibreNMS is installed using git. If you're not familiar with git, check out the git book or the tips at git ready . The initial install from github.com is called a git clone ; subsequent updates are done through git pull . You can clone the repository via HTTPS or SSH. In either case, you need to ensure that the appropriate port (443 for HTTPS, 22 for SSH) is open in the outbound direction for your server. cd /opt git clone https://github.com/librenms/librenms.git librenms cd /opt/librenms The recommended method of cloning a git repository is HTTPS. If you would like to clone via SSH instead, use the command git clone git@github.com:librenms/librenms.git librenms instead. Sometimes the initial clone can take quite a while (nearly 3 minutes on a 10 Mbps fibre connection in Australia is a recent example). If it's a big problem to you, you can save about 50% of the bandwidth by not pulling down the full git history. This comes with some limitations (namely that you can't use it as the basis for further git repos), but if you're not planning to develop for LibreNMS it's an acceptable option. To perform the initial clone without full history, run the following instead: cd /opt git clone --depth 1 https://github.com/librenms/librenms.git librenms cd /opt/librenms","title":"Cloning"},{"location":"Installation/Installation-Ubuntu-1404-Apache/#web-interface","text":"To prepare the web interface (and adding devices shortly), you'll need to create and chown a directory as well as create an Apache vhost. First, create and chown the rrd directory and create the logs directory: mkdir rrd logs chown -R librenms:librenms /opt/librenms chmod 775 rrd NOTE: If you're not running Ubuntu or Debian, you will need to change www-data to the user and group which run the Apache web server. If you're planing on running rrdcached, make sure that the path is also chmod'ed to 775 and chown'ed to librenms:librenms. Next, add the following to /etc/apache2/sites-available/librenms.conf : VirtualHost *:80 DocumentRoot /opt/librenms/html/ ServerName librenms.example.com CustomLog /opt/librenms/logs/access_log combined ErrorLog /opt/librenms/logs/error_log AllowEncodedSlashes On Directory /opt/librenms/html/ AllowOverride All Options FollowSymLinks MultiViews /Directory /VirtualHost If you are running Apache 2.2.18 or higher then change AllowEncodedSlashes On to AllowEncodedSlashes NoDecode If you have Apache 2.3 or newer then please add the following line before AllowOverride All : Require all granted On at least Ubuntu 14.04 (and possibly other distributions and versions as well), mcrypt is not enabled on install. Run the following to enable it: php5enmod mcrypt Change librenms.example.com to the appropriate hostname for your domain, then enable the vhost and restart Apache: a2ensite librenms.conf a2enmod rewrite service apache2 restart If this is the only site you are hosting on this server (it should be :)) then you will need to disable the default site setup in Ubuntu: a2dissite 000-default (To get to your LibreNMS install externally, you'll also need add it to your DNS or hosts file.)","title":"Web Interface"},{"location":"Installation/Installation-Ubuntu-1404-Apache/#manual-vs-web-installer","text":"At this stage you can either launch the web installer by going to http://librenms.example.com/install.php, follow the onscreen instructions then skip to the 'Add localhost' section. Alternatively if you want to continue the setup manually then just keep following these instructions. cp config.php.default config.php vim config.php Change the values to the right of the equal sign for lines beginning with $config[db_] to match your database information as setup above. Change the value of $config['snmp']['community'] from public to whatever your read-only SNMP community is. If you have multiple communities, set it to the most common. Be sure you have no characters (including whitespace like: newlines, spaces, tabs, etc) outside of the ?php? blocks. Your graphs will break otherwise.","title":"Manual vs. web installer"},{"location":"Installation/Installation-Ubuntu-1404-Apache/#initialise-the-database","text":"Initiate the follow database with the following command: php build-base.php","title":"Initialise the database"},{"location":"Installation/Installation-Ubuntu-1404-Apache/#create-admin-user","text":"Create the admin user - priv should be 10 php adduser.php name pass 10 email Substitute your desired username, password and email address--and leave the angled brackets off.","title":"Create admin user"},{"location":"Installation/Installation-Ubuntu-1404-Apache/#validate-your-install","text":"Run validate.php as root in the librenms directory php validate.php This will check your install to verify it is set up correctly.","title":"Validate your install"},{"location":"Installation/Installation-Ubuntu-1404-Apache/#add-localhost","text":"php addhost.php localhost public v2c This assumes you haven't made community changes--if you have, replace public with your community. It also assumes SNMP v2c. If you're using v3, there are additional steps (NOTE: instructions for SNMPv3 to come). Discover localhost:: php discovery.php -h all","title":"Add localhost"},{"location":"Installation/Installation-Ubuntu-1404-Apache/#create-cronjob","text":"LibreNMS uses Job Snijders' poller-wrapper.py . By default, the cron job runs poller-wrapper.py with 16 threads. The current recommendation is to use 4 threads per core as a rule of thumb. If the thread count needs to be changed, you can do so by editing the cron file ( /etc/cron.d/librenms ). Just add a number after poller-wrapper.py , as in the example below: /opt/librenms/poller-wrapper.py 12 /dev/null 2 1 Create the cronjob cp librenms.nonroot.cron /etc/cron.d/librenms","title":"Create cronjob"},{"location":"Installation/Installation-Ubuntu-1404-Apache/#copy-logrotate-config","text":"LibreNMS keeps logs in /opt/librenms/logs . Over time these can become large and be rotated out. To rotate out the old logs you can use the provided logrotate config file: cp misc/librenms.logrotate /etc/logrotate.d/librenms","title":"Copy logrotate config"},{"location":"Installation/Installation-Ubuntu-1404-Apache/#daily-updates","text":"LibreNMS performs daily updates by default. At 00:15 system time every day, a git pull --no-edit --quiet is performed. You can override this default by editing your config.php file. Remove the comment (the # mark) on the line: #$config['update'] = 0; so that it looks like this: $config['update'] = 0;","title":"Daily Updates"},{"location":"Installation/Installation-Ubuntu-1404-Apache/#install-complete","text":"Please allow for 2-3 runs of the poller-wrapper for data to start appearing in the WebUI. If you don't see data after this, please refer to the FAQ for assistance. That's it! You now should be able to log in to http://librenms.example.com/. Please note that we have not covered HTTPS setup in this example, so your LibreNMS install is not secure by default. Please do not expose it to the public Internet unless you have configured HTTPS and taken appropriate web server hardening steps. It would be great if you would consider opting into the stats system we have, please see this page on what it is and how to enable it.","title":"Install complete"},{"location":"Installation/Installation-Ubuntu-1404-Lighttpd/","text":"NOTE: These instructions assume you are the root user. If you are not, prepend sudo to the shell commands (the ones that aren't at mysql prompts) or temporarily become a user with root privileges with sudo -s or sudo -i . Please note the minimum supported PHP version is 5.6.4 On the DB Server This host is where the MySQL database runs. It could be the same machine as your network management server (this is the most common initial deployment scenario). ** Whilst we are working on ensuring LibreNMS is compatible with MySQL strict mode, for now, please disable this after mysql is installed. You are free to choose between using MySQL or MariaDB: MySQL apt-get install mysql-server mysql-client mysql -uroot -p MariaDB apt-get install mariadb-server mariadb-client mysql -uroot -p Enter the MySQL root password to enter the MySQL command-line interface. Create database. CREATE DATABASE librenms CHARACTER SET utf8 COLLATE utf8_unicode_ci; CREATE USER 'librenms'@'localhost' IDENTIFIED BY 'password'; GRANT ALL PRIVILEGES ON librenms.* TO 'librenms'@'localhost'; FLUSH PRIVILEGES; exit Replace ip above with the IP of the server running LibreNMS. If your database is on the same server as LibreNMS, you can just use localhost as the IP address. If you are deploying a separate database server, you need to change the bind-address . If your MySQL database resides on the same server as LibreNMS, you should skip this step. vim /etc/mysql/my.cnf Within the [mysqld] section please add: innodb_file_per_table=1 Find the line: bind-address = 127.0.0.1 Change 127.0.0.1 to the IP address that your MySQL server should listen on. Restart MySQL: If you see a line that starts sql-mode then change this to sql-mode=\"\" . service mysql restart On the NMS Install necessary software. The packages listed below are an all-inclusive list of packages that were necessary on a clean install of Debian 7. apt-get install lighttpd php5-cli php5-mysql php5-gd php5-snmp php5-cgi php-pear php5-curl snmp graphviz rrdtool sendmail fping imagemagick whois mtr-tiny nmap ipmitool php5-mcrypt php5-json python-mysqldb snmpd php-net-ipv4 php-net-ipv6 rrdtool git Adding the librenms-user useradd librenms -d /opt/librenms -M -r usermod -a -G librenms www-data Cloning You can clone the repository via HTTPS or SSH. In either case, you need to ensure the appropriate port (443 for HTTPS, 22 for SSH) is open in the outbound direction for your server. cd /opt git clone https://github.com/librenms/librenms.git librenms cd /opt/librenms At this stage you can either launch the web installer by going to http://IP/install.php, follow the onscreen instructions then skip to the 'Web Interface' section further down. Alternatively if you want to continue the setup manually then just keep following these instructions. cp config.php.default config.php vim config.php NOTE: The recommended method of cloning a git repository is HTTPS. If you would like to clone via SSH instead, use the command git clone git@github.com:librenms/librenms.git librenms instead. Change the values to the right of the equal sign for lines beginning with $config[db_] to match your database information as setup above. Change the value of $config['snmp']['community'] from public to whatever your read-only SNMP community is. If you have multiple communities, set it to the most common. Be sure you have no characters (including whitespace like: newlines, spaces, tabs, etc) outside of the ?php? blocks. Your graphs will break otherwise. Initialise the database Initiate the follow database with the following command: php build-base.php Create admin user Create the admin user - priv should be 10 php adduser.php name pass 10 email Substitute your desired username, password and email address--and leave the angled brackets off. Web Interface To prepare the web interface (and adding devices shortly), you'll need to set up Lighttpd. First, create and chown the rrd directory and create the logs directory mkdir rrd logs chown -R librenms:librenms /opt/librenms chmod 775 rrd NOTE: If you're planing on running rrdcached, make sure that the path is also chmod'ed to 775 and chown'ed to librenms:librenms. Next, add the following to /etc/lighttpd/librenms.conf server.document-root = \"/opt/librenms/html\" url.rewrite-once = ( \"^/(.*)\\.(gif|jpg|jpeg|tiff|svg|png|css|php)$\" = \"/$0\", \"^/([a-z|0-9\\-]+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/\" = \"/?page=$1 $2 $3 $4 $5 $6 $7 $8 $9 $10\", \"^/([a-z|0-9\\-]+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/\" = \"/?page=$1 $2 $3 $4 $5 $6 $7 $8 $9\", \"^/([a-z|0-9\\-]+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/\" = \"/?page=$1 $2 $3 $4 $5 $6 $7 $8\", \"^/([a-z|0-9\\-]+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/\" = \"/?page=$1 $2 $3 $4 $5 $6 $7\", \"^/([a-z|0-9\\-]+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/\" = \"/?page=$1 $2 $3 $4 $5 $6\", \"^/([a-z|0-9\\-]+)/(.+)/(.+)/(.+)/(.+)/\" = \"/?page=$1 $2 $3 $4 $5\", \"^/([a-z|0-9\\-]+)/(.+)/(.+)/(.+)/\" = \"/?page=$1 $2 $3 $4\", \"^/([a-z|0-9\\-]+)/(.+)/(.+)/\" = \"/?page=$1 $2 $3\", \"^/([a-z|0-9\\-]+)/(.+)/\" = \"/?page=$1 $2\", \"^/([a-z|0-9\\-]+)/$\" = \"/?page=$1\" ) Next, add the following to /etc/lighttpd/lighttpd.conf $HTTP[\"host\"] == \"example.com\" { include \"librenms.conf\" } And enable mod_rewrite by uncommenting # \"mod_rewrite\", to \"mod_rewrite\", Don't forget to change 'example.com' to your domain Enable fastcgi in Lighttpd by running the following commands, lighty-enable-mod fastcgi lighty-enable-mod fastcgi-php And add the following to /etc/php5/cgi/php.ini cgi.fix_pathinfo = 1 then restart Lighttpd: service lighttpd restart Validate your install Run validate.php as root in the librenms directory php validate.php This will check your install to verify it is set up correctly. Add localhost php addhost.php localhost public v2c This assumes you haven't made community changes--if you have, replace public with your community. It also assumes SNMP v2c. If you're using v3, there are additional steps (NOTE: instructions for SNMPv3 to come). Discover localhost: php discovery.php -h all Create cronjob The polling method used by LibreNMS is poller-wrapper.py , which was placed in the public domain by its author. By default, the LibreNMS cronjob runs poller-wrapper.py with 16 threads. The current LibreNMS recommendation is to use 4 threads per core. The default if no thread count is 16 threads . If the thread count needs to be changed, you can do so by editing the cron file ( /etc/cron.d/librenms ). Just add a number after poller-wrapper.py , as in the below example: /opt/librenms/poller-wrapper.py 12 /dev/null 2 1 Create the cronjob cp librenms.nonroot.cron /etc/cron.d/librenms Copy logrotate config LibreNMS keeps logs in /opt/librenms/logs . Over time these can become large and be rotated out. To rotate out the old logs you can use the provided logrotate config file: cp misc/librenms.logrotate /etc/logrotate.d/librenms Daily Updates LibreNMS performs daily updates by default. At 00:15 system time every day, a git pull --no-edit --quiet is performed. You can override this default by editing your config.php file. Remove the comment (the # mark) on the line: #$config['update'] = 0; so that it looks like this: $config['update'] = 0; Install complete Please allow for 2-3 runs of the poller-wrapper for data to start appearing in the WebUI. If you don't see data after this, please refer to the FAQ for assistance. That's it! You now should be able to log in to http://librenms.example.com/. Please note that we have not covered HTTPS setup in this example, so your LibreNMS install is not secure by default. Please do not expose it to the public Internet unless you have configured HTTPS and taken appropriate web server hardening steps. It would be great if you would consider opting into the stats system we have, please see this page on what it is and how to enable it.","title":"Installation Ubuntu 1404 Lighttpd"},{"location":"Installation/Installation-Ubuntu-1404-Lighttpd/#on-the-db-server","text":"This host is where the MySQL database runs. It could be the same machine as your network management server (this is the most common initial deployment scenario). ** Whilst we are working on ensuring LibreNMS is compatible with MySQL strict mode, for now, please disable this after mysql is installed. You are free to choose between using MySQL or MariaDB: MySQL apt-get install mysql-server mysql-client mysql -uroot -p MariaDB apt-get install mariadb-server mariadb-client mysql -uroot -p Enter the MySQL root password to enter the MySQL command-line interface. Create database. CREATE DATABASE librenms CHARACTER SET utf8 COLLATE utf8_unicode_ci; CREATE USER 'librenms'@'localhost' IDENTIFIED BY 'password'; GRANT ALL PRIVILEGES ON librenms.* TO 'librenms'@'localhost'; FLUSH PRIVILEGES; exit Replace ip above with the IP of the server running LibreNMS. If your database is on the same server as LibreNMS, you can just use localhost as the IP address. If you are deploying a separate database server, you need to change the bind-address . If your MySQL database resides on the same server as LibreNMS, you should skip this step. vim /etc/mysql/my.cnf Within the [mysqld] section please add: innodb_file_per_table=1 Find the line: bind-address = 127.0.0.1 Change 127.0.0.1 to the IP address that your MySQL server should listen on. Restart MySQL: If you see a line that starts sql-mode then change this to sql-mode=\"\" . service mysql restart","title":"On the DB Server"},{"location":"Installation/Installation-Ubuntu-1404-Lighttpd/#on-the-nms","text":"Install necessary software. The packages listed below are an all-inclusive list of packages that were necessary on a clean install of Debian 7. apt-get install lighttpd php5-cli php5-mysql php5-gd php5-snmp php5-cgi php-pear php5-curl snmp graphviz rrdtool sendmail fping imagemagick whois mtr-tiny nmap ipmitool php5-mcrypt php5-json python-mysqldb snmpd php-net-ipv4 php-net-ipv6 rrdtool git","title":"On the NMS"},{"location":"Installation/Installation-Ubuntu-1404-Lighttpd/#adding-the-librenms-user","text":"useradd librenms -d /opt/librenms -M -r usermod -a -G librenms www-data","title":"Adding the librenms-user"},{"location":"Installation/Installation-Ubuntu-1404-Lighttpd/#cloning","text":"You can clone the repository via HTTPS or SSH. In either case, you need to ensure the appropriate port (443 for HTTPS, 22 for SSH) is open in the outbound direction for your server. cd /opt git clone https://github.com/librenms/librenms.git librenms cd /opt/librenms At this stage you can either launch the web installer by going to http://IP/install.php, follow the onscreen instructions then skip to the 'Web Interface' section further down. Alternatively if you want to continue the setup manually then just keep following these instructions. cp config.php.default config.php vim config.php NOTE: The recommended method of cloning a git repository is HTTPS. If you would like to clone via SSH instead, use the command git clone git@github.com:librenms/librenms.git librenms instead. Change the values to the right of the equal sign for lines beginning with $config[db_] to match your database information as setup above. Change the value of $config['snmp']['community'] from public to whatever your read-only SNMP community is. If you have multiple communities, set it to the most common. Be sure you have no characters (including whitespace like: newlines, spaces, tabs, etc) outside of the ?php? blocks. Your graphs will break otherwise.","title":"Cloning"},{"location":"Installation/Installation-Ubuntu-1404-Lighttpd/#initialise-the-database","text":"Initiate the follow database with the following command: php build-base.php","title":"Initialise the database"},{"location":"Installation/Installation-Ubuntu-1404-Lighttpd/#create-admin-user","text":"Create the admin user - priv should be 10 php adduser.php name pass 10 email Substitute your desired username, password and email address--and leave the angled brackets off.","title":"Create admin user"},{"location":"Installation/Installation-Ubuntu-1404-Lighttpd/#web-interface","text":"To prepare the web interface (and adding devices shortly), you'll need to set up Lighttpd. First, create and chown the rrd directory and create the logs directory mkdir rrd logs chown -R librenms:librenms /opt/librenms chmod 775 rrd NOTE: If you're planing on running rrdcached, make sure that the path is also chmod'ed to 775 and chown'ed to librenms:librenms. Next, add the following to /etc/lighttpd/librenms.conf server.document-root = \"/opt/librenms/html\" url.rewrite-once = ( \"^/(.*)\\.(gif|jpg|jpeg|tiff|svg|png|css|php)$\" = \"/$0\", \"^/([a-z|0-9\\-]+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/\" = \"/?page=$1 $2 $3 $4 $5 $6 $7 $8 $9 $10\", \"^/([a-z|0-9\\-]+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/\" = \"/?page=$1 $2 $3 $4 $5 $6 $7 $8 $9\", \"^/([a-z|0-9\\-]+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/\" = \"/?page=$1 $2 $3 $4 $5 $6 $7 $8\", \"^/([a-z|0-9\\-]+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/\" = \"/?page=$1 $2 $3 $4 $5 $6 $7\", \"^/([a-z|0-9\\-]+)/(.+)/(.+)/(.+)/(.+)/(.+)/(.+)/\" = \"/?page=$1 $2 $3 $4 $5 $6\", \"^/([a-z|0-9\\-]+)/(.+)/(.+)/(.+)/(.+)/\" = \"/?page=$1 $2 $3 $4 $5\", \"^/([a-z|0-9\\-]+)/(.+)/(.+)/(.+)/\" = \"/?page=$1 $2 $3 $4\", \"^/([a-z|0-9\\-]+)/(.+)/(.+)/\" = \"/?page=$1 $2 $3\", \"^/([a-z|0-9\\-]+)/(.+)/\" = \"/?page=$1 $2\", \"^/([a-z|0-9\\-]+)/$\" = \"/?page=$1\" ) Next, add the following to /etc/lighttpd/lighttpd.conf $HTTP[\"host\"] == \"example.com\" { include \"librenms.conf\" } And enable mod_rewrite by uncommenting # \"mod_rewrite\", to \"mod_rewrite\", Don't forget to change 'example.com' to your domain Enable fastcgi in Lighttpd by running the following commands, lighty-enable-mod fastcgi lighty-enable-mod fastcgi-php And add the following to /etc/php5/cgi/php.ini cgi.fix_pathinfo = 1 then restart Lighttpd: service lighttpd restart","title":"Web Interface"},{"location":"Installation/Installation-Ubuntu-1404-Lighttpd/#validate-your-install","text":"Run validate.php as root in the librenms directory php validate.php This will check your install to verify it is set up correctly.","title":"Validate your install"},{"location":"Installation/Installation-Ubuntu-1404-Lighttpd/#add-localhost","text":"php addhost.php localhost public v2c This assumes you haven't made community changes--if you have, replace public with your community. It also assumes SNMP v2c. If you're using v3, there are additional steps (NOTE: instructions for SNMPv3 to come). Discover localhost: php discovery.php -h all","title":"Add localhost"},{"location":"Installation/Installation-Ubuntu-1404-Lighttpd/#create-cronjob","text":"The polling method used by LibreNMS is poller-wrapper.py , which was placed in the public domain by its author. By default, the LibreNMS cronjob runs poller-wrapper.py with 16 threads. The current LibreNMS recommendation is to use 4 threads per core. The default if no thread count is 16 threads . If the thread count needs to be changed, you can do so by editing the cron file ( /etc/cron.d/librenms ). Just add a number after poller-wrapper.py , as in the below example: /opt/librenms/poller-wrapper.py 12 /dev/null 2 1 Create the cronjob cp librenms.nonroot.cron /etc/cron.d/librenms","title":"Create cronjob"},{"location":"Installation/Installation-Ubuntu-1404-Lighttpd/#copy-logrotate-config","text":"LibreNMS keeps logs in /opt/librenms/logs . Over time these can become large and be rotated out. To rotate out the old logs you can use the provided logrotate config file: cp misc/librenms.logrotate /etc/logrotate.d/librenms","title":"Copy logrotate config"},{"location":"Installation/Installation-Ubuntu-1404-Lighttpd/#daily-updates","text":"LibreNMS performs daily updates by default. At 00:15 system time every day, a git pull --no-edit --quiet is performed. You can override this default by editing your config.php file. Remove the comment (the # mark) on the line: #$config['update'] = 0; so that it looks like this: $config['update'] = 0;","title":"Daily Updates"},{"location":"Installation/Installation-Ubuntu-1404-Lighttpd/#install-complete","text":"Please allow for 2-3 runs of the poller-wrapper for data to start appearing in the WebUI. If you don't see data after this, please refer to the FAQ for assistance. That's it! You now should be able to log in to http://librenms.example.com/. Please note that we have not covered HTTPS setup in this example, so your LibreNMS install is not secure by default. Please do not expose it to the public Internet unless you have configured HTTPS and taken appropriate web server hardening steps. It would be great if you would consider opting into the stats system we have, please see this page on what it is and how to enable it.","title":"Install complete"},{"location":"Installation/Installation-Ubuntu-1404-Nginx/","text":"NOTE: These instructions assume you are the root user. If you are not, prepend sudo to the shell commands (the ones that aren't at mysql prompts) or temporarily become a user with root privileges with sudo -s or sudo -i . Please note the minimum supported PHP version is 5.6.4 On the DB Server This host is where the MySQL database runs. It could be the same machine as your network management server (this is the most common initial deployment scenario). ** Whilst we are working on ensuring LibreNMS is compatible with MySQL strict mode, for now, please disable this after mysql is installed. You are free to choose between using MySQL or MariaDB: MySQL apt-get install mysql-server mysql-client mysql -uroot -p MariaDB apt-get install mariadb-server mariadb-client mysql -uroot -p Input the MySQL root password to enter the MySQL command-line interface. Create the database: CREATE DATABASE librenms CHARACTER SET utf8 COLLATE utf8_unicode_ci; CREATE USER 'librenms'@'localhost' IDENTIFIED BY 'password'; GRANT ALL PRIVILEGES ON librenms.* TO 'librenms'@'localhost'; FLUSH PRIVILEGES; exit Replace ip above with the IP or DNS name of the server running LibreNMS. If your database is on the same server as LibreNMS, you can use localhost . If you are deploying a separate database server, you need to change the bind-address . If your MySQL database resides on the same server as LibreNMS, you should skip this step. vim /etc/mysql/my.cnf Within the [mysqld] section please add: innodb_file_per_table=1 Find the line: bind-address = 127.0.0.1 Change 127.0.0.1 to the IP address that your MySQL server should listen on. Restart MySQL: If you see a line that starts sql-mode then change this to sql-mode=\"\" . service mysql restart On the NMS This host is where the web server and SNMP poller run. It could be the same machine as your database server. Install the required software: apt-get install nginx-full php5-fpm php5-cli php5-mysql php5-gd php5-snmp php-pear php5-curl php5-mcrypt php5-json php-net-ipv4 php-net-ipv6 snmp snmpd graphviz fping imagemagick whois mtr-tiny nmap python-mysqldb rrdtool git The packages listed above are an all-inclusive list of packages that were necessary on a clean install of Ubuntu 12.04/14.04. You need to configure snmpd appropriately if you have not already done so. An absolute minimal config for snmpd is: rocommunity public 127.0.0.1 Adding the above line to /etc/snmp/snmpd.conf and running service snmpd restart will activate this config. In /etc/php5/fpm/php.ini and /etc/php5/cli/php.ini , ensure date.timezone is set to your preferred time zone. See http://php.net/manual/en/timezones.php for a list of supported timezones. Valid examples are: \"America/New York\", \"Australia/Brisbane\", \"Etc/UTC\". Please also ensure that allow_url_fopen is enabled. Other functions needed for LibreNMS include exec,passthru,shell_exec,escapeshellarg,escapeshellcmd,proc_close,proc_open,popen . Adding the librenms-user useradd librenms -d /opt/librenms -M -r usermod -a -G librenms www-data Cloning LibreNMS is installed using git. If you're not familiar with git, check out the git book or the tips at git ready . The initial install from github.com is called a git clone ; subsequent updates are done through git pull . You can clone the repository via HTTPS or SSH. In either case, you need to ensure that the appropriate port (443 for HTTPS, 22 for SSH) is open in the outbound direction for your server. cd /opt git clone https://github.com/librenms/librenms.git librenms cd /opt/librenms The recommended method of cloning a git repository is HTTPS. If you would like to clone via SSH instead, use the command git clone git@github.com:librenms/librenms.git librenms instead. Sometimes the initial clone can take quite a while (nearly 3 minutes on a 10 Mbps fibre connection in Australia is a recent example). If it's a big problem to you, you can save about 50% of the bandwidth by not pulling down the full git history. This comes with some limitations (namely that you can't use it as the basis for further git repos), but if you're not planning to develop for LibreNMS it's an acceptable option. To perform the initial clone without full history, run the following instead: cd /opt git clone --depth 1 https://github.com/librenms/librenms.git librenms cd /opt/librenms Web Interface To prepare the web interface (and adding devices shortly), you'll need to create and chown a directory as well as create a Nginx vhost. First, create and chown the rrd directory and create the logs directory: mkdir rrd logs chown -R librenms:librenms /opt/librenms chmod 775 rrd NOTE: If you're not running Ubuntu or Debian, you will need to change www-data to the user and group which run the Nginx web server. If you're planing on running rrdcached, make sure that the path is also chmod'ed to 775 and chown'ed to librenms:librenms. Add configuration for nginx at /etc/nginx/conf.d/librenms.conf with the following content: server { listen 80; server_name librenms.example.com; root /opt/librenms/html; index index.php; access_log /opt/librenms/logs/access_log; error_log /opt/librenms/logs/error_log; gzip on; gzip_types text/css application/x-javascript text/richtext image/svg+xml text/plain text/xsd text/xsl text/xml image/x-icon; location / { try_files $uri $uri/ @librenms; } location ~ \\.php { fastcgi_param PATH_INFO $fastcgi_path_info; include fastcgi_params; fastcgi_split_path_info ^(.+\\.php)(/.+)$; fastcgi_pass unix:/var/run/php5-fpm.sock; } location ~ /\\.ht { deny all; } location @librenms { rewrite api/v0(.*)$ /api_v0.php/$1 last; rewrite ^(.+)$ /index.php/$1 last; } } On at least Ubuntu 14.04 (and possibly other distributions and versions as well), mcrypt is not enabled on install. Run the following to enable it: php5enmod mcrypt (To get to your LibreNMS install externally, you'll also need add it to your DNS or hosts file.) Start the web-server: Restart nginx: service nginx restart Restart php5-fpm: service php5-fpm restart Manual vs. web installer At this stage you can either launch the web installer by going to http://librenms.example.com/install.php, follow the onscreen instructions then skip to the 'Add localhost' section. Alternatively if you want to continue the setup manually then just keep following these instructions. cp config.php.default config.php vim config.php Change the values to the right of the equal sign for lines beginning with $config[db_] to match your database information as setup above. Change the value of $config['snmp']['community'] from public to whatever your read-only SNMP community is. If you have multiple communities, set it to the most common. Be sure you have no characters (including whitespace like: newlines, spaces, tabs, etc) outside of the ?php? blocks. Your graphs will break otherwise. Initialise the database Initiate the follow database with the following command: php build-base.php Create admin user Create the admin user - priv should be 10 php adduser.php name pass 10 email Substitute your desired username, password and email address--and leave the angled brackets off. Validate your install Run validate.php as root in the librenms directory php validate.php This will check your install to verify it is set up correctly. Add localhost php addhost.php localhost public v2c This assumes you haven't made community changes--if you have, replace public with your community. It also assumes SNMP v2c. If you're using v3, there are additional steps (NOTE: instructions for SNMPv3 to come). Discover localhost:: php discovery.php -h all Create cronjob LibreNMS uses Job Snijders' poller-wrapper.py . By default, the cron job runs poller-wrapper.py with 16 threads. The current recommendation is to use 4 threads per core as a rule of thumb. If the thread count needs to be changed, you can do so by editing the cron file ( /etc/cron.d/librenms ). Just add a number after poller-wrapper.py , as in the example below: /opt/librenms/poller-wrapper.py 12 /dev/null 2 1 Create the cronjob cp librenms.nonroot.cron /etc/cron.d/librenms Copy logrotate config LibreNMS keeps logs in /opt/librenms/logs . Over time these can become large and be rotated out. To rotate out the old logs you can use the provided logrotate config file: cp misc/librenms.logrotate /etc/logrotate.d/librenms Daily Updates LibreNMS performs daily updates by default. At 00:15 system time every day, a git pull --no-edit --quiet is performed. You can override this default by editing your config.php file. Remove the comment (the # mark) on the line: #$config['update'] = 0; so that it looks like this: $config['update'] = 0; Install complete Please allow for 2-3 runs of the poller-wrapper for data to start appearing in the WebUI. If you don't see data after this, please refer to the FAQ for assistance. That's it! You now should be able to log in to http://librenms.example.com/. Please note that we have not covered HTTPS setup in this example, so your LibreNMS install is not secure by default. Please do not expose it to the public Internet unless you have configured HTTPS and taken appropriate web server hardening steps. It would be great if you would consider opting into the stats system we have, please see this page on what it is and how to enable it.","title":"Installation Ubuntu 1404 Nginx"},{"location":"Installation/Installation-Ubuntu-1404-Nginx/#on-the-db-server","text":"This host is where the MySQL database runs. It could be the same machine as your network management server (this is the most common initial deployment scenario). ** Whilst we are working on ensuring LibreNMS is compatible with MySQL strict mode, for now, please disable this after mysql is installed. You are free to choose between using MySQL or MariaDB: MySQL apt-get install mysql-server mysql-client mysql -uroot -p MariaDB apt-get install mariadb-server mariadb-client mysql -uroot -p Input the MySQL root password to enter the MySQL command-line interface. Create the database: CREATE DATABASE librenms CHARACTER SET utf8 COLLATE utf8_unicode_ci; CREATE USER 'librenms'@'localhost' IDENTIFIED BY 'password'; GRANT ALL PRIVILEGES ON librenms.* TO 'librenms'@'localhost'; FLUSH PRIVILEGES; exit Replace ip above with the IP or DNS name of the server running LibreNMS. If your database is on the same server as LibreNMS, you can use localhost . If you are deploying a separate database server, you need to change the bind-address . If your MySQL database resides on the same server as LibreNMS, you should skip this step. vim /etc/mysql/my.cnf Within the [mysqld] section please add: innodb_file_per_table=1 Find the line: bind-address = 127.0.0.1 Change 127.0.0.1 to the IP address that your MySQL server should listen on. Restart MySQL: If you see a line that starts sql-mode then change this to sql-mode=\"\" . service mysql restart","title":"On the DB Server"},{"location":"Installation/Installation-Ubuntu-1404-Nginx/#on-the-nms","text":"This host is where the web server and SNMP poller run. It could be the same machine as your database server. Install the required software: apt-get install nginx-full php5-fpm php5-cli php5-mysql php5-gd php5-snmp php-pear php5-curl php5-mcrypt php5-json php-net-ipv4 php-net-ipv6 snmp snmpd graphviz fping imagemagick whois mtr-tiny nmap python-mysqldb rrdtool git The packages listed above are an all-inclusive list of packages that were necessary on a clean install of Ubuntu 12.04/14.04. You need to configure snmpd appropriately if you have not already done so. An absolute minimal config for snmpd is: rocommunity public 127.0.0.1 Adding the above line to /etc/snmp/snmpd.conf and running service snmpd restart will activate this config. In /etc/php5/fpm/php.ini and /etc/php5/cli/php.ini , ensure date.timezone is set to your preferred time zone. See http://php.net/manual/en/timezones.php for a list of supported timezones. Valid examples are: \"America/New York\", \"Australia/Brisbane\", \"Etc/UTC\". Please also ensure that allow_url_fopen is enabled. Other functions needed for LibreNMS include exec,passthru,shell_exec,escapeshellarg,escapeshellcmd,proc_close,proc_open,popen .","title":"On the NMS"},{"location":"Installation/Installation-Ubuntu-1404-Nginx/#adding-the-librenms-user","text":"useradd librenms -d /opt/librenms -M -r usermod -a -G librenms www-data","title":"Adding the librenms-user"},{"location":"Installation/Installation-Ubuntu-1404-Nginx/#cloning","text":"LibreNMS is installed using git. If you're not familiar with git, check out the git book or the tips at git ready . The initial install from github.com is called a git clone ; subsequent updates are done through git pull . You can clone the repository via HTTPS or SSH. In either case, you need to ensure that the appropriate port (443 for HTTPS, 22 for SSH) is open in the outbound direction for your server. cd /opt git clone https://github.com/librenms/librenms.git librenms cd /opt/librenms The recommended method of cloning a git repository is HTTPS. If you would like to clone via SSH instead, use the command git clone git@github.com:librenms/librenms.git librenms instead. Sometimes the initial clone can take quite a while (nearly 3 minutes on a 10 Mbps fibre connection in Australia is a recent example). If it's a big problem to you, you can save about 50% of the bandwidth by not pulling down the full git history. This comes with some limitations (namely that you can't use it as the basis for further git repos), but if you're not planning to develop for LibreNMS it's an acceptable option. To perform the initial clone without full history, run the following instead: cd /opt git clone --depth 1 https://github.com/librenms/librenms.git librenms cd /opt/librenms","title":"Cloning"},{"location":"Installation/Installation-Ubuntu-1404-Nginx/#web-interface","text":"To prepare the web interface (and adding devices shortly), you'll need to create and chown a directory as well as create a Nginx vhost. First, create and chown the rrd directory and create the logs directory: mkdir rrd logs chown -R librenms:librenms /opt/librenms chmod 775 rrd NOTE: If you're not running Ubuntu or Debian, you will need to change www-data to the user and group which run the Nginx web server. If you're planing on running rrdcached, make sure that the path is also chmod'ed to 775 and chown'ed to librenms:librenms. Add configuration for nginx at /etc/nginx/conf.d/librenms.conf with the following content: server { listen 80; server_name librenms.example.com; root /opt/librenms/html; index index.php; access_log /opt/librenms/logs/access_log; error_log /opt/librenms/logs/error_log; gzip on; gzip_types text/css application/x-javascript text/richtext image/svg+xml text/plain text/xsd text/xsl text/xml image/x-icon; location / { try_files $uri $uri/ @librenms; } location ~ \\.php { fastcgi_param PATH_INFO $fastcgi_path_info; include fastcgi_params; fastcgi_split_path_info ^(.+\\.php)(/.+)$; fastcgi_pass unix:/var/run/php5-fpm.sock; } location ~ /\\.ht { deny all; } location @librenms { rewrite api/v0(.*)$ /api_v0.php/$1 last; rewrite ^(.+)$ /index.php/$1 last; } } On at least Ubuntu 14.04 (and possibly other distributions and versions as well), mcrypt is not enabled on install. Run the following to enable it: php5enmod mcrypt (To get to your LibreNMS install externally, you'll also need add it to your DNS or hosts file.)","title":"Web Interface"},{"location":"Installation/Installation-Ubuntu-1404-Nginx/#start-the-web-server","text":"Restart nginx: service nginx restart Restart php5-fpm: service php5-fpm restart","title":"Start the web-server:"},{"location":"Installation/Installation-Ubuntu-1404-Nginx/#manual-vs-web-installer","text":"At this stage you can either launch the web installer by going to http://librenms.example.com/install.php, follow the onscreen instructions then skip to the 'Add localhost' section. Alternatively if you want to continue the setup manually then just keep following these instructions. cp config.php.default config.php vim config.php Change the values to the right of the equal sign for lines beginning with $config[db_] to match your database information as setup above. Change the value of $config['snmp']['community'] from public to whatever your read-only SNMP community is. If you have multiple communities, set it to the most common. Be sure you have no characters (including whitespace like: newlines, spaces, tabs, etc) outside of the ?php? blocks. Your graphs will break otherwise.","title":"Manual vs. web installer"},{"location":"Installation/Installation-Ubuntu-1404-Nginx/#initialise-the-database","text":"Initiate the follow database with the following command: php build-base.php","title":"Initialise the database"},{"location":"Installation/Installation-Ubuntu-1404-Nginx/#create-admin-user","text":"Create the admin user - priv should be 10 php adduser.php name pass 10 email Substitute your desired username, password and email address--and leave the angled brackets off.","title":"Create admin user"},{"location":"Installation/Installation-Ubuntu-1404-Nginx/#validate-your-install","text":"Run validate.php as root in the librenms directory php validate.php This will check your install to verify it is set up correctly.","title":"Validate your install"},{"location":"Installation/Installation-Ubuntu-1404-Nginx/#add-localhost","text":"php addhost.php localhost public v2c This assumes you haven't made community changes--if you have, replace public with your community. It also assumes SNMP v2c. If you're using v3, there are additional steps (NOTE: instructions for SNMPv3 to come). Discover localhost:: php discovery.php -h all","title":"Add localhost"},{"location":"Installation/Installation-Ubuntu-1404-Nginx/#create-cronjob","text":"LibreNMS uses Job Snijders' poller-wrapper.py . By default, the cron job runs poller-wrapper.py with 16 threads. The current recommendation is to use 4 threads per core as a rule of thumb. If the thread count needs to be changed, you can do so by editing the cron file ( /etc/cron.d/librenms ). Just add a number after poller-wrapper.py , as in the example below: /opt/librenms/poller-wrapper.py 12 /dev/null 2 1 Create the cronjob cp librenms.nonroot.cron /etc/cron.d/librenms","title":"Create cronjob"},{"location":"Installation/Installation-Ubuntu-1404-Nginx/#copy-logrotate-config","text":"LibreNMS keeps logs in /opt/librenms/logs . Over time these can become large and be rotated out. To rotate out the old logs you can use the provided logrotate config file: cp misc/librenms.logrotate /etc/logrotate.d/librenms","title":"Copy logrotate config"},{"location":"Installation/Installation-Ubuntu-1404-Nginx/#daily-updates","text":"LibreNMS performs daily updates by default. At 00:15 system time every day, a git pull --no-edit --quiet is performed. You can override this default by editing your config.php file. Remove the comment (the # mark) on the line: #$config['update'] = 0; so that it looks like this: $config['update'] = 0;","title":"Daily Updates"},{"location":"Installation/Installation-Ubuntu-1404-Nginx/#install-complete","text":"Please allow for 2-3 runs of the poller-wrapper for data to start appearing in the WebUI. If you don't see data after this, please refer to the FAQ for assistance. That's it! You now should be able to log in to http://librenms.example.com/. Please note that we have not covered HTTPS setup in this example, so your LibreNMS install is not secure by default. Please do not expose it to the public Internet unless you have configured HTTPS and taken appropriate web server hardening steps. It would be great if you would consider opting into the stats system we have, please see this page on what it is and how to enable it.","title":"Install complete"},{"location":"Installation/Installation-Ubuntu-1604-Apache/","text":"NOTE: These instructions assume you are the root user. If you are not, prepend sudo to the shell commands (the ones that aren't at mysql prompts) or temporarily become a user with root privileges with sudo -s or sudo -i . Please note the minimum supported PHP version is 5.6.4 Install Required Packages apt install acl apache2 composer fping git graphviz imagemagick libapache2-mod-php7.0 mariadb-client mariadb-server mtr-tiny nmap php7.0-cli php7.0-curl php7.0-gd php7.0-json php7.0-mbstring php7.0-mcrypt php7.0-mysql php7.0-snmp php7.0-xml php7.0-zip python-memcache python-mysqldb rrdtool snmp snmpd whois Add librenms user useradd librenms -d /opt/librenms -M -r usermod -a -G librenms www-data Install LibreNMS cd /opt composer create-project --no-dev --keep-vcs librenms/librenms librenms dev-master DB Server Configure MySQL systemctl restart mysql mysql -uroot -p NOTE: Please change the 'password' below to something secure. CREATE DATABASE librenms CHARACTER SET utf8 COLLATE utf8_unicode_ci; CREATE USER 'librenms'@'localhost' IDENTIFIED BY 'password'; GRANT ALL PRIVILEGES ON librenms.* TO 'librenms'@'localhost'; FLUSH PRIVILEGES; exit vi /etc/mysql/mariadb.conf.d/50-server.cnf Within the [mysqld] section please add: innodb_file_per_table=1 lower_case_table_names=0 systemctl restart mysql Web Server Configure PHP Ensure date.timezone is set in php.ini to your preferred time zone. See http://php.net/manual/en/timezones.php for a list of supported timezones. Valid examples are: \"America/New_York\", \"Australia/Brisbane\", \"Etc/UTC\". vi /etc/php/7.0/apache2/php.ini vi /etc/php/7.0/cli/php.ini a2enmod php7.0 a2dismod mpm_event a2enmod mpm_prefork phpenmod mcrypt Configure Apache vi /etc/apache2/sites-available/librenms.conf Add the following config, edit ServerName as required: VirtualHost *:80 DocumentRoot /opt/librenms/html/ ServerName librenms.example.com AllowEncodedSlashes NoDecode Directory /opt/librenms/html/ Require all granted AllowOverride All Options FollowSymLinks MultiViews /Directory /VirtualHost NOTE: If this is the only site you are hosting on this server (it should be :)) then you will need to disable the default site. a2dissite 000-default a2ensite librenms.conf a2enmod rewrite systemctl restart apache2 Configure snmpd cp /opt/librenms/snmpd.conf.example /etc/snmp/snmpd.conf vi /etc/snmp/snmpd.conf Edit the text which says RANDOMSTRINGGOESHERE and set your own community string. curl -o /usr/bin/distro https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/distro chmod +x /usr/bin/distro systemctl restart snmpd Cron job cp /opt/librenms/librenms.nonroot.cron /etc/cron.d/librenms Copy logrotate config LibreNMS keeps logs in /opt/librenms/logs . Over time these can become large and be rotated out. To rotate out the old logs you can use the provided logrotate config file: cp /opt/librenms/misc/librenms.logrotate /etc/logrotate.d/librenms Set permissions chown -R librenms:librenms /opt/librenms setfacl -d -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/ setfacl -R -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/ Web installer Now head to the web installer and follow the on-screen instructions. http://librenms.example.com/install.php The web installer might prompt you to create a config.php file in your librenms install location manually, copying the content displayed on-screen to the file. If you have to do this, please remember to set the permissions on config.php after you copied the on-screen contents to the file. Run: chown librenms:librenms /opt/librenms/config.php Final steps That's it! You now should be able to log in to http://librenms.example.com/. Please note that we have not covered HTTPS setup in this example, so your LibreNMS install is not secure by default. Please do not expose it to the public Internet unless you have configured HTTPS and taken appropriate web server hardening steps. Add the first device We now suggest that you add localhost as your first device from within the WebUI. Troubleshooting If you ever have issues with your install, run validate.php as root in the librenms directory: cd /opt/librenms ./validate.php There are various options for getting help listed on the LibreNMS web site: https://www.librenms.org/#support What next? Now that you've installed LibreNMS, we'd suggest that you have a read of a few other docs to get you going: Performance tuning Alerting Device Groups Auto discovery Closing We hope you enjoy using LibreNMS. If you do, it would be great if you would consider opting into the stats system we have, please see this page on what it is and how to enable it. If you would like to help make LibreNMS better there are many ways to help . You can also back LibreNMS on Open Collective .","title":"Ubuntu 16.04 (Apache)"},{"location":"Installation/Installation-Ubuntu-1604-Apache/#install-required-packages","text":"apt install acl apache2 composer fping git graphviz imagemagick libapache2-mod-php7.0 mariadb-client mariadb-server mtr-tiny nmap php7.0-cli php7.0-curl php7.0-gd php7.0-json php7.0-mbstring php7.0-mcrypt php7.0-mysql php7.0-snmp php7.0-xml php7.0-zip python-memcache python-mysqldb rrdtool snmp snmpd whois","title":"Install Required Packages"},{"location":"Installation/Installation-Ubuntu-1604-Apache/#add-librenms-user","text":"useradd librenms -d /opt/librenms -M -r usermod -a -G librenms www-data","title":"Add librenms user"},{"location":"Installation/Installation-Ubuntu-1604-Apache/#install-librenms","text":"cd /opt composer create-project --no-dev --keep-vcs librenms/librenms librenms dev-master","title":"Install LibreNMS"},{"location":"Installation/Installation-Ubuntu-1604-Apache/#db-server","text":"","title":"DB Server"},{"location":"Installation/Installation-Ubuntu-1604-Apache/#configure-mysql","text":"systemctl restart mysql mysql -uroot -p NOTE: Please change the 'password' below to something secure. CREATE DATABASE librenms CHARACTER SET utf8 COLLATE utf8_unicode_ci; CREATE USER 'librenms'@'localhost' IDENTIFIED BY 'password'; GRANT ALL PRIVILEGES ON librenms.* TO 'librenms'@'localhost'; FLUSH PRIVILEGES; exit vi /etc/mysql/mariadb.conf.d/50-server.cnf Within the [mysqld] section please add: innodb_file_per_table=1 lower_case_table_names=0 systemctl restart mysql","title":"Configure MySQL"},{"location":"Installation/Installation-Ubuntu-1604-Apache/#web-server","text":"","title":"Web Server"},{"location":"Installation/Installation-Ubuntu-1604-Apache/#configure-php","text":"Ensure date.timezone is set in php.ini to your preferred time zone. See http://php.net/manual/en/timezones.php for a list of supported timezones. Valid examples are: \"America/New_York\", \"Australia/Brisbane\", \"Etc/UTC\". vi /etc/php/7.0/apache2/php.ini vi /etc/php/7.0/cli/php.ini a2enmod php7.0 a2dismod mpm_event a2enmod mpm_prefork phpenmod mcrypt","title":"Configure PHP"},{"location":"Installation/Installation-Ubuntu-1604-Apache/#configure-apache","text":"vi /etc/apache2/sites-available/librenms.conf Add the following config, edit ServerName as required: VirtualHost *:80 DocumentRoot /opt/librenms/html/ ServerName librenms.example.com AllowEncodedSlashes NoDecode Directory /opt/librenms/html/ Require all granted AllowOverride All Options FollowSymLinks MultiViews /Directory /VirtualHost NOTE: If this is the only site you are hosting on this server (it should be :)) then you will need to disable the default site. a2dissite 000-default a2ensite librenms.conf a2enmod rewrite systemctl restart apache2","title":"Configure Apache"},{"location":"Installation/Installation-Ubuntu-1604-Apache/#configure-snmpd","text":"cp /opt/librenms/snmpd.conf.example /etc/snmp/snmpd.conf vi /etc/snmp/snmpd.conf Edit the text which says RANDOMSTRINGGOESHERE and set your own community string. curl -o /usr/bin/distro https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/distro chmod +x /usr/bin/distro systemctl restart snmpd","title":"Configure snmpd"},{"location":"Installation/Installation-Ubuntu-1604-Apache/#cron-job","text":"cp /opt/librenms/librenms.nonroot.cron /etc/cron.d/librenms","title":"Cron job"},{"location":"Installation/Installation-Ubuntu-1604-Apache/#copy-logrotate-config","text":"LibreNMS keeps logs in /opt/librenms/logs . Over time these can become large and be rotated out. To rotate out the old logs you can use the provided logrotate config file: cp /opt/librenms/misc/librenms.logrotate /etc/logrotate.d/librenms","title":"Copy logrotate config"},{"location":"Installation/Installation-Ubuntu-1604-Apache/#set-permissions","text":"chown -R librenms:librenms /opt/librenms setfacl -d -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/ setfacl -R -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/","title":"Set permissions"},{"location":"Installation/Installation-Ubuntu-1604-Apache/#web-installer","text":"Now head to the web installer and follow the on-screen instructions. http://librenms.example.com/install.php The web installer might prompt you to create a config.php file in your librenms install location manually, copying the content displayed on-screen to the file. If you have to do this, please remember to set the permissions on config.php after you copied the on-screen contents to the file. Run: chown librenms:librenms /opt/librenms/config.php","title":"Web installer"},{"location":"Installation/Installation-Ubuntu-1604-Apache/#final-steps","text":"That's it! You now should be able to log in to http://librenms.example.com/. Please note that we have not covered HTTPS setup in this example, so your LibreNMS install is not secure by default. Please do not expose it to the public Internet unless you have configured HTTPS and taken appropriate web server hardening steps.","title":"Final steps"},{"location":"Installation/Installation-Ubuntu-1604-Apache/#add-the-first-device","text":"We now suggest that you add localhost as your first device from within the WebUI.","title":"Add the first device"},{"location":"Installation/Installation-Ubuntu-1604-Apache/#troubleshooting","text":"If you ever have issues with your install, run validate.php as root in the librenms directory: cd /opt/librenms ./validate.php There are various options for getting help listed on the LibreNMS web site: https://www.librenms.org/#support","title":"Troubleshooting"},{"location":"Installation/Installation-Ubuntu-1604-Apache/#what-next","text":"Now that you've installed LibreNMS, we'd suggest that you have a read of a few other docs to get you going: Performance tuning Alerting Device Groups Auto discovery","title":"What next?"},{"location":"Installation/Installation-Ubuntu-1604-Apache/#closing","text":"We hope you enjoy using LibreNMS. If you do, it would be great if you would consider opting into the stats system we have, please see this page on what it is and how to enable it. If you would like to help make LibreNMS better there are many ways to help . You can also back LibreNMS on Open Collective .","title":"Closing"},{"location":"Installation/Installation-Ubuntu-1604-Nginx/","text":"NOTE: These instructions assume you are the root user. If you are not, prepend sudo to the shell commands (the ones that aren't at mysql prompts) or temporarily become a user with root privileges with sudo -s or sudo -i . Please note the minimum supported PHP version is 5.6.4 Install Required Packages apt install acl composer fping git graphviz imagemagick mariadb-client mariadb-server mtr-tiny nginx-full nmap php7.0-cli php7.0-curl php7.0-fpm php7.0-gd php7.0-mbstring php7.0-mcrypt php7.0-mysql php7.0-snmp php7.0-xml php7.0-zip python-memcache python-mysqldb rrdtool snmp snmpd whois Add librenms user useradd librenms -d /opt/librenms -M -r usermod -a -G librenms www-data Install LibreNMS cd /opt composer create-project --no-dev --keep-vcs librenms/librenms librenms dev-master DB Server Configure MySQL systemctl restart mysql mysql -uroot -p NOTE: Please change the 'password' below to something secure. CREATE DATABASE librenms CHARACTER SET utf8 COLLATE utf8_unicode_ci; CREATE USER 'librenms'@'localhost' IDENTIFIED BY 'password'; GRANT ALL PRIVILEGES ON librenms.* TO 'librenms'@'localhost'; FLUSH PRIVILEGES; exit vim /etc/mysql/mariadb.conf.d/50-server.cnf Within the [mysqld] section please add: innodb_file_per_table=1 lower_case_table_names=0 systemctl restart mysql Web Server Configure and Start PHP-FPM Ensure date.timezone is set in php.ini to your preferred time zone. See http://php.net/manual/en/timezones.php for a list of supported timezones. Valid examples are: \"America/New_York\", \"Australia/Brisbane\", \"Etc/UTC\". vim /etc/php/7.0/fpm/php.ini vim /etc/php/7.0/cli/php.ini phpenmod mcrypt systemctl restart php7.0-fpm Configure NGINX vim /etc/nginx/conf.d/librenms.conf Add the following config, edit server_name as required: server { listen 80; server_name librenms.example.com; root /opt/librenms/html; index index.php; charset utf-8; gzip on; gzip_types text/css application/javascript text/javascript application/x-javascript image/svg+xml text/plain text/xsd text/xsl text/xml image/x-icon; location / { try_files $uri $uri/ /index.php?$query_string; } location /api/v0 { try_files $uri $uri/ /api_v0.php?$query_string; } location ~ \\.php { include fastcgi.conf; fastcgi_split_path_info ^(.+\\.php)(/.+)$; fastcgi_pass unix:/var/run/php/php7.0-fpm.sock; } location ~ /\\.ht { deny all; } } rm /etc/nginx/sites-enabled/default systemctl restart nginx Configure snmpd cp /opt/librenms/snmpd.conf.example /etc/snmp/snmpd.conf vim /etc/snmp/snmpd.conf Edit the text which says RANDOMSTRINGGOESHERE and set your own community string. curl -o /usr/bin/distro https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/distro chmod +x /usr/bin/distro systemctl restart snmpd Cron job cp /opt/librenms/librenms.nonroot.cron /etc/cron.d/librenms Copy logrotate config LibreNMS keeps logs in /opt/librenms/logs . Over time these can become large and be rotated out. To rotate out the old logs you can use the provided logrotate config file: cp /opt/librenms/misc/librenms.logrotate /etc/logrotate.d/librenms Set permissions chown -R librenms:librenms /opt/librenms setfacl -d -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/ setfacl -R -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/ Web installer Now head to the web installer and follow the on-screen instructions. http://librenms.example.com/install.php The web installer might prompt you to create a config.php file in your librenms install location manually, copying the content displayed on-screen to the file. If you have to do this, please remember to set the permissions on config.php after you copied the on-screen contents to the file. Run: chown librenms:librenms /opt/librenms/config.php Final steps That's it! You now should be able to log in to http://librenms.example.com/. Please note that we have not covered HTTPS setup in this example, so your LibreNMS install is not secure by default. Please do not expose it to the public Internet unless you have configured HTTPS and taken appropriate web server hardening steps. Add the first device We now suggest that you add localhost as your first device from within the WebUI. Troubleshooting If you ever have issues with your install, run validate.php as root in the librenms directory: cd /opt/librenms ./validate.php There are various options for getting help listed on the LibreNMS web site: https://www.librenms.org/#support What next? Now that you've installed LibreNMS, we'd suggest that you have a read of a few other docs to get you going: Performance tuning Alerting Device Groups Auto discovery Closing We hope you enjoy using LibreNMS. If you do, it would be great if you would consider opting into the stats system we have, please see this page on what it is and how to enable it. If you would like to help make LibreNMS better there are many ways to help . You can also back LibreNMS on Open Collective .","title":"Ubuntu 16.04 (Nginx)"},{"location":"Installation/Installation-Ubuntu-1604-Nginx/#install-required-packages","text":"apt install acl composer fping git graphviz imagemagick mariadb-client mariadb-server mtr-tiny nginx-full nmap php7.0-cli php7.0-curl php7.0-fpm php7.0-gd php7.0-mbstring php7.0-mcrypt php7.0-mysql php7.0-snmp php7.0-xml php7.0-zip python-memcache python-mysqldb rrdtool snmp snmpd whois","title":"Install Required Packages"},{"location":"Installation/Installation-Ubuntu-1604-Nginx/#add-librenms-user","text":"useradd librenms -d /opt/librenms -M -r usermod -a -G librenms www-data","title":"Add librenms user"},{"location":"Installation/Installation-Ubuntu-1604-Nginx/#install-librenms","text":"cd /opt composer create-project --no-dev --keep-vcs librenms/librenms librenms dev-master","title":"Install LibreNMS"},{"location":"Installation/Installation-Ubuntu-1604-Nginx/#db-server","text":"","title":"DB Server"},{"location":"Installation/Installation-Ubuntu-1604-Nginx/#configure-mysql","text":"systemctl restart mysql mysql -uroot -p NOTE: Please change the 'password' below to something secure. CREATE DATABASE librenms CHARACTER SET utf8 COLLATE utf8_unicode_ci; CREATE USER 'librenms'@'localhost' IDENTIFIED BY 'password'; GRANT ALL PRIVILEGES ON librenms.* TO 'librenms'@'localhost'; FLUSH PRIVILEGES; exit vim /etc/mysql/mariadb.conf.d/50-server.cnf Within the [mysqld] section please add: innodb_file_per_table=1 lower_case_table_names=0 systemctl restart mysql","title":"Configure MySQL"},{"location":"Installation/Installation-Ubuntu-1604-Nginx/#web-server","text":"","title":"Web Server"},{"location":"Installation/Installation-Ubuntu-1604-Nginx/#configure-and-start-php-fpm","text":"Ensure date.timezone is set in php.ini to your preferred time zone. See http://php.net/manual/en/timezones.php for a list of supported timezones. Valid examples are: \"America/New_York\", \"Australia/Brisbane\", \"Etc/UTC\". vim /etc/php/7.0/fpm/php.ini vim /etc/php/7.0/cli/php.ini phpenmod mcrypt systemctl restart php7.0-fpm","title":"Configure and Start PHP-FPM"},{"location":"Installation/Installation-Ubuntu-1604-Nginx/#configure-nginx","text":"vim /etc/nginx/conf.d/librenms.conf Add the following config, edit server_name as required: server { listen 80; server_name librenms.example.com; root /opt/librenms/html; index index.php; charset utf-8; gzip on; gzip_types text/css application/javascript text/javascript application/x-javascript image/svg+xml text/plain text/xsd text/xsl text/xml image/x-icon; location / { try_files $uri $uri/ /index.php?$query_string; } location /api/v0 { try_files $uri $uri/ /api_v0.php?$query_string; } location ~ \\.php { include fastcgi.conf; fastcgi_split_path_info ^(.+\\.php)(/.+)$; fastcgi_pass unix:/var/run/php/php7.0-fpm.sock; } location ~ /\\.ht { deny all; } } rm /etc/nginx/sites-enabled/default systemctl restart nginx","title":"Configure NGINX"},{"location":"Installation/Installation-Ubuntu-1604-Nginx/#configure-snmpd","text":"cp /opt/librenms/snmpd.conf.example /etc/snmp/snmpd.conf vim /etc/snmp/snmpd.conf Edit the text which says RANDOMSTRINGGOESHERE and set your own community string. curl -o /usr/bin/distro https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/distro chmod +x /usr/bin/distro systemctl restart snmpd","title":"Configure snmpd"},{"location":"Installation/Installation-Ubuntu-1604-Nginx/#cron-job","text":"cp /opt/librenms/librenms.nonroot.cron /etc/cron.d/librenms","title":"Cron job"},{"location":"Installation/Installation-Ubuntu-1604-Nginx/#copy-logrotate-config","text":"LibreNMS keeps logs in /opt/librenms/logs . Over time these can become large and be rotated out. To rotate out the old logs you can use the provided logrotate config file: cp /opt/librenms/misc/librenms.logrotate /etc/logrotate.d/librenms","title":"Copy logrotate config"},{"location":"Installation/Installation-Ubuntu-1604-Nginx/#set-permissions","text":"chown -R librenms:librenms /opt/librenms setfacl -d -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/ setfacl -R -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/","title":"Set permissions"},{"location":"Installation/Installation-Ubuntu-1604-Nginx/#web-installer","text":"Now head to the web installer and follow the on-screen instructions. http://librenms.example.com/install.php The web installer might prompt you to create a config.php file in your librenms install location manually, copying the content displayed on-screen to the file. If you have to do this, please remember to set the permissions on config.php after you copied the on-screen contents to the file. Run: chown librenms:librenms /opt/librenms/config.php","title":"Web installer"},{"location":"Installation/Installation-Ubuntu-1604-Nginx/#final-steps","text":"That's it! You now should be able to log in to http://librenms.example.com/. Please note that we have not covered HTTPS setup in this example, so your LibreNMS install is not secure by default. Please do not expose it to the public Internet unless you have configured HTTPS and taken appropriate web server hardening steps.","title":"Final steps"},{"location":"Installation/Installation-Ubuntu-1604-Nginx/#add-the-first-device","text":"We now suggest that you add localhost as your first device from within the WebUI.","title":"Add the first device"},{"location":"Installation/Installation-Ubuntu-1604-Nginx/#troubleshooting","text":"If you ever have issues with your install, run validate.php as root in the librenms directory: cd /opt/librenms ./validate.php There are various options for getting help listed on the LibreNMS web site: https://www.librenms.org/#support","title":"Troubleshooting"},{"location":"Installation/Installation-Ubuntu-1604-Nginx/#what-next","text":"Now that you've installed LibreNMS, we'd suggest that you have a read of a few other docs to get you going: Performance tuning Alerting Device Groups Auto discovery","title":"What next?"},{"location":"Installation/Installation-Ubuntu-1604-Nginx/#closing","text":"We hope you enjoy using LibreNMS. If you do, it would be great if you would consider opting into the stats system we have, please see this page on what it is and how to enable it. If you would like to help make LibreNMS better there are many ways to help . You can also back LibreNMS on Open Collective .","title":"Closing"},{"location":"Installation/Installation-Ubuntu-1804-Apache/","text":"NOTE: These instructions assume you are the root user. If you are not, prepend sudo to the shell commands (the ones that aren't at mysql prompts) or temporarily become a user with root privileges with sudo -s or sudo -i . Please note the minimum supported PHP version is 5.6.4 Install Required Packages add-apt-repository universe apt update apt install curl apache2 composer fping git graphviz imagemagick libapache2-mod-php7.2 mariadb-client mariadb-server mtr-tiny nmap php7.2-cli php7.2-curl php7.2-gd php7.2-json php7.2-mbstring php7.2-mysql php7.2-snmp php7.2-xml php7.2-zip python-memcache python-mysqldb rrdtool snmp snmpd whois Add librenms user useradd librenms -d /opt/librenms -M -r usermod -a -G librenms www-data Install LibreNMS cd /opt composer create-project --no-dev --keep-vcs librenms/librenms librenms dev-master DB Server Configure MySQL systemctl restart mysql mysql -uroot -p NOTE: Please change the 'password' below to something secure. CREATE DATABASE librenms CHARACTER SET utf8 COLLATE utf8_unicode_ci; CREATE USER 'librenms'@'localhost' IDENTIFIED BY 'password'; GRANT ALL PRIVILEGES ON librenms.* TO 'librenms'@'localhost'; FLUSH PRIVILEGES; exit vi /etc/mysql/mariadb.conf.d/50-server.cnf Within the [mysqld] section please add: innodb_file_per_table=1 lower_case_table_names=0 systemctl restart mysql Web Server Configure PHP Ensure date.timezone is set in php.ini to your preferred time zone. See http://php.net/manual/en/timezones.php for a list of supported timezones. Valid examples are: \"America/New_York\", \"Australia/Brisbane\", \"Etc/UTC\". vi /etc/php/7.2/apache2/php.ini vi /etc/php/7.2/cli/php.ini a2enmod php7.2 a2dismod mpm_event a2enmod mpm_prefork Configure Apache vi /etc/apache2/sites-available/librenms.conf Add the following config, edit ServerName as required: VirtualHost *:80 DocumentRoot /opt/librenms/html/ ServerName librenms.example.com AllowEncodedSlashes NoDecode Directory /opt/librenms/html/ Require all granted AllowOverride All Options FollowSymLinks MultiViews /Directory /VirtualHost NOTE: If this is the only site you are hosting on this server (it should be :)) then you will need to disable the default site. a2dissite 000-default a2ensite librenms.conf a2enmod rewrite systemctl restart apache2 Configure snmpd cp /opt/librenms/snmpd.conf.example /etc/snmp/snmpd.conf vi /etc/snmp/snmpd.conf Edit the text which says RANDOMSTRINGGOESHERE and set your own community string. curl -o /usr/bin/distro https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/distro chmod +x /usr/bin/distro systemctl restart snmpd Cron job cp /opt/librenms/librenms.nonroot.cron /etc/cron.d/librenms Copy logrotate config LibreNMS keeps logs in /opt/librenms/logs . Over time these can become large and be rotated out. To rotate out the old logs you can use the provided logrotate config file: cp /opt/librenms/misc/librenms.logrotate /etc/logrotate.d/librenms Set permissions chown -R librenms:librenms /opt/librenms setfacl -d -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/ setfacl -R -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/ Web installer Now head to the web installer and follow the on-screen instructions. http://librenms.example.com/install.php The web installer might prompt you to create a config.php file in your librenms install location manually, copying the content displayed on-screen to the file. If you have to do this, please remember to set the permissions on config.php after you copied the on-screen contents to the file. Run: chown librenms:librenms /opt/librenms/config.php Final steps That's it! You now should be able to log in to http://librenms.example.com/. Please note that we have not covered HTTPS setup in this example, so your LibreNMS install is not secure by default. Please do not expose it to the public Internet unless you have configured HTTPS and taken appropriate web server hardening steps. Add the first device We now suggest that you add localhost as your first device from within the WebUI. Troubleshooting If you ever have issues with your install, run validate.php as root in the librenms directory: cd /opt/librenms ./validate.php There are various options for getting help listed on the LibreNMS web site: https://www.librenms.org/#support What next? Now that you've installed LibreNMS, we'd suggest that you have a read of a few other docs to get you going: Performance tuning Alerting Device Groups Auto discovery Closing We hope you enjoy using LibreNMS. If you do, it would be great if you would consider opting into the stats system we have, please see this page on what it is and how to enable it. If you would like to help make LibreNMS better there are many ways to help . You can also back LibreNMS on Open Collective .","title":"Ubuntu 18.04 (Apache)"},{"location":"Installation/Installation-Ubuntu-1804-Apache/#install-required-packages","text":"add-apt-repository universe apt update apt install curl apache2 composer fping git graphviz imagemagick libapache2-mod-php7.2 mariadb-client mariadb-server mtr-tiny nmap php7.2-cli php7.2-curl php7.2-gd php7.2-json php7.2-mbstring php7.2-mysql php7.2-snmp php7.2-xml php7.2-zip python-memcache python-mysqldb rrdtool snmp snmpd whois","title":"Install Required Packages"},{"location":"Installation/Installation-Ubuntu-1804-Apache/#add-librenms-user","text":"useradd librenms -d /opt/librenms -M -r usermod -a -G librenms www-data","title":"Add librenms user"},{"location":"Installation/Installation-Ubuntu-1804-Apache/#install-librenms","text":"cd /opt composer create-project --no-dev --keep-vcs librenms/librenms librenms dev-master","title":"Install LibreNMS"},{"location":"Installation/Installation-Ubuntu-1804-Apache/#db-server","text":"","title":"DB Server"},{"location":"Installation/Installation-Ubuntu-1804-Apache/#configure-mysql","text":"systemctl restart mysql mysql -uroot -p NOTE: Please change the 'password' below to something secure. CREATE DATABASE librenms CHARACTER SET utf8 COLLATE utf8_unicode_ci; CREATE USER 'librenms'@'localhost' IDENTIFIED BY 'password'; GRANT ALL PRIVILEGES ON librenms.* TO 'librenms'@'localhost'; FLUSH PRIVILEGES; exit vi /etc/mysql/mariadb.conf.d/50-server.cnf Within the [mysqld] section please add: innodb_file_per_table=1 lower_case_table_names=0 systemctl restart mysql","title":"Configure MySQL"},{"location":"Installation/Installation-Ubuntu-1804-Apache/#web-server","text":"","title":"Web Server"},{"location":"Installation/Installation-Ubuntu-1804-Apache/#configure-php","text":"Ensure date.timezone is set in php.ini to your preferred time zone. See http://php.net/manual/en/timezones.php for a list of supported timezones. Valid examples are: \"America/New_York\", \"Australia/Brisbane\", \"Etc/UTC\". vi /etc/php/7.2/apache2/php.ini vi /etc/php/7.2/cli/php.ini a2enmod php7.2 a2dismod mpm_event a2enmod mpm_prefork","title":"Configure PHP"},{"location":"Installation/Installation-Ubuntu-1804-Apache/#configure-apache","text":"vi /etc/apache2/sites-available/librenms.conf Add the following config, edit ServerName as required: VirtualHost *:80 DocumentRoot /opt/librenms/html/ ServerName librenms.example.com AllowEncodedSlashes NoDecode Directory /opt/librenms/html/ Require all granted AllowOverride All Options FollowSymLinks MultiViews /Directory /VirtualHost NOTE: If this is the only site you are hosting on this server (it should be :)) then you will need to disable the default site. a2dissite 000-default a2ensite librenms.conf a2enmod rewrite systemctl restart apache2","title":"Configure Apache"},{"location":"Installation/Installation-Ubuntu-1804-Apache/#configure-snmpd","text":"cp /opt/librenms/snmpd.conf.example /etc/snmp/snmpd.conf vi /etc/snmp/snmpd.conf Edit the text which says RANDOMSTRINGGOESHERE and set your own community string. curl -o /usr/bin/distro https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/distro chmod +x /usr/bin/distro systemctl restart snmpd","title":"Configure snmpd"},{"location":"Installation/Installation-Ubuntu-1804-Apache/#cron-job","text":"cp /opt/librenms/librenms.nonroot.cron /etc/cron.d/librenms","title":"Cron job"},{"location":"Installation/Installation-Ubuntu-1804-Apache/#copy-logrotate-config","text":"LibreNMS keeps logs in /opt/librenms/logs . Over time these can become large and be rotated out. To rotate out the old logs you can use the provided logrotate config file: cp /opt/librenms/misc/librenms.logrotate /etc/logrotate.d/librenms","title":"Copy logrotate config"},{"location":"Installation/Installation-Ubuntu-1804-Apache/#set-permissions","text":"chown -R librenms:librenms /opt/librenms setfacl -d -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/ setfacl -R -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/","title":"Set permissions"},{"location":"Installation/Installation-Ubuntu-1804-Apache/#web-installer","text":"Now head to the web installer and follow the on-screen instructions. http://librenms.example.com/install.php The web installer might prompt you to create a config.php file in your librenms install location manually, copying the content displayed on-screen to the file. If you have to do this, please remember to set the permissions on config.php after you copied the on-screen contents to the file. Run: chown librenms:librenms /opt/librenms/config.php","title":"Web installer"},{"location":"Installation/Installation-Ubuntu-1804-Apache/#final-steps","text":"That's it! You now should be able to log in to http://librenms.example.com/. Please note that we have not covered HTTPS setup in this example, so your LibreNMS install is not secure by default. Please do not expose it to the public Internet unless you have configured HTTPS and taken appropriate web server hardening steps.","title":"Final steps"},{"location":"Installation/Installation-Ubuntu-1804-Apache/#add-the-first-device","text":"We now suggest that you add localhost as your first device from within the WebUI.","title":"Add the first device"},{"location":"Installation/Installation-Ubuntu-1804-Apache/#troubleshooting","text":"If you ever have issues with your install, run validate.php as root in the librenms directory: cd /opt/librenms ./validate.php There are various options for getting help listed on the LibreNMS web site: https://www.librenms.org/#support","title":"Troubleshooting"},{"location":"Installation/Installation-Ubuntu-1804-Apache/#what-next","text":"Now that you've installed LibreNMS, we'd suggest that you have a read of a few other docs to get you going: Performance tuning Alerting Device Groups Auto discovery","title":"What next?"},{"location":"Installation/Installation-Ubuntu-1804-Apache/#closing","text":"We hope you enjoy using LibreNMS. If you do, it would be great if you would consider opting into the stats system we have, please see this page on what it is and how to enable it. If you would like to help make LibreNMS better there are many ways to help . You can also back LibreNMS on Open Collective .","title":"Closing"},{"location":"Installation/Installation-Ubuntu-1804-Nginx/","text":"NOTE: These instructions assume you are the root user. If you are not, prepend sudo to the shell commands (the ones that aren't at mysql prompts) or temporarily become a user with root privileges with sudo -s or sudo -i . Please note the minimum supported PHP version is 5.6.4 Install Required Packages add-apt-repository universe apt update apt install curl composer fping git graphviz imagemagick mariadb-client mariadb-server mtr-tiny nginx-full nmap php7.2-cli php7.2-curl php7.2-fpm php7.2-gd php7.2-json php7.2-mbstring php7.2-mysql php7.2-snmp php7.2-xml php7.2-zip python-memcache python-mysqldb rrdtool snmp snmpd whois Add librenms user useradd librenms -d /opt/librenms -M -r usermod -a -G librenms www-data Install LibreNMS cd /opt composer create-project --no-dev --keep-vcs librenms/librenms librenms dev-master DB Server Configure MySQL systemctl restart mysql mysql -uroot -p NOTE: Please change the 'password' below to something secure. CREATE DATABASE librenms CHARACTER SET utf8 COLLATE utf8_unicode_ci; CREATE USER 'librenms'@'localhost' IDENTIFIED BY 'password'; GRANT ALL PRIVILEGES ON librenms.* TO 'librenms'@'localhost'; FLUSH PRIVILEGES; exit vi /etc/mysql/mariadb.conf.d/50-server.cnf Within the [mysqld] section please add: innodb_file_per_table=1 lower_case_table_names=0 systemctl restart mysql Web Server Configure and Start PHP-FPM Ensure date.timezone is set in php.ini to your preferred time zone. See http://php.net/manual/en/timezones.php for a list of supported timezones. Valid examples are: \"America/New_York\", \"Australia/Brisbane\", \"Etc/UTC\". vi /etc/php/7.2/fpm/php.ini vi /etc/php/7.2/cli/php.ini systemctl restart php7.2-fpm Configure NGINX vi /etc/nginx/conf.d/librenms.conf Add the following config, edit server_name as required: server { listen 80; server_name librenms.example.com; root /opt/librenms/html; index index.php; charset utf-8; gzip on; gzip_types text/css application/javascript text/javascript application/x-javascript image/svg+xml text/plain text/xsd text/xsl text/xml image/x-icon; location / { try_files $uri $uri/ /index.php?$query_string; } location /api/v0 { try_files $uri $uri/ /api_v0.php?$query_string; } location ~ \\.php { include fastcgi.conf; fastcgi_split_path_info ^(.+\\.php)(/.+)$; fastcgi_pass unix:/var/run/php/php7.2-fpm.sock; } location ~ /\\.ht { deny all; } } rm /etc/nginx/sites-enabled/default systemctl restart nginx Configure snmpd cp /opt/librenms/snmpd.conf.example /etc/snmp/snmpd.conf vi /etc/snmp/snmpd.conf Edit the text which says RANDOMSTRINGGOESHERE and set your own community string. curl -o /usr/bin/distro https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/distro chmod +x /usr/bin/distro systemctl restart snmpd Cron job cp /opt/librenms/librenms.nonroot.cron /etc/cron.d/librenms Copy logrotate config LibreNMS keeps logs in /opt/librenms/logs . Over time these can become large and be rotated out. To rotate out the old logs you can use the provided logrotate config file: cp /opt/librenms/misc/librenms.logrotate /etc/logrotate.d/librenms Set permissions chown -R librenms:librenms /opt/librenms setfacl -d -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/ setfacl -R -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/ Web installer Now head to the web installer and follow the on-screen instructions. http://librenms.example.com/install.php The web installer might prompt you to create a config.php file in your librenms install location manually, copying the content displayed on-screen to the file. If you have to do this, please remember to set the permissions on config.php after you copied the on-screen contents to the file. Run: chown librenms:librenms /opt/librenms/config.php Final steps That's it! You now should be able to log in to http://librenms.example.com/. Please note that we have not covered HTTPS setup in this example, so your LibreNMS install is not secure by default. Please do not expose it to the public Internet unless you have configured HTTPS and taken appropriate web server hardening steps. Add the first device We now suggest that you add localhost as your first device from within the WebUI. Troubleshooting If you ever have issues with your install, run validate.php as root in the librenms directory: cd /opt/librenms ./validate.php There are various options for getting help listed on the LibreNMS web site: https://www.librenms.org/#support What next? Now that you've installed LibreNMS, we'd suggest that you have a read of a few other docs to get you going: Performance tuning Alerting Device Groups Auto discovery Closing We hope you enjoy using LibreNMS. If you do, it would be great if you would consider opting into the stats system we have, please see this page on what it is and how to enable it. If you would like to help make LibreNMS better there are many ways to help . You can also back LibreNMS on Open Collective .","title":"Ubuntu 18.04 (Nginx)"},{"location":"Installation/Installation-Ubuntu-1804-Nginx/#install-required-packages","text":"add-apt-repository universe apt update apt install curl composer fping git graphviz imagemagick mariadb-client mariadb-server mtr-tiny nginx-full nmap php7.2-cli php7.2-curl php7.2-fpm php7.2-gd php7.2-json php7.2-mbstring php7.2-mysql php7.2-snmp php7.2-xml php7.2-zip python-memcache python-mysqldb rrdtool snmp snmpd whois","title":"Install Required Packages"},{"location":"Installation/Installation-Ubuntu-1804-Nginx/#add-librenms-user","text":"useradd librenms -d /opt/librenms -M -r usermod -a -G librenms www-data","title":"Add librenms user"},{"location":"Installation/Installation-Ubuntu-1804-Nginx/#install-librenms","text":"cd /opt composer create-project --no-dev --keep-vcs librenms/librenms librenms dev-master","title":"Install LibreNMS"},{"location":"Installation/Installation-Ubuntu-1804-Nginx/#db-server","text":"","title":"DB Server"},{"location":"Installation/Installation-Ubuntu-1804-Nginx/#configure-mysql","text":"systemctl restart mysql mysql -uroot -p NOTE: Please change the 'password' below to something secure. CREATE DATABASE librenms CHARACTER SET utf8 COLLATE utf8_unicode_ci; CREATE USER 'librenms'@'localhost' IDENTIFIED BY 'password'; GRANT ALL PRIVILEGES ON librenms.* TO 'librenms'@'localhost'; FLUSH PRIVILEGES; exit vi /etc/mysql/mariadb.conf.d/50-server.cnf Within the [mysqld] section please add: innodb_file_per_table=1 lower_case_table_names=0 systemctl restart mysql","title":"Configure MySQL"},{"location":"Installation/Installation-Ubuntu-1804-Nginx/#web-server","text":"","title":"Web Server"},{"location":"Installation/Installation-Ubuntu-1804-Nginx/#configure-and-start-php-fpm","text":"Ensure date.timezone is set in php.ini to your preferred time zone. See http://php.net/manual/en/timezones.php for a list of supported timezones. Valid examples are: \"America/New_York\", \"Australia/Brisbane\", \"Etc/UTC\". vi /etc/php/7.2/fpm/php.ini vi /etc/php/7.2/cli/php.ini systemctl restart php7.2-fpm","title":"Configure and Start PHP-FPM"},{"location":"Installation/Installation-Ubuntu-1804-Nginx/#configure-nginx","text":"vi /etc/nginx/conf.d/librenms.conf Add the following config, edit server_name as required: server { listen 80; server_name librenms.example.com; root /opt/librenms/html; index index.php; charset utf-8; gzip on; gzip_types text/css application/javascript text/javascript application/x-javascript image/svg+xml text/plain text/xsd text/xsl text/xml image/x-icon; location / { try_files $uri $uri/ /index.php?$query_string; } location /api/v0 { try_files $uri $uri/ /api_v0.php?$query_string; } location ~ \\.php { include fastcgi.conf; fastcgi_split_path_info ^(.+\\.php)(/.+)$; fastcgi_pass unix:/var/run/php/php7.2-fpm.sock; } location ~ /\\.ht { deny all; } } rm /etc/nginx/sites-enabled/default systemctl restart nginx","title":"Configure NGINX"},{"location":"Installation/Installation-Ubuntu-1804-Nginx/#configure-snmpd","text":"cp /opt/librenms/snmpd.conf.example /etc/snmp/snmpd.conf vi /etc/snmp/snmpd.conf Edit the text which says RANDOMSTRINGGOESHERE and set your own community string. curl -o /usr/bin/distro https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/distro chmod +x /usr/bin/distro systemctl restart snmpd","title":"Configure snmpd"},{"location":"Installation/Installation-Ubuntu-1804-Nginx/#cron-job","text":"cp /opt/librenms/librenms.nonroot.cron /etc/cron.d/librenms","title":"Cron job"},{"location":"Installation/Installation-Ubuntu-1804-Nginx/#copy-logrotate-config","text":"LibreNMS keeps logs in /opt/librenms/logs . Over time these can become large and be rotated out. To rotate out the old logs you can use the provided logrotate config file: cp /opt/librenms/misc/librenms.logrotate /etc/logrotate.d/librenms","title":"Copy logrotate config"},{"location":"Installation/Installation-Ubuntu-1804-Nginx/#set-permissions","text":"chown -R librenms:librenms /opt/librenms setfacl -d -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/ setfacl -R -m g::rwx /opt/librenms/rrd /opt/librenms/logs /opt/librenms/bootstrap/cache/ /opt/librenms/storage/","title":"Set permissions"},{"location":"Installation/Installation-Ubuntu-1804-Nginx/#web-installer","text":"Now head to the web installer and follow the on-screen instructions. http://librenms.example.com/install.php The web installer might prompt you to create a config.php file in your librenms install location manually, copying the content displayed on-screen to the file. If you have to do this, please remember to set the permissions on config.php after you copied the on-screen contents to the file. Run: chown librenms:librenms /opt/librenms/config.php","title":"Web installer"},{"location":"Installation/Installation-Ubuntu-1804-Nginx/#final-steps","text":"That's it! You now should be able to log in to http://librenms.example.com/. Please note that we have not covered HTTPS setup in this example, so your LibreNMS install is not secure by default. Please do not expose it to the public Internet unless you have configured HTTPS and taken appropriate web server hardening steps.","title":"Final steps"},{"location":"Installation/Installation-Ubuntu-1804-Nginx/#add-the-first-device","text":"We now suggest that you add localhost as your first device from within the WebUI.","title":"Add the first device"},{"location":"Installation/Installation-Ubuntu-1804-Nginx/#troubleshooting","text":"If you ever have issues with your install, run validate.php as root in the librenms directory: cd /opt/librenms ./validate.php There are various options for getting help listed on the LibreNMS web site: https://www.librenms.org/#support","title":"Troubleshooting"},{"location":"Installation/Installation-Ubuntu-1804-Nginx/#what-next","text":"Now that you've installed LibreNMS, we'd suggest that you have a read of a few other docs to get you going: Performance tuning Alerting Device Groups Auto discovery","title":"What next?"},{"location":"Installation/Installation-Ubuntu-1804-Nginx/#closing","text":"We hope you enjoy using LibreNMS. If you do, it would be great if you would consider opting into the stats system we have, please see this page on what it is and how to enable it. If you would like to help make LibreNMS better there are many ways to help . You can also back LibreNMS on Open Collective .","title":"Closing"},{"location":"Installation/Installing-LibreNMS/","text":"","title":"Installing LibreNMS"},{"location":"Installation/Migrating-from-Observium/","text":"A LibreNMS user, Dan , has kindly provided full details and scripts to be able to migrate from Observium to LibreNMS. See his blog for full details. We have mirrored the scripts he's provided with consent, these are available in the scripts\\Migration folder of your installation..","title":"Migrating from Observium"},{"location":"Installation/Ubuntu-image/","text":"NOTE: We highly advise that you change all passwords on this image when you deploy it!! NOTE: Read the above note again! We have available for download a pre-built image based on Ubuntu 16.04 LTS. Details of the image are below: The image is built with VirtualBox, a vmdk is provided along with an ova which was exported using OFV 1.0 version. These should be supported in VMWare Fusion, Workstation, Player and VirtualBox. NOTE: It's highly recommended that you update by doing the following. cd /opt/librenms ./daily.sh Any issues and or help with these images should be reported via Community Fourm or our Discord server Setup UK Keyboard Etc/UTC Timezone LVM for disk setup 4 Poller Wrapper threads Software PHP 7 MariaDB Syslog-ng Features Oxidized install but not configured Weathermap plugin enabled Billing enabled RRDCached enabled Service checks enabled Syslog enabled Download OVA Image - 1.6G md5sum: 18c13c521aa5a6f5e96be2641324a626 sha256sum: 78c09dcd441633ea633118fbc51090e032257752b1f0698fcd084b2b025b6343 VMDK Image - 4.0G md5sum: fc072de8ee6c95ccee1a7a4cd8d08f4c sha256sum: 36a2252a6f6f7a3a8d7b5e2fda00eb7949a8d9d1fb637a440773aac5ebf838f3 Credentials Please note the second character of the SSH password is a CAPITAL EYE SSH username: librenms password: CIne3fwdfds Please note the second character of the SSH password is a CAPITAL EYE MySQL/MariaDB username: root password: NIfceu3fqfd username: librenms password: D42nf23rewD WebUI username: librenms password: D32fwefwef","title":"Ubuntu VM Image"},{"location":"Installation/Ubuntu-image/#setup","text":"UK Keyboard Etc/UTC Timezone LVM for disk setup 4 Poller Wrapper threads","title":"Setup"},{"location":"Installation/Ubuntu-image/#software","text":"PHP 7 MariaDB Syslog-ng","title":"Software"},{"location":"Installation/Ubuntu-image/#features","text":"Oxidized install but not configured Weathermap plugin enabled Billing enabled RRDCached enabled Service checks enabled Syslog enabled","title":"Features"},{"location":"Installation/Ubuntu-image/#download","text":"OVA Image - 1.6G md5sum: 18c13c521aa5a6f5e96be2641324a626 sha256sum: 78c09dcd441633ea633118fbc51090e032257752b1f0698fcd084b2b025b6343 VMDK Image - 4.0G md5sum: fc072de8ee6c95ccee1a7a4cd8d08f4c sha256sum: 36a2252a6f6f7a3a8d7b5e2fda00eb7949a8d9d1fb637a440773aac5ebf838f3","title":"Download"},{"location":"Installation/Ubuntu-image/#credentials","text":"Please note the second character of the SSH password is a CAPITAL EYE SSH username: librenms password: CIne3fwdfds Please note the second character of the SSH password is a CAPITAL EYE MySQL/MariaDB username: root password: NIfceu3fqfd username: librenms password: D42nf23rewD WebUI username: librenms password: D32fwefwef","title":"Credentials"},{"location":"Support/","text":"How to get Help Browse through the navigation on the left Search in the upper right Check the frequently asked questions Additional Support We have a few methods for you to get in touch to ask for help. Community Forum - Ask for Help - Feature Requests Discord Active chat and discussion Bug Reports","title":"How to get help"},{"location":"Support/#how-to-get-help","text":"Browse through the navigation on the left Search in the upper right Check the frequently asked questions","title":"How to get Help"},{"location":"Support/#additional-support","text":"We have a few methods for you to get in touch to ask for help. Community Forum - Ask for Help - Feature Requests Discord Active chat and discussion Bug Reports","title":"Additional Support"},{"location":"Support/1-Minute-Polling/","text":"Information We now have support for polling data at intervals to fit your needs. Please be aware of the following: You must also change your cron entry for poller-wrapper.py for this to work (if you change from the default 300 seconds). Your polling MUST complete in the time you configure for the heartbeat step value. See /pollers/tab=pollers/ in your WebUI for your current value. This will only affect RRD files created from the moment you change your settings. This change will affect all data storage mechanisms such as MySQL, RRD and InfluxDB. If you decrease the values then please be aware of the increase in space use for MySQL and InfluxDB. It's highly recommended to configure some performance optimizations . Keep in mind that all your devices will write all graphs every minute to the disk and that every device has many graphs. The most important thing is probably the RRDCached configuration that can save a lot of write IOPS. To make the changes, please navigate to /settings/sub=external/ within your WebUI. Select RRDTool Setup and then update the two values for step and heartbeat intervals: Step is how often you want to insert data, so if you change to 1 minute polling then this should be 60. Heartbeat is how long to wait for data before registering a null value, i.e 120 seconds. Converting existing RRD files We provide a basic script to convert the default rrd files we generate to utilise your configured step and heartbeat values. Please do ensure that you backup your RRD files before running this just in case. The script runs on a per device basis or all devices at once. The rrd files must be accessible from the server you run this script from. ./scripts/rrdstep.php This will provide the help information. To run it for localhost just run: ./scripts/rrdstep.php -h localhost","title":"1 Minute Polling"},{"location":"Support/1-Minute-Polling/#information","text":"We now have support for polling data at intervals to fit your needs. Please be aware of the following: You must also change your cron entry for poller-wrapper.py for this to work (if you change from the default 300 seconds). Your polling MUST complete in the time you configure for the heartbeat step value. See /pollers/tab=pollers/ in your WebUI for your current value. This will only affect RRD files created from the moment you change your settings. This change will affect all data storage mechanisms such as MySQL, RRD and InfluxDB. If you decrease the values then please be aware of the increase in space use for MySQL and InfluxDB. It's highly recommended to configure some performance optimizations . Keep in mind that all your devices will write all graphs every minute to the disk and that every device has many graphs. The most important thing is probably the RRDCached configuration that can save a lot of write IOPS. To make the changes, please navigate to /settings/sub=external/ within your WebUI. Select RRDTool Setup and then update the two values for step and heartbeat intervals: Step is how often you want to insert data, so if you change to 1 minute polling then this should be 60. Heartbeat is how long to wait for data before registering a null value, i.e 120 seconds.","title":"Information"},{"location":"Support/1-Minute-Polling/#converting-existing-rrd-files","text":"We provide a basic script to convert the default rrd files we generate to utilise your configured step and heartbeat values. Please do ensure that you backup your RRD files before running this just in case. The script runs on a per device basis or all devices at once. The rrd files must be accessible from the server you run this script from. ./scripts/rrdstep.php This will provide the help information. To run it for localhost just run: ./scripts/rrdstep.php -h localhost","title":"Converting existing RRD files"},{"location":"Support/Adding-a-Device/","text":"Adding Device You have two options for adding a new device into LibreNMS. You can add a device via the cli or by using the WebUI . CLI Using the command line via ssh you can add a new device by changing to the directory of your LibreNMS install and typing (be sure to put the correct details). ./addhost.php yourhostname [community] [v1|v2c] [port] [udp|udp6|tcp|tcp6] As an example, if your device with the name mydevice.example.com is configured to use the community my_company using snmp v2c then you would enter: ./addhost.php mydevice.example.com my_company v2c Please note that if the community contains special characters such as $ then you will need to wrap it in ' . I.e: 'Pa$$w0rd' . WebUI Using the web interface, go to Devices and click Add Device. Enter the details required for the device that you want to add and then click 'Add Host'. As an example, if your device is configured to use the community my_company using snmp v2c then you would enter: SNMP Port defaults to 161 Ping Only Device You can add ping only devices into LibreNMS through the WebUI. When adding the device switch the SNMP button to \"off\". Device will be added into LibreNMS as Ping Only Device and will show ICMP Response Graph. Hostname: IP address or DNS name. Hardware: Optional you can type in whatever you like. OS: Optional this will add the Device's OS Icon. How to add ping only devices If you would like to add devices automatically then you will probably want to read the Auto-discovery Setup guide. You may also want to add devices programatically, if so, take a look at our API documentation","title":"Adding a device"},{"location":"Support/Adding-a-Device/#adding-device","text":"You have two options for adding a new device into LibreNMS. You can add a device via the cli or by using the WebUI .","title":"Adding Device"},{"location":"Support/Adding-a-Device/#cli","text":"Using the command line via ssh you can add a new device by changing to the directory of your LibreNMS install and typing (be sure to put the correct details). ./addhost.php yourhostname [community] [v1|v2c] [port] [udp|udp6|tcp|tcp6] As an example, if your device with the name mydevice.example.com is configured to use the community my_company using snmp v2c then you would enter: ./addhost.php mydevice.example.com my_company v2c Please note that if the community contains special characters such as $ then you will need to wrap it in ' . I.e: 'Pa$$w0rd' .","title":"CLI"},{"location":"Support/Adding-a-Device/#webui","text":"Using the web interface, go to Devices and click Add Device. Enter the details required for the device that you want to add and then click 'Add Host'. As an example, if your device is configured to use the community my_company using snmp v2c then you would enter: SNMP Port defaults to 161","title":"WebUI"},{"location":"Support/Adding-a-Device/#ping-only-device","text":"You can add ping only devices into LibreNMS through the WebUI. When adding the device switch the SNMP button to \"off\". Device will be added into LibreNMS as Ping Only Device and will show ICMP Response Graph. Hostname: IP address or DNS name. Hardware: Optional you can type in whatever you like. OS: Optional this will add the Device's OS Icon. How to add ping only devices If you would like to add devices automatically then you will probably want to read the Auto-discovery Setup guide. You may also want to add devices programatically, if so, take a look at our API documentation","title":"Ping Only Device"},{"location":"Support/CLI-Tools/","text":"Command line tools Here's a brief list of command line tools, some might be missing. If you think something is missing, feel free to ask us or send a pull request :-) purge-ports.php This script provides CLI access to the \"delete port\" function of the WebUI. This might come in handy when trying to clean up old ports after large changes within the network or when hacking on the poller/discovery functions. LibreNMS Port purge tool -p port_id Purge single port by it's port-id -f file Purge a list of ports, read port-ids from _file_, one on each line A filename of - means reading from STDIN. Querying port IDs from the database One simple way to obtain port IDs is by querying the SQL database. If you wanted to query all deleted ports from the database, you could to this with the following query: echo 'SELECT port_id, hostname, ifDescr FROM ports, devices WHERE devices.device_id = ports.device_id AND deleted = 1' | mysql -h your_DB_server -u your_DB_user -p --skip-column-names your_DB_name When you are sure that the list of ports is correct and you want to delete all of them, you can write the list into a file and call purge-ports.php with that file as input: echo 'SELECT port_id FROM ports, devices WHERE devices.device_id = ports.device_id AND deleted = 1' | mysql -h your_DB_server -u your_DB_user -p --skip-column-names your_DB_name ports_to_delete ./purge-ports.php -f ports_to_delete","title":"CLI Scripts"},{"location":"Support/CLI-Tools/#command-line-tools","text":"Here's a brief list of command line tools, some might be missing. If you think something is missing, feel free to ask us or send a pull request :-)","title":"Command line tools"},{"location":"Support/CLI-Tools/#purge-portsphp","text":"This script provides CLI access to the \"delete port\" function of the WebUI. This might come in handy when trying to clean up old ports after large changes within the network or when hacking on the poller/discovery functions. LibreNMS Port purge tool -p port_id Purge single port by it's port-id -f file Purge a list of ports, read port-ids from _file_, one on each line A filename of - means reading from STDIN.","title":"purge-ports.php"},{"location":"Support/CLI-Tools/#querying-port-ids-from-the-database","text":"One simple way to obtain port IDs is by querying the SQL database. If you wanted to query all deleted ports from the database, you could to this with the following query: echo 'SELECT port_id, hostname, ifDescr FROM ports, devices WHERE devices.device_id = ports.device_id AND deleted = 1' | mysql -h your_DB_server -u your_DB_user -p --skip-column-names your_DB_name When you are sure that the list of ports is correct and you want to delete all of them, you can write the list into a file and call purge-ports.php with that file as input: echo 'SELECT port_id FROM ports, devices WHERE devices.device_id = ports.device_id AND deleted = 1' | mysql -h your_DB_server -u your_DB_user -p --skip-column-names your_DB_name ports_to_delete ./purge-ports.php -f ports_to_delete","title":"Querying port IDs from the database"},{"location":"Support/Cleanup-options/","text":"Cleanup Options As the number of devices starts to grow in your LibreNMS install, so will things such as the RRD files, MySQL database containing eventlogs, Syslogs and performance data etc. Your LibreNMS install could become quite large so it becomes necessary to clean up those entries. With Cleanup Options, you can keep in crontrol. These options rely on daily.sh running from cron as per the installation instructions. Cleanup Options are set in config.php $config['syslog_purge'] = 30; $config['eventlog_purge'] = 30; $config['authlog_purge'] = 30; $config['perf_times_purge'] = 30; $config['device_perf_purge'] = 7; $config['rrd_purge'] = 90;// Not set by default $config['ports_purge'] = true;// Set to false by default These options will ensure data within LibreNMS over X days old is automatically purged. You can alter these individually, values are in days. NOTE : Please be aware that $config['rrd_purge'] is NOT set by default. This option will remove any rrd files that have not been updated for the set amount of days automatically - only enable this if you are comfortable with that happening. (all active rrd files are updated every polling period) Ports Purge Over time as you add devices some interfaces will need to be purged as they are set to be ignored or bad interfaces or marked as deleted. You can purge all deleted ports from the WebUI (see below) or by setting $config['ports_purge'] = true; in config.php In the Web UI Under the Ports Tab in the Nav Bar, Click on \"Deleted\" then click on \"Purge all deleted\". This will purge all the ports.","title":"Cleanup Options"},{"location":"Support/Cleanup-options/#cleanup-options","text":"As the number of devices starts to grow in your LibreNMS install, so will things such as the RRD files, MySQL database containing eventlogs, Syslogs and performance data etc. Your LibreNMS install could become quite large so it becomes necessary to clean up those entries. With Cleanup Options, you can keep in crontrol. These options rely on daily.sh running from cron as per the installation instructions. Cleanup Options are set in config.php $config['syslog_purge'] = 30; $config['eventlog_purge'] = 30; $config['authlog_purge'] = 30; $config['perf_times_purge'] = 30; $config['device_perf_purge'] = 7; $config['rrd_purge'] = 90;// Not set by default $config['ports_purge'] = true;// Set to false by default These options will ensure data within LibreNMS over X days old is automatically purged. You can alter these individually, values are in days. NOTE : Please be aware that $config['rrd_purge'] is NOT set by default. This option will remove any rrd files that have not been updated for the set amount of days automatically - only enable this if you are comfortable with that happening. (all active rrd files are updated every polling period)","title":"Cleanup Options"},{"location":"Support/Cleanup-options/#ports-purge","text":"Over time as you add devices some interfaces will need to be purged as they are set to be ignored or bad interfaces or marked as deleted. You can purge all deleted ports from the WebUI (see below) or by setting $config['ports_purge'] = true; in config.php In the Web UI Under the Ports Tab in the Nav Bar, Click on \"Deleted\" then click on \"Purge all deleted\". This will purge all the ports.","title":"Ports Purge"},{"location":"Support/Configuration/","text":"The options shown below also contain the default values. If you would like to alter any of these then please add your config option to config.php . Directories $config['install_dir'] = /opt/librenms ; Set the installation directory (defaults to /opt/librenms), if you clone the GitHub branch to another location ensure you alter this. $config['temp_dir'] = /tmp ; The temporary directory is where images and other temporary files are created on your filesystem. $config['log_dir'] = /opt/librenms/logs ; Log files created by LibreNMS will be stored within this directory. Database config These are the configuration options you will need to use to specify to get started. $config['db_host'] = '127.0.0.1'; $config['db_port'] = 3306; $config['db_user'] = ''; $config['db_pass'] = ''; $config['db_name'] = ''; If you use a unix socket, you can specify it with these options: $config['db_host'] = NULL; $config['db_port'] = NULL; $config['db_socket'] = '/run/mysqld/mysqld.sock'; Core PHP Settings You can change the memory limits for php within config.php . The value is in Megabytes and should just be an int value: $config['php_memory_limit'] = 128; Programs A lot of these are self explanatory so no further information may be provided. Any extensions that have dedicated documentation page will be linked to rather than having the config provided. RRDTool You can configure these options within the WebUI now, please avoid setting these options within config.php Settings - External Settings - RRDTool Setup $config['rrdtool'] = /usr/bin/rrdtool ; Please see 1 Minute polling for information on configuring your install to record data more frequently. fping $config['fping'] = /usr/bin/fping ; $config['fping6'] = fping6 ; $config['fping_options']['timeout'] = 500; $config['fping_options']['count'] = 3; $config['fping_options']['interval'] = 500; fping configuration options: timeout ( fping parameter -t ): Amount of time that fping waits for a response to its first request (in milliseconds). See note below count ( fping parameter -c ): Number of request packets to send to each target. interval ( fping parameter -p ): Time in milliseconds that fping waits between successive packets to an individual target. NOTE: Setting a higher timeout value than the interval value can lead to slowing down poller. Example: timeout: 3000 count: 3 interval: 500 In this example, interval will be overwritten by the timeout value of 3000 which is 3 seconds. As we send three icmp packets (count: 3), each one is delayed by 3 seconds which will result in fping taking 6 seconds to return results. You can disable the fping / icmp check that is done for a device to be determined to be up on a global or per device basis. We don't advise disabling the fping / icmp check unless you know the impact, at worst if you have a large number of devices down then it's possible that the poller would no longer complete in 5 minutes due to waiting for snmp to timeout. Globally disable fping / icmp check: $config['icmp_check'] = false; If you would like to do this on a per device basis then you can do so under Device - Edit - Misc - Disable ICMP Test? On SNMP $config['snmpwalk'] = /usr/bin/snmpwalk ; $config['snmpget'] = /usr/bin/snmpget ; $config['snmpbulkwalk'] = /usr/bin/snmpbulkwalk ; SNMP program locations. $config['whois'] = /usr/bin/whois ; $config['ping'] = /bin/ping ; $config['mtr'] = /usr/bin/mtr ; $config['nmap'] = /usr/bin/nmap ; $config['nagios_plugins'] = /usr/lib/nagios/plugins ; $config['ipmitool'] = /usr/bin/ipmitool ; $config['virsh'] = /usr/bin/virsh ; $config['dot'] = /usr/bin/dot ; $config['unflatten'] = /usr/bin/unflatten ; $config['neato'] = /usr/bin/neato ; $config['sfdp'] = /usr/bin/sfdp ; Proxy support For alerting and the callback functionality, we support the use of a http proxy setting. These can be any one of the following: $config['callback_proxy'] = 'proxy.domain.com'; $config['http_proxy'] = 'proxy.domain.com'; We can also make use of one of these environment variables which can be set in /etc/environment : http_proxy=proxy.domain.com https_proxy=proxy.domain.com RRDCached RRDCached WebUI Settings $config['base_url'] = http://demo.librenms.org ; LibreNMS will attempt to detect the URL you are using but you can override that here. $config['site_style'] = light ; Currently we have a number of styles which can be set which will alter the navigation bar look. dark, light and mono with light being the default. $config['webui']['custom_css'][] = css/custom/styles.css ; You can override a large number of visual elements by creating your own css stylesheet and referencing it here, place any custom css files into html/css/custom so they will be ignored by auto updates. You can specify as many css files as you like, the order they are within your config will be the order they are loaded in the browser. $config['title_image'] = images/custom/yourlogo.png ; You can override the default logo with yours, place any custom images files into html/images/custom so they will be ignored by auto updates. $config['page_refresh'] = 300 ; Set how often pages are refreshed in seconds. The default is every 5 minutes. Some pages don't refresh at all by design. $config['front_page'] = pages/front/default.php ; $config['front_page_settings']['top']['ports'] = 10; $config['front_page_settings']['top']['devices'] = 10; $config['front_page_down_box_limit'] = 10; $config['vertical_summary'] = 0; // Enable to use vertical summary on front page instead of horizontal $config['top_ports'] = 1; // This enables the top X ports box $config['top_devices'] = 1; // This enables the top X devices box A number of home pages are provided within the install and can be found in html/pages/front/. You can change the default by setting front_page . The other options are used to alter the look of those pages that support it (default.php supports these options). // This option exists in the web UI, edit it under Global Settings - webui $config['webui']['default_dashboard_id'] = 0; Allows the specification of a global default dashboard page for any user who has not set one in their user preferences. Should be set to dashboard_id of an existing dashboard that is shared or shared(read). Otherwise, the system will automatically create each user an empty dashboard called Default on their first login. $config['login_message'] = Unauthorised access or use shall render the user liable to criminal and/or civil prosecution. ; This is the default message on the login page displayed to users. $config['public_status'] = false; If this is set to true then an overview will be shown on the login page of devices and the status. $config['show_locations'] = 1; # Enable Locations on menu $config['show_locations_dropdown'] = 1; # Enable Locations dropdown on menu $config['show_services'] = 0; # Enable Services on menu $config['int_customers'] = 1; # Enable Customer Port Parsing $config['summary_errors'] = 0; # Show Errored ports in summary boxes on the dashboard $config['customers_descr'] = 'cust'; // The description to look for in ifDescr. Can be an array as well array('cust','cid'); $config['transit_descr'] = 'transit'; // Add custom transit descriptions (can be an array) $config['peering_descr'] = 'peering'; // Add custom peering descriptions (can be an array) $config['core_descr'] = 'core'; // Add custom core descriptions (can be an array) $config['custom_descr'] = ''; // Add custom interface descriptions (can be an array) $config['int_transit'] = 1; # Enable Transit Types $config['int_peering'] = 1; # Enable Peering Types $config['int_core'] = 1; # Enable Core Port Types $config['int_l2tp'] = 0; # Enable L2TP Port Types Enable / disable certain menus from being shown in the WebUI. You are able to adjust the number and time frames of the quick select time options for graphs and the mini graphs shown per row. Quick select: $config['graphs']['mini']['normal'] = array( 'day' = '24 Hours', 'week' = 'One Week', 'month' = 'One Month', 'year' = 'One Year', ); $config['graphs']['mini']['widescreen'] = array( 'sixhour' = '6 Hours', 'day' = '24 Hours', 'twoday' = '48 Hours', 'week' = 'One Week', 'twoweek' = 'Two Weeks', 'month' = 'One Month', 'twomonth' = 'Two Months', 'year' = 'One Year', 'twoyear' = 'Two Years', ); Mini graphs: $config['graphs']['row']['normal'] = array( 'sixhour' = '6 Hours', 'day' = '24 Hours', 'twoday' = '48 Hours', 'week' = 'One Week', 'twoweek' = 'Two Weeks', 'month' = 'One Month', 'twomonth' = 'Two Months', 'year' = 'One Year', 'twoyear' = 'Two Years', ); $config['web_mouseover'] = true; You can disable the mouseover popover for mini graphs by setting this to false. $config['enable_lazy_load'] = true; You can disable image lazy loading by setting this to false. $config['show_overview_tab'] = true; Enable or disable the overview tab for a device. $config['overview_show_sysDescr'] = true; Enable or disable the sysDescr output for a device. $config['force_ip_to_sysname'] = false; When using IP addresses as a hostname you can instead represent the devices on the WebUI by its SNMP sysName resulting in an easier to read overview of your network. This would apply on networks where you don't have DNS records for most of your devices. $config['force_hostname_to_sysname'] = false; When using a dynamic DNS hostname or one that does not resolve, this option would allow you to make use of the SNMP sysName instead as the preferred reference to the device. $config['device_traffic_iftype'][] = '/loopback/'; Interface types that aren't graphed in the WebUI. The default array contains more items, please see includes/defaults.inc.php for the full list. $config['enable_clear_discovery'] = 1; Administrators are able to clear the last discovered time of a device which will force a full discovery run within the configured 5 minute cron window. $config['enable_footer'] = 1; Disable the footer of the WebUI by setting enable_footer to 0. You can enable the old style network map (only available for individual devices with links discovered via xDP) by setting: $config['gui']['network-map']['style'] = 'old'; $config['percentile_value'] = X; Show the X th percentile in the graph instead of the default 95th percentile. $config['shorthost_target_length'] = X; The target maximum hostname length when applying the shorthost() function. You can increase this if you want to try and fit more of the hostname in graph titles. The default value is 12 However, this can possibly break graph generation if this is very long. You can enable dynamic graphs within the WebUI under Global Settings - Webui Settings - Graph Settings. Graphs will be movable/scalable without reloading the page: Stacked Graphs You can enable stacked graphs instead of the default inverted graphs. Enabling them is possible via webui Global Settings - Webui Settings - Graph settings - Use stacked graphs Add host settings The following setting controls how hosts are added. If a host is added as an ip address it is checked to ensure the ip is not already present. If the ip is present the host is not added. If host is added by hostname this check is not performed. If the setting is true hostnames are resolved and the check is also performed. This helps prevents accidental duplicate hosts. $config['addhost_alwayscheckip'] = false; #true - check for duplicate ips even when adding host by name. #false- only check when adding host by ip. By default we allow hosts to be added with duplicate sysName's, you can disable this with the following config: $config['allow_duplicate_sysName'] = false; Global poller and discovery modules Generally, it is a better to set these per OS or device. $config['discovery_modules]['arp-table'] = true; $config['poller_modules']['bgp-peers'] = false; SNMP Settings $config['snmp']['timeout'] = 1; # timeout in seconds $config['snmp']['retries'] = 5; # how many times to retry the query $config['snmp']['transports'] = array('udp', 'udp6', 'tcp', 'tcp6'); $config['snmp']['version'] = ['v2c', 'v3', 'v1']; # Default versions to use $config['snmp']['port'] = 161; Default SNMP options including retry and timeout settings and also default version and port. $config['snmp']['community'][0] = public ; The default v1/v2c snmp community to use, you can expand this array with [1] , [2] , [3] , etc. $config['snmp']['v3'][0]['authlevel'] = noAuthNoPriv ; # noAuthNoPriv | authNoPriv | authPriv $config['snmp']['v3'][0]['authname'] = root ; # User Name (required even for noAuthNoPriv) $config['snmp']['v3'][0]['authpass'] = ; # Auth Passphrase $config['snmp']['v3'][0]['authalgo'] = MD5 ; # MD5 | SHA $config['snmp']['v3'][0]['cryptopass'] = ; # Privacy (Encryption) Passphrase $config['snmp']['v3'][0]['cryptoalgo'] = AES ; # AES | DES The default v3 snmp details to use, you can expand this array with [1] , [2] , [3] , etc. Auto discovery settings Auto-Discovery Email configuration You can configure these options within the WebUI now, please avoid setting these options within config.php $config['email_backend'] = 'mail'; $config['email_from'] = NULL; $config['email_user'] = $config['project_id']; $config['email_sendmail_path'] = '/usr/sbin/sendmail'; $config['email_smtp_host'] = 'localhost'; $config['email_smtp_port'] = 25; $config['email_smtp_timeout'] = 10; $config['email_smtp_secure'] = NULL; $config['email_smtp_auth'] = false; $config['email_smtp_username'] = NULL; $config['email_smtp_password'] = NULL; What type of mail transport to use for delivering emails. Valid options for email_backend are mail, sendmail or smtp. The varying options after that are to support the different transports. Alerting Alerting Billing Billing Global module support $config['enable_bgp'] = 1; # Enable BGP session collection and display $config['enable_syslog'] = 0; # Enable Syslog $config['enable_inventory'] = 1; # Enable Inventory $config['enable_pseudowires'] = 1; # Enable Pseudowires $config['enable_vrfs'] = 1; # Enable VRFs $config['enable_sla'] = 0; # Enable Cisco SLA collection and display Port extensions Port-Description-Parser $config['enable_ports_etherlike'] = 0; $config['enable_ports_junoseatmvp'] = 0; $config['enable_ports_adsl'] = 1; $config['enable_ports_poe'] = 0; Enable / disable additional port statistics. External integration Rancid $config['rancid_configs'][] = '/var/lib/rancid/network/configs/'; $config['rancid_repo_type'] = 'svn'; $config['rancid_ignorecomments'] = 0; Rancid configuration, rancid_configs is an array containing all of the locations of your rancid files. Setting rancid_ignorecomments will disable showing lines that start with # Oxidized Oxidized CollectD $config['collectd_dir'] = '/var/lib/collectd/rrd'; Specify the location of the collectd rrd files. Note that the location in config.php should be consistent with the location set in /etc/collectd.conf and etc/collectd.d/rrdtool.conf Plugin rrdtool DataDir /var/lib/collectd/rrd CreateFilesAsync false CacheTimeout 120 CacheFlush 900 WritesPerSecond 50 /Plugin /etc/collectd.conf LoadPlugin rrdtool Plugin rrdtool DataDir /var/lib/collectd/rrd CacheTimeout 120 CacheFlush 900 /Plugin /etc/collectd.d/rrdtool.conf $config['collectd_sock'] = 'unix:///var/run/collectd.sock'; Specify the location of the collectd unix socket. Using a socket allows the collectd graphs to be flushed to disk before being drawn. Be sure that your web server has permissions to write to this socket. Smokeping Smokeping NFSen NFSen Location mapping Exact Matching: $config['location_map']['Under the Sink'] = Under The Sink, The Office, London, UK ; Regex Matching: $config['location_map_regex']['/Sink/'] = Under The Sink, The Office, London, UK ; Regex Match Substitution: $config['location_map_regex_sub']['/Sink/'] = Under The Sink, The Office, London, UK [lat, long] ; If you have an SNMP SysLocation of \"Rack10,Rm-314,Sink\", Regex Match Substition yields \"Rack10,Rm-314,Under The Sink, The Office, London, UK [lat, long]\". This allows you to keep the SysLocation string short and keeps Rack/Room/Building information intact after the substitution. The above are examples, these will rewrite device snmp locations so you don't need to configure full location within snmp. Interfaces to be ignored Examples: $config['bad_if'][] = voip-null ; $config['bad_iftype'][] = voiceEncap ; $config['bad_if_regexp'][] = '/^lo[0-9].*/'; // loopback Numerous defaults exist for this array already (see includes/defaults.inc.php for the full list). You can expand this list by continuing the array. bad_if is matched against the ifDescr value. bad_iftype is matched against the ifType value. bad_if_regexp is matched against the ifDescr value as a regular expression. bad_ifname_regexp is matched against the ifName value as a regular expression. bad_ifalias_regexp is matched against the ifAlias value as a regular expression. Interfaces that shouldn't be ignored Examples: $config['good_if'][] = 'FastEthernet'; $config['os']['ios']['good_if'][] = 'FastEthernet'; good_if is matched against ifDescr value. This can be a bad_if value as well which would stop that port from being ignored. I.e If bad_if and good_if both contained FastEthernet then ports with this value in the ifDescr will be valid. Interfaces to be rewritten $config['rewrite_if']['cpu'] = 'Management Interface'; $config['rewrite_if_regexp']['/cpu /'] = 'Management '; Entries defined in rewrite_if are being replaced completely. Entries defined in rewrite_if_regexp only replace the match. Matches are compared case-insensitive. Entity sensors to be ignored Some devices register bogus sensors as they are returned via SNMP but either don't exist or just don't return data. This allows you to ignore those based on the descr field in the database. You can either ignore globally or on a per os basis. $config['bad_entity_sensor_regex'][] = '/Physical id [0-9]+/'; $config['os']['cisco']['bad_entity_sensor_regex'] = '/Physical id [0-9]+/'; Storage configuration $config['ignore_mount_removable'] = 1; $config['ignore_mount_network'] = 1; $config['ignore_mount_optical'] = 1; $config['ignore_mount'][] = /kern ; $config['ignore_mount'][] = /mnt/cdrom ; $config['ignore_mount'][] = /proc ; $config['ignore_mount'][] = /dev ; $config['ignore_mount_string'][] = packages ; $config['ignore_mount_string'][] = devfs ; $config['ignore_mount_string'][] = procfs ; $config['ignore_mount_string'][] = UMA ; $config['ignore_mount_string'][] = MALLOC ; $config['ignore_mount_regexp'][] = /on: \\/packages/ ; $config['ignore_mount_regexp'][] = /on: \\/dev/ ; $config['ignore_mount_regexp'][] = /on: \\/proc/ ; $config['ignore_mount_regexp'][] = /on: \\/junos^/ ; $config['ignore_mount_regexp'][] = /on: \\/junos\\/dev/ ; $config['ignore_mount_regexp'][] = /on: \\/jail\\/dev/ ; $config['ignore_mount_regexp'][] = /^(dev|proc)fs/ ; $config['ignore_mount_regexp'][] = /^\\/dev\\/md0/ ; $config['ignore_mount_regexp'][] = /^\\/var\\/dhcpd\\/dev,/ ; $config['ignore_mount_regexp'][] = /UMA/ ; Mounted storage / mount points to ignore in discovery and polling. IRC Bot IRC Bot Authentication Authentication Cleanup options These options rely on daily.sh running from cron as per the installation instructions. $config['syslog_purge'] = 30; $config['eventlog_purge'] = 30; $config['authlog_purge'] = 30; $config['perf_times_purge'] = 30; $config['device_perf_purge'] = 7; $config['rrd_purge'] = 90;// Not set by default These options will ensure data within LibreNMS over X days old is automatically purged. You can alter these individually, values are in days. NOTE: Please be aware that $config['rrd_purge'] is NOT set by default. This option will remove any old data within the rrd directory automatically - only enable this if you are comfortable with that happening. Syslog options Syslog Virtualization $config['enable_libvirt'] = 1; $config['libvirt_protocols'] = array( qemu+ssh , xen+ssh ); $config['libvirt_username'] = 'root'; Enable this to switch on support for libvirt along with libvirt_protocols to indicate how you connect to libvirt. You also need to: Generate a non-password-protected ssh key for use by LibreNMS, as the user which runs polling discovery (usually librenms ). On each VM host you wish to monitor: Configure public key authentication from your LibreNMS server/poller by adding the librenms public key to ~root/.ssh/authorized_keys . (xen+ssh only) Enable libvirtd to gather data from xend by setting (xend-unix-server yes) in /etc/xen/xend-config.sxp and restarting xend and libvirtd. To test your setup, run virsh -c qemu+ssh://vmhost/system list or virsh -c xen+ssh://vmhost list as your librenms polling user. BGP Support $config['astext']['65332'] = Cymru FullBogon Feed ; You can use this array to rewrite the description of ASes that you have discovered. Auto updates Updating IPMI Setup the types of IPMI protocols to test a host for and in what order. Don't forget to install ipmitool on the monitoring host. $config['ipmi']['type'] = array(); $config['ipmi']['type'][] = lanplus ; $config['ipmi']['type'][] = lan ; $config['ipmi']['type'][] = imb ; $config['ipmi']['type'][] = open ; Distributed poller settings Distributed Poller API Settings CORS Support https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS CORS support for the API is disabled by default. Below you will find the standard options, all of which you can configure. $config['api']['cors']['enabled'] = false; $config['api']['cors']['origin'] = '*'; $config['api']['cors']['maxage'] = '86400'; $config['api']['cors']['allowmethods'] = array('POST', 'GET', 'PUT', 'DELETE', 'PATCH'); $config['api']['cors']['allowheaders'] = array('Origin', 'X-Requested-With', 'Content-Type', 'Accept', 'X-Auth-Token');","title":"Configuration docs"},{"location":"Support/Configuration/#directories","text":"$config['install_dir'] = /opt/librenms ; Set the installation directory (defaults to /opt/librenms), if you clone the GitHub branch to another location ensure you alter this. $config['temp_dir'] = /tmp ; The temporary directory is where images and other temporary files are created on your filesystem. $config['log_dir'] = /opt/librenms/logs ; Log files created by LibreNMS will be stored within this directory.","title":"Directories"},{"location":"Support/Configuration/#database-config","text":"These are the configuration options you will need to use to specify to get started. $config['db_host'] = '127.0.0.1'; $config['db_port'] = 3306; $config['db_user'] = ''; $config['db_pass'] = ''; $config['db_name'] = ''; If you use a unix socket, you can specify it with these options: $config['db_host'] = NULL; $config['db_port'] = NULL; $config['db_socket'] = '/run/mysqld/mysqld.sock';","title":"Database config"},{"location":"Support/Configuration/#core","text":"","title":"Core"},{"location":"Support/Configuration/#php-settings","text":"You can change the memory limits for php within config.php . The value is in Megabytes and should just be an int value: $config['php_memory_limit'] = 128;","title":"PHP Settings"},{"location":"Support/Configuration/#programs","text":"A lot of these are self explanatory so no further information may be provided. Any extensions that have dedicated documentation page will be linked to rather than having the config provided.","title":"Programs"},{"location":"Support/Configuration/#rrdtool","text":"You can configure these options within the WebUI now, please avoid setting these options within config.php Settings - External Settings - RRDTool Setup $config['rrdtool'] = /usr/bin/rrdtool ; Please see 1 Minute polling for information on configuring your install to record data more frequently.","title":"RRDTool"},{"location":"Support/Configuration/#fping","text":"$config['fping'] = /usr/bin/fping ; $config['fping6'] = fping6 ; $config['fping_options']['timeout'] = 500; $config['fping_options']['count'] = 3; $config['fping_options']['interval'] = 500; fping configuration options: timeout ( fping parameter -t ): Amount of time that fping waits for a response to its first request (in milliseconds). See note below count ( fping parameter -c ): Number of request packets to send to each target. interval ( fping parameter -p ): Time in milliseconds that fping waits between successive packets to an individual target. NOTE: Setting a higher timeout value than the interval value can lead to slowing down poller. Example: timeout: 3000 count: 3 interval: 500 In this example, interval will be overwritten by the timeout value of 3000 which is 3 seconds. As we send three icmp packets (count: 3), each one is delayed by 3 seconds which will result in fping taking 6 seconds to return results. You can disable the fping / icmp check that is done for a device to be determined to be up on a global or per device basis. We don't advise disabling the fping / icmp check unless you know the impact, at worst if you have a large number of devices down then it's possible that the poller would no longer complete in 5 minutes due to waiting for snmp to timeout. Globally disable fping / icmp check: $config['icmp_check'] = false; If you would like to do this on a per device basis then you can do so under Device - Edit - Misc - Disable ICMP Test? On","title":"fping"},{"location":"Support/Configuration/#snmp","text":"$config['snmpwalk'] = /usr/bin/snmpwalk ; $config['snmpget'] = /usr/bin/snmpget ; $config['snmpbulkwalk'] = /usr/bin/snmpbulkwalk ; SNMP program locations. $config['whois'] = /usr/bin/whois ; $config['ping'] = /bin/ping ; $config['mtr'] = /usr/bin/mtr ; $config['nmap'] = /usr/bin/nmap ; $config['nagios_plugins'] = /usr/lib/nagios/plugins ; $config['ipmitool'] = /usr/bin/ipmitool ; $config['virsh'] = /usr/bin/virsh ; $config['dot'] = /usr/bin/dot ; $config['unflatten'] = /usr/bin/unflatten ; $config['neato'] = /usr/bin/neato ; $config['sfdp'] = /usr/bin/sfdp ;","title":"SNMP"},{"location":"Support/Configuration/#proxy-support","text":"For alerting and the callback functionality, we support the use of a http proxy setting. These can be any one of the following: $config['callback_proxy'] = 'proxy.domain.com'; $config['http_proxy'] = 'proxy.domain.com'; We can also make use of one of these environment variables which can be set in /etc/environment : http_proxy=proxy.domain.com https_proxy=proxy.domain.com","title":"Proxy support"},{"location":"Support/Configuration/#rrdcached","text":"RRDCached","title":"RRDCached"},{"location":"Support/Configuration/#webui-settings","text":"$config['base_url'] = http://demo.librenms.org ; LibreNMS will attempt to detect the URL you are using but you can override that here. $config['site_style'] = light ; Currently we have a number of styles which can be set which will alter the navigation bar look. dark, light and mono with light being the default. $config['webui']['custom_css'][] = css/custom/styles.css ; You can override a large number of visual elements by creating your own css stylesheet and referencing it here, place any custom css files into html/css/custom so they will be ignored by auto updates. You can specify as many css files as you like, the order they are within your config will be the order they are loaded in the browser. $config['title_image'] = images/custom/yourlogo.png ; You can override the default logo with yours, place any custom images files into html/images/custom so they will be ignored by auto updates. $config['page_refresh'] = 300 ; Set how often pages are refreshed in seconds. The default is every 5 minutes. Some pages don't refresh at all by design. $config['front_page'] = pages/front/default.php ; $config['front_page_settings']['top']['ports'] = 10; $config['front_page_settings']['top']['devices'] = 10; $config['front_page_down_box_limit'] = 10; $config['vertical_summary'] = 0; // Enable to use vertical summary on front page instead of horizontal $config['top_ports'] = 1; // This enables the top X ports box $config['top_devices'] = 1; // This enables the top X devices box A number of home pages are provided within the install and can be found in html/pages/front/. You can change the default by setting front_page . The other options are used to alter the look of those pages that support it (default.php supports these options). // This option exists in the web UI, edit it under Global Settings - webui $config['webui']['default_dashboard_id'] = 0; Allows the specification of a global default dashboard page for any user who has not set one in their user preferences. Should be set to dashboard_id of an existing dashboard that is shared or shared(read). Otherwise, the system will automatically create each user an empty dashboard called Default on their first login. $config['login_message'] = Unauthorised access or use shall render the user liable to criminal and/or civil prosecution. ; This is the default message on the login page displayed to users. $config['public_status'] = false; If this is set to true then an overview will be shown on the login page of devices and the status. $config['show_locations'] = 1; # Enable Locations on menu $config['show_locations_dropdown'] = 1; # Enable Locations dropdown on menu $config['show_services'] = 0; # Enable Services on menu $config['int_customers'] = 1; # Enable Customer Port Parsing $config['summary_errors'] = 0; # Show Errored ports in summary boxes on the dashboard $config['customers_descr'] = 'cust'; // The description to look for in ifDescr. Can be an array as well array('cust','cid'); $config['transit_descr'] = 'transit'; // Add custom transit descriptions (can be an array) $config['peering_descr'] = 'peering'; // Add custom peering descriptions (can be an array) $config['core_descr'] = 'core'; // Add custom core descriptions (can be an array) $config['custom_descr'] = ''; // Add custom interface descriptions (can be an array) $config['int_transit'] = 1; # Enable Transit Types $config['int_peering'] = 1; # Enable Peering Types $config['int_core'] = 1; # Enable Core Port Types $config['int_l2tp'] = 0; # Enable L2TP Port Types Enable / disable certain menus from being shown in the WebUI. You are able to adjust the number and time frames of the quick select time options for graphs and the mini graphs shown per row. Quick select: $config['graphs']['mini']['normal'] = array( 'day' = '24 Hours', 'week' = 'One Week', 'month' = 'One Month', 'year' = 'One Year', ); $config['graphs']['mini']['widescreen'] = array( 'sixhour' = '6 Hours', 'day' = '24 Hours', 'twoday' = '48 Hours', 'week' = 'One Week', 'twoweek' = 'Two Weeks', 'month' = 'One Month', 'twomonth' = 'Two Months', 'year' = 'One Year', 'twoyear' = 'Two Years', ); Mini graphs: $config['graphs']['row']['normal'] = array( 'sixhour' = '6 Hours', 'day' = '24 Hours', 'twoday' = '48 Hours', 'week' = 'One Week', 'twoweek' = 'Two Weeks', 'month' = 'One Month', 'twomonth' = 'Two Months', 'year' = 'One Year', 'twoyear' = 'Two Years', ); $config['web_mouseover'] = true; You can disable the mouseover popover for mini graphs by setting this to false. $config['enable_lazy_load'] = true; You can disable image lazy loading by setting this to false. $config['show_overview_tab'] = true; Enable or disable the overview tab for a device. $config['overview_show_sysDescr'] = true; Enable or disable the sysDescr output for a device. $config['force_ip_to_sysname'] = false; When using IP addresses as a hostname you can instead represent the devices on the WebUI by its SNMP sysName resulting in an easier to read overview of your network. This would apply on networks where you don't have DNS records for most of your devices. $config['force_hostname_to_sysname'] = false; When using a dynamic DNS hostname or one that does not resolve, this option would allow you to make use of the SNMP sysName instead as the preferred reference to the device. $config['device_traffic_iftype'][] = '/loopback/'; Interface types that aren't graphed in the WebUI. The default array contains more items, please see includes/defaults.inc.php for the full list. $config['enable_clear_discovery'] = 1; Administrators are able to clear the last discovered time of a device which will force a full discovery run within the configured 5 minute cron window. $config['enable_footer'] = 1; Disable the footer of the WebUI by setting enable_footer to 0. You can enable the old style network map (only available for individual devices with links discovered via xDP) by setting: $config['gui']['network-map']['style'] = 'old'; $config['percentile_value'] = X; Show the X th percentile in the graph instead of the default 95th percentile. $config['shorthost_target_length'] = X; The target maximum hostname length when applying the shorthost() function. You can increase this if you want to try and fit more of the hostname in graph titles. The default value is 12 However, this can possibly break graph generation if this is very long. You can enable dynamic graphs within the WebUI under Global Settings - Webui Settings - Graph Settings. Graphs will be movable/scalable without reloading the page:","title":"WebUI Settings"},{"location":"Support/Configuration/#stacked-graphs","text":"You can enable stacked graphs instead of the default inverted graphs. Enabling them is possible via webui Global Settings - Webui Settings - Graph settings - Use stacked graphs","title":"Stacked Graphs"},{"location":"Support/Configuration/#add-host-settings","text":"The following setting controls how hosts are added. If a host is added as an ip address it is checked to ensure the ip is not already present. If the ip is present the host is not added. If host is added by hostname this check is not performed. If the setting is true hostnames are resolved and the check is also performed. This helps prevents accidental duplicate hosts. $config['addhost_alwayscheckip'] = false; #true - check for duplicate ips even when adding host by name. #false- only check when adding host by ip. By default we allow hosts to be added with duplicate sysName's, you can disable this with the following config: $config['allow_duplicate_sysName'] = false;","title":"Add host settings"},{"location":"Support/Configuration/#global-poller-and-discovery-modules","text":"Generally, it is a better to set these per OS or device. $config['discovery_modules]['arp-table'] = true; $config['poller_modules']['bgp-peers'] = false;","title":"Global poller and discovery modules"},{"location":"Support/Configuration/#snmp-settings","text":"$config['snmp']['timeout'] = 1; # timeout in seconds $config['snmp']['retries'] = 5; # how many times to retry the query $config['snmp']['transports'] = array('udp', 'udp6', 'tcp', 'tcp6'); $config['snmp']['version'] = ['v2c', 'v3', 'v1']; # Default versions to use $config['snmp']['port'] = 161; Default SNMP options including retry and timeout settings and also default version and port. $config['snmp']['community'][0] = public ; The default v1/v2c snmp community to use, you can expand this array with [1] , [2] , [3] , etc. $config['snmp']['v3'][0]['authlevel'] = noAuthNoPriv ; # noAuthNoPriv | authNoPriv | authPriv $config['snmp']['v3'][0]['authname'] = root ; # User Name (required even for noAuthNoPriv) $config['snmp']['v3'][0]['authpass'] = ; # Auth Passphrase $config['snmp']['v3'][0]['authalgo'] = MD5 ; # MD5 | SHA $config['snmp']['v3'][0]['cryptopass'] = ; # Privacy (Encryption) Passphrase $config['snmp']['v3'][0]['cryptoalgo'] = AES ; # AES | DES The default v3 snmp details to use, you can expand this array with [1] , [2] , [3] , etc.","title":"SNMP Settings"},{"location":"Support/Configuration/#auto-discovery-settings","text":"Auto-Discovery","title":"Auto discovery settings"},{"location":"Support/Configuration/#email-configuration","text":"You can configure these options within the WebUI now, please avoid setting these options within config.php $config['email_backend'] = 'mail'; $config['email_from'] = NULL; $config['email_user'] = $config['project_id']; $config['email_sendmail_path'] = '/usr/sbin/sendmail'; $config['email_smtp_host'] = 'localhost'; $config['email_smtp_port'] = 25; $config['email_smtp_timeout'] = 10; $config['email_smtp_secure'] = NULL; $config['email_smtp_auth'] = false; $config['email_smtp_username'] = NULL; $config['email_smtp_password'] = NULL; What type of mail transport to use for delivering emails. Valid options for email_backend are mail, sendmail or smtp. The varying options after that are to support the different transports.","title":"Email configuration"},{"location":"Support/Configuration/#alerting","text":"Alerting","title":"Alerting"},{"location":"Support/Configuration/#billing","text":"Billing","title":"Billing"},{"location":"Support/Configuration/#global-module-support","text":"$config['enable_bgp'] = 1; # Enable BGP session collection and display $config['enable_syslog'] = 0; # Enable Syslog $config['enable_inventory'] = 1; # Enable Inventory $config['enable_pseudowires'] = 1; # Enable Pseudowires $config['enable_vrfs'] = 1; # Enable VRFs $config['enable_sla'] = 0; # Enable Cisco SLA collection and display","title":"Global module support"},{"location":"Support/Configuration/#port-extensions","text":"Port-Description-Parser $config['enable_ports_etherlike'] = 0; $config['enable_ports_junoseatmvp'] = 0; $config['enable_ports_adsl'] = 1; $config['enable_ports_poe'] = 0; Enable / disable additional port statistics.","title":"Port extensions"},{"location":"Support/Configuration/#external-integration","text":"","title":"External integration"},{"location":"Support/Configuration/#rancid","text":"$config['rancid_configs'][] = '/var/lib/rancid/network/configs/'; $config['rancid_repo_type'] = 'svn'; $config['rancid_ignorecomments'] = 0; Rancid configuration, rancid_configs is an array containing all of the locations of your rancid files. Setting rancid_ignorecomments will disable showing lines that start with #","title":"Rancid"},{"location":"Support/Configuration/#oxidized","text":"Oxidized","title":"Oxidized"},{"location":"Support/Configuration/#collectd","text":"$config['collectd_dir'] = '/var/lib/collectd/rrd'; Specify the location of the collectd rrd files. Note that the location in config.php should be consistent with the location set in /etc/collectd.conf and etc/collectd.d/rrdtool.conf Plugin rrdtool DataDir /var/lib/collectd/rrd CreateFilesAsync false CacheTimeout 120 CacheFlush 900 WritesPerSecond 50 /Plugin /etc/collectd.conf LoadPlugin rrdtool Plugin rrdtool DataDir /var/lib/collectd/rrd CacheTimeout 120 CacheFlush 900 /Plugin /etc/collectd.d/rrdtool.conf $config['collectd_sock'] = 'unix:///var/run/collectd.sock'; Specify the location of the collectd unix socket. Using a socket allows the collectd graphs to be flushed to disk before being drawn. Be sure that your web server has permissions to write to this socket.","title":"CollectD"},{"location":"Support/Configuration/#smokeping","text":"Smokeping","title":"Smokeping"},{"location":"Support/Configuration/#nfsen","text":"NFSen","title":"NFSen"},{"location":"Support/Configuration/#location-mapping","text":"Exact Matching: $config['location_map']['Under the Sink'] = Under The Sink, The Office, London, UK ; Regex Matching: $config['location_map_regex']['/Sink/'] = Under The Sink, The Office, London, UK ; Regex Match Substitution: $config['location_map_regex_sub']['/Sink/'] = Under The Sink, The Office, London, UK [lat, long] ; If you have an SNMP SysLocation of \"Rack10,Rm-314,Sink\", Regex Match Substition yields \"Rack10,Rm-314,Under The Sink, The Office, London, UK [lat, long]\". This allows you to keep the SysLocation string short and keeps Rack/Room/Building information intact after the substitution. The above are examples, these will rewrite device snmp locations so you don't need to configure full location within snmp.","title":"Location mapping"},{"location":"Support/Configuration/#interfaces-to-be-ignored","text":"Examples: $config['bad_if'][] = voip-null ; $config['bad_iftype'][] = voiceEncap ; $config['bad_if_regexp'][] = '/^lo[0-9].*/'; // loopback Numerous defaults exist for this array already (see includes/defaults.inc.php for the full list). You can expand this list by continuing the array. bad_if is matched against the ifDescr value. bad_iftype is matched against the ifType value. bad_if_regexp is matched against the ifDescr value as a regular expression. bad_ifname_regexp is matched against the ifName value as a regular expression. bad_ifalias_regexp is matched against the ifAlias value as a regular expression.","title":"Interfaces to be ignored"},{"location":"Support/Configuration/#interfaces-that-shouldnt-be-ignored","text":"Examples: $config['good_if'][] = 'FastEthernet'; $config['os']['ios']['good_if'][] = 'FastEthernet'; good_if is matched against ifDescr value. This can be a bad_if value as well which would stop that port from being ignored. I.e If bad_if and good_if both contained FastEthernet then ports with this value in the ifDescr will be valid.","title":"Interfaces that shouldn't be ignored"},{"location":"Support/Configuration/#interfaces-to-be-rewritten","text":"$config['rewrite_if']['cpu'] = 'Management Interface'; $config['rewrite_if_regexp']['/cpu /'] = 'Management '; Entries defined in rewrite_if are being replaced completely. Entries defined in rewrite_if_regexp only replace the match. Matches are compared case-insensitive.","title":"Interfaces to be rewritten"},{"location":"Support/Configuration/#entity-sensors-to-be-ignored","text":"Some devices register bogus sensors as they are returned via SNMP but either don't exist or just don't return data. This allows you to ignore those based on the descr field in the database. You can either ignore globally or on a per os basis. $config['bad_entity_sensor_regex'][] = '/Physical id [0-9]+/'; $config['os']['cisco']['bad_entity_sensor_regex'] = '/Physical id [0-9]+/';","title":"Entity sensors to be ignored"},{"location":"Support/Configuration/#storage-configuration","text":"$config['ignore_mount_removable'] = 1; $config['ignore_mount_network'] = 1; $config['ignore_mount_optical'] = 1; $config['ignore_mount'][] = /kern ; $config['ignore_mount'][] = /mnt/cdrom ; $config['ignore_mount'][] = /proc ; $config['ignore_mount'][] = /dev ; $config['ignore_mount_string'][] = packages ; $config['ignore_mount_string'][] = devfs ; $config['ignore_mount_string'][] = procfs ; $config['ignore_mount_string'][] = UMA ; $config['ignore_mount_string'][] = MALLOC ; $config['ignore_mount_regexp'][] = /on: \\/packages/ ; $config['ignore_mount_regexp'][] = /on: \\/dev/ ; $config['ignore_mount_regexp'][] = /on: \\/proc/ ; $config['ignore_mount_regexp'][] = /on: \\/junos^/ ; $config['ignore_mount_regexp'][] = /on: \\/junos\\/dev/ ; $config['ignore_mount_regexp'][] = /on: \\/jail\\/dev/ ; $config['ignore_mount_regexp'][] = /^(dev|proc)fs/ ; $config['ignore_mount_regexp'][] = /^\\/dev\\/md0/ ; $config['ignore_mount_regexp'][] = /^\\/var\\/dhcpd\\/dev,/ ; $config['ignore_mount_regexp'][] = /UMA/ ; Mounted storage / mount points to ignore in discovery and polling.","title":"Storage configuration"},{"location":"Support/Configuration/#irc-bot","text":"IRC Bot","title":"IRC Bot"},{"location":"Support/Configuration/#authentication","text":"Authentication","title":"Authentication"},{"location":"Support/Configuration/#cleanup-options","text":"These options rely on daily.sh running from cron as per the installation instructions. $config['syslog_purge'] = 30; $config['eventlog_purge'] = 30; $config['authlog_purge'] = 30; $config['perf_times_purge'] = 30; $config['device_perf_purge'] = 7; $config['rrd_purge'] = 90;// Not set by default These options will ensure data within LibreNMS over X days old is automatically purged. You can alter these individually, values are in days. NOTE: Please be aware that $config['rrd_purge'] is NOT set by default. This option will remove any old data within the rrd directory automatically - only enable this if you are comfortable with that happening.","title":"Cleanup options"},{"location":"Support/Configuration/#syslog-options","text":"Syslog","title":"Syslog options"},{"location":"Support/Configuration/#virtualization","text":"$config['enable_libvirt'] = 1; $config['libvirt_protocols'] = array( qemu+ssh , xen+ssh ); $config['libvirt_username'] = 'root'; Enable this to switch on support for libvirt along with libvirt_protocols to indicate how you connect to libvirt. You also need to: Generate a non-password-protected ssh key for use by LibreNMS, as the user which runs polling discovery (usually librenms ). On each VM host you wish to monitor: Configure public key authentication from your LibreNMS server/poller by adding the librenms public key to ~root/.ssh/authorized_keys . (xen+ssh only) Enable libvirtd to gather data from xend by setting (xend-unix-server yes) in /etc/xen/xend-config.sxp and restarting xend and libvirtd. To test your setup, run virsh -c qemu+ssh://vmhost/system list or virsh -c xen+ssh://vmhost list as your librenms polling user.","title":"Virtualization"},{"location":"Support/Configuration/#bgp-support","text":"$config['astext']['65332'] = Cymru FullBogon Feed ; You can use this array to rewrite the description of ASes that you have discovered.","title":"BGP Support"},{"location":"Support/Configuration/#auto-updates","text":"Updating","title":"Auto updates"},{"location":"Support/Configuration/#ipmi","text":"Setup the types of IPMI protocols to test a host for and in what order. Don't forget to install ipmitool on the monitoring host. $config['ipmi']['type'] = array(); $config['ipmi']['type'][] = lanplus ; $config['ipmi']['type'][] = lan ; $config['ipmi']['type'][] = imb ; $config['ipmi']['type'][] = open ;","title":"IPMI"},{"location":"Support/Configuration/#distributed-poller-settings","text":"Distributed Poller","title":"Distributed poller settings"},{"location":"Support/Configuration/#api-settings","text":"","title":"API Settings"},{"location":"Support/Configuration/#cors-support","text":"https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS CORS support for the API is disabled by default. Below you will find the standard options, all of which you can configure. $config['api']['cors']['enabled'] = false; $config['api']['cors']['origin'] = '*'; $config['api']['cors']['maxage'] = '86400'; $config['api']['cors']['allowmethods'] = array('POST', 'GET', 'PUT', 'DELETE', 'PATCH'); $config['api']['cors']['allowheaders'] = array('Origin', 'X-Requested-With', 'Content-Type', 'Accept', 'X-Auth-Token');","title":"CORS Support"},{"location":"Support/Device-Sensors/","text":"Device Sensors LibreNMS has a standard for device sensors they are split into categories. This doc is to help users understand device sensors in general, if you need help with developing sensors for a device please see the Contributing + Developing section. Health Sensors The High and Low values of these sensors can be edited in Web UI by going to the device settings - Health. There you can set your own custom High and Low values. List of these sensors can be found here Link Note Some values are defined by the manufactures and others are auto calculated when you add the device into librenms. Keep in mind every environment is different and may require user input. Wireless Sensors Some Wireless have High and Low values of these sensors can be edited in Web UI by going to the device settings - Wireless Sensors There you can set your own custom High and Low values. List of these sensors can be found here Link Note Some values are defined by the manufactures and others are auto calculated when you add the device into librenms. Keep in mind every environment is different and may require user input. State Sensors Return states of device entries sensors states. For example. Drive Status, Memory Status, Power Supply Status. 0 = OK 1 = Warning 2 = Critical 3 = Unknown Alerting Sensors These alert rules can be found inside the Alert Rules Collection. The alert rules below are the default alert rules, there are more device-specific alert rules in the alerts collection. Sensor Over Limit Alert Rule: Will alert on any sensor value that is over the limit. Sensor Under Limit Alert Rule: Will alert on any sensor value that is under the limit. Remember you can set these limits inside device settings in the Web UI. State Sensor Critical: Will alert on any state that returns critical = 2 State Sensor Warning: Will alert on any state that returns warning = 1 Wireless Sensor Over Limit Alert Rule: Will Alert on sensors that listed in device settings under Wireless. Wireless Sensor Under Limit Alert Rule: Will Alert on sensors that listed in device settings under Wireless.","title":"Device Sensors"},{"location":"Support/Device-Sensors/#device-sensors","text":"LibreNMS has a standard for device sensors they are split into categories. This doc is to help users understand device sensors in general, if you need help with developing sensors for a device please see the Contributing + Developing section.","title":"Device Sensors"},{"location":"Support/Device-Sensors/#health-sensors","text":"The High and Low values of these sensors can be edited in Web UI by going to the device settings - Health. There you can set your own custom High and Low values. List of these sensors can be found here Link Note Some values are defined by the manufactures and others are auto calculated when you add the device into librenms. Keep in mind every environment is different and may require user input.","title":"Health Sensors"},{"location":"Support/Device-Sensors/#wireless-sensors","text":"Some Wireless have High and Low values of these sensors can be edited in Web UI by going to the device settings - Wireless Sensors There you can set your own custom High and Low values. List of these sensors can be found here Link Note Some values are defined by the manufactures and others are auto calculated when you add the device into librenms. Keep in mind every environment is different and may require user input.","title":"Wireless Sensors"},{"location":"Support/Device-Sensors/#state-sensors","text":"Return states of device entries sensors states. For example. Drive Status, Memory Status, Power Supply Status. 0 = OK 1 = Warning 2 = Critical 3 = Unknown","title":"State Sensors"},{"location":"Support/Device-Sensors/#alerting-sensors","text":"These alert rules can be found inside the Alert Rules Collection. The alert rules below are the default alert rules, there are more device-specific alert rules in the alerts collection. Sensor Over Limit Alert Rule: Will alert on any sensor value that is over the limit. Sensor Under Limit Alert Rule: Will alert on any sensor value that is under the limit. Remember you can set these limits inside device settings in the Web UI. State Sensor Critical: Will alert on any state that returns critical = 2 State Sensor Warning: Will alert on any state that returns warning = 1 Wireless Sensor Over Limit Alert Rule: Will Alert on sensors that listed in device settings under Wireless. Wireless Sensor Under Limit Alert Rule: Will Alert on sensors that listed in device settings under Wireless.","title":"Alerting Sensors"},{"location":"Support/Device-Troubleshooting/","text":"Capture Debug Information You can use this feature to run Debug on Discovery, Poller, SNMP, Alerts. This output information could be helpful for you in troubleshooting a device or when requesting help. This feature can be found by going to the device that you are troubleshooting in the webui, clicking on the settings icon menu on far right and selecting Capture. Discovery Discovery will run and output debug infomation. Poller Poller will run and output debug information. SNMP SNMP will run SNMP Bulk Walk on the device and output the information. Alerts Alerts Capture is handy when you are creating alerts and need to see if your alert rule matches.","title":"Capture Debug Information"},{"location":"Support/Device-Troubleshooting/#capture-debug-information","text":"You can use this feature to run Debug on Discovery, Poller, SNMP, Alerts. This output information could be helpful for you in troubleshooting a device or when requesting help. This feature can be found by going to the device that you are troubleshooting in the webui, clicking on the settings icon menu on far right and selecting Capture.","title":"Capture Debug Information"},{"location":"Support/Device-Troubleshooting/#discovery","text":"Discovery will run and output debug infomation.","title":"Discovery"},{"location":"Support/Device-Troubleshooting/#poller","text":"Poller will run and output debug information.","title":"Poller"},{"location":"Support/Device-Troubleshooting/#snmp","text":"SNMP will run SNMP Bulk Walk on the device and output the information.","title":"SNMP"},{"location":"Support/Device-Troubleshooting/#alerts","text":"Alerts Capture is handy when you are creating alerts and need to see if your alert rule matches.","title":"Alerts"},{"location":"Support/Discovery Support/","text":"discovery.php This document will explain how to use discovery.php to debug issues or manually running to process data. Command options -h device id | device hostname wildcard Poll single device -h odd Poll odd numbered devices (same as -i 2 -n 0) -h even Poll even numbered devices (same as -i 2 -n 1) -h all Poll all devices -h new Poll all devices that have not had a discovery run before --os os_name Poll devices only with specified operating system --type type Poll devices only with specified type -i instances -n number Poll as instance number of instances Instances start at 0. 0-3 for -n 4 Debugging and testing options: -d Enable debugging output -v Enable verbose debugging output -m Specify module(s) to be run. Comma separate modules, submodules may be added with / -h Use this to specify a device via either id or hostname (including wildcard using *). You can also specify odd and even. all will run discovery against all devices whilst new will poll only those devices that have recently been added or have been selected for rediscovery. -i This can be used to stagger the discovery process. -d Enables debugging output (verbose output but with most sensitive data masked) so that you can see what is happening during a discovery run. This includes things like rrd updates, SQL queries and response from snmp. -v Enables verbose debugging output with all data in tact. -m This enables you to specify the module you want to run for discovery. Discovery wrapper We have a discovery-wrapper.py script which is based on poller-wrapper.py by Job Snijders . This script is currently the default. If you need to debug the output of discovery-wrapper.py then you can add -d to the end of the command - it is NOT recommended to do this in cron. If you want to switch back to discovery.php then you can replace: 33 */6 * * * librenms /opt/librenms/discovery-wrapper.py 1 /dev/null 2 1 With: 33 */6 * * * librenms /opt/librenms/discovery.php -h all /dev/null 2 1 Discovery config These are the default discovery config items. You can globally disable a module by setting it to 0. If you just want to disable it for one device then you can do this within the WebUI - Device - Settings - Modules. $config['discovery_modules']['os'] = true; $config['discovery_modules']['ports'] = true; $config['discovery_modules']['ports-stack'] = true; $config['discovery_modules']['entity-physical'] = true; $config['discovery_modules']['entity-state'] = false; $config['discovery_modules']['processors'] = true; $config['discovery_modules']['mempools'] = true; $config['discovery_modules']['cisco-vrf-lite'] = true; $config['discovery_modules']['cisco-mac-accounting'] = false; $config['discovery_modules']['cisco-pw'] = false; $config['discovery_modules']['vrf'] = false; $config['discovery_modules']['cisco-cef'] = false; $config['discovery_modules']['cisco-sla'] = false; $config['discovery_modules']['cisco-cbqos'] = false; $config['discovery_modules']['cisco-otv'] = false; $config['discovery_modules']['ipv4-addresses'] = true; $config['discovery_modules']['ipv6-addresses'] = true; $config['discovery_modules']['route'] = false; $config['discovery_modules']['sensors'] = true; $config['discovery_modules']['storage'] = true; $config['discovery_modules']['hr-device'] = true; $config['discovery_modules']['discovery-protocols'] = true; $config['discovery_modules']['arp-table'] = true; $config['discovery_modules']['discovery-arp'] = false; $config['discovery_modules']['junose-atm-vp'] = false; $config['discovery_modules']['bgp-peers'] = true; $config['discovery_modules']['vlans'] = true; $config['discovery_modules']['vmware-vminfo'] = false; $config['discovery_modules']['libvirt-vminfo'] = false; $config['discovery_modules']['toner'] = false; $config['discovery_modules']['ucd-diskio'] = true; $config['discovery_modules']['applications'] = false; $config['discovery_modules']['services'] = true; $config['discovery_modules']['stp'] = true; $config['discovery_modules']['ntp'] = true; $config['discovery_modules']['loadbalancers'] = false; $config['discovery_modules']['mef'] = false; $config['discovery_modules']['wireless'] = true; $config['discovery_modules']['fdb-table'] = true; OS based Discovery config You can enable or disable modules for a specific OS by add corresponding line in config.php OS based settings have preference over global. Device based settings have preference over all others Discover performance improvement can be achieved by deactivating all modules that are not supported by specific OS. E.g. to deactivate spanning tree but activate discovery-arp module for linux OS $config['os']['linux']['discovery_modules']['stp'] = false; $config['os']['linux']['discovery_modules']['discovery-arp'] = true; Discovery modules os : Os detection. This module will pick up the OS of the device. ports : This module will detect all ports on a device excluding ones configured to be ignored by config options. ports-stack : Same as ports except for stacks. entity-physical : Module to pick up the devices hardware support. processors : Processor support for devices. mempools : Memory detection support for devices. cisco-vrf-lite : VRF-Lite detection and support. ipv4-addresses : IPv4 Address detection ipv6-addresses : IPv6 Address detection route : Route detection sensors : Sensor detection such as Temperature, Humidity, Voltages + More storage : Storage detection for hard disks hr-device : Processor and Memory support via HOST-RESOURCES-MIB. discovery-protocols : Auto discovery module for xDP, OSPF and BGP. arp-table : Detection of the ARP table for the device. discovery-arp : Auto discovery via ARP. junose-atm-vp : Juniper ATM support. bgp-peers : BGP detection and support. vlans : VLAN detection and support. cisco-mac-accounting : MAC Address account support. cisco-pw : Pseudowires wires detection and support. vrf : VRF detection and support. cisco-cef : CEF detection and support. cisco-sla : SLA detection and support. vmware-vminfo : Detection of vmware guests on an ESXi host libvirt-vminfo : Detection of libvirt guests. toner : Toner levels support. ucd-diskio : Disk I/O support. services : *Nix services support. charge : APC Charge detection and support. Running Here are some examples of running discovery from within your install directory. ./discovery.php -h localhost ./discovery.php -h localhost -m ports Debugging To provide debugging output you will need to run the discovery process with the -d flag. You can do this either against all modules, single or multiple modules: All Modules ./discovery.php -h localhost -d Single Module ./discovery.php -h localhost -m ports -d Multiple Modules ./discovery.php -h localhost -m ports,entity-physical -d Using -d shouldn't output much sensitive information, -v will so it is then advisable to sanitise the output before pasting it somewhere as the debug output will contain snmp details amongst other items including port descriptions. The output will contain: DB Updates SNMP Response","title":"Discovery Support"},{"location":"Support/Discovery Support/#discoveryphp","text":"This document will explain how to use discovery.php to debug issues or manually running to process data.","title":"discovery.php"},{"location":"Support/Discovery Support/#command-options","text":"-h device id | device hostname wildcard Poll single device -h odd Poll odd numbered devices (same as -i 2 -n 0) -h even Poll even numbered devices (same as -i 2 -n 1) -h all Poll all devices -h new Poll all devices that have not had a discovery run before --os os_name Poll devices only with specified operating system --type type Poll devices only with specified type -i instances -n number Poll as instance number of instances Instances start at 0. 0-3 for -n 4 Debugging and testing options: -d Enable debugging output -v Enable verbose debugging output -m Specify module(s) to be run. Comma separate modules, submodules may be added with / -h Use this to specify a device via either id or hostname (including wildcard using *). You can also specify odd and even. all will run discovery against all devices whilst new will poll only those devices that have recently been added or have been selected for rediscovery. -i This can be used to stagger the discovery process. -d Enables debugging output (verbose output but with most sensitive data masked) so that you can see what is happening during a discovery run. This includes things like rrd updates, SQL queries and response from snmp. -v Enables verbose debugging output with all data in tact. -m This enables you to specify the module you want to run for discovery.","title":"Command options"},{"location":"Support/Discovery Support/#discovery-wrapper","text":"We have a discovery-wrapper.py script which is based on poller-wrapper.py by Job Snijders . This script is currently the default. If you need to debug the output of discovery-wrapper.py then you can add -d to the end of the command - it is NOT recommended to do this in cron. If you want to switch back to discovery.php then you can replace: 33 */6 * * * librenms /opt/librenms/discovery-wrapper.py 1 /dev/null 2 1 With: 33 */6 * * * librenms /opt/librenms/discovery.php -h all /dev/null 2 1","title":"Discovery wrapper"},{"location":"Support/Discovery Support/#discovery-config","text":"These are the default discovery config items. You can globally disable a module by setting it to 0. If you just want to disable it for one device then you can do this within the WebUI - Device - Settings - Modules. $config['discovery_modules']['os'] = true; $config['discovery_modules']['ports'] = true; $config['discovery_modules']['ports-stack'] = true; $config['discovery_modules']['entity-physical'] = true; $config['discovery_modules']['entity-state'] = false; $config['discovery_modules']['processors'] = true; $config['discovery_modules']['mempools'] = true; $config['discovery_modules']['cisco-vrf-lite'] = true; $config['discovery_modules']['cisco-mac-accounting'] = false; $config['discovery_modules']['cisco-pw'] = false; $config['discovery_modules']['vrf'] = false; $config['discovery_modules']['cisco-cef'] = false; $config['discovery_modules']['cisco-sla'] = false; $config['discovery_modules']['cisco-cbqos'] = false; $config['discovery_modules']['cisco-otv'] = false; $config['discovery_modules']['ipv4-addresses'] = true; $config['discovery_modules']['ipv6-addresses'] = true; $config['discovery_modules']['route'] = false; $config['discovery_modules']['sensors'] = true; $config['discovery_modules']['storage'] = true; $config['discovery_modules']['hr-device'] = true; $config['discovery_modules']['discovery-protocols'] = true; $config['discovery_modules']['arp-table'] = true; $config['discovery_modules']['discovery-arp'] = false; $config['discovery_modules']['junose-atm-vp'] = false; $config['discovery_modules']['bgp-peers'] = true; $config['discovery_modules']['vlans'] = true; $config['discovery_modules']['vmware-vminfo'] = false; $config['discovery_modules']['libvirt-vminfo'] = false; $config['discovery_modules']['toner'] = false; $config['discovery_modules']['ucd-diskio'] = true; $config['discovery_modules']['applications'] = false; $config['discovery_modules']['services'] = true; $config['discovery_modules']['stp'] = true; $config['discovery_modules']['ntp'] = true; $config['discovery_modules']['loadbalancers'] = false; $config['discovery_modules']['mef'] = false; $config['discovery_modules']['wireless'] = true; $config['discovery_modules']['fdb-table'] = true;","title":"Discovery config"},{"location":"Support/Discovery Support/#os-based-discovery-config","text":"You can enable or disable modules for a specific OS by add corresponding line in config.php OS based settings have preference over global. Device based settings have preference over all others Discover performance improvement can be achieved by deactivating all modules that are not supported by specific OS. E.g. to deactivate spanning tree but activate discovery-arp module for linux OS $config['os']['linux']['discovery_modules']['stp'] = false; $config['os']['linux']['discovery_modules']['discovery-arp'] = true;","title":"OS based Discovery config"},{"location":"Support/Discovery Support/#discovery-modules","text":"os : Os detection. This module will pick up the OS of the device. ports : This module will detect all ports on a device excluding ones configured to be ignored by config options. ports-stack : Same as ports except for stacks. entity-physical : Module to pick up the devices hardware support. processors : Processor support for devices. mempools : Memory detection support for devices. cisco-vrf-lite : VRF-Lite detection and support. ipv4-addresses : IPv4 Address detection ipv6-addresses : IPv6 Address detection route : Route detection sensors : Sensor detection such as Temperature, Humidity, Voltages + More storage : Storage detection for hard disks hr-device : Processor and Memory support via HOST-RESOURCES-MIB. discovery-protocols : Auto discovery module for xDP, OSPF and BGP. arp-table : Detection of the ARP table for the device. discovery-arp : Auto discovery via ARP. junose-atm-vp : Juniper ATM support. bgp-peers : BGP detection and support. vlans : VLAN detection and support. cisco-mac-accounting : MAC Address account support. cisco-pw : Pseudowires wires detection and support. vrf : VRF detection and support. cisco-cef : CEF detection and support. cisco-sla : SLA detection and support. vmware-vminfo : Detection of vmware guests on an ESXi host libvirt-vminfo : Detection of libvirt guests. toner : Toner levels support. ucd-diskio : Disk I/O support. services : *Nix services support. charge : APC Charge detection and support.","title":"Discovery modules"},{"location":"Support/Discovery Support/#running","text":"Here are some examples of running discovery from within your install directory. ./discovery.php -h localhost ./discovery.php -h localhost -m ports","title":"Running"},{"location":"Support/Discovery Support/#debugging","text":"To provide debugging output you will need to run the discovery process with the -d flag. You can do this either against all modules, single or multiple modules: All Modules ./discovery.php -h localhost -d Single Module ./discovery.php -h localhost -m ports -d Multiple Modules ./discovery.php -h localhost -m ports,entity-physical -d Using -d shouldn't output much sensitive information, -v will so it is then advisable to sanitise the output before pasting it somewhere as the debug output will contain snmp details amongst other items including port descriptions. The output will contain: DB Updates SNMP Response","title":"Debugging"},{"location":"Support/Environment-Variables/","text":"Environment Variables LibreNMS allows certain settings to be set via the environment or through the .env file. Database Set the variables to connect to the database. The default values are shown below. DB_HOST=localhost DB_PORT=3306 DB_DATABASE=librenms DB_USERNAME=librenms DB_PASSWORD= DB_SOCKET= Trusted Reverse Proxies A comma separated list of trusted reverse proxy IPs or CIDR. For legacy reasons the default is '*' , which means any proxy is allowed. '**' means trust any proxy up the chain. APP_TRUSTED_PROXIES=192.168.1.0/24,192.167.8.20 Base url Set the base url for generated urls. Do not set this if it is not needed. You may need to set this when using reverse proxies combined with a subdirectory. Generally, LibreNMS will make correct URLs (especially if you have set up your proxy variables correctly) APP_URL=http://librenms/ User / Group The user and group that LibreNMS should operate as. Group will default to the same as the user if unset. LIBRENMS_USER=librenms LIBRENMS_GROUP=librenms Debug Increases the amount of information shown when an error occurs. WARNING: This may leak information, do not leave enabled. APP_DEBUG=true","title":"Environment Variables"},{"location":"Support/Environment-Variables/#environment-variables","text":"LibreNMS allows certain settings to be set via the environment or through the .env file.","title":"Environment Variables"},{"location":"Support/Environment-Variables/#database","text":"Set the variables to connect to the database. The default values are shown below. DB_HOST=localhost DB_PORT=3306 DB_DATABASE=librenms DB_USERNAME=librenms DB_PASSWORD= DB_SOCKET=","title":"Database"},{"location":"Support/Environment-Variables/#trusted-reverse-proxies","text":"A comma separated list of trusted reverse proxy IPs or CIDR. For legacy reasons the default is '*' , which means any proxy is allowed. '**' means trust any proxy up the chain. APP_TRUSTED_PROXIES=192.168.1.0/24,192.167.8.20","title":"Trusted Reverse Proxies"},{"location":"Support/Environment-Variables/#base-url","text":"Set the base url for generated urls. Do not set this if it is not needed. You may need to set this when using reverse proxies combined with a subdirectory. Generally, LibreNMS will make correct URLs (especially if you have set up your proxy variables correctly) APP_URL=http://librenms/","title":"Base url"},{"location":"Support/Environment-Variables/#user-group","text":"The user and group that LibreNMS should operate as. Group will default to the same as the user if unset. LIBRENMS_USER=librenms LIBRENMS_GROUP=librenms","title":"User / Group"},{"location":"Support/Environment-Variables/#debug","text":"Increases the amount of information shown when an error occurs. WARNING: This may leak information, do not leave enabled. APP_DEBUG=true","title":"Debug"},{"location":"Support/Example-Hardware-Setup/","text":"Example hardware setups The information in this document is direct from users, it's a place for people to share their setups so you have an idea of what may be required for your install. To obtain the device, port and sensor counts you can run: select count(*) from devices; select count(*) from ports where `deleted` = 0; select count(*) from sensors where `sensor_deleted` = 0; laf Home Running in Proxmox. LibreNMS MySQL Type Virtual Virtual OS CentOS 7 CentOS 7 CPU 2 Sockets, 4 Cores 1 Socket, 2 Cores Memory 2GB 2GB Disk Type Raid 1, SSD Raid 1, SSD Disk Space 18GB 30GB Devices 20 - Ports 133 - Health sensors 47 - Load 0.1 0.1 Vente-Priv\u00e9e NOC LibreNMS MariaDB Type Dell R430 Dell R430 OS Debian 7 (dotdeb) Debian 7 (dotdeb) CPU 2 Sockets, 14 Cores 1 Socket, 2 Cores Memory 256GB 256GB Disk Type Raid 10, SSD Raid 10, SSD Disk Space 1TB 1TB Devices 1028 - Ports 26745 - Health sensors 6238 - Load 0.5 0.5 KKrumm Home LibreNMS MySQL Type VM Same Server OS CentOS 7 CPU 2 Sockets, 4 Cores Memory 4GB Disk Type Raid 10, SAS Drives Disk Space 40 GB Devices 12 Ports 130 Health sensors 44 Load 2.5 KKrumm Work LibreNMS MySQL Type HP Proliantdl380gen8 Same Server OS CentOS 7 CPU 2 Sockets, 24 Cores Memory 32GB Disk Type Raid 10, SAS Drives Disk Space 250 GB Devices 390 Ports 16167 Health sensors 3223 Load 14.5 LaZyDK Home LibreNMS MariaDB Type VM - QNAP TS-453 Pro Same Server OS Ubuntu 16.04 CPU 1 vCore Memory 2GB Disk Type Raid 1, SATA Drives Disk Space 10 GB Devices 26 Ports 228 Health sensors 117 Load 0.92","title":"Example Hardware Setup"},{"location":"Support/Example-Hardware-Setup/#example-hardware-setups","text":"The information in this document is direct from users, it's a place for people to share their setups so you have an idea of what may be required for your install. To obtain the device, port and sensor counts you can run: select count(*) from devices; select count(*) from ports where `deleted` = 0; select count(*) from sensors where `sensor_deleted` = 0;","title":"Example hardware setups"},{"location":"Support/Example-Hardware-Setup/#laf","text":"Home Running in Proxmox. LibreNMS MySQL Type Virtual Virtual OS CentOS 7 CentOS 7 CPU 2 Sockets, 4 Cores 1 Socket, 2 Cores Memory 2GB 2GB Disk Type Raid 1, SSD Raid 1, SSD Disk Space 18GB 30GB Devices 20 - Ports 133 - Health sensors 47 - Load 0.1 0.1","title":"laf"},{"location":"Support/Example-Hardware-Setup/#vente-privee","text":"NOC LibreNMS MariaDB Type Dell R430 Dell R430 OS Debian 7 (dotdeb) Debian 7 (dotdeb) CPU 2 Sockets, 14 Cores 1 Socket, 2 Cores Memory 256GB 256GB Disk Type Raid 10, SSD Raid 10, SSD Disk Space 1TB 1TB Devices 1028 - Ports 26745 - Health sensors 6238 - Load 0.5 0.5","title":"Vente-Priv\u00e9e"},{"location":"Support/Example-Hardware-Setup/#kkrumm","text":"Home LibreNMS MySQL Type VM Same Server OS CentOS 7 CPU 2 Sockets, 4 Cores Memory 4GB Disk Type Raid 10, SAS Drives Disk Space 40 GB Devices 12 Ports 130 Health sensors 44 Load 2.5","title":"KKrumm"},{"location":"Support/Example-Hardware-Setup/#kkrumm_1","text":"Work LibreNMS MySQL Type HP Proliantdl380gen8 Same Server OS CentOS 7 CPU 2 Sockets, 24 Cores Memory 32GB Disk Type Raid 10, SAS Drives Disk Space 250 GB Devices 390 Ports 16167 Health sensors 3223 Load 14.5","title":"KKrumm"},{"location":"Support/Example-Hardware-Setup/#lazydk","text":"Home LibreNMS MariaDB Type VM - QNAP TS-453 Pro Same Server OS Ubuntu 16.04 CPU 1 vCore Memory 2GB Disk Type Raid 1, SATA Drives Disk Space 10 GB Devices 26 Ports 228 Health sensors 117 Load 0.92","title":"LaZyDK"},{"location":"Support/FAQ/","text":"Getting started How do I install LibreNMS? How do I add a device? How do I get help? What are the supported OSes for installing LibreNMS on? Do you have a demo available? Support Why do I get blank pages sometimes in the WebUI? Why do I not see any graphs? How do I debug pages not loading correctly? How do I debug the discovery process? How do I debug the poller process? Why do I get a lot apache or rrdtool zombies in my process list? Why do I see traffic spikes in my graphs? Why do I see gaps in my graphs? How do I change the IP / hostname of a device? My device doesn't finish polling within 300 seconds Things aren't working correctly? What do the values mean in my graphs? Why does a device show as a warning? Why do I not see all interfaces in the Overall traffic graph for a device? How do I move my LibreNMS install to another server? Why is my EdgeRouter device not detected? Why are some of my disks not showing? Why are my disks reporting an incorrect size? What is the Difference between Disable Device and Ignore a Device? Why can't Normal and Global View users see Oxidized? What is the Demo User for? Why does modifying 'Default Alert Template' fail? Why would alert un-mute itself How do I change the Device Type? Where do I update my database credentials? My reverse proxy is not working My alerts aren't being delivered on time Developing How do I add support for a new OS? What information do you need to add a new OS? What can I do to help? How can I test another users branch? How do I install LibreNMS? This is currently well documented within the doc folder of the installation files. Please see the following doc How do I add a device? You have two options for adding a new device into LibreNMS. Using the command line via ssh you can add a new device by changing to the directory of your LibreNMS install and typing (be sure to put the correct details). ./addhost.php [community] [v1|v2c] [port] [udp|udp6|tcp|tcp6] Please note that if the community contains special characters such as $ then you will need to wrap it in ' . I.e: 'Pa$$w0rd' . Using the web interface, go to Devices and then Add Device. Enter the details required for the device that you want to add and then click 'Add Host'. How do I get help? Getting Help What are the supported OSes for installing LibreNMS on? Supported is quite a strong word :) The 'officially' supported distros are: Ubuntu / Debian Red Hat / CentOS Gentoo However we will always aim to help wherever possible so if you are running a distro that isn't one of the above then give it a try anyway and if you need help then jump on the discord server . Do you have a demo available? We do indeed, you can find access to the demo here Why do I get blank pages sometimes in the WebUI? The first thing to do is to add /debug=yes/ to the end of the URI (I.e /devices/debug=yes/). If the page you are trying to load has a substantial amount of data in it then it could be that the php memory limit needs to be increased in config.php . Why do I not see any graphs? The easiest way to check if all is well is to run ./validate.php as root from within your install directory. This should give you info on why things aren't working. One other reason could be a restricted snmpd.conf file or snmp view which limits the data sent back. If you use net-snmp then we suggest using the included snmpd.conf file. How do I debug pages not loading correctly? A debug system is in place which enables you to see the output from php errors, warnings and notices along with the MySQL queries that have been run for that page. To enable the debug option, add /debug=yes/ to the end of any URI (I.e /devices/debug=yes/) or ?debug=yes if you are debugging a graph directly. You will then have a two options in the footer of the website - Show SQL Debug and Show PHP Debug. These will both popup that pages debug window for you to view. If the page itself has generated a fatal error then this will be displayed directly on the page. How do I debug the discovery process? Please see the Discovery Support document for further details. How do I debug the poller process? Please see the Poller Support document for further details. Why do I get a lot apache or rrdtool zombies in my process list? If this is related to your web service for LibreNMS then this has been tracked down to an issue within php which the developers aren't fixing. We have implemented a work around which means you shouldn't be seeing this. If you are, please report this in issue 443 . Why do I see traffic spikes in my graphs? This occurs either when a counter resets or the device sends back bogus data making it look like a counter reset. We have enabled support for setting a maximum value for rrd files for ports. Before this all rrd files were set to 100G max values, now you can enable support to limit this to the actual port speed. rrdtool tune will change the max value when the interface speed is detected as being changed (min value will be set for anything 10M or over) or when you run the included script (./scripts/tune_port.php) - see RRDTune doc SNMP ifInOctets and ifOutOctets are counters, which means they start at 0 (at device boot) and count up from there. LibreNMS records the value every 5 minutes and uses the difference between the previous value and the current value to calculate rate. (Also, this value resets to 0 when it hits the max value) Now, when the value is not recorded for awhile RRD (our time series storage) does not record a 0, it records the last value, otherwise, there would be even worse problems. Then finally we get the current ifIn/OutOctets value and record that. Now, it appears as though all of the traffic since it stopped getting values have occurred in the last 5 minute interval. So whenever you see spikes like this, it means we have not received data from the device for several polling intervals. The cause can vary quite a bit: bad snmp implementations, intermittant network connectivity, broken poller, and more. Why do I see gaps in my graphs? This is most commonly due to the poller not being able to complete it's run within 300 seconds. Check which devices are causing this by going to /poll-log/ within the Web interface. When you find the device(s) which are taking the longest you can then look at the Polling module graph under Graphs - Poller - Poller Modules Performance. Take a look at what modules are taking the longest and disabled un used modules. If you poll a large number of devices / ports then it's recommended to run a local recurisve dns server such as pdns-recursor. Running RRDCached is also highly advised in larger installs but has benefits no matter the size. How do I change the IP / hostname of a device? There is a host rename tool called renamehost.php in your librenms root directory. When renaming you are also changing the device's IP / hostname address for monitoring. Usage: ./renamehost.php old hostname new hostname You can also rename a device in the Web UI by going to the device, then clicking settings Icon - Edit. My device doesn't finish polling within 300 seconds We have a few things you can try: Disable unnecessary polling modules under edit device. Set a max repeater value within the snmp settings for a device. What to set this to is tricky, you really should run an snmpbulkwalk with -Cr10 through -Cr50 to see what works best. 50 is usually a good choice if the device can cope. Things aren't working correctly? Run ./validate.php as root from within your install. Re-run ./validate.php once you've resolved any issues raised. You have an odd issue - we'd suggest you join our discord server to discuss. What do the values mean in my graphs? The values you see are reported as metric values. Thanks to a post on Reddit here are those values: 10^-18 a - atto 10^-15 f - femto 10^-12 p - pico 10^-9 n - nano 10^-6 u - micro 10^-3 m - milli 0 (no unit) 10^3 k - kilo 10^6 M - mega 10^9 G - giga 10^12 T - tera 10^15 P - peta Why does a device show as a warning? This is indicating that the device has rebooted within the last 24 hours (by default). If you want to adjust this threshold then you can do so by setting $config['uptime_warning'] = '84600'; in config.php . The value must be in seconds. Why do I not see all interfaces in the Overall traffic graph for a device? By default numerous interface types and interface descriptions are excluded from this graph. The excluded defailts are: $config['device_traffic_iftype'][] = '/loopback/'; $config['device_traffic_iftype'][] = '/tunnel/'; $config['device_traffic_iftype'][] = '/virtual/'; $config['device_traffic_iftype'][] = '/mpls/'; $config['device_traffic_iftype'][] = '/ieee8023adLag/'; $config['device_traffic_iftype'][] = '/l2vlan/'; $config['device_traffic_iftype'][] = '/ppp/'; $config['device_traffic_descr'][] = '/loopback/'; $config['device_traffic_descr'][] = '/vlan/'; $config['device_traffic_descr'][] = '/tunnel/'; $config['device_traffic_descr'][] = '/bond/'; $config['device_traffic_descr'][] = '/null/'; $config['device_traffic_descr'][] = '/dummy/'; If you would like to re-include l2vlan interfaces for instance, you first need to unset the config array and set your options: unset($config['device_traffic_iftype']); $config['device_traffic_iftype'][] = '/loopback/'; $config['device_traffic_iftype'][] = '/tunnel/'; $config['device_traffic_iftype'][] = '/virtual/'; $config['device_traffic_iftype'][] = '/mpls/'; $config['device_traffic_iftype'][] = '/ieee8023adLag/'; $config['device_traffic_iftype'][] = '/ppp/'; How do I move my LibreNMS install to another server? If you are moving from one CPU architecture to another then you will need to dump the rrd files and re-create them. If you are in this scenario then you can use Dan Brown's migration scripts . If you are just moving to another server with the same CPU architecture then the following steps should be all that's needed: - Install LibreNMS as per our normal documentation, you don't need to run through the web installer or building the sql schema. - Stop cron by commenting out all lines in `/etc/cron.d/librenms` - Dump the MySQL database `librenms` and import this into your new server. - Copy the `rrd/` folder to the new server. - Copy the `config.php` file to the new server. - Renable cron by uncommenting all lines in `/etc/cron.d/librenms` Why is my EdgeRouter device not detected? If you have service snmp description set in your config then this will be why, please remove this. For some reason Ubnt have decided setting this value should override the sysDescr value returned which breaks our detection. If you don't have that set then this may be then due to an update of EdgeOS or a new device type, please create an issue . Why are some of my disks not showing? If you are monitoring a linux server then net-snmp doesn't always expose all disks via hrStorage (HOST-RESOURCES-MIB). We have additional support which will retrieve disks via dskTable (UCD-SNMP-MIB). To expose these disks you need to add additional config to your snmpd.conf file. For example, to expose /dev/sda1 which may be mounted as /storage you can specify: disk /dev/sda1 Or disk /storage Restart snmpd and LibreNMS should populate the additional disk after a fresh discovery. Why are my disks reporting an incorrect size? There is a known issue for net-snmp, which causes it to report incorrect disk size and disk usage when the size of the disk (or raid) are larger then 16TB, a workaround has been implemented but is not active on Centos 6.8 by default due to the fact that this workaround breaks official SNMP specs, and as such could cause unexpected behaviour in other SNMP tools. You can activate the workaround by adding to /etc/snmp/snmpd.conf : realStorageUnits 0 What is the Difference between Disable Device and Ignore a Device? Disable stops polling. Ignore disables alerting. How do I add support for a new OS? Please see Supporting a new OS What information do you need to add a new OS? Under the device, click the gear and select Capture. Please open an issue on GitHub and provide the output of Discovery, Poller, and Snmpwalk as separate non-expiring https://p.libren.ms/ links. You can also use the command line to obtain the information. Especially, if snmpwalk results in a large amount of data. Replace the relevant information in these commands such as HOSTNAME and COMMUNITY. Use snmpwalk instead of snmpbulkwalk for v1 devices. These commands will automatically upload the data to LibreNMS servers. ./discovery.php -h HOSTNAME -d | ./pbin.sh ./poller.php -h HOSTNAME -r -f -d | ./pbin.sh snmpbulkwalk -OUneb -v2c -c COMMUNITY HOSTNAME . | ./pbin.sh You can use the links provided by these commands within the issue. If possible please also provide what the OS name should be if it doesn't exist already. What can I do to help? Thanks for asking, sometimes it's not quite so obvious and everyone can contribute something different. So here are some ways you can help LibreNMS improve. Code. This is a big thing. We want this community to grow by the software developing and evolving to cater for users needs. The biggest area that people can help make this happen is by providing code support. This doesn't necessarily mean contributing code for discovering a new device: Web UI, a new look and feel has been adopted but we are not finished by any stretch of the imagination. Make suggestions, find and fix bugs, update the design / layout. Poller / Discovery code. Improving it (we think a lot can be done to speed things up), adding new device support and updating old ones. The LibreNMS main website, this is hosted on GitHub like the main repo and we accept use contributions here as well :) Hardware. We don't physically need it but if we are to add device support, it's made a whole lot easier with access to the kit via SNMP. If you've got MIBs, they are handy as well :) If you know the vendor and can get permission to use logos that's also great. Bugs. Found one? We want to know about it. Most bugs are fixed after being spotted and reported by someone, I'd love to say we are amazing developers and will fix all bugs before you spot them but that's just not true. Feature requests. Can't code / won't code. No worries, chuck a feature request into our community forum with enough detail and someone will take a look. A lot of the time this might be what interests someone, they need the same feature or they just have time. Please be patient, everyone who contributes does so in their own time. Documentation. Documentation can always be improved and every little bit helps. Not all features are currently documented or documented well, there's speeling mistakes etc. It's very easy to submit updates through the GitHub website , no git experience needed. Be nice, this is the foundation of this project. We expect everyone to be nice. People will fall out, people will disagree but please do it so in a respectable way. Ask questions. Sometimes just by asking questions you prompt deeper conversations that can lead us to somewhere amazing so please never be afraid to ask a question. How can I test another users branch? LibreNMS can and is developed by anyone, this means someone may be working on a new feature or support for a device that you want. It can be helpful for others to test these new features, using Git, this is made easy. cd /opt/librenms Firstly ensure that your current branch is in good state: git status If you see nothing to commit, working directory clean then let's go for it :) Let's say that you want to test a users (f0o) new development branch (issue-1337) then you can do the following: git remote add f0o https://github.com/f0o/librenms.git git remote update f0o git checkout issue-1337 Once you are done testing, you can easily switch back to the master branch: git checkout master If you want to pull any new updates provided by f0o's branch then whilst you are still in it, do the following: git pull f0o issue-1337 Why can't Normal and Global View users see Oxidized? Configs can often contain sensitive data. Because of that only global admins can see configs. What is the Demo User for? Demo users allow full access except adding/editing users and deleting devices and can't change passwords. Why does modifying 'Default Alert Template' fail? This template's entry could be missing in the database. Please run: mysql -u librenms -p sql-schema/202.sql Why would alert un-mute itself? If alert un-mutes itself then it most likely means that the alert cleared and is then triggered again. Please review eventlog as it will tell you in there. How do I change the Device Type? You can change the Device Type by going to the device you would like to change, then click on the Gear Icon - Edit. If you would like to define custom types, we suggest using Device Groups . They will be listed in the menu similarly to device types. Where do I update my database credentials? If you've changed your database credentials then you will need to update LibreNMS with those new details. Please edit both config.php and .env config.php: $config['db_host'] = ''; $config['db_user'] = ''; $config['db_pass'] = ''; $config['db_name'] = ''; .env : DB_HOST= DB_DATABASE= DB_USERNAME= DB_PASSWORD= DB_PORT= My reverse proxy is not working Make sure your proxy is passing the proper variables. At a minimum: X-Forwarded-For and X-Forwarded-Proto (X-Forwarded-Port if needed) You also need to Set the proxy or proxies as trusted If you are using a subdirectory on the reverse proxy and not on the actual web server, you may need to set APP_URL and $config['base_url'] . My alerts aren't being delivered on time If you're running MySQL/MariaDB on a separate machine or container make sure the timezone is set properly on both the LibreNMS and MySQL/MariaDB instance. Alerts will be delivered according to MySQL/MariaDB's time, so a mismatch between the two can cause alerts to be delivered late if LibreNMS is on a timezone later than MySQL/MariaDB.","title":"FAQ"},{"location":"Support/FAQ/#getting-started","text":"How do I install LibreNMS? How do I add a device? How do I get help? What are the supported OSes for installing LibreNMS on? Do you have a demo available?","title":"Getting started"},{"location":"Support/FAQ/#support","text":"Why do I get blank pages sometimes in the WebUI? Why do I not see any graphs? How do I debug pages not loading correctly? How do I debug the discovery process? How do I debug the poller process? Why do I get a lot apache or rrdtool zombies in my process list? Why do I see traffic spikes in my graphs? Why do I see gaps in my graphs? How do I change the IP / hostname of a device? My device doesn't finish polling within 300 seconds Things aren't working correctly? What do the values mean in my graphs? Why does a device show as a warning? Why do I not see all interfaces in the Overall traffic graph for a device? How do I move my LibreNMS install to another server? Why is my EdgeRouter device not detected? Why are some of my disks not showing? Why are my disks reporting an incorrect size? What is the Difference between Disable Device and Ignore a Device? Why can't Normal and Global View users see Oxidized? What is the Demo User for? Why does modifying 'Default Alert Template' fail? Why would alert un-mute itself How do I change the Device Type? Where do I update my database credentials? My reverse proxy is not working My alerts aren't being delivered on time","title":"Support"},{"location":"Support/FAQ/#developing","text":"How do I add support for a new OS? What information do you need to add a new OS? What can I do to help? How can I test another users branch?","title":"Developing"},{"location":"Support/FAQ/#how-do-i-install-librenms","text":"This is currently well documented within the doc folder of the installation files. Please see the following doc","title":" How do I install LibreNMS?"},{"location":"Support/FAQ/#how-do-i-add-a-device","text":"You have two options for adding a new device into LibreNMS. Using the command line via ssh you can add a new device by changing to the directory of your LibreNMS install and typing (be sure to put the correct details). ./addhost.php [community] [v1|v2c] [port] [udp|udp6|tcp|tcp6] Please note that if the community contains special characters such as $ then you will need to wrap it in ' . I.e: 'Pa$$w0rd' . Using the web interface, go to Devices and then Add Device. Enter the details required for the device that you want to add and then click 'Add Host'.","title":" How do I add a device?"},{"location":"Support/FAQ/#how-do-i-get-help","text":"Getting Help","title":" How do I get help?"},{"location":"Support/FAQ/#what-are-the-supported-oses-for-installing-librenms-on","text":"Supported is quite a strong word :) The 'officially' supported distros are: Ubuntu / Debian Red Hat / CentOS Gentoo However we will always aim to help wherever possible so if you are running a distro that isn't one of the above then give it a try anyway and if you need help then jump on the discord server .","title":" What are the supported OSes for installing LibreNMS on?"},{"location":"Support/FAQ/#do-you-have-a-demo-available","text":"We do indeed, you can find access to the demo here","title":" Do you have a demo available?"},{"location":"Support/FAQ/#why-do-i-get-blank-pages-sometimes-in-the-webui","text":"The first thing to do is to add /debug=yes/ to the end of the URI (I.e /devices/debug=yes/). If the page you are trying to load has a substantial amount of data in it then it could be that the php memory limit needs to be increased in config.php .","title":" Why do I get blank pages sometimes in the WebUI?"},{"location":"Support/FAQ/#why-do-i-not-see-any-graphs","text":"The easiest way to check if all is well is to run ./validate.php as root from within your install directory. This should give you info on why things aren't working. One other reason could be a restricted snmpd.conf file or snmp view which limits the data sent back. If you use net-snmp then we suggest using the included snmpd.conf file.","title":" Why do I not see any graphs?"},{"location":"Support/FAQ/#how-do-i-debug-pages-not-loading-correctly","text":"A debug system is in place which enables you to see the output from php errors, warnings and notices along with the MySQL queries that have been run for that page. To enable the debug option, add /debug=yes/ to the end of any URI (I.e /devices/debug=yes/) or ?debug=yes if you are debugging a graph directly. You will then have a two options in the footer of the website - Show SQL Debug and Show PHP Debug. These will both popup that pages debug window for you to view. If the page itself has generated a fatal error then this will be displayed directly on the page.","title":" How do I debug pages not loading correctly?"},{"location":"Support/FAQ/#how-do-i-debug-the-discovery-process","text":"Please see the Discovery Support document for further details.","title":" How do I debug the discovery process?"},{"location":"Support/FAQ/#how-do-i-debug-the-poller-process","text":"Please see the Poller Support document for further details.","title":" How do I debug the poller process?"},{"location":"Support/FAQ/#why-do-i-get-a-lot-apache-or-rrdtool-zombies-in-my-process-list","text":"If this is related to your web service for LibreNMS then this has been tracked down to an issue within php which the developers aren't fixing. We have implemented a work around which means you shouldn't be seeing this. If you are, please report this in issue 443 .","title":" Why do I get a lot apache or rrdtool zombies in my process list?"},{"location":"Support/FAQ/#why-do-i-see-traffic-spikes-in-my-graphs","text":"This occurs either when a counter resets or the device sends back bogus data making it look like a counter reset. We have enabled support for setting a maximum value for rrd files for ports. Before this all rrd files were set to 100G max values, now you can enable support to limit this to the actual port speed. rrdtool tune will change the max value when the interface speed is detected as being changed (min value will be set for anything 10M or over) or when you run the included script (./scripts/tune_port.php) - see RRDTune doc SNMP ifInOctets and ifOutOctets are counters, which means they start at 0 (at device boot) and count up from there. LibreNMS records the value every 5 minutes and uses the difference between the previous value and the current value to calculate rate. (Also, this value resets to 0 when it hits the max value) Now, when the value is not recorded for awhile RRD (our time series storage) does not record a 0, it records the last value, otherwise, there would be even worse problems. Then finally we get the current ifIn/OutOctets value and record that. Now, it appears as though all of the traffic since it stopped getting values have occurred in the last 5 minute interval. So whenever you see spikes like this, it means we have not received data from the device for several polling intervals. The cause can vary quite a bit: bad snmp implementations, intermittant network connectivity, broken poller, and more.","title":" Why do I see traffic spikes in my graphs?"},{"location":"Support/FAQ/#why-do-i-see-gaps-in-my-graphs","text":"This is most commonly due to the poller not being able to complete it's run within 300 seconds. Check which devices are causing this by going to /poll-log/ within the Web interface. When you find the device(s) which are taking the longest you can then look at the Polling module graph under Graphs - Poller - Poller Modules Performance. Take a look at what modules are taking the longest and disabled un used modules. If you poll a large number of devices / ports then it's recommended to run a local recurisve dns server such as pdns-recursor. Running RRDCached is also highly advised in larger installs but has benefits no matter the size.","title":" Why do I see gaps in my graphs?"},{"location":"Support/FAQ/#how-do-i-change-the-ip-hostname-of-a-device","text":"There is a host rename tool called renamehost.php in your librenms root directory. When renaming you are also changing the device's IP / hostname address for monitoring. Usage: ./renamehost.php old hostname new hostname You can also rename a device in the Web UI by going to the device, then clicking settings Icon - Edit.","title":" How do I change the IP / hostname of a device?"},{"location":"Support/FAQ/#my-device-doesnt-finish-polling-within-300-seconds","text":"We have a few things you can try: Disable unnecessary polling modules under edit device. Set a max repeater value within the snmp settings for a device. What to set this to is tricky, you really should run an snmpbulkwalk with -Cr10 through -Cr50 to see what works best. 50 is usually a good choice if the device can cope.","title":" My device doesn't finish polling within 300 seconds"},{"location":"Support/FAQ/#things-arent-working-correctly","text":"Run ./validate.php as root from within your install. Re-run ./validate.php once you've resolved any issues raised. You have an odd issue - we'd suggest you join our discord server to discuss.","title":" Things aren't working correctly?"},{"location":"Support/FAQ/#what-do-the-values-mean-in-my-graphs","text":"The values you see are reported as metric values. Thanks to a post on Reddit here are those values: 10^-18 a - atto 10^-15 f - femto 10^-12 p - pico 10^-9 n - nano 10^-6 u - micro 10^-3 m - milli 0 (no unit) 10^3 k - kilo 10^6 M - mega 10^9 G - giga 10^12 T - tera 10^15 P - peta","title":" What do the values mean in my graphs?"},{"location":"Support/FAQ/#why-does-a-device-show-as-a-warning","text":"This is indicating that the device has rebooted within the last 24 hours (by default). If you want to adjust this threshold then you can do so by setting $config['uptime_warning'] = '84600'; in config.php . The value must be in seconds.","title":" Why does a device show as a warning?"},{"location":"Support/FAQ/#why-do-i-not-see-all-interfaces-in-the-overall-traffic-graph-for-a-device","text":"By default numerous interface types and interface descriptions are excluded from this graph. The excluded defailts are: $config['device_traffic_iftype'][] = '/loopback/'; $config['device_traffic_iftype'][] = '/tunnel/'; $config['device_traffic_iftype'][] = '/virtual/'; $config['device_traffic_iftype'][] = '/mpls/'; $config['device_traffic_iftype'][] = '/ieee8023adLag/'; $config['device_traffic_iftype'][] = '/l2vlan/'; $config['device_traffic_iftype'][] = '/ppp/'; $config['device_traffic_descr'][] = '/loopback/'; $config['device_traffic_descr'][] = '/vlan/'; $config['device_traffic_descr'][] = '/tunnel/'; $config['device_traffic_descr'][] = '/bond/'; $config['device_traffic_descr'][] = '/null/'; $config['device_traffic_descr'][] = '/dummy/'; If you would like to re-include l2vlan interfaces for instance, you first need to unset the config array and set your options: unset($config['device_traffic_iftype']); $config['device_traffic_iftype'][] = '/loopback/'; $config['device_traffic_iftype'][] = '/tunnel/'; $config['device_traffic_iftype'][] = '/virtual/'; $config['device_traffic_iftype'][] = '/mpls/'; $config['device_traffic_iftype'][] = '/ieee8023adLag/'; $config['device_traffic_iftype'][] = '/ppp/';","title":" Why do I not see all interfaces in the Overall traffic graph for a device?"},{"location":"Support/FAQ/#how-do-i-move-my-librenms-install-to-another-server","text":"If you are moving from one CPU architecture to another then you will need to dump the rrd files and re-create them. If you are in this scenario then you can use Dan Brown's migration scripts . If you are just moving to another server with the same CPU architecture then the following steps should be all that's needed: - Install LibreNMS as per our normal documentation, you don't need to run through the web installer or building the sql schema. - Stop cron by commenting out all lines in `/etc/cron.d/librenms` - Dump the MySQL database `librenms` and import this into your new server. - Copy the `rrd/` folder to the new server. - Copy the `config.php` file to the new server. - Renable cron by uncommenting all lines in `/etc/cron.d/librenms`","title":" How do I move my LibreNMS install to another server?"},{"location":"Support/FAQ/#why-is-my-edgerouter-device-not-detected","text":"If you have service snmp description set in your config then this will be why, please remove this. For some reason Ubnt have decided setting this value should override the sysDescr value returned which breaks our detection. If you don't have that set then this may be then due to an update of EdgeOS or a new device type, please create an issue .","title":" Why is my EdgeRouter device not detected?"},{"location":"Support/FAQ/#why-are-some-of-my-disks-not-showing","text":"If you are monitoring a linux server then net-snmp doesn't always expose all disks via hrStorage (HOST-RESOURCES-MIB). We have additional support which will retrieve disks via dskTable (UCD-SNMP-MIB). To expose these disks you need to add additional config to your snmpd.conf file. For example, to expose /dev/sda1 which may be mounted as /storage you can specify: disk /dev/sda1 Or disk /storage Restart snmpd and LibreNMS should populate the additional disk after a fresh discovery.","title":" Why are some of my disks not showing?"},{"location":"Support/FAQ/#why-are-my-disks-reporting-an-incorrect-size","text":"There is a known issue for net-snmp, which causes it to report incorrect disk size and disk usage when the size of the disk (or raid) are larger then 16TB, a workaround has been implemented but is not active on Centos 6.8 by default due to the fact that this workaround breaks official SNMP specs, and as such could cause unexpected behaviour in other SNMP tools. You can activate the workaround by adding to /etc/snmp/snmpd.conf : realStorageUnits 0","title":" Why are my disks reporting an incorrect size?"},{"location":"Support/FAQ/#what-is-the-difference-between-disable-device-and-ignore-a-device","text":"Disable stops polling. Ignore disables alerting.","title":" What is the Difference between Disable Device and Ignore a Device?"},{"location":"Support/FAQ/#how-do-i-add-support-for-a-new-os","text":"Please see Supporting a new OS","title":" How do I add support for a new OS?"},{"location":"Support/FAQ/#what-information-do-you-need-to-add-a-new-os","text":"Under the device, click the gear and select Capture. Please open an issue on GitHub and provide the output of Discovery, Poller, and Snmpwalk as separate non-expiring https://p.libren.ms/ links. You can also use the command line to obtain the information. Especially, if snmpwalk results in a large amount of data. Replace the relevant information in these commands such as HOSTNAME and COMMUNITY. Use snmpwalk instead of snmpbulkwalk for v1 devices. These commands will automatically upload the data to LibreNMS servers. ./discovery.php -h HOSTNAME -d | ./pbin.sh ./poller.php -h HOSTNAME -r -f -d | ./pbin.sh snmpbulkwalk -OUneb -v2c -c COMMUNITY HOSTNAME . | ./pbin.sh You can use the links provided by these commands within the issue. If possible please also provide what the OS name should be if it doesn't exist already.","title":" What information do you need to add a new OS?"},{"location":"Support/FAQ/#what-can-i-do-to-help","text":"Thanks for asking, sometimes it's not quite so obvious and everyone can contribute something different. So here are some ways you can help LibreNMS improve. Code. This is a big thing. We want this community to grow by the software developing and evolving to cater for users needs. The biggest area that people can help make this happen is by providing code support. This doesn't necessarily mean contributing code for discovering a new device: Web UI, a new look and feel has been adopted but we are not finished by any stretch of the imagination. Make suggestions, find and fix bugs, update the design / layout. Poller / Discovery code. Improving it (we think a lot can be done to speed things up), adding new device support and updating old ones. The LibreNMS main website, this is hosted on GitHub like the main repo and we accept use contributions here as well :) Hardware. We don't physically need it but if we are to add device support, it's made a whole lot easier with access to the kit via SNMP. If you've got MIBs, they are handy as well :) If you know the vendor and can get permission to use logos that's also great. Bugs. Found one? We want to know about it. Most bugs are fixed after being spotted and reported by someone, I'd love to say we are amazing developers and will fix all bugs before you spot them but that's just not true. Feature requests. Can't code / won't code. No worries, chuck a feature request into our community forum with enough detail and someone will take a look. A lot of the time this might be what interests someone, they need the same feature or they just have time. Please be patient, everyone who contributes does so in their own time. Documentation. Documentation can always be improved and every little bit helps. Not all features are currently documented or documented well, there's speeling mistakes etc. It's very easy to submit updates through the GitHub website , no git experience needed. Be nice, this is the foundation of this project. We expect everyone to be nice. People will fall out, people will disagree but please do it so in a respectable way. Ask questions. Sometimes just by asking questions you prompt deeper conversations that can lead us to somewhere amazing so please never be afraid to ask a question.","title":" What can I do to help?"},{"location":"Support/FAQ/#how-can-i-test-another-users-branch","text":"LibreNMS can and is developed by anyone, this means someone may be working on a new feature or support for a device that you want. It can be helpful for others to test these new features, using Git, this is made easy. cd /opt/librenms Firstly ensure that your current branch is in good state: git status If you see nothing to commit, working directory clean then let's go for it :) Let's say that you want to test a users (f0o) new development branch (issue-1337) then you can do the following: git remote add f0o https://github.com/f0o/librenms.git git remote update f0o git checkout issue-1337 Once you are done testing, you can easily switch back to the master branch: git checkout master If you want to pull any new updates provided by f0o's branch then whilst you are still in it, do the following: git pull f0o issue-1337","title":" How can I test another users branch?"},{"location":"Support/FAQ/#why-cant-normal-and-global-view-users-see-oxidized","text":"Configs can often contain sensitive data. Because of that only global admins can see configs.","title":" Why can't Normal and Global View users see Oxidized?"},{"location":"Support/FAQ/#what-is-the-demo-user-for","text":"Demo users allow full access except adding/editing users and deleting devices and can't change passwords.","title":" What is the Demo User for?"},{"location":"Support/FAQ/#why-does-modifying-default-alert-template-fail","text":"This template's entry could be missing in the database. Please run: mysql -u librenms -p sql-schema/202.sql","title":" Why does modifying 'Default Alert Template' fail?"},{"location":"Support/FAQ/#why-would-alert-un-mute-itself","text":"If alert un-mutes itself then it most likely means that the alert cleared and is then triggered again. Please review eventlog as it will tell you in there.","title":" Why would alert un-mute itself?"},{"location":"Support/FAQ/#how-do-i-change-the-device-type","text":"You can change the Device Type by going to the device you would like to change, then click on the Gear Icon - Edit. If you would like to define custom types, we suggest using Device Groups . They will be listed in the menu similarly to device types.","title":" How do I change the Device Type?"},{"location":"Support/FAQ/#where-do-i-update-my-database-credentials","text":"If you've changed your database credentials then you will need to update LibreNMS with those new details. Please edit both config.php and .env config.php: $config['db_host'] = ''; $config['db_user'] = ''; $config['db_pass'] = ''; $config['db_name'] = ''; .env : DB_HOST= DB_DATABASE= DB_USERNAME= DB_PASSWORD= DB_PORT=","title":"Where do I update my database credentials?"},{"location":"Support/FAQ/#my-reverse-proxy-is-not-working","text":"Make sure your proxy is passing the proper variables. At a minimum: X-Forwarded-For and X-Forwarded-Proto (X-Forwarded-Port if needed) You also need to Set the proxy or proxies as trusted If you are using a subdirectory on the reverse proxy and not on the actual web server, you may need to set APP_URL and $config['base_url'] .","title":"My reverse proxy is not working"},{"location":"Support/FAQ/#my-alerts-arent-being-delivered-on-time","text":"If you're running MySQL/MariaDB on a separate machine or container make sure the timezone is set properly on both the LibreNMS and MySQL/MariaDB instance. Alerts will be delivered according to MySQL/MariaDB's time, so a mismatch between the two can cause alerts to be delivered late if LibreNMS is on a timezone later than MySQL/MariaDB.","title":"My alerts aren't being delivered on time"},{"location":"Support/Features/","text":"Features Here's a brief list of supported features, some might be missing. If you think something is missing, feel free to ask us. Alerting API Auto Updating Customizable Dashboards Device Backup (Oxidized, RANCID) Distributed Polling Multiple Authentication Methods (MySQL, LDAP, Active Directory, HTTP) NetFlow, sFlow, IPFIX (NfSen) Service monitoring (Nagios Plugins) Syslog (Integrated, Graylog) Traffic Billing (Quota, 95th Percentile) Two Factor Authentication Vendors Here's a brief list of supported vendors, some might be missing. If you are unsure of whether your device is supported or not, feel free to ask us. 3Com ADTRAN Acceidan Aerohive AKCP Alcatel-Lucent Allied Telesis APC Apple Areca Arista Aruba Avaya Avocent AVTECH Axis Barracuda BCM963 BDCom Bintec BNT Brocade Brother Buffalo Calix Cambium Canon Canopy Check Point Cisco Cisco Small Business Citrix Cometsystem Comware D-Link Datacom Deliberant Dell Delta Power Solutions DEVELOP Eaton EMC Engenius Enterasys Epson Extreme Networks F5 Fastback Networks FiberHome Force10 Fortinet FreeBSD Gamatronic Hikvision HP Huawei HW group IBM Infoblox iPoMan ITWatchDogs Juniper Konica Minolta Kyocera Lantronix Lenovo Lexmark Liebert LigoWave Linux Maipu Mellanox Meraki MGE Microsemi Mikrotik MRVLD Multimatic NetApp NetBSD NETGEAR NetMan Netonix Netopia NetVision NetWare NRG OKI OpenBSD Oracle PacketShaper Palo Alto Networks Papouch PBN Perle Powercode Powerwalker Prestige Proxim Proxmox Quanta Radlan Raritan Redback Ricoh Riverbed Ruckus SAF Tehnika Samsung Siklu Sentry3 Solaris SonicWALL SpeedTouch Supermicro Symbol Telco Systems TPLink Tranzeo Tripp Lite Ubiquiti Viprinet VMware VRP Vyatta VyOS Watchguard WebPower Windows Xerox Xirrus ZTE ZyXEL","title":"Features"},{"location":"Support/Features/#features","text":"Here's a brief list of supported features, some might be missing. If you think something is missing, feel free to ask us. Alerting API Auto Updating Customizable Dashboards Device Backup (Oxidized, RANCID) Distributed Polling Multiple Authentication Methods (MySQL, LDAP, Active Directory, HTTP) NetFlow, sFlow, IPFIX (NfSen) Service monitoring (Nagios Plugins) Syslog (Integrated, Graylog) Traffic Billing (Quota, 95th Percentile) Two Factor Authentication","title":"Features"},{"location":"Support/Features/#vendors","text":"Here's a brief list of supported vendors, some might be missing. If you are unsure of whether your device is supported or not, feel free to ask us. 3Com ADTRAN Acceidan Aerohive AKCP Alcatel-Lucent Allied Telesis APC Apple Areca Arista Aruba Avaya Avocent AVTECH Axis Barracuda BCM963 BDCom Bintec BNT Brocade Brother Buffalo Calix Cambium Canon Canopy Check Point Cisco Cisco Small Business Citrix Cometsystem Comware D-Link Datacom Deliberant Dell Delta Power Solutions DEVELOP Eaton EMC Engenius Enterasys Epson Extreme Networks F5 Fastback Networks FiberHome Force10 Fortinet FreeBSD Gamatronic Hikvision HP Huawei HW group IBM Infoblox iPoMan ITWatchDogs Juniper Konica Minolta Kyocera Lantronix Lenovo Lexmark Liebert LigoWave Linux Maipu Mellanox Meraki MGE Microsemi Mikrotik MRVLD Multimatic NetApp NetBSD NETGEAR NetMan Netonix Netopia NetVision NetWare NRG OKI OpenBSD Oracle PacketShaper Palo Alto Networks Papouch PBN Perle Powercode Powerwalker Prestige Proxim Proxmox Quanta Radlan Raritan Redback Ricoh Riverbed Ruckus SAF Tehnika Samsung Siklu Sentry3 Solaris SonicWALL SpeedTouch Supermicro Symbol Telco Systems TPLink Tranzeo Tripp Lite Ubiquiti Viprinet VMware VRP Vyatta VyOS Watchguard WebPower Windows Xerox Xirrus ZTE ZyXEL","title":"Vendors"},{"location":"Support/Install Validation/","text":"Install validation With a lot of configuration possibilities, manually editing config.php means it's not uncommon that mistakes get made. It's also impossible to validate user input in config.php when you're just using a text editor :) So, to try and help with some of the general issues people come across we've put together a simple validation tool which at present will: Validate config.php from a php perspective including whitespace where it shouldn't be. Connection to your MySQL server to verify credentials. Checks if you are running the older alerting system. Checks your rrd directory setup if not running rrdcached. Checks disk space for where /opt/librenms is installed. Checks location to fping Tests MySQL strict mode being enabled Tests for files not owned by librenms user (if configured) Optionally you can also pass -m and a module name for that to be tested. Current modules are: mail - This will validate your mail transport configuration. dist-poller - This will test your distributed poller configuration. rrdcheck - This will test your rrd files to see if they are unreadable or corrupted (source of broken graphs). You can run validate.php as root by executing ./validate.php within your install directory. The output will provide you either a clean bill of health or a list of things you need to fix: OK - This is a good thing, you can skip over these :) WARN - You probably want to check this out. FAIL - This is going to need your attention! Validate from the WebUI You can validate your LibreNMS install from the WebUI, using the nav bar and clicking on the little Gear Icon - Validate Config. Then You should see the results of validate. Below is just example of the results.","title":"Install validation"},{"location":"Support/Install Validation/#install-validation","text":"With a lot of configuration possibilities, manually editing config.php means it's not uncommon that mistakes get made. It's also impossible to validate user input in config.php when you're just using a text editor :) So, to try and help with some of the general issues people come across we've put together a simple validation tool which at present will: Validate config.php from a php perspective including whitespace where it shouldn't be. Connection to your MySQL server to verify credentials. Checks if you are running the older alerting system. Checks your rrd directory setup if not running rrdcached. Checks disk space for where /opt/librenms is installed. Checks location to fping Tests MySQL strict mode being enabled Tests for files not owned by librenms user (if configured) Optionally you can also pass -m and a module name for that to be tested. Current modules are: mail - This will validate your mail transport configuration. dist-poller - This will test your distributed poller configuration. rrdcheck - This will test your rrd files to see if they are unreadable or corrupted (source of broken graphs). You can run validate.php as root by executing ./validate.php within your install directory. The output will provide you either a clean bill of health or a list of things you need to fix: OK - This is a good thing, you can skip over these :) WARN - You probably want to check this out. FAIL - This is going to need your attention!","title":"Install validation"},{"location":"Support/Install Validation/#validate-from-the-webui","text":"You can validate your LibreNMS install from the WebUI, using the nav bar and clicking on the little Gear Icon - Validate Config. Then You should see the results of validate. Below is just example of the results.","title":"Validate from the WebUI"},{"location":"Support/Performance/","text":"Performance optimisations This document will give you some guidance on optimising your setup. The suggestions are in a rough order of how much impact they will have. RRDCached We absolutely recommend running this, it will save on IO load . RRDCached MySQL Optimisation It's advisable after 24 hours of running MySQL that you run MySQL Tuner which will make suggestions on things you can change specific to your setup. One recommendation we can make is that you set the following in my.cnf under a [mysqld] group: innodb_flush_log_at_trx_commit = 0 You can also set this to 2. This will have the possibility that you could lose up to 1 second on mysql data in the event MySQL crashes or your server does but it provides an amazing difference in IO use. Polling modules Disable polling (and discovery) modules that you do not need. You can do this globally in config.php like: Disable OSPF polling $config['poller_modules']['ospf'] = false; You can disable modules globally then re-enable the module per device or the opposite way. For a list of modules please see Poller modules SNMP Max Repeaters We have support for SNMP Max repeaters which can be handy on devices where we poll a lot of ports or bgp sessions for instance and where snmpwalk or snmpbulkwalk is used. This needs to be enabled on a per device basis under edit device - snmp - Max repeaters. You can also set this globally with the config option $config['snmp']['max_repeaters'] = X; . It's advisable to test the time taken to snmpwalk IF-MIB or something similar to work out what the best value is. To do this run the following but replace with varying numbers from 10 upto around 50. You will also need to set the correct snmp version, hostname and community string: time snmpbulkwalk -v2c -cpublic HOSTNAME -Cr REPEATERS -M /opt/librenms/mibs -m IF-MIB IfEntry NOTE: Do not go blindly setting this value as you can impact polling negatively. SNMP Max OIDs For sensors polling we now do bulk snmp gets to speed things up. By default this is ten but you can overwrite this per device under edit device - snmp - Max OIDs. You can also set this globally with the config option $config['snmp']['max_oid'] = X; . NOTE: It is advisable to monitor sensor polling when you change this to ensure you don't set the value too high. fping tuning You can change some of the default fping options used globally or per device. The defaults are: $config['fping_options']['timeout'] = 500; $config['fping_options']['count'] = 3; $config['fping_options']['interval'] = 500; If your devices are slow to respond then you will need to increase the timeout value and potentially the interval value. However if your network is stable, you can increase poller performance by dropping the count value to 1 and/or the timeout+millsec value to 200 or 300: $config['fping_options']['timeout'] = 300; $config['fping_options']['count'] = 1; $config['fping_options']['interval'] = 300; This will mean that we no longer delay each icmp packet sent (we send 3 in total by default) by 0.5 seconds. With only 1 icmp packet being sent then we will receive a response quicker. The defaults mean it will take at least 1 second for a response no matter how quick the icmp packet is returned. Optimise poller-wrapper The default 16 threads that poller-wrapper.py runs as isn't necessarily the optimal number. A general rule of thumb is 2 threads per core but we suggest that you play around with lowering / increasing the number until you get the optimal value. Note KEEP in MIND that this doesn't always help, it depends on your system and CPU. So be careful. This can be changed by going to the cron job for librenms. Usually in /etc/cron.d/librenms and changing the \"16\" */5 * * * * librenms /opt/librenms/cronic /opt/librenms/poller-wrapper.py 16 Recursive DNS If your install uses hostnames for devices and you have quite a lot then it's advisable to setup a local recursive dns instance on the LibreNMS server. Something like pdns-recursor can be used and then configure /etc/resolv.conf to use 127.0.0.1 for queries. Per port polling - experimental By default the polling ports module will walk ifXEntry + some items from ifEntry regardless of the port. So if a port is marked as deleted because you don't want to see them or it's disabled then we still collect data. For the most part this is fine as the walks are quite quick. However for devices with a lot of ports and good % of those are either deleted or disabled then this approach isn't optimal. So to counter this you can enable 'selected port polling' per device within the edit device - misc section or by globally enabling it ( not recommended ): $config['polling']['selected_ports'] = true; . You can also set it for a specific OS: $config['os']['ios']['polling']['selected_ports'] = true; . Running ./scripts/collect-port-polling.php will poll your devices with both full and selective polling, display a table with the difference and optionally enable or disable selected ports polling for devices which would benefit from a change. Note that it doesn't continously re-evaluate this, it will only be updated when the script is run. There are a number of options: -h device id | device hostname wildcard Poll single device or wildcard hostname -e percentage Enable/disable selected ports polling for devices which would benefit percentage from a change Web interface HTTP/2 If you are running https then you should enable http/2 support in whatever web server you use: For Nginx (1.9.5 and above) change listen 443 ssl; to listen 443 ssl http2; in the Virtualhost config. For Apache (2.4.17 an above) set Protocols h2 http/1.1 in the Virtualhost config.","title":"Performance optimisations"},{"location":"Support/Performance/#performance-optimisations","text":"This document will give you some guidance on optimising your setup. The suggestions are in a rough order of how much impact they will have.","title":"Performance optimisations"},{"location":"Support/Performance/#rrdcached","text":"We absolutely recommend running this, it will save on IO load . RRDCached","title":"RRDCached"},{"location":"Support/Performance/#mysql-optimisation","text":"It's advisable after 24 hours of running MySQL that you run MySQL Tuner which will make suggestions on things you can change specific to your setup. One recommendation we can make is that you set the following in my.cnf under a [mysqld] group: innodb_flush_log_at_trx_commit = 0 You can also set this to 2. This will have the possibility that you could lose up to 1 second on mysql data in the event MySQL crashes or your server does but it provides an amazing difference in IO use.","title":"MySQL Optimisation"},{"location":"Support/Performance/#polling-modules","text":"Disable polling (and discovery) modules that you do not need. You can do this globally in config.php like: Disable OSPF polling $config['poller_modules']['ospf'] = false; You can disable modules globally then re-enable the module per device or the opposite way. For a list of modules please see Poller modules","title":"Polling modules"},{"location":"Support/Performance/#snmp-max-repeaters","text":"We have support for SNMP Max repeaters which can be handy on devices where we poll a lot of ports or bgp sessions for instance and where snmpwalk or snmpbulkwalk is used. This needs to be enabled on a per device basis under edit device - snmp - Max repeaters. You can also set this globally with the config option $config['snmp']['max_repeaters'] = X; . It's advisable to test the time taken to snmpwalk IF-MIB or something similar to work out what the best value is. To do this run the following but replace with varying numbers from 10 upto around 50. You will also need to set the correct snmp version, hostname and community string: time snmpbulkwalk -v2c -cpublic HOSTNAME -Cr REPEATERS -M /opt/librenms/mibs -m IF-MIB IfEntry NOTE: Do not go blindly setting this value as you can impact polling negatively.","title":"SNMP Max Repeaters"},{"location":"Support/Performance/#snmp-max-oids","text":"For sensors polling we now do bulk snmp gets to speed things up. By default this is ten but you can overwrite this per device under edit device - snmp - Max OIDs. You can also set this globally with the config option $config['snmp']['max_oid'] = X; . NOTE: It is advisable to monitor sensor polling when you change this to ensure you don't set the value too high.","title":"SNMP Max OIDs"},{"location":"Support/Performance/#fping-tuning","text":"You can change some of the default fping options used globally or per device. The defaults are: $config['fping_options']['timeout'] = 500; $config['fping_options']['count'] = 3; $config['fping_options']['interval'] = 500; If your devices are slow to respond then you will need to increase the timeout value and potentially the interval value. However if your network is stable, you can increase poller performance by dropping the count value to 1 and/or the timeout+millsec value to 200 or 300: $config['fping_options']['timeout'] = 300; $config['fping_options']['count'] = 1; $config['fping_options']['interval'] = 300; This will mean that we no longer delay each icmp packet sent (we send 3 in total by default) by 0.5 seconds. With only 1 icmp packet being sent then we will receive a response quicker. The defaults mean it will take at least 1 second for a response no matter how quick the icmp packet is returned.","title":"fping tuning"},{"location":"Support/Performance/#optimise-poller-wrapper","text":"The default 16 threads that poller-wrapper.py runs as isn't necessarily the optimal number. A general rule of thumb is 2 threads per core but we suggest that you play around with lowering / increasing the number until you get the optimal value. Note KEEP in MIND that this doesn't always help, it depends on your system and CPU. So be careful. This can be changed by going to the cron job for librenms. Usually in /etc/cron.d/librenms and changing the \"16\" */5 * * * * librenms /opt/librenms/cronic /opt/librenms/poller-wrapper.py 16","title":"Optimise poller-wrapper"},{"location":"Support/Performance/#recursive-dns","text":"If your install uses hostnames for devices and you have quite a lot then it's advisable to setup a local recursive dns instance on the LibreNMS server. Something like pdns-recursor can be used and then configure /etc/resolv.conf to use 127.0.0.1 for queries.","title":"Recursive DNS"},{"location":"Support/Performance/#per-port-polling-experimental","text":"By default the polling ports module will walk ifXEntry + some items from ifEntry regardless of the port. So if a port is marked as deleted because you don't want to see them or it's disabled then we still collect data. For the most part this is fine as the walks are quite quick. However for devices with a lot of ports and good % of those are either deleted or disabled then this approach isn't optimal. So to counter this you can enable 'selected port polling' per device within the edit device - misc section or by globally enabling it ( not recommended ): $config['polling']['selected_ports'] = true; . You can also set it for a specific OS: $config['os']['ios']['polling']['selected_ports'] = true; . Running ./scripts/collect-port-polling.php will poll your devices with both full and selective polling, display a table with the difference and optionally enable or disable selected ports polling for devices which would benefit from a change. Note that it doesn't continously re-evaluate this, it will only be updated when the script is run. There are a number of options: -h device id | device hostname wildcard Poll single device or wildcard hostname -e percentage Enable/disable selected ports polling for devices which would benefit percentage from a change","title":"Per port polling - experimental"},{"location":"Support/Performance/#web-interface","text":"","title":"Web interface"},{"location":"Support/Performance/#http2","text":"If you are running https then you should enable http/2 support in whatever web server you use: For Nginx (1.9.5 and above) change listen 443 ssl; to listen 443 ssl http2; in the Virtualhost config. For Apache (2.4.17 an above) set Protocols h2 http/1.1 in the Virtualhost config.","title":"HTTP/2"},{"location":"Support/Poller Support/","text":"poller.php This document will explain how to use poller.php to debug issues or manually running to process data. Command options LibreNMS 2014.master Poller -h device id | device hostname wildcard Poll single device -h odd Poll odd numbered devices (same as -i 2 -n 0) -h even Poll even numbered devices (same as -i 2 -n 1) -h all Poll all devices -i instances -n number Poll as instance number of instances Instances start at 0. 0-3 for -n 4 Debugging and testing options: -r Do not create or update RRDs -f Do not insert data into InfluxDB -d Enable debugging output -v Enable verbose debugging output -m Specify module(s) to be run. Comma separate modules, submodules may be added with / -h Use this to specify a device via either id or hostname (including wildcard using *). You can also specify odd and even. all will run poller against all devices. -i This can be used to stagger the poller process. -r This option will suppress the creation or update of RRD files. -d Enables debugging output (verbose output but with most sensitive data masked) so that you can see what is happening during a poller run. This includes things like rrd updates, SQL queries and response from snmp. -v Enables verbose debugging output with all data in tact. -m This enables you to specify the module you want to run for poller. Poller Wrapper We have a poller-wrapper.py script by Job Snijders . This script is currently the default. If you need to debug the output of poller-wrapper.py then you can add -d to the end of the command - it is NOT recommended to do this in cron. Poller config These are the default poller config items. You can globally disable a module by setting it to 0. If you just want to disable it for one device then you can do this within the WebUI - Settings - Modules. $config['poller_modules']['unix-agent'] = false; $config['poller_modules']['os'] = true; $config['poller_modules']['ipmi'] = true; $config['poller_modules']['sensors'] = true; $config['poller_modules']['processors'] = true; $config['poller_modules']['mempools'] = true; $config['poller_modules']['storage'] = true; $config['poller_modules']['netstats'] = true; $config['poller_modules']['hr-mib'] = true; $config['poller_modules']['ucd-mib'] = true; $config['poller_modules']['ipSystemStats'] = true; $config['poller_modules']['ports'] = true; $config['poller_modules']['bgp-peers'] = true; $config['poller_modules']['junose-atm-vp'] = false; $config['poller_modules']['toner'] = false; $config['poller_modules']['ucd-diskio'] = true; $config['poller_modules']['wireless'] = true; $config['poller_modules']['ospf'] = true; $config['poller_modules']['cisco-ipsec-flow-monitor'] = false; $config['poller_modules']['cisco-remote-access-monitor'] = false; $config['poller_modules']['cisco-cef'] = false; $config['poller_modules']['cisco-sla'] = false; $config['poller_modules']['cisco-mac-accounting'] = false; $config['poller_modules']['cipsec-tunnels'] = false; $config['poller_modules']['cisco-ace-loadbalancer'] = false; $config['poller_modules']['cisco-ace-serverfarms'] = false; $config['poller_modules']['cisco-asa-firewall'] = false; $config['poller_modules']['cisco-voice'] = false; $config['poller_modules']['cisco-cbqos'] = false; $config['poller_modules']['cisco-otv'] = false; $config['poller_modules']['cisco-vpdn'] = false; $config['poller_modules']['netscaler-vsvr'] = false; $config['poller_modules']['aruba-controller'] = false; $config['poller_modules']['entity-physical'] = true; $config['poller_modules']['entity-state'] = false; $config['poller_modules']['applications'] = true; $config['poller_modules']['mib'] = false; $config['poller_modules']['stp'] = true; $config['poller_modules']['ntp'] = true; $config['poller_modules']['services'] = true; $config['poller_modules']['loadbalancers'] = false; $config['poller_modules']['mef'] = false; OS based Poller config You can enable or disable modules for a specific OS by add corresponding line in config.php OS based settings have preference over global. Device based settings have preference over all others Poller performance improvement can be achieved by deactivating all modules that are not supported by specific OS. E.g. to deactivate spanning tree but activate unix-agent module for linux OS $config['os']['linux']['poller_modules']['stp'] = false; $config['os']['linux']['poller_modules']['unix-agent'] = true; Poller modules unix-agent : Enable the check_mk agent for external support for applications. system : Provides information on some common items like uptime, sysDescr and sysContact. os : Os detection. This module will pick up the OS of the device. ipmi : Enables support for IPMI if login details have been provided for IPMI. sensors : Sensor detection such as Temperature, Humidity, Voltages + More. processors : Processor support for devices. mempools : Memory detection support for devices. storage : Storage detection for hard disks netstats : Statistics for IP, TCP, UDP, ICMP and SNMP. hr-mib : Host resource support. ucd-mib : Support for CPU, Memory and Load. ipSystemStats : IP statistics for device. ports : This module will detect all ports on a device excluding ones configured to be ignored by config options. bgp-peers : BGP detection and support. junose-atm-vp : Juniper ATM support. toner : Toner levels support. ucd-diskio : Disk I/O support. wifi : WiFi Support for those devices with support. ospf : OSPF Support. cisco-ipsec-flow-monitor : IPSec statistics support. cisco-remote-access-monitor : Cisco remote access support. cisco-cef : CEF detection and support. cisco-sla : SLA detection and support. cisco-mac-accounting : MAC Address account support. cipsec-tunnels : IPSec tunnel support. cisco-ace-loadbalancer : Cisco ACE Support. cisco-ace-serverfarms : Cisco ACE Support. netscaler-vsvr : Netscaler support. aruba-controller : Aruba wireless controller support. entity-physical : Module to pick up the devices hardware support. applications : Device application support. cisco-asa-firewall : Cisco ASA firewall support. mib : Support for generic MIB parsing. Running Here are some examples of running poller from within your install directory. ./poller.php -h localhost ./poller.php -h localhost -m ports Debugging To provide debugging output you will need to run the poller process with the -d flag. You can do this either against all modules, single or multiple modules: All Modules ./poller.php -h localhost -d Single Module ./poller.php -h localhost -m ports -d Multiple Modules ./poller.php -h localhost -m ports,entity-physical -d Using -d shouldn't output much sensitive information, -v will so it is then advisable to sanitise the output before pasting it somewhere as the debug output will contain snmp details amongst other items including port descriptions. The output will contain: DB Updates RRD Updates SNMP Response","title":"Poller Support"},{"location":"Support/Poller Support/#pollerphp","text":"This document will explain how to use poller.php to debug issues or manually running to process data.","title":"poller.php"},{"location":"Support/Poller Support/#command-options","text":"LibreNMS 2014.master Poller -h device id | device hostname wildcard Poll single device -h odd Poll odd numbered devices (same as -i 2 -n 0) -h even Poll even numbered devices (same as -i 2 -n 1) -h all Poll all devices -i instances -n number Poll as instance number of instances Instances start at 0. 0-3 for -n 4 Debugging and testing options: -r Do not create or update RRDs -f Do not insert data into InfluxDB -d Enable debugging output -v Enable verbose debugging output -m Specify module(s) to be run. Comma separate modules, submodules may be added with / -h Use this to specify a device via either id or hostname (including wildcard using *). You can also specify odd and even. all will run poller against all devices. -i This can be used to stagger the poller process. -r This option will suppress the creation or update of RRD files. -d Enables debugging output (verbose output but with most sensitive data masked) so that you can see what is happening during a poller run. This includes things like rrd updates, SQL queries and response from snmp. -v Enables verbose debugging output with all data in tact. -m This enables you to specify the module you want to run for poller.","title":"Command options"},{"location":"Support/Poller Support/#poller-wrapper","text":"We have a poller-wrapper.py script by Job Snijders . This script is currently the default. If you need to debug the output of poller-wrapper.py then you can add -d to the end of the command - it is NOT recommended to do this in cron.","title":"Poller Wrapper"},{"location":"Support/Poller Support/#poller-config","text":"These are the default poller config items. You can globally disable a module by setting it to 0. If you just want to disable it for one device then you can do this within the WebUI - Settings - Modules. $config['poller_modules']['unix-agent'] = false; $config['poller_modules']['os'] = true; $config['poller_modules']['ipmi'] = true; $config['poller_modules']['sensors'] = true; $config['poller_modules']['processors'] = true; $config['poller_modules']['mempools'] = true; $config['poller_modules']['storage'] = true; $config['poller_modules']['netstats'] = true; $config['poller_modules']['hr-mib'] = true; $config['poller_modules']['ucd-mib'] = true; $config['poller_modules']['ipSystemStats'] = true; $config['poller_modules']['ports'] = true; $config['poller_modules']['bgp-peers'] = true; $config['poller_modules']['junose-atm-vp'] = false; $config['poller_modules']['toner'] = false; $config['poller_modules']['ucd-diskio'] = true; $config['poller_modules']['wireless'] = true; $config['poller_modules']['ospf'] = true; $config['poller_modules']['cisco-ipsec-flow-monitor'] = false; $config['poller_modules']['cisco-remote-access-monitor'] = false; $config['poller_modules']['cisco-cef'] = false; $config['poller_modules']['cisco-sla'] = false; $config['poller_modules']['cisco-mac-accounting'] = false; $config['poller_modules']['cipsec-tunnels'] = false; $config['poller_modules']['cisco-ace-loadbalancer'] = false; $config['poller_modules']['cisco-ace-serverfarms'] = false; $config['poller_modules']['cisco-asa-firewall'] = false; $config['poller_modules']['cisco-voice'] = false; $config['poller_modules']['cisco-cbqos'] = false; $config['poller_modules']['cisco-otv'] = false; $config['poller_modules']['cisco-vpdn'] = false; $config['poller_modules']['netscaler-vsvr'] = false; $config['poller_modules']['aruba-controller'] = false; $config['poller_modules']['entity-physical'] = true; $config['poller_modules']['entity-state'] = false; $config['poller_modules']['applications'] = true; $config['poller_modules']['mib'] = false; $config['poller_modules']['stp'] = true; $config['poller_modules']['ntp'] = true; $config['poller_modules']['services'] = true; $config['poller_modules']['loadbalancers'] = false; $config['poller_modules']['mef'] = false;","title":"Poller config"},{"location":"Support/Poller Support/#os-based-poller-config","text":"You can enable or disable modules for a specific OS by add corresponding line in config.php OS based settings have preference over global. Device based settings have preference over all others Poller performance improvement can be achieved by deactivating all modules that are not supported by specific OS. E.g. to deactivate spanning tree but activate unix-agent module for linux OS $config['os']['linux']['poller_modules']['stp'] = false; $config['os']['linux']['poller_modules']['unix-agent'] = true;","title":"OS based Poller config"},{"location":"Support/Poller Support/#poller-modules","text":"unix-agent : Enable the check_mk agent for external support for applications. system : Provides information on some common items like uptime, sysDescr and sysContact. os : Os detection. This module will pick up the OS of the device. ipmi : Enables support for IPMI if login details have been provided for IPMI. sensors : Sensor detection such as Temperature, Humidity, Voltages + More. processors : Processor support for devices. mempools : Memory detection support for devices. storage : Storage detection for hard disks netstats : Statistics for IP, TCP, UDP, ICMP and SNMP. hr-mib : Host resource support. ucd-mib : Support for CPU, Memory and Load. ipSystemStats : IP statistics for device. ports : This module will detect all ports on a device excluding ones configured to be ignored by config options. bgp-peers : BGP detection and support. junose-atm-vp : Juniper ATM support. toner : Toner levels support. ucd-diskio : Disk I/O support. wifi : WiFi Support for those devices with support. ospf : OSPF Support. cisco-ipsec-flow-monitor : IPSec statistics support. cisco-remote-access-monitor : Cisco remote access support. cisco-cef : CEF detection and support. cisco-sla : SLA detection and support. cisco-mac-accounting : MAC Address account support. cipsec-tunnels : IPSec tunnel support. cisco-ace-loadbalancer : Cisco ACE Support. cisco-ace-serverfarms : Cisco ACE Support. netscaler-vsvr : Netscaler support. aruba-controller : Aruba wireless controller support. entity-physical : Module to pick up the devices hardware support. applications : Device application support. cisco-asa-firewall : Cisco ASA firewall support. mib : Support for generic MIB parsing.","title":"Poller modules"},{"location":"Support/Poller Support/#running","text":"Here are some examples of running poller from within your install directory. ./poller.php -h localhost ./poller.php -h localhost -m ports","title":"Running"},{"location":"Support/Poller Support/#debugging","text":"To provide debugging output you will need to run the poller process with the -d flag. You can do this either against all modules, single or multiple modules: All Modules ./poller.php -h localhost -d Single Module ./poller.php -h localhost -m ports -d Multiple Modules ./poller.php -h localhost -m ports,entity-physical -d Using -d shouldn't output much sensitive information, -v will so it is then advisable to sanitise the output before pasting it somewhere as the debug output will contain snmp details amongst other items including port descriptions. The output will contain: DB Updates RRD Updates SNMP Response","title":"Debugging"},{"location":"Support/Remote-Monitoring-VPN/","text":"Remote monitoring using tinc VPN This article describes how to use tinc to connect several remote sites and their subnets to your central monitoring server. This will let you connect to devices on remote private IP ranges through one gateway on each site, routing them securely back to your LibreNMS installation. Configuring the monitoring server tinc should be available on nearly all Linux distributions via package management. If you are running something different, just take a look at tinc's homepage to find an appropriate version for your operating system: https://www.tinc-vpn.org/download/ I am going to describe the setup for Debian-based systems, but there are virtually no differences for e.g. CentOS or similar. First make sure your firewall accepts connections on port 655 UDP and TCP. Then install tinc via apt-get install tinc . Create the following directory structure to hold all your configuration files: mkdir -p /etc/tinc/myvpn/hosts \"myvpn\" is your VPN network's name and can be chosen freely. Create your main configuration file: vim /etc/tinc/myvpn/tinc.conf Name = monitoring AddressFamily = ipv4 Device = /dev/net/tun Next we need network up- and down scripts to define a few network settings for inside our VPN: vim /etc/tinc/myvpn/tinc-up #!/bin/sh ifconfig $INTERFACE 10.6.1.1 netmask 255.255.255.0 ip route add 10.6.1.1/24 dev $INTERFACE ip route add 10.0.0.0/22 dev $INTERFACE ip route add 10.100.0.0/22 dev $INTERFACE ip route add 10.200.0.0/22 dev $INTERFACE In this example we have 10.6.1.1 as the VPN IP address for the monitoring server on a /24 subnet. $INTERFACE will be automatically substituted with the name of the VPN, \"myvpn\" in this case. Then we have a route for the VPN subnet, so we can reach other sites via their VPN address. The last 3 lines designate the remote subnets. In the example I want to reach devices on three different remote private /22 subnets and be able to monitor devices on them from this server, so I set up routes for each of those remote sites in my tinc-up script. The tinc-down script is relatively simple as it just removes the custom interface, which should get rid of the routes as well: vim /etc/tinc/myvpn/tinc-down #!/bin/sh ifconfig $INTERFACE down Make sure your scripts scan be executed: chmod +x /etc/tinc/myvpn/tinc-* As a last step we need a host configuration file. This should be named the same as the \"Name\" you defined in tinc.conf: vim /etc/tinc/myvpn/hosts/monitoring Subnet = 10.6.1.1/32 On the monitoring server we will just fill in the subnet and not define its external IP address to make sure it listens on all available external interfaces. It's time to use tinc to create our key-pair: tincd -n myvpn -K Now the file /etc/tinc/myvpn/hosts/monitoring should have an RSA public key appended to it and your private key should reside in /etc/tinc/myvpn/rsa_key.priv . To make sure that the connection will be restored after each reboot, you can add your VPN name to /etc/tinc/nets.boot . Now you can start tinc with tincd -n myvpn and it will listen for your remote sites to connect to it. Remote site configuration Essentially the same steps as for your central monitoring server apply for all remote gateway devices. These can be routers, or just any computer or VM running on the remote subnet, able to reach the internet with the ability to forward IP packets externally. Install tinc Create directory structure: mkdir -p /etc/tinc/myvpn/hosts Create main configuration: vim /etc/tinc/myvpn/tinc.conf Name = remote1 AddressFamily = ipv4 Device = /dev/net/tun ConnectTo = monitoring Create up script: vim /etc/tinc/myvpn/tinc-up #!/bin/sh ifconfig $INTERFACE 10.6.1.2 netmask 255.255.255.0 ip route add 10.6.1.2/32 dev $INTERFACE Create down script: vim /etc/tinc/myvpn/tinc-down #!/bin/sh ifconfig $INTERFACE down Make executable: chmod +x /etc/tinc/myvpn/tinc* Create device configuration: vim /etc/tinc/myvpn/hosts/remote1 Address = 198.51.100.2 Subnet = 10.0.0.0/22 This defines the device IP address outside of the VPN and the subnet it will expose. Copy over the monitoring server's host configuration (including the embedded public key) and add it's external IP address: vim /etc/tinc/myvpn/hosts/monitoring Address = 203.0.113.6 Subnet = 10.6.1.1/32 -----BEGIN RSA PUBLIC KEY----- VeDyaqhKd4o2Fz... Generate this device's keys: tincd -n myvpn -K Copy over this devices host file including the embedded public key to your monitoring server. Add the name for the VPN to /etc/tinc/nets.boot if you want to autostart the connection upon reboot. Start tinc: tincd -n myvpn These steps can basically be repeated for every remote site just choosing different names and other internal IP addresses. In my case I connected 3 remote sites running behind Ubiquiti EdgeRouters. Since those devices let me install software through Debian's package management it was very easy to set up. Just create the necessary configuration files and network scripts on each device and distribute the host configurations including the public keys to each device that will actively connect back. Now you can add all devices you want to monitor in LibreNMS using their internal IP address on the remote subnets or using some form of name resolution. I opted to declare the most important devices in my /etc/hosts file on the monitoring server. As an added bonus tinc is a mesh VPN, so in theory you could specify several \"ConnectTo\" on each device and they should hold connections even if one network path goes down.","title":"Remote monitoring using tinc VPN"},{"location":"Support/Remote-Monitoring-VPN/#remote-monitoring-using-tinc-vpn","text":"This article describes how to use tinc to connect several remote sites and their subnets to your central monitoring server. This will let you connect to devices on remote private IP ranges through one gateway on each site, routing them securely back to your LibreNMS installation.","title":"Remote monitoring using tinc VPN"},{"location":"Support/Remote-Monitoring-VPN/#configuring-the-monitoring-server","text":"tinc should be available on nearly all Linux distributions via package management. If you are running something different, just take a look at tinc's homepage to find an appropriate version for your operating system: https://www.tinc-vpn.org/download/ I am going to describe the setup for Debian-based systems, but there are virtually no differences for e.g. CentOS or similar. First make sure your firewall accepts connections on port 655 UDP and TCP. Then install tinc via apt-get install tinc . Create the following directory structure to hold all your configuration files: mkdir -p /etc/tinc/myvpn/hosts \"myvpn\" is your VPN network's name and can be chosen freely. Create your main configuration file: vim /etc/tinc/myvpn/tinc.conf Name = monitoring AddressFamily = ipv4 Device = /dev/net/tun Next we need network up- and down scripts to define a few network settings for inside our VPN: vim /etc/tinc/myvpn/tinc-up #!/bin/sh ifconfig $INTERFACE 10.6.1.1 netmask 255.255.255.0 ip route add 10.6.1.1/24 dev $INTERFACE ip route add 10.0.0.0/22 dev $INTERFACE ip route add 10.100.0.0/22 dev $INTERFACE ip route add 10.200.0.0/22 dev $INTERFACE In this example we have 10.6.1.1 as the VPN IP address for the monitoring server on a /24 subnet. $INTERFACE will be automatically substituted with the name of the VPN, \"myvpn\" in this case. Then we have a route for the VPN subnet, so we can reach other sites via their VPN address. The last 3 lines designate the remote subnets. In the example I want to reach devices on three different remote private /22 subnets and be able to monitor devices on them from this server, so I set up routes for each of those remote sites in my tinc-up script. The tinc-down script is relatively simple as it just removes the custom interface, which should get rid of the routes as well: vim /etc/tinc/myvpn/tinc-down #!/bin/sh ifconfig $INTERFACE down Make sure your scripts scan be executed: chmod +x /etc/tinc/myvpn/tinc-* As a last step we need a host configuration file. This should be named the same as the \"Name\" you defined in tinc.conf: vim /etc/tinc/myvpn/hosts/monitoring Subnet = 10.6.1.1/32 On the monitoring server we will just fill in the subnet and not define its external IP address to make sure it listens on all available external interfaces. It's time to use tinc to create our key-pair: tincd -n myvpn -K Now the file /etc/tinc/myvpn/hosts/monitoring should have an RSA public key appended to it and your private key should reside in /etc/tinc/myvpn/rsa_key.priv . To make sure that the connection will be restored after each reboot, you can add your VPN name to /etc/tinc/nets.boot . Now you can start tinc with tincd -n myvpn and it will listen for your remote sites to connect to it.","title":"Configuring the monitoring server"},{"location":"Support/Remote-Monitoring-VPN/#remote-site-configuration","text":"Essentially the same steps as for your central monitoring server apply for all remote gateway devices. These can be routers, or just any computer or VM running on the remote subnet, able to reach the internet with the ability to forward IP packets externally. Install tinc Create directory structure: mkdir -p /etc/tinc/myvpn/hosts Create main configuration: vim /etc/tinc/myvpn/tinc.conf Name = remote1 AddressFamily = ipv4 Device = /dev/net/tun ConnectTo = monitoring Create up script: vim /etc/tinc/myvpn/tinc-up #!/bin/sh ifconfig $INTERFACE 10.6.1.2 netmask 255.255.255.0 ip route add 10.6.1.2/32 dev $INTERFACE Create down script: vim /etc/tinc/myvpn/tinc-down #!/bin/sh ifconfig $INTERFACE down Make executable: chmod +x /etc/tinc/myvpn/tinc* Create device configuration: vim /etc/tinc/myvpn/hosts/remote1 Address = 198.51.100.2 Subnet = 10.0.0.0/22 This defines the device IP address outside of the VPN and the subnet it will expose. Copy over the monitoring server's host configuration (including the embedded public key) and add it's external IP address: vim /etc/tinc/myvpn/hosts/monitoring Address = 203.0.113.6 Subnet = 10.6.1.1/32 -----BEGIN RSA PUBLIC KEY----- VeDyaqhKd4o2Fz... Generate this device's keys: tincd -n myvpn -K Copy over this devices host file including the embedded public key to your monitoring server. Add the name for the VPN to /etc/tinc/nets.boot if you want to autostart the connection upon reboot. Start tinc: tincd -n myvpn These steps can basically be repeated for every remote site just choosing different names and other internal IP addresses. In my case I connected 3 remote sites running behind Ubiquiti EdgeRouters. Since those devices let me install software through Debian's package management it was very easy to set up. Just create the necessary configuration files and network scripts on each device and distribute the host configurations including the public keys to each device that will actively connect back. Now you can add all devices you want to monitor in LibreNMS using their internal IP address on the remote subnets or using some form of name resolution. I opted to declare the most important devices in my /etc/hosts file on the monitoring server. As an added bonus tinc is a mesh VPN, so in theory you could specify several \"ConnectTo\" on each device and they should hold connections even if one network path goes down.","title":"Remote site configuration"},{"location":"Support/SNMP-Configuration-Examples/","text":"SNMP configuration examples Table of Content: - Devices - Cisco - Adaptive Security Appliance (ASA) - IOS / IOS XE - NX-OS - Wireless LAN Controller (WLC) - HPE 3PAR - Inform OS 3.2.x - Infoblox - NIOS 7.x+ - Juniper - Junos OS - Mikrotik - RouterOS 6.x - Palo Alto - PANOS 6.x/7.x - VMware - ESX/ESXi 5.x/6.x - VCenter 6.x - Operating systems - Linux (snmpd v2) - Linux (snmpd v3) - Windows Server 2008 R2 - Windows Server 2012 R2 and 2016 - Mac OSX Devices Cisco Adaptive Security Appliance (ASA) ASDM Launch ASDM and connect to your device Go to Configuration Management Access SNMP Add your community string Add in the \"SNMP Host Access List\" section your LibreNMS server IP address Click Apply and Save CLI # SNMPv2c snmp-server community YOUR-COMMUNITY snmp-server contact YOUR-CONTACT snmp-server location YOUR-LOCATION snmp-server host INTERFACE LIBRENMS-IP poll community YOUR-COMMUNITY version 2c # SNMPv3 snmp-server group GROUP-NAME v3 priv snmp-server user USER-NAME GROUP-NAME v3 auth sha AUTH-PASSWORD priv aes 128 PRIV-PASSWORD snmp-server contact YOUR-CONTACT snmp-server location YOUR-LOCATION snmp-server host INTERFACE LIBRENMS-IP poll version 3 USER-NAME IOS / IOS XE # SNMPv2c snmp-server community YOUR-COMMUNITY RO snmp-server contact YOUR-CONTACT snmp-server location YOUR-LOCATION # SNMPv3 snmp-server group GROUP-NAME v3 priv snmp-server user USER-NAME GROUP-NAME v3 auth sha AUTH-PASSWORD priv aes 128 PRIV-PASSWORD snmp-server contact YOUR-CONTACT snmp-server location YOUR-LOCATION # Note: The following is also required if using SNMPv3 and you want to populate the FDB table. snmp-server group GROUP-NAME v3 priv context vlan- match prefix NX-OS # SNMPv2c snmp-server community YOUR-COMMUNITY RO snmp-server contact YOUR-CONTACT snmp-server location YOUR-LOCATION # SNMPv3 snmp-server user USER-NAME GROUP-NAME v3 auth sha AUTH-PASSWORD priv aes 128 PRIV-PASSWORD snmp-server contact YOUR-CONTACT snmp-server location YOUR-LOCATION Wireless LAN Controller (WLC) Access the web admin page and log in If you are running version 8.1 and later, on the new dashboard click \"Advanced\" Go to management Tab On SNMP sub-menu, select \"Communities\" Click \"New...\" Add your community name and leave IP addresses empty Click Apply and Save HPE 3PAR Inform OS 3.2.x Access the CLI Add an SNMP Manager with your LibreNMS IP address: addsnmpmgr librenms ip Add your SNMP community: setsnmppw community Infoblox NIOS 7.x+ Access the web admin page and log in Go to Grid tab Grid Manager In the right menu select \"Grid properties\" Select \"SNMP\" menu Click \"Enable SNMPv1/SNMPv2 Queries\" Add your community Click Save Close Juniper Junos OS for SNMPv1/v2c set snmp description description set snmp location location set snmp contact contact set snmp community YOUR-COMMUNITY authorization read-only for SNMPv3 (authPriv): set snmp v3 usm local-engine user authpriv authentication-sha authentication-password YOUR_AUTH_SECRET set snmp v3 usm local-engine user authpriv privacy-aes128 privacy-password YOUR_PRIV_SECRET set snmp v3 vacm security-to-group security-model usm security-name authpriv group mysnmpv3 set snmp v3 vacm access group mysnmpv3 default-context-prefix security-model any security-level authentication read-view mysnmpv3view set snmp v3 vacm access group mysnmpv3 default-context-prefix security-model any security-level privacy read-view mysnmpv3view set snmp view mysnmpv3view oid iso include Mikrotik RouterOS 6.x #Terminal SNMP v2 Configuration /snmp community set [ find default=yes ] read-access=no add addresses= SRC IP/NETWORK name= COMMUNITY /snmp set contact= NAME enabled=yes engine-id= ENGINE ID location= LOCALTION Palo Alto PANOS 6.x/7.x Access the web admin page and log in Go to Device tab Setup Go to the sub-tab \"Operations\" Click \"SNMP Setup\" Enter your SNMP community and then click \"OK\" Click Apply Note that you need to allow SNMP on the needed interfaces. To do that you need to create a network \"Interface Mgmt\" profile for standard interface and allow SNMP under \"Device Management Management Interface Settings\" for out of band management interface. One may also configure SNMP from the command line, which is useful when you need to configure more than one firewall for SNMP monitoring. Log into the firewall(s) via ssh, and perform these commands for basic SNMPv3 configuration: username@devicename configure username@devicename# set deviceconfig system service disable-snmp no username@devicename# set deviceconfig system snmp-setting access-setting version v3 views pa view iso oid 1.3.6.1 username@devicename# set deviceconfig system snmp-setting access-setting version v3 views pa view iso option include username@devicename# set deviceconfig system snmp-setting access-setting version v3 views pa view iso mask 0xf0 username@devicename# set deviceconfig system snmp-setting access-setting version v3 users authpriv authpwd YOUR_AUTH_SECRET username@devicename# set deviceconfig system snmp-setting access-setting version v3 users authpriv privpwd YOUR_PRIV_SECRET username@devicename# set deviceconfig system snmp-setting access-setting version v3 users authpriv view pa username@devicename# set deviceconfig system snmp-setting snmp-system location Yourcity, Yourcountry [60.4,5.31] username@devicename# set deviceconfig system snmp-setting snmp-system contact noc@your.org username@devicename# commit username@devicename# exit VMware ESX/ESXi 5.x/6.x Log on to your ESX server by means of ssh. You may have to enable the ssh service in the GUI first. From the CLI, execute the following commands: esxcli system snmp set --authentication SHA1 esxcli system snmp set --privacy AES128 esxcli system snmp hash --auth-hash YOUR_AUTH_SECRET --priv-hash YOUR_PRIV_SECRET --raw-secret This command produces output like this Authhash: f3d8982fc28e8d1346c26eee49eb2c4a5950c934 Privhash: 0596ab30b315576a4e9f7d7bde65bf49b749e335 Now define a SNMPv3 user: esxcli system snmp set --users authpriv/f3d8982fc28e8d1346c26eee49eb2c4a5950c934/0596ab30b315576a4e9f7d7bde65bf49b749e335/priv esxcli system snmp set -L Yourcity, Yourcountry [60.4,5.3] esxcli system snmp set -C noc@your.org esxcli system snmp set --enable true Note: In case of snmp timouts, disable the firewall with esxcli network firewall set --enabled false If snmp timeouts still occur with firewall disabled, migrate VMs if needed and reboot ESXi host. VCenter 6.x Log on to your ESX server by means of ssh. You may have to enable the ssh service in the GUI first. From the CLI, execute the following commands: snmp.set --authentication SHA1 snmp.set --privacy AES128 snmp.hash --auth_hash YOUR_AUTH_SECRET --priv_hash YOUR_PRIV_SECRET --raw_secret true This command produces output like this Privhash: 0596ab30b315576a4e9f7d7bde65bf49b749e335 Authhash: f3d8982fc28e8d1346c26eee49eb2c4a5950c934 Now define a SNMPv3 user: snmp.set --users authpriv/f3d8982fc28e8d1346c26eee49eb2c4a5950c934/0596ab30b315576a4e9f7d7bde65bf49b749e335/priv snmp.enable Operating systems Linux (snmpd v2) Replace your snmpd.conf file by the example below and edit it with appropriate community in \"RANDOMSTRINGGOESHERE\". vi /etc/snmp/snmpd.conf # Change RANDOMSTRINGGOESHERE to your preferred SNMP community string com2sec readonly default RANDOMSTRINGGOESHERE group MyROGroup v2c readonly view all included .1 80 access MyROGroup any noauth exact all none none syslocation Rack, Room, Building, City, Country [GPSX,Y] syscontact Your Name your@email.address #Distro Detection extend .1.3.6.1.4.1.2021.7890.1 distro /usr/bin/distro #Hardware Detection (uncomment to enable) #extend .1.3.6.1.4.1.2021.7890.2 hardware '/bin/cat /sys/devices/virtual/dmi/id/product_name' #extend .1.3.6.1.4.1.2021.7890.3 manufacturer '/bin/cat /sys/devices/virtual/dmi/id/sys_vendor' #extend .1.3.6.1.4.1.2021.7890.4 serial '/bin/cat /sys/devices/virtual/dmi/id/product_serial' NOTE : On some systems the snmpd is running as its own user, which means it can't read /sys/devices/virtual/dmi/id/product_serial which is mode 0400. One solution is to chmod 444 /sys/devices/virtual/dmi/id/product_serial in /etc/rc.local or equivalent. The LibreNMS server include a copy of this example here: /opt/librenms/snmpd.conf.example The binary /usr/bin/distro must be copied from the original source repository: curl -o /usr/bin/distro https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/distro chmod +x /usr/bin/distro Linux (snmpd v3) Go to /etc/snmp/snmpd.conf Open the file in vi or nano /etc/snmp/snmpd.conf and add the following line to create SNMPV3 User (replace username and passwords with your own): createUser authPrivUser MD5 authPassword DES privPassword Make sure the agent listens to all interfaces by adding the following line inside snmpd.conf: agentAddress udp:161,udp6:[::1]:161 This line simply means listen to connections across all interfaces IPv4 and IPv6 respectively Uncomment and change the following line to give read access to the username created above (rouser is what LibreNMS uses) : #rouser authPrivUser priv Change the following details inside snmpd.conf syslocation Rack, Room, Building, City, Country [GPSX,Y] syscontact Your Name your@email.address Save and exit the file Restart the snmpd service: CentOS 6 / Red hat 6 service snmpd restart CentOS 7 / Red hat 7 systemctl restart snmpd Ubuntu service snmpd restart Windows Server 2008 R2 Log in to your Windows Server 2008 R2 Start \"Server Manager\" under \"Administrative Tools\" Click \"Features\" and then click \"Add Feature\" Check (if not checked) \"SNMP Service\", click \"Next\" until \"Install\" Start \"Services\" under \"Administrative Tools\" Edit \"SNMP Service\" properties Go to the security tab In \"Accepted community name\" click \"Add\" to add your community string and permission In \"Accept SNMP packets from these hosts\" click \"Add\" and add your LibreNMS server IP address Validate change by clicking \"Apply\" Windows Server 2012 R2 and 2016 Log in to your Windows Server 2012 R2 Start \"Server Manager\" under \"Administrative Tools\" Click \"Manage\" and then \"Add Roles and Features\" Continue by pressing \"Next\" to the \"Features\" menu Install (if not installed) \"SNMP Service\" Start \"Services\" under \"Administrative Tools\" Edit \"SNMP Service\" properties Go to the security tab In \"Accepted community name\" click \"Add\" to add your community string and permission In \"Accept SNMP packets from these hosts\" click \"Add\" and add your LibreNMS server IP address Validate change by clicking \"Apply\" Mac OSX Step 1: sudo nano /etc/snmp/snmpd.conf #Allow read-access with the following SNMP Community String: rocommunity public # all other settings are optional but recommended. # Location of the device syslocation data centre A # Human Contact for the device syscontact SysAdmin # System Name of the device sysName SystemName # the system OID for this device. This is optional but recommended, # to identify this as a MAC OS system. sysobjectid 1.3.6.1.4.1.8072.3.2.16 Step 2: sudo launchctl load -w /System/Library/LaunchDaemons/org.net-snmp.snmpd.plist","title":"SNMP configuration examples"},{"location":"Support/SNMP-Configuration-Examples/#snmp-configuration-examples","text":"Table of Content: - Devices - Cisco - Adaptive Security Appliance (ASA) - IOS / IOS XE - NX-OS - Wireless LAN Controller (WLC) - HPE 3PAR - Inform OS 3.2.x - Infoblox - NIOS 7.x+ - Juniper - Junos OS - Mikrotik - RouterOS 6.x - Palo Alto - PANOS 6.x/7.x - VMware - ESX/ESXi 5.x/6.x - VCenter 6.x - Operating systems - Linux (snmpd v2) - Linux (snmpd v3) - Windows Server 2008 R2 - Windows Server 2012 R2 and 2016 - Mac OSX","title":"SNMP configuration examples"},{"location":"Support/SNMP-Configuration-Examples/#devices","text":"","title":"Devices"},{"location":"Support/SNMP-Configuration-Examples/#cisco","text":"","title":"Cisco"},{"location":"Support/SNMP-Configuration-Examples/#adaptive-security-appliance-asa","text":"ASDM Launch ASDM and connect to your device Go to Configuration Management Access SNMP Add your community string Add in the \"SNMP Host Access List\" section your LibreNMS server IP address Click Apply and Save CLI # SNMPv2c snmp-server community YOUR-COMMUNITY snmp-server contact YOUR-CONTACT snmp-server location YOUR-LOCATION snmp-server host INTERFACE LIBRENMS-IP poll community YOUR-COMMUNITY version 2c # SNMPv3 snmp-server group GROUP-NAME v3 priv snmp-server user USER-NAME GROUP-NAME v3 auth sha AUTH-PASSWORD priv aes 128 PRIV-PASSWORD snmp-server contact YOUR-CONTACT snmp-server location YOUR-LOCATION snmp-server host INTERFACE LIBRENMS-IP poll version 3 USER-NAME","title":"Adaptive Security Appliance (ASA)"},{"location":"Support/SNMP-Configuration-Examples/#ios-ios-xe","text":"# SNMPv2c snmp-server community YOUR-COMMUNITY RO snmp-server contact YOUR-CONTACT snmp-server location YOUR-LOCATION # SNMPv3 snmp-server group GROUP-NAME v3 priv snmp-server user USER-NAME GROUP-NAME v3 auth sha AUTH-PASSWORD priv aes 128 PRIV-PASSWORD snmp-server contact YOUR-CONTACT snmp-server location YOUR-LOCATION # Note: The following is also required if using SNMPv3 and you want to populate the FDB table. snmp-server group GROUP-NAME v3 priv context vlan- match prefix","title":"IOS / IOS XE"},{"location":"Support/SNMP-Configuration-Examples/#nx-os","text":"# SNMPv2c snmp-server community YOUR-COMMUNITY RO snmp-server contact YOUR-CONTACT snmp-server location YOUR-LOCATION # SNMPv3 snmp-server user USER-NAME GROUP-NAME v3 auth sha AUTH-PASSWORD priv aes 128 PRIV-PASSWORD snmp-server contact YOUR-CONTACT snmp-server location YOUR-LOCATION","title":"NX-OS"},{"location":"Support/SNMP-Configuration-Examples/#wireless-lan-controller-wlc","text":"Access the web admin page and log in If you are running version 8.1 and later, on the new dashboard click \"Advanced\" Go to management Tab On SNMP sub-menu, select \"Communities\" Click \"New...\" Add your community name and leave IP addresses empty Click Apply and Save","title":"Wireless LAN Controller (WLC)"},{"location":"Support/SNMP-Configuration-Examples/#hpe-3par","text":"","title":"HPE 3PAR"},{"location":"Support/SNMP-Configuration-Examples/#inform-os-32x","text":"Access the CLI Add an SNMP Manager with your LibreNMS IP address: addsnmpmgr librenms ip Add your SNMP community: setsnmppw community","title":"Inform OS 3.2.x"},{"location":"Support/SNMP-Configuration-Examples/#infoblox","text":"","title":"Infoblox"},{"location":"Support/SNMP-Configuration-Examples/#nios-7x","text":"Access the web admin page and log in Go to Grid tab Grid Manager In the right menu select \"Grid properties\" Select \"SNMP\" menu Click \"Enable SNMPv1/SNMPv2 Queries\" Add your community Click Save Close","title":"NIOS 7.x+"},{"location":"Support/SNMP-Configuration-Examples/#juniper","text":"","title":"Juniper"},{"location":"Support/SNMP-Configuration-Examples/#junos-os","text":"for SNMPv1/v2c set snmp description description set snmp location location set snmp contact contact set snmp community YOUR-COMMUNITY authorization read-only for SNMPv3 (authPriv): set snmp v3 usm local-engine user authpriv authentication-sha authentication-password YOUR_AUTH_SECRET set snmp v3 usm local-engine user authpriv privacy-aes128 privacy-password YOUR_PRIV_SECRET set snmp v3 vacm security-to-group security-model usm security-name authpriv group mysnmpv3 set snmp v3 vacm access group mysnmpv3 default-context-prefix security-model any security-level authentication read-view mysnmpv3view set snmp v3 vacm access group mysnmpv3 default-context-prefix security-model any security-level privacy read-view mysnmpv3view set snmp view mysnmpv3view oid iso include","title":"Junos OS"},{"location":"Support/SNMP-Configuration-Examples/#mikrotik","text":"","title":"Mikrotik"},{"location":"Support/SNMP-Configuration-Examples/#routeros-6x","text":"#Terminal SNMP v2 Configuration /snmp community set [ find default=yes ] read-access=no add addresses= SRC IP/NETWORK name= COMMUNITY /snmp set contact= NAME enabled=yes engine-id= ENGINE ID location= LOCALTION","title":"RouterOS 6.x"},{"location":"Support/SNMP-Configuration-Examples/#palo-alto","text":"","title":"Palo Alto"},{"location":"Support/SNMP-Configuration-Examples/#panos-6x7x","text":"Access the web admin page and log in Go to Device tab Setup Go to the sub-tab \"Operations\" Click \"SNMP Setup\" Enter your SNMP community and then click \"OK\" Click Apply Note that you need to allow SNMP on the needed interfaces. To do that you need to create a network \"Interface Mgmt\" profile for standard interface and allow SNMP under \"Device Management Management Interface Settings\" for out of band management interface. One may also configure SNMP from the command line, which is useful when you need to configure more than one firewall for SNMP monitoring. Log into the firewall(s) via ssh, and perform these commands for basic SNMPv3 configuration: username@devicename configure username@devicename# set deviceconfig system service disable-snmp no username@devicename# set deviceconfig system snmp-setting access-setting version v3 views pa view iso oid 1.3.6.1 username@devicename# set deviceconfig system snmp-setting access-setting version v3 views pa view iso option include username@devicename# set deviceconfig system snmp-setting access-setting version v3 views pa view iso mask 0xf0 username@devicename# set deviceconfig system snmp-setting access-setting version v3 users authpriv authpwd YOUR_AUTH_SECRET username@devicename# set deviceconfig system snmp-setting access-setting version v3 users authpriv privpwd YOUR_PRIV_SECRET username@devicename# set deviceconfig system snmp-setting access-setting version v3 users authpriv view pa username@devicename# set deviceconfig system snmp-setting snmp-system location Yourcity, Yourcountry [60.4,5.31] username@devicename# set deviceconfig system snmp-setting snmp-system contact noc@your.org username@devicename# commit username@devicename# exit","title":"PANOS 6.x/7.x"},{"location":"Support/SNMP-Configuration-Examples/#vmware","text":"","title":"VMware"},{"location":"Support/SNMP-Configuration-Examples/#esxesxi-5x6x","text":"Log on to your ESX server by means of ssh. You may have to enable the ssh service in the GUI first. From the CLI, execute the following commands: esxcli system snmp set --authentication SHA1 esxcli system snmp set --privacy AES128 esxcli system snmp hash --auth-hash YOUR_AUTH_SECRET --priv-hash YOUR_PRIV_SECRET --raw-secret This command produces output like this Authhash: f3d8982fc28e8d1346c26eee49eb2c4a5950c934 Privhash: 0596ab30b315576a4e9f7d7bde65bf49b749e335 Now define a SNMPv3 user: esxcli system snmp set --users authpriv/f3d8982fc28e8d1346c26eee49eb2c4a5950c934/0596ab30b315576a4e9f7d7bde65bf49b749e335/priv esxcli system snmp set -L Yourcity, Yourcountry [60.4,5.3] esxcli system snmp set -C noc@your.org esxcli system snmp set --enable true Note: In case of snmp timouts, disable the firewall with esxcli network firewall set --enabled false If snmp timeouts still occur with firewall disabled, migrate VMs if needed and reboot ESXi host.","title":"ESX/ESXi 5.x/6.x"},{"location":"Support/SNMP-Configuration-Examples/#vcenter-6x","text":"Log on to your ESX server by means of ssh. You may have to enable the ssh service in the GUI first. From the CLI, execute the following commands: snmp.set --authentication SHA1 snmp.set --privacy AES128 snmp.hash --auth_hash YOUR_AUTH_SECRET --priv_hash YOUR_PRIV_SECRET --raw_secret true This command produces output like this Privhash: 0596ab30b315576a4e9f7d7bde65bf49b749e335 Authhash: f3d8982fc28e8d1346c26eee49eb2c4a5950c934 Now define a SNMPv3 user: snmp.set --users authpriv/f3d8982fc28e8d1346c26eee49eb2c4a5950c934/0596ab30b315576a4e9f7d7bde65bf49b749e335/priv snmp.enable","title":"VCenter 6.x"},{"location":"Support/SNMP-Configuration-Examples/#operating-systems","text":"","title":"Operating systems"},{"location":"Support/SNMP-Configuration-Examples/#linux-snmpd-v2","text":"Replace your snmpd.conf file by the example below and edit it with appropriate community in \"RANDOMSTRINGGOESHERE\". vi /etc/snmp/snmpd.conf # Change RANDOMSTRINGGOESHERE to your preferred SNMP community string com2sec readonly default RANDOMSTRINGGOESHERE group MyROGroup v2c readonly view all included .1 80 access MyROGroup any noauth exact all none none syslocation Rack, Room, Building, City, Country [GPSX,Y] syscontact Your Name your@email.address #Distro Detection extend .1.3.6.1.4.1.2021.7890.1 distro /usr/bin/distro #Hardware Detection (uncomment to enable) #extend .1.3.6.1.4.1.2021.7890.2 hardware '/bin/cat /sys/devices/virtual/dmi/id/product_name' #extend .1.3.6.1.4.1.2021.7890.3 manufacturer '/bin/cat /sys/devices/virtual/dmi/id/sys_vendor' #extend .1.3.6.1.4.1.2021.7890.4 serial '/bin/cat /sys/devices/virtual/dmi/id/product_serial' NOTE : On some systems the snmpd is running as its own user, which means it can't read /sys/devices/virtual/dmi/id/product_serial which is mode 0400. One solution is to chmod 444 /sys/devices/virtual/dmi/id/product_serial in /etc/rc.local or equivalent. The LibreNMS server include a copy of this example here: /opt/librenms/snmpd.conf.example The binary /usr/bin/distro must be copied from the original source repository: curl -o /usr/bin/distro https://raw.githubusercontent.com/librenms/librenms-agent/master/snmp/distro chmod +x /usr/bin/distro","title":"Linux (snmpd v2)"},{"location":"Support/SNMP-Configuration-Examples/#linux-snmpd-v3","text":"Go to /etc/snmp/snmpd.conf Open the file in vi or nano /etc/snmp/snmpd.conf and add the following line to create SNMPV3 User (replace username and passwords with your own): createUser authPrivUser MD5 authPassword DES privPassword Make sure the agent listens to all interfaces by adding the following line inside snmpd.conf: agentAddress udp:161,udp6:[::1]:161 This line simply means listen to connections across all interfaces IPv4 and IPv6 respectively Uncomment and change the following line to give read access to the username created above (rouser is what LibreNMS uses) : #rouser authPrivUser priv Change the following details inside snmpd.conf syslocation Rack, Room, Building, City, Country [GPSX,Y] syscontact Your Name your@email.address Save and exit the file","title":"Linux (snmpd v3)"},{"location":"Support/SNMP-Configuration-Examples/#restart-the-snmpd-service","text":"","title":"Restart the snmpd service:"},{"location":"Support/SNMP-Configuration-Examples/#centos-6-red-hat-6","text":"service snmpd restart","title":"CentOS 6 / Red hat 6"},{"location":"Support/SNMP-Configuration-Examples/#centos-7-red-hat-7","text":"systemctl restart snmpd","title":"CentOS 7 / Red hat 7"},{"location":"Support/SNMP-Configuration-Examples/#ubuntu","text":"service snmpd restart","title":"Ubuntu"},{"location":"Support/SNMP-Configuration-Examples/#windows-server-2008-r2","text":"Log in to your Windows Server 2008 R2 Start \"Server Manager\" under \"Administrative Tools\" Click \"Features\" and then click \"Add Feature\" Check (if not checked) \"SNMP Service\", click \"Next\" until \"Install\" Start \"Services\" under \"Administrative Tools\" Edit \"SNMP Service\" properties Go to the security tab In \"Accepted community name\" click \"Add\" to add your community string and permission In \"Accept SNMP packets from these hosts\" click \"Add\" and add your LibreNMS server IP address Validate change by clicking \"Apply\"","title":"Windows Server 2008 R2"},{"location":"Support/SNMP-Configuration-Examples/#windows-server-2012-r2-and-2016","text":"Log in to your Windows Server 2012 R2 Start \"Server Manager\" under \"Administrative Tools\" Click \"Manage\" and then \"Add Roles and Features\" Continue by pressing \"Next\" to the \"Features\" menu Install (if not installed) \"SNMP Service\" Start \"Services\" under \"Administrative Tools\" Edit \"SNMP Service\" properties Go to the security tab In \"Accepted community name\" click \"Add\" to add your community string and permission In \"Accept SNMP packets from these hosts\" click \"Add\" and add your LibreNMS server IP address Validate change by clicking \"Apply\"","title":"Windows Server 2012 R2 and 2016"},{"location":"Support/SNMP-Configuration-Examples/#mac-osx","text":"Step 1: sudo nano /etc/snmp/snmpd.conf #Allow read-access with the following SNMP Community String: rocommunity public # all other settings are optional but recommended. # Location of the device syslocation data centre A # Human Contact for the device syscontact SysAdmin # System Name of the device sysName SystemName # the system OID for this device. This is optional but recommended, # to identify this as a MAC OS system. sysobjectid 1.3.6.1.4.1.8072.3.2.16 Step 2: sudo launchctl load -w /System/Library/LaunchDaemons/org.net-snmp.snmpd.plist","title":"Mac OSX"},{"location":"Support/SSL-Configuration/","text":"Ubuntu 16.04 Enabling HTTPS - Nginx This example is specifically for Ubuntu 16.04 with Nginx and uses an SSL certificate from Let's Encrypt. Please follow this excellent tutorial on setting up nginx with an SSL cert from LetsEncrypt. Step 1 Follow the LetsEncrypt tutorial until you get to Step 2: Obtain and SSL Certificate. In this section you need to change some config in the Nginx configuration. The tutorial directs you to edit /etc/nginx/sites-available/default however in the standard LibreNMS install, the file you need to edit is actually /etc/nginx/conf.d/librenms.conf . Step 2 When you get to Step 3: Configure TLS/SSL on Web Server (Nginx) there are some differences again. Follow the instructions regarding the \"snippet\" configuration, the main differences come when you get to Adjust the Nginx Configuration to Use SSL . Here you are again directed to edit /etc/nginx/sites-available/default , so we need to go to /etc/nginx/conf.d/librenms.conf . sudo vi /etc/nginx/sites-available/default The top section of this file will look like this: server { listen 80; listen [::]:80; server_name example.com; root /opt/librenms/html; index index.php; access_log /opt/librenms/logs/access_log; error_log /opt/librenms/logs/error_log; Edit it to look like this (obviously changing example.com to your actual domain name): server { listen 80; listen [::]:80; server_name example.com; return 301 https://$server_name$request_uri; } server { listen 443 ssl http2; listen [::]:443 ssl http2; include snippets/ssl-example.com.conf; include snippets/ssl-params.conf; server_name example.com; root /opt/librenms/html; index index.php; access_log /opt/librenms/logs/access_log; error_log /opt/librenms/logs/error_log; This config will redirect HTTP traffic to HTTPS and use the SSL config that you have just set up. Check for syntax errors sudo nginx -t Then restart Nginx sudo systemctl restart nginx Step 3 Follow the rest of the tutorial, especially if you have the server's firewall enabled. CentOS Enabling HTTPS - Apache This example is specifically for CentOS 7 with Apache Please follow this How To from CentOS wiki on setting up Apache with a SSL cert. Step 1 Follow the How to until you get to step 3. This is going to be little different with LibreNMS. You will need to make changes in here sudo vi /etc/httpd/conf.d/librenms.conf Your VirtualHost for 443 will need to look something like this for LibreNMS (obviously changing librenms.example.com to your actual domain name) VirtualHost *:443 SSLEngine on SSLCertificateFile /etc/pki/tls/certs/ca.crt SSLCertificateKeyFile /etc/pki/tls/private/ca.key Directory /opt/librenms/html/ AllowOverride All Require all granted Options FollowSymLinks MultiViews /Directory DocumentRoot /opt/librenms/html/ AllowEncodedSlashes NoDecode ServerName librenms.example.com CustomLog /opt/librenms/logs/access_log combined ErrorLog /opt/librenms/logs/error_log /VirtualHost Step 2 Then restart Apache sudo systemctl restart httpd Step 3 Follow the rest of the How To, especially if you have the server's firewall enabled.","title":"Ubuntu 16.04"},{"location":"Support/SSL-Configuration/#ubuntu-1604","text":"","title":"Ubuntu 16.04"},{"location":"Support/SSL-Configuration/#enabling-https-nginx","text":"This example is specifically for Ubuntu 16.04 with Nginx and uses an SSL certificate from Let's Encrypt. Please follow this excellent tutorial on setting up nginx with an SSL cert from LetsEncrypt.","title":"Enabling HTTPS - Nginx"},{"location":"Support/SSL-Configuration/#step-1","text":"Follow the LetsEncrypt tutorial until you get to Step 2: Obtain and SSL Certificate. In this section you need to change some config in the Nginx configuration. The tutorial directs you to edit /etc/nginx/sites-available/default however in the standard LibreNMS install, the file you need to edit is actually /etc/nginx/conf.d/librenms.conf .","title":"Step 1"},{"location":"Support/SSL-Configuration/#step-2","text":"When you get to Step 3: Configure TLS/SSL on Web Server (Nginx) there are some differences again. Follow the instructions regarding the \"snippet\" configuration, the main differences come when you get to Adjust the Nginx Configuration to Use SSL . Here you are again directed to edit /etc/nginx/sites-available/default , so we need to go to /etc/nginx/conf.d/librenms.conf . sudo vi /etc/nginx/sites-available/default The top section of this file will look like this: server { listen 80; listen [::]:80; server_name example.com; root /opt/librenms/html; index index.php; access_log /opt/librenms/logs/access_log; error_log /opt/librenms/logs/error_log; Edit it to look like this (obviously changing example.com to your actual domain name): server { listen 80; listen [::]:80; server_name example.com; return 301 https://$server_name$request_uri; } server { listen 443 ssl http2; listen [::]:443 ssl http2; include snippets/ssl-example.com.conf; include snippets/ssl-params.conf; server_name example.com; root /opt/librenms/html; index index.php; access_log /opt/librenms/logs/access_log; error_log /opt/librenms/logs/error_log; This config will redirect HTTP traffic to HTTPS and use the SSL config that you have just set up. Check for syntax errors sudo nginx -t Then restart Nginx sudo systemctl restart nginx","title":"Step 2"},{"location":"Support/SSL-Configuration/#step-3","text":"Follow the rest of the tutorial, especially if you have the server's firewall enabled.","title":"Step 3"},{"location":"Support/SSL-Configuration/#centos","text":"","title":"CentOS"},{"location":"Support/SSL-Configuration/#enabling-https-apache","text":"This example is specifically for CentOS 7 with Apache Please follow this How To from CentOS wiki on setting up Apache with a SSL cert.","title":"Enabling HTTPS - Apache"},{"location":"Support/SSL-Configuration/#step-1_1","text":"Follow the How to until you get to step 3. This is going to be little different with LibreNMS. You will need to make changes in here sudo vi /etc/httpd/conf.d/librenms.conf Your VirtualHost for 443 will need to look something like this for LibreNMS (obviously changing librenms.example.com to your actual domain name) VirtualHost *:443 SSLEngine on SSLCertificateFile /etc/pki/tls/certs/ca.crt SSLCertificateKeyFile /etc/pki/tls/private/ca.key Directory /opt/librenms/html/ AllowOverride All Require all granted Options FollowSymLinks MultiViews /Directory DocumentRoot /opt/librenms/html/ AllowEncodedSlashes NoDecode ServerName librenms.example.com CustomLog /opt/librenms/logs/access_log combined ErrorLog /opt/librenms/logs/error_log /VirtualHost","title":"Step 1"},{"location":"Support/SSL-Configuration/#step-2_1","text":"Then restart Apache sudo systemctl restart httpd","title":"Step 2"},{"location":"Support/SSL-Configuration/#step-3_1","text":"Follow the rest of the How To, especially if you have the server's firewall enabled.","title":"Step 3"},{"location":"Support/Support-New-OS/","text":"","title":"Support New OS"},{"location":"Support/Device-Notes/","text":"Additional device notes In this section you will find notes and information on devices that may require special attention.","title":"Intro"},{"location":"Support/Device-Notes/#additional-device-notes","text":"In this section you will find notes and information on devices that may require special attention.","title":"Additional device notes"},{"location":"Support/Device-Notes/Carel-pCOweb-Devices/","text":"Carel pCOweb Devices The pCOWeb card is used to interface the pCO system to networks that use the HVAC protocols based on the Ethernet physical standard such the SNMP. The problem with this card is that the implementation is based on the final manufacturer of the HVAC (Heating, Ventilation and Air Conditioning) and not based on a standard given by Carel. So each pCOweb card has a different configuration that needs a different MIB depending on the manufacturer implementation. The main problem is that LibreNMS will discover this card as pCOweb and not as your real manufacturer like it should. A solution was found to bypass this issue, but it's LibreNMS independent and you need to first configure your pCOWeb through the admin interface. Configuring the pCOweb card SNMP for LibreNMS First you need to configure your SNMP card using the admin interface. An SNMP tab in the configuration menu leaves you the choice to choose a System OID. This is a little tricky but based on this information we defined a \"standard\" for all implementation of Carel products with LibreNMS. The base Carel OID is 1.3.6.1.4.1.9839. To this OID we will add the final manufacturer Enterprise OID. You can find all enterprise OID following this link . This will allow us to create a specific support for this device. Example for the Rittal IT Chiller that uses a pCOweb card: 1. Base Carel OID : 1.3.6.1.4.1.9839 2. Rittal (the manufacturer) base enterprise OID : 2606 3. Adding value to identify this device in LibreNMS : 1 4. Complete System OID for a Rittal Chiller using a Carel pCOweb card: 1.3.6.1.4.1.9839.2606.1 After constructing the correct System OID for your SNMP card, you can start the LibreNMS new OS implementation and use this new OID as sysObjectID for the YAML definition file. pCOweb card already supported LibreNMS is ready for the devices listed in this table. You only need to configure your pCOweb card with the accorded System OID: Manufacturer Description System OID Rittal IT Chiller 1.3.6.1.4.1.9839.2606.1","title":"Carel pCOweb"},{"location":"Support/Device-Notes/Carel-pCOweb-Devices/#carel-pcoweb-devices","text":"The pCOWeb card is used to interface the pCO system to networks that use the HVAC protocols based on the Ethernet physical standard such the SNMP. The problem with this card is that the implementation is based on the final manufacturer of the HVAC (Heating, Ventilation and Air Conditioning) and not based on a standard given by Carel. So each pCOweb card has a different configuration that needs a different MIB depending on the manufacturer implementation. The main problem is that LibreNMS will discover this card as pCOweb and not as your real manufacturer like it should. A solution was found to bypass this issue, but it's LibreNMS independent and you need to first configure your pCOWeb through the admin interface.","title":"Carel pCOweb Devices"},{"location":"Support/Device-Notes/Carel-pCOweb-Devices/#configuring-the-pcoweb-card-snmp-for-librenms","text":"First you need to configure your SNMP card using the admin interface. An SNMP tab in the configuration menu leaves you the choice to choose a System OID. This is a little tricky but based on this information we defined a \"standard\" for all implementation of Carel products with LibreNMS. The base Carel OID is 1.3.6.1.4.1.9839. To this OID we will add the final manufacturer Enterprise OID. You can find all enterprise OID following this link . This will allow us to create a specific support for this device. Example for the Rittal IT Chiller that uses a pCOweb card: 1. Base Carel OID : 1.3.6.1.4.1.9839 2. Rittal (the manufacturer) base enterprise OID : 2606 3. Adding value to identify this device in LibreNMS : 1 4. Complete System OID for a Rittal Chiller using a Carel pCOweb card: 1.3.6.1.4.1.9839.2606.1 After constructing the correct System OID for your SNMP card, you can start the LibreNMS new OS implementation and use this new OID as sysObjectID for the YAML definition file.","title":"Configuring the pCOweb card SNMP for LibreNMS"},{"location":"Support/Device-Notes/Carel-pCOweb-Devices/#pcoweb-card-already-supported","text":"LibreNMS is ready for the devices listed in this table. You only need to configure your pCOweb card with the accorded System OID: Manufacturer Description System OID Rittal IT Chiller 1.3.6.1.4.1.9839.2606.1","title":"pCOweb card already supported"}]}